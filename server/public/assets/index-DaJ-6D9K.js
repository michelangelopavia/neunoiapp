var xU=Object.defineProperty;var OC=e=>{throw TypeError(e)};var bU=(e,t,n)=>t in e?xU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var hr=(e,t,n)=>bU(e,typeof t!="symbol"?t+"":t,n),Yb=(e,t,n)=>t.has(e)||OC("Cannot "+n);var je=(e,t,n)=>(Yb(e,t,"read from private field"),n?n.call(e):t.get(e)),en=(e,t,n)=>t.has(e)?OC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ct=(e,t,n,r)=>(Yb(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Cn=(e,t,n)=>(Yb(e,t,"access private method"),n);var T0=(e,t,n,r)=>({set _(i){Ct(e,t,i,n)},get _(){return je(e,t,r)}});function wU(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var D0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xb={exports:{}},sg={},Qb={exports:{}},Ln={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TC;function _U(){if(TC)return Ln;TC=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(H){return H===null||typeof H!="object"?null:(H=p&&H[p]||H["@@iterator"],typeof H=="function"?H:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function y(H,T,V){this.props=H,this.context=T,this.refs=x,this.updater=V||m}y.prototype.isReactComponent={},y.prototype.setState=function(H,T){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,T,"setState")},y.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function w(){}w.prototype=y.prototype;function A(H,T,V){this.props=H,this.context=T,this.refs=x,this.updater=V||m}var C=A.prototype=new w;C.constructor=A,b(C,y.prototype),C.isPureReactComponent=!0;var P=Array.isArray,E=Object.prototype.hasOwnProperty,I={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function O(H,T,V){var J,Z={},oe=null,se=null;if(T!=null)for(J in T.ref!==void 0&&(se=T.ref),T.key!==void 0&&(oe=""+T.key),T)E.call(T,J)&&!z.hasOwnProperty(J)&&(Z[J]=T[J]);var fe=arguments.length-2;if(fe===1)Z.children=V;else if(1<fe){for(var de=Array(fe),be=0;be<fe;be++)de[be]=arguments[be+2];Z.children=de}if(H&&H.defaultProps)for(J in fe=H.defaultProps,fe)Z[J]===void 0&&(Z[J]=fe[J]);return{$$typeof:e,type:H,key:oe,ref:se,props:Z,_owner:I.current}}function F(H,T){return{$$typeof:e,type:H.type,key:T,ref:H.ref,props:H.props,_owner:H._owner}}function G(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function R(H){var T={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(V){return T[V]})}var k=/\/+/g;function B(H,T){return typeof H=="object"&&H!==null&&H.key!=null?R(""+H.key):T.toString(36)}function U(H,T,V,J,Z){var oe=typeof H;(oe==="undefined"||oe==="boolean")&&(H=null);var se=!1;if(H===null)se=!0;else switch(oe){case"string":case"number":se=!0;break;case"object":switch(H.$$typeof){case e:case t:se=!0}}if(se)return se=H,Z=Z(se),H=J===""?"."+B(se,0):J,P(Z)?(V="",H!=null&&(V=H.replace(k,"$&/")+"/"),U(Z,T,V,"",function(be){return be})):Z!=null&&(G(Z)&&(Z=F(Z,V+(!Z.key||se&&se.key===Z.key?"":(""+Z.key).replace(k,"$&/")+"/")+H)),T.push(Z)),1;if(se=0,J=J===""?".":J+":",P(H))for(var fe=0;fe<H.length;fe++){oe=H[fe];var de=J+B(oe,fe);se+=U(oe,T,V,de,Z)}else if(de=g(H),typeof de=="function")for(H=de.call(H),fe=0;!(oe=H.next()).done;)oe=oe.value,de=J+B(oe,fe++),se+=U(oe,T,V,de,Z);else if(oe==="object")throw T=String(H),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.");return se}function M(H,T,V){if(H==null)return H;var J=[],Z=0;return U(H,J,"","",function(oe){return T.call(V,oe,Z++)}),J}function X(H){if(H._status===-1){var T=H._result;T=T(),T.then(function(V){(H._status===0||H._status===-1)&&(H._status=1,H._result=V)},function(V){(H._status===0||H._status===-1)&&(H._status=2,H._result=V)}),H._status===-1&&(H._status=0,H._result=T)}if(H._status===1)return H._result.default;throw H._result}var Q={current:null},K={transition:null},Y={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:K,ReactCurrentOwner:I};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Ln.Children={map:M,forEach:function(H,T,V){M(H,function(){T.apply(this,arguments)},V)},count:function(H){var T=0;return M(H,function(){T++}),T},toArray:function(H){return M(H,function(T){return T})||[]},only:function(H){if(!G(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Ln.Component=y,Ln.Fragment=n,Ln.Profiler=i,Ln.PureComponent=A,Ln.StrictMode=r,Ln.Suspense=c,Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Ln.act=ne,Ln.cloneElement=function(H,T,V){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var J=b({},H.props),Z=H.key,oe=H.ref,se=H._owner;if(T!=null){if(T.ref!==void 0&&(oe=T.ref,se=I.current),T.key!==void 0&&(Z=""+T.key),H.type&&H.type.defaultProps)var fe=H.type.defaultProps;for(de in T)E.call(T,de)&&!z.hasOwnProperty(de)&&(J[de]=T[de]===void 0&&fe!==void 0?fe[de]:T[de])}var de=arguments.length-2;if(de===1)J.children=V;else if(1<de){fe=Array(de);for(var be=0;be<de;be++)fe[be]=arguments[be+2];J.children=fe}return{$$typeof:e,type:H.type,key:Z,ref:oe,props:J,_owner:se}},Ln.createContext=function(H){return H={$$typeof:s,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:a,_context:H},H.Consumer=H},Ln.createElement=O,Ln.createFactory=function(H){var T=O.bind(null,H);return T.type=H,T},Ln.createRef=function(){return{current:null}},Ln.forwardRef=function(H){return{$$typeof:l,render:H}},Ln.isValidElement=G,Ln.lazy=function(H){return{$$typeof:h,_payload:{_status:-1,_result:H},_init:X}},Ln.memo=function(H,T){return{$$typeof:d,type:H,compare:T===void 0?null:T}},Ln.startTransition=function(H){var T=K.transition;K.transition={};try{H()}finally{K.transition=T}},Ln.unstable_act=ne,Ln.useCallback=function(H,T){return Q.current.useCallback(H,T)},Ln.useContext=function(H){return Q.current.useContext(H)},Ln.useDebugValue=function(){},Ln.useDeferredValue=function(H){return Q.current.useDeferredValue(H)},Ln.useEffect=function(H,T){return Q.current.useEffect(H,T)},Ln.useId=function(){return Q.current.useId()},Ln.useImperativeHandle=function(H,T,V){return Q.current.useImperativeHandle(H,T,V)},Ln.useInsertionEffect=function(H,T){return Q.current.useInsertionEffect(H,T)},Ln.useLayoutEffect=function(H,T){return Q.current.useLayoutEffect(H,T)},Ln.useMemo=function(H,T){return Q.current.useMemo(H,T)},Ln.useReducer=function(H,T,V){return Q.current.useReducer(H,T,V)},Ln.useRef=function(H){return Q.current.useRef(H)},Ln.useState=function(H){return Q.current.useState(H)},Ln.useSyncExternalStore=function(H,T,V){return Q.current.useSyncExternalStore(H,T,V)},Ln.useTransition=function(){return Q.current.useTransition()},Ln.version="18.3.1",Ln}var DC;function c4(){return DC||(DC=1,Qb.exports=_U()),Qb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LC;function jU(){if(LC)return sg;LC=1;var e=c4(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(l,c,d){var h,p={},g=null,m=null;d!==void 0&&(g=""+d),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(m=c.ref);for(h in c)r.call(c,h)&&!a.hasOwnProperty(h)&&(p[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)p[h]===void 0&&(p[h]=c[h]);return{$$typeof:t,type:l,key:g,ref:m,props:p,_owner:i.current}}return sg.Fragment=n,sg.jsx=s,sg.jsxs=s,sg}var IC;function SU(){return IC||(IC=1,Xb.exports=jU()),Xb.exports}var o=SU(),j=c4();const ve=gr(j),u4=wU({__proto__:null,default:ve},[j]);var L0={},Jb={exports:{}},co={},Zb={exports:{}},e2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RC;function NU(){return RC||(RC=1,(function(e){function t(K,Y){var ne=K.length;K.push(Y);e:for(;0<ne;){var H=ne-1>>>1,T=K[H];if(0<i(T,Y))K[H]=Y,K[ne]=T,ne=H;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var Y=K[0],ne=K.pop();if(ne!==Y){K[0]=ne;e:for(var H=0,T=K.length,V=T>>>1;H<V;){var J=2*(H+1)-1,Z=K[J],oe=J+1,se=K[oe];if(0>i(Z,ne))oe<T&&0>i(se,Z)?(K[H]=se,K[oe]=ne,H=oe):(K[H]=Z,K[J]=ne,H=J);else if(oe<T&&0>i(se,ne))K[H]=se,K[oe]=ne,H=oe;else break e}}return Y}function i(K,Y){var ne=K.sortIndex-Y.sortIndex;return ne!==0?ne:K.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],d=[],h=1,p=null,g=3,m=!1,b=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(K){for(var Y=n(d);Y!==null;){if(Y.callback===null)r(d);else if(Y.startTime<=K)r(d),Y.sortIndex=Y.expirationTime,t(c,Y);else break;Y=n(d)}}function P(K){if(x=!1,C(K),!b)if(n(c)!==null)b=!0,X(E);else{var Y=n(d);Y!==null&&Q(P,Y.startTime-K)}}function E(K,Y){b=!1,x&&(x=!1,w(O),O=-1),m=!0;var ne=g;try{for(C(Y),p=n(c);p!==null&&(!(p.expirationTime>Y)||K&&!R());){var H=p.callback;if(typeof H=="function"){p.callback=null,g=p.priorityLevel;var T=H(p.expirationTime<=Y);Y=e.unstable_now(),typeof T=="function"?p.callback=T:p===n(c)&&r(c),C(Y)}else r(c);p=n(c)}if(p!==null)var V=!0;else{var J=n(d);J!==null&&Q(P,J.startTime-Y),V=!1}return V}finally{p=null,g=ne,m=!1}}var I=!1,z=null,O=-1,F=5,G=-1;function R(){return!(e.unstable_now()-G<F)}function k(){if(z!==null){var K=e.unstable_now();G=K;var Y=!0;try{Y=z(!0,K)}finally{Y?B():(I=!1,z=null)}}else I=!1}var B;if(typeof A=="function")B=function(){A(k)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,M=U.port2;U.port1.onmessage=k,B=function(){M.postMessage(null)}}else B=function(){y(k,0)};function X(K){z=K,I||(I=!0,B())}function Q(K,Y){O=y(function(){K(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){b||m||(b=!0,X(E))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(K){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var ne=g;g=Y;try{return K()}finally{g=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,Y){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ne=g;g=K;try{return Y()}finally{g=ne}},e.unstable_scheduleCallback=function(K,Y,ne){var H=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?H+ne:H):ne=H,K){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=ne+T,K={id:h++,callback:Y,priorityLevel:K,startTime:ne,expirationTime:T,sortIndex:-1},ne>H?(K.sortIndex=ne,t(d,K),n(c)===null&&K===n(d)&&(x?(w(O),O=-1):x=!0,Q(P,ne-H))):(K.sortIndex=T,t(c,K),b||m||(b=!0,X(E))),K},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(K){var Y=g;return function(){var ne=g;g=Y;try{return K.apply(this,arguments)}finally{g=ne}}}})(e2)),e2}var MC;function AU(){return MC||(MC=1,Zb.exports=NU()),Zb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zC;function CU(){if(zC)return co;zC=1;var e=c4(),t=AU();function n(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,v=1;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(u,f){s(u,f),s(u+"Capture",f)}function s(u,f){for(i[u]=f,u=0;u<f.length;u++)r.add(f[u])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(u){return c.call(p,u)?!0:c.call(h,u)?!1:d.test(u)?p[u]=!0:(h[u]=!0,!1)}function m(u,f,v,S){if(v!==null&&v.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return S?!1:v!==null?!v.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function b(u,f,v,S){if(f===null||typeof f>"u"||m(u,f,v,S))return!0;if(S)return!1;if(v!==null)switch(v.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function x(u,f,v,S,L,q,re){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=S,this.attributeNamespace=L,this.mustUseProperty=v,this.propertyName=u,this.type=f,this.sanitizeURL=q,this.removeEmptyString=re}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){y[u]=new x(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var f=u[0];y[f]=new x(f,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){y[u]=new x(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){y[u]=new x(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){y[u]=new x(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){y[u]=new x(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){y[u]=new x(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){y[u]=new x(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){y[u]=new x(u,5,!1,u.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function A(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var f=u.replace(w,A);y[f]=new x(f,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var f=u.replace(w,A);y[f]=new x(f,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var f=u.replace(w,A);y[f]=new x(f,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){y[u]=new x(u,1,!1,u.toLowerCase(),null,!1,!1)}),y.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){y[u]=new x(u,1,!1,u.toLowerCase(),null,!0,!0)});function C(u,f,v,S){var L=y.hasOwnProperty(f)?y[f]:null;(L!==null?L.type!==0:S||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(b(f,v,L,S)&&(v=null),S||L===null?g(f)&&(v===null?u.removeAttribute(f):u.setAttribute(f,""+v)):L.mustUseProperty?u[L.propertyName]=v===null?L.type===3?!1:"":v:(f=L.attributeName,S=L.attributeNamespace,v===null?u.removeAttribute(f):(L=L.type,v=L===3||L===4&&v===!0?"":""+v,S?u.setAttributeNS(S,f,v):u.setAttribute(f,v))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),I=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),R=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),K=Symbol.iterator;function Y(u){return u===null||typeof u!="object"?null:(u=K&&u[K]||u["@@iterator"],typeof u=="function"?u:null)}var ne=Object.assign,H;function T(u){if(H===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);H=f&&f[1]||""}return`
`+H+u}var V=!1;function J(u,f){if(!u||V)return"";V=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(qe){var S=qe}Reflect.construct(u,[],f)}else{try{f.call()}catch(qe){S=qe}u.call(f.prototype)}else{try{throw Error()}catch(qe){S=qe}u()}}catch(qe){if(qe&&S&&typeof qe.stack=="string"){for(var L=qe.stack.split(`
`),q=S.stack.split(`
`),re=L.length-1,ye=q.length-1;1<=re&&0<=ye&&L[re]!==q[ye];)ye--;for(;1<=re&&0<=ye;re--,ye--)if(L[re]!==q[ye]){if(re!==1||ye!==1)do if(re--,ye--,0>ye||L[re]!==q[ye]){var Ce=`
`+L[re].replace(" at new "," at ");return u.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",u.displayName)),Ce}while(1<=re&&0<=ye);break}}}finally{V=!1,Error.prepareStackTrace=v}return(u=u?u.displayName||u.name:"")?T(u):""}function Z(u){switch(u.tag){case 5:return T(u.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 2:case 15:return u=J(u.type,!1),u;case 11:return u=J(u.type.render,!1),u;case 1:return u=J(u.type,!0),u;default:return""}}function oe(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case z:return"Fragment";case I:return"Portal";case F:return"Profiler";case O:return"StrictMode";case B:return"Suspense";case U:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case R:return(u.displayName||"Context")+".Consumer";case G:return(u._context.displayName||"Context")+".Provider";case k:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case M:return f=u.displayName||null,f!==null?f:oe(u.type)||"Memo";case X:f=u._payload,u=u._init;try{return oe(u(f))}catch{}}return null}function se(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(f);case 8:return f===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function fe(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function de(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function be(u){var f=de(u)?"checked":"value",v=Object.getOwnPropertyDescriptor(u.constructor.prototype,f),S=""+u[f];if(!u.hasOwnProperty(f)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var L=v.get,q=v.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return L.call(this)},set:function(re){S=""+re,q.call(this,re)}}),Object.defineProperty(u,f,{enumerable:v.enumerable}),{getValue:function(){return S},setValue:function(re){S=""+re},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function Ee(u){u._valueTracker||(u._valueTracker=be(u))}function _e(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var v=f.getValue(),S="";return u&&(S=de(u)?u.checked?"true":"false":u.value),u=S,u!==v?(f.setValue(u),!0):!1}function $e(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function He(u,f){var v=f.checked;return ne({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??u._wrapperState.initialChecked})}function le(u,f){var v=f.defaultValue==null?"":f.defaultValue,S=f.checked!=null?f.checked:f.defaultChecked;v=fe(f.value!=null?f.value:v),u._wrapperState={initialChecked:S,initialValue:v,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function Ke(u,f){f=f.checked,f!=null&&C(u,"checked",f,!1)}function pt(u,f){Ke(u,f);var v=fe(f.value),S=f.type;if(v!=null)S==="number"?(v===0&&u.value===""||u.value!=v)&&(u.value=""+v):u.value!==""+v&&(u.value=""+v);else if(S==="submit"||S==="reset"){u.removeAttribute("value");return}f.hasOwnProperty("value")?Be(u,f.type,v):f.hasOwnProperty("defaultValue")&&Be(u,f.type,fe(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(u.defaultChecked=!!f.defaultChecked)}function xt(u,f,v){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var S=f.type;if(!(S!=="submit"&&S!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+u._wrapperState.initialValue,v||f===u.value||(u.value=f),u.defaultValue=f}v=u.name,v!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,v!==""&&(u.name=v)}function Be(u,f,v){(f!=="number"||$e(u.ownerDocument)!==u)&&(v==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+v&&(u.defaultValue=""+v))}var Nt=Array.isArray;function ot(u,f,v,S){if(u=u.options,f){f={};for(var L=0;L<v.length;L++)f["$"+v[L]]=!0;for(v=0;v<u.length;v++)L=f.hasOwnProperty("$"+u[v].value),u[v].selected!==L&&(u[v].selected=L),L&&S&&(u[v].defaultSelected=!0)}else{for(v=""+fe(v),f=null,L=0;L<u.length;L++){if(u[L].value===v){u[L].selected=!0,S&&(u[L].defaultSelected=!0);return}f!==null||u[L].disabled||(f=u[L])}f!==null&&(f.selected=!0)}}function st(u,f){if(f.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},f,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function Pe(u,f){var v=f.value;if(v==null){if(v=f.children,f=f.defaultValue,v!=null){if(f!=null)throw Error(n(92));if(Nt(v)){if(1<v.length)throw Error(n(93));v=v[0]}f=v}f==null&&(f=""),v=f}u._wrapperState={initialValue:fe(v)}}function Pt(u,f){var v=fe(f.value),S=fe(f.defaultValue);v!=null&&(v=""+v,v!==u.value&&(u.value=v),f.defaultValue==null&&u.defaultValue!==v&&(u.defaultValue=v)),S!=null&&(u.defaultValue=""+S)}function _t(u){var f=u.textContent;f===u._wrapperState.initialValue&&f!==""&&f!==null&&(u.value=f)}function mt(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(u,f){return u==null||u==="http://www.w3.org/1999/xhtml"?mt(f):u==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var jt,ut=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,v,S,L){MSApp.execUnsafeLocalFunction(function(){return u(f,v,S,L)})}:u})(function(u,f){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=f;else{for(jt=jt||document.createElement("div"),jt.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=jt.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;f.firstChild;)u.appendChild(f.firstChild)}});function St(u,f){if(f){var v=u.firstChild;if(v&&v===u.lastChild&&v.nodeType===3){v.nodeValue=f;return}}u.textContent=f}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_n=["Webkit","ms","Moz","O"];Object.keys(ft).forEach(function(u){_n.forEach(function(f){f=f+u.charAt(0).toUpperCase()+u.substring(1),ft[f]=ft[u]})});function pn(u,f,v){return f==null||typeof f=="boolean"||f===""?"":v||typeof f!="number"||f===0||ft.hasOwnProperty(u)&&ft[u]?(""+f).trim():f+"px"}function un(u,f){u=u.style;for(var v in f)if(f.hasOwnProperty(v)){var S=v.indexOf("--")===0,L=pn(v,f[v],S);v==="float"&&(v="cssFloat"),S?u.setProperty(v,L):u[v]=L}}var mn=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Un(u,f){if(f){if(mn[u]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(n(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(n(61))}if(f.style!=null&&typeof f.style!="object")throw Error(n(62))}}function Vt(u,f){if(u.indexOf("-")===-1)return typeof f.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nn=null;function Ot(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var xe=null,bt=null,Et=null;function At(u){if(u=Hu(u)){if(typeof xe!="function")throw Error(n(280));var f=u.stateNode;f&&(f=hf(f),xe(u.stateNode,u.type,f))}}function ct(u){bt?Et?Et.push(u):Et=[u]:bt=u}function pe(){if(bt){var u=bt,f=Et;if(Et=bt=null,At(u),f)for(u=0;u<f.length;u++)At(f[u])}}function Ne(u,f){return u(f)}function at(){}var It=!1;function dt(u,f,v){if(It)return u(f,v);It=!0;try{return Ne(u,f,v)}finally{It=!1,(bt!==null||Et!==null)&&(at(),pe())}}function An(u,f){var v=u.stateNode;if(v===null)return null;var S=hf(v);if(S===null)return null;v=S[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(u=u.type,S=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!S;break e;default:u=!1}if(u)return null;if(v&&typeof v!="function")throw Error(n(231,f,typeof v));return v}var Tr=!1;if(l)try{var $n={};Object.defineProperty($n,"passive",{get:function(){Tr=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{Tr=!1}function Zn(u,f,v,S,L,q,re,ye,Ce){var qe=Array.prototype.slice.call(arguments,3);try{f.apply(v,qe)}catch(rt){this.onError(rt)}}var Fn=!1,Wn=null,Sr=!1,Yo=null,ka={onError:function(u){Fn=!0,Wn=u}};function _o(u,f,v,S,L,q,re,ye,Ce){Fn=!1,Wn=null,Zn.apply(ka,arguments)}function Xo(u,f,v,S,L,q,re,ye,Ce){if(_o.apply(this,arguments),Fn){if(Fn){var qe=Wn;Fn=!1,Wn=null}else throw Error(n(198));Sr||(Sr=!0,Yo=qe)}}function Oi(u){var f=u,v=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(v=f.return),u=f.return;while(u)}return f.tag===3?v:null}function Ya(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function Oa(u){if(Oi(u)!==u)throw Error(n(188))}function oc(u){var f=u.alternate;if(!f){if(f=Oi(u),f===null)throw Error(n(188));return f!==u?null:u}for(var v=u,S=f;;){var L=v.return;if(L===null)break;var q=L.alternate;if(q===null){if(S=L.return,S!==null){v=S;continue}break}if(L.child===q.child){for(q=L.child;q;){if(q===v)return Oa(L),u;if(q===S)return Oa(L),f;q=q.sibling}throw Error(n(188))}if(v.return!==S.return)v=L,S=q;else{for(var re=!1,ye=L.child;ye;){if(ye===v){re=!0,v=L,S=q;break}if(ye===S){re=!0,S=L,v=q;break}ye=ye.sibling}if(!re){for(ye=q.child;ye;){if(ye===v){re=!0,v=q,S=L;break}if(ye===S){re=!0,S=q,v=L;break}ye=ye.sibling}if(!re)throw Error(n(189))}}if(v.alternate!==S)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?u:f}function jo(u){return u=oc(u),u!==null?ml(u):null}function ml(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=ml(u);if(f!==null)return f;u=u.sibling}return null}var sc=t.unstable_scheduleCallback,lc=t.unstable_cancelCallback,_u=t.unstable_shouldYield,Lm=t.unstable_requestPaint,Nr=t.unstable_now,Ch=t.unstable_getCurrentPriorityLevel,ju=t.unstable_ImmediatePriority,Ta=t.unstable_UserBlockingPriority,gl=t.unstable_NormalPriority,Ph=t.unstable_LowPriority,Su=t.unstable_IdlePriority,cc=null,Da=null;function Eh(u){if(Da&&typeof Da.onCommitFiberRoot=="function")try{Da.onCommitFiberRoot(cc,u,void 0,(u.current.flags&128)===128)}catch{}}var ii=Math.clz32?Math.clz32:ai,Nu=Math.log,Im=Math.LN2;function ai(u){return u>>>=0,u===0?32:31-(Nu(u)/Im|0)|0}var uc=64,La=4194304;function Qo(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function dc(u,f){var v=u.pendingLanes;if(v===0)return 0;var S=0,L=u.suspendedLanes,q=u.pingedLanes,re=v&268435455;if(re!==0){var ye=re&~L;ye!==0?S=Qo(ye):(q&=re,q!==0&&(S=Qo(q)))}else re=v&~L,re!==0?S=Qo(re):q!==0&&(S=Qo(q));if(S===0)return 0;if(f!==0&&f!==S&&(f&L)===0&&(L=S&-S,q=f&-f,L>=q||L===16&&(q&4194240)!==0))return f;if((S&4)!==0&&(S|=v&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=S;0<f;)v=31-ii(f),L=1<<v,S|=u[v],f&=~L;return S}function Xa(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gi(u,f){for(var v=u.suspendedLanes,S=u.pingedLanes,L=u.expirationTimes,q=u.pendingLanes;0<q;){var re=31-ii(q),ye=1<<re,Ce=L[re];Ce===-1?((ye&v)===0||(ye&S)!==0)&&(L[re]=Xa(ye,f)):Ce<=f&&(u.expiredLanes|=ye),q&=~ye}}function So(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Kd(){var u=uc;return uc<<=1,(uc&4194240)===0&&(uc=64),u}function Yd(u){for(var f=[],v=0;31>v;v++)f.push(u);return f}function fc(u,f,v){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-ii(f),u[f]=v}function Jo(u,f){var v=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var S=u.eventTimes;for(u=u.expirationTimes;0<v;){var L=31-ii(v),q=1<<L;f[L]=0,S[L]=-1,u[L]=-1,v&=~q}}function Au(u,f){var v=u.entangledLanes|=f;for(u=u.entanglements;v;){var S=31-ii(v),L=1<<S;L&f|u[S]&f&&(u[S]|=f),v&=~L}}var Hn=0;function hc(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var vl,Xd,kh,Oh,Cu,Pu=!1,fa=[],Zo=null,ha=null,Qa=null,pc=new Map,dn=new Map,es=[],Rm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Th(u,f){switch(u){case"focusin":case"focusout":Zo=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":pc.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":dn.delete(f.pointerId)}}function Ia(u,f,v,S,L,q){return u===null||u.nativeEvent!==q?(u={blockedOn:f,domEventName:v,eventSystemFlags:S,nativeEvent:q,targetContainers:[L]},f!==null&&(f=Hu(f),f!==null&&Xd(f)),u):(u.eventSystemFlags|=S,f=u.targetContainers,L!==null&&f.indexOf(L)===-1&&f.push(L),u)}function Os(u,f,v,S,L){switch(f){case"focusin":return Zo=Ia(Zo,u,f,v,S,L),!0;case"dragenter":return ha=Ia(ha,u,f,v,S,L),!0;case"mouseover":return Qa=Ia(Qa,u,f,v,S,L),!0;case"pointerover":var q=L.pointerId;return pc.set(q,Ia(pc.get(q)||null,u,f,v,S,L)),!0;case"gotpointercapture":return q=L.pointerId,dn.set(q,Ia(dn.get(q)||null,u,f,v,S,L)),!0}return!1}function Dh(u){var f=Pl(u.target);if(f!==null){var v=Oi(f);if(v!==null){if(f=v.tag,f===13){if(f=Ya(v),f!==null){u.blockedOn=f,Cu(u.priority,function(){kh(v)});return}}else if(f===3&&v.stateNode.current.memoizedState.isDehydrated){u.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Eu(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var v=vc(u.domEventName,u.eventSystemFlags,f[0],u.nativeEvent);if(v===null){v=u.nativeEvent;var S=new v.constructor(v.type,v);Nn=S,v.target.dispatchEvent(S),Nn=null}else return f=Hu(v),f!==null&&Xd(f),u.blockedOn=v,!1;f.shift()}return!0}function mc(u,f,v){Eu(u)&&v.delete(f)}function Qd(){Pu=!1,Zo!==null&&Eu(Zo)&&(Zo=null),ha!==null&&Eu(ha)&&(ha=null),Qa!==null&&Eu(Qa)&&(Qa=null),pc.forEach(mc),dn.forEach(mc)}function No(u,f){u.blockedOn===f&&(u.blockedOn=null,Pu||(Pu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Qd)))}function gc(u){function f(L){return No(L,u)}if(0<fa.length){No(fa[0],u);for(var v=1;v<fa.length;v++){var S=fa[v];S.blockedOn===u&&(S.blockedOn=null)}}for(Zo!==null&&No(Zo,u),ha!==null&&No(ha,u),Qa!==null&&No(Qa,u),pc.forEach(f),dn.forEach(f),v=0;v<es.length;v++)S=es[v],S.blockedOn===u&&(S.blockedOn=null);for(;0<es.length&&(v=es[0],v.blockedOn===null);)Dh(v),v.blockedOn===null&&es.shift()}var pa=P.ReactCurrentBatchConfig,ku=!0;function Jd(u,f,v,S){var L=Hn,q=pa.transition;pa.transition=null;try{Hn=1,Ou(u,f,v,S)}finally{Hn=L,pa.transition=q}}function Zd(u,f,v,S){var L=Hn,q=pa.transition;pa.transition=null;try{Hn=4,Ou(u,f,v,S)}finally{Hn=L,pa.transition=q}}function Ou(u,f,v,S){if(ku){var L=vc(u,f,v,S);if(L===null)uf(u,f,S,Ja,v),Th(u,S);else if(Os(L,u,f,v,S))S.stopPropagation();else if(Th(u,S),f&4&&-1<Rm.indexOf(u)){for(;L!==null;){var q=Hu(L);if(q!==null&&vl(q),q=vc(u,f,v,S),q===null&&uf(u,f,S,Ja,v),q===L)break;L=q}L!==null&&S.stopPropagation()}else uf(u,f,S,null,v)}}var Ja=null;function vc(u,f,v,S){if(Ja=null,u=Ot(S),u=Pl(u),u!==null)if(f=Oi(u),f===null)u=null;else if(v=f.tag,v===13){if(u=Ya(f),u!==null)return u;u=null}else if(v===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null);return Ja=u,null}function yc(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ch()){case ju:return 1;case Ta:return 4;case gl:case Ph:return 16;case Su:return 536870912;default:return 16}default:return 16}}var Za=null,Ts=null,yl=null;function ef(){if(yl)return yl;var u,f=Ts,v=f.length,S,L="value"in Za?Za.value:Za.textContent,q=L.length;for(u=0;u<v&&f[u]===L[u];u++);var re=v-u;for(S=1;S<=re&&f[v-S]===L[q-S];S++);return yl=L.slice(u,1<S?1-S:void 0)}function xc(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function eo(){return!0}function ts(){return!1}function Ui(u){function f(v,S,L,q,re){this._reactName=v,this._targetInst=L,this.type=S,this.nativeEvent=q,this.target=re,this.currentTarget=null;for(var ye in u)u.hasOwnProperty(ye)&&(v=u[ye],this[ye]=v?v(q):q[ye]);return this.isDefaultPrevented=(q.defaultPrevented!=null?q.defaultPrevented:q.returnValue===!1)?eo:ts,this.isPropagationStopped=ts,this}return ne(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=eo)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=eo)},persist:function(){},isPersistent:eo}),f}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tu=Ui(to),D=ne({},to,{view:0,detail:0}),te=Ui(D),ge,Se,De,Ye=ne({},D,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bc,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==De&&(De&&u.type==="mousemove"?(ge=u.screenX-De.screenX,Se=u.screenY-De.screenY):Se=ge=0,De=u),ge)},movementY:function(u){return"movementY"in u?u.movementY:Se}}),et=Ui(Ye),zt=ne({},Ye,{dataTransfer:0}),Yt=Ui(zt),gn=ne({},D,{relatedTarget:0}),bn=Ui(gn),qn=ne({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),Mr=Ui(qn),oi=ne({},to,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),vr=Ui(oi),vi=ne({},to,{data:0}),Qr=Ui(vi),Ti={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ds={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ao={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ls(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=Ao[u])?!!f[u]:!1}function bc(){return Ls}var Du=ne({},D,{key:function(u){if(u.key){var f=Ti[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=xc(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Ds[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bc,charCode:function(u){return u.type==="keypress"?xc(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?xc(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),xl=Ui(Du),wc=ne({},Ye,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bl=Ui(wc),wl=ne({},D,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bc}),Di=Ui(wl),_c=ne({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),jc=Ui(_c),tf=ne({},Ye,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),nf=Ui(tf),ia=[9,13,27,32],Co=l&&"CompositionEvent"in window,ns=null;l&&"documentMode"in document&&(ns=document.documentMode);var Lh=l&&"TextEvent"in window&&!ns,Ra=l&&(!Co||ns&&8<ns&&11>=ns),_l=" ",Lu=!1;function Iu(u,f){switch(u){case"keyup":return ia.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Is(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var no=!1;function Ma(u,f){switch(u){case"compositionend":return Is(f);case"keypress":return f.which!==32?null:(Lu=!0,_l);case"textInput":return u=f.data,u===_l&&Lu?null:u;default:return null}}function za(u,f){if(no)return u==="compositionend"||!Co&&Iu(u,f)?(u=ef(),yl=Ts=Za=null,no=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Ra&&f.locale!=="ko"?null:f.data;default:return null}}var jl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rs(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!jl[u.type]:f==="textarea"}function Rs(u,f,v,S){ct(S),f=Fh(f,"onChange"),0<f.length&&(v=new Tu("onChange","change",null,v,S),u.push({event:v,listeners:f}))}var Ms=null,is=null;function Jr(u){lf(u,0)}function Sc(u){var f=Lc(u);if(_e(f))return u}function as(u,f){if(u==="change")return f}var Po=!1;if(l){var Nc;if(l){var Ac="oninput"in document;if(!Ac){var Ru=document.createElement("div");Ru.setAttribute("oninput","return;"),Ac=typeof Ru.oninput=="function"}Nc=Ac}else Nc=!1;Po=Nc&&(!document.documentMode||9<document.documentMode)}function Mu(){Ms&&(Ms.detachEvent("onpropertychange",zs),is=Ms=null)}function zs(u){if(u.propertyName==="value"&&Sc(is)){var f=[];Rs(f,is,u,Ot(u)),dt(Jr,f)}}function Sl(u,f,v){u==="focusin"?(Mu(),Ms=f,is=v,Ms.attachEvent("onpropertychange",zs)):u==="focusout"&&Mu()}function Nl(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Sc(is)}function Cc(u,f){if(u==="click")return Sc(f)}function Al(u,f){if(u==="input"||u==="change")return Sc(f)}function Pc(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var Br=typeof Object.is=="function"?Object.is:Pc;function ma(u,f){if(Br(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var v=Object.keys(u),S=Object.keys(f);if(v.length!==S.length)return!1;for(S=0;S<v.length;S++){var L=v[S];if(!c.call(f,L)||!Br(u[L],f[L]))return!1}return!0}function Vn(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function rr(u,f){var v=Vn(u);u=0;for(var S;v;){if(v.nodeType===3){if(S=u+v.textContent.length,u<=f&&S>=f)return{node:v,offset:f-u};u=S}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=Vn(v)}}function Ur(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?Ur(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function si(){for(var u=window,f=$e();f instanceof u.HTMLIFrameElement;){try{var v=typeof f.contentWindow.location.href=="string"}catch{v=!1}if(v)u=f.contentWindow;else break;f=$e(u.document)}return f}function Eo(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}function rf(u){var f=si(),v=u.focusedElem,S=u.selectionRange;if(f!==v&&v&&v.ownerDocument&&Ur(v.ownerDocument.documentElement,v)){if(S!==null&&Eo(v)){if(f=S.start,u=S.end,u===void 0&&(u=f),"selectionStart"in v)v.selectionStart=f,v.selectionEnd=Math.min(u,v.value.length);else if(u=(f=v.ownerDocument||document)&&f.defaultView||window,u.getSelection){u=u.getSelection();var L=v.textContent.length,q=Math.min(S.start,L);S=S.end===void 0?q:Math.min(S.end,L),!u.extend&&q>S&&(L=S,S=q,q=L),L=rr(v,q);var re=rr(v,S);L&&re&&(u.rangeCount!==1||u.anchorNode!==L.node||u.anchorOffset!==L.offset||u.focusNode!==re.node||u.focusOffset!==re.offset)&&(f=f.createRange(),f.setStart(L.node,L.offset),u.removeAllRanges(),q>S?(u.addRange(f),u.extend(re.node,re.offset)):(f.setEnd(re.node,re.offset),u.addRange(f)))}}for(f=[],u=v;u=u.parentNode;)u.nodeType===1&&f.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<f.length;v++)u=f[v],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var zu=l&&"documentMode"in document&&11>=document.documentMode,Fs=null,Ih=null,Fu=null,Rh=!1;function Mm(u,f,v){var S=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;Rh||Fs==null||Fs!==$e(S)||(S=Fs,"selectionStart"in S&&Eo(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),Fu&&ma(Fu,S)||(Fu=S,S=Fh(Ih,"onSelect"),0<S.length&&(f=new Tu("onSelect","select",null,f,v),u.push({event:f,listeners:S}),f.target=Fs)))}function af(u,f){var v={};return v[u.toLowerCase()]=f.toLowerCase(),v["Webkit"+u]="webkit"+f,v["Moz"+u]="moz"+f,v}var Ec={animationend:af("Animation","AnimationEnd"),animationiteration:af("Animation","AnimationIteration"),animationstart:af("Animation","AnimationStart"),transitionend:af("Transition","TransitionEnd")},kc={},zm={};l&&(zm=document.createElement("div").style,"AnimationEvent"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),"TransitionEvent"in window||delete Ec.transitionend.transition);function of(u){if(kc[u])return kc[u];if(!Ec[u])return u;var f=Ec[u],v;for(v in f)if(f.hasOwnProperty(v)&&v in zm)return kc[u]=f[v];return u}var Fm=of("animationend"),$m=of("animationiteration"),qm=of("animationstart"),Bm=of("transitionend"),Um=new Map,Hm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function os(u,f){Um.set(u,f),a(f,[u])}for(var $u=0;$u<Hm.length;$u++){var aa=Hm[$u],ro=aa.toLowerCase(),Mh=aa[0].toUpperCase()+aa.slice(1);os(ro,"on"+Mh)}os(Fm,"onAnimationEnd"),os($m,"onAnimationIteration"),os(qm,"onAnimationStart"),os("dblclick","onDoubleClick"),os("focusin","onFocus"),os("focusout","onBlur"),os(Bm,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cl));function sf(u,f,v){var S=u.type||"unknown-event";u.currentTarget=v,Xo(S,f,void 0,u),u.currentTarget=null}function lf(u,f){f=(f&4)!==0;for(var v=0;v<u.length;v++){var S=u[v],L=S.event;S=S.listeners;e:{var q=void 0;if(f)for(var re=S.length-1;0<=re;re--){var ye=S[re],Ce=ye.instance,qe=ye.currentTarget;if(ye=ye.listener,Ce!==q&&L.isPropagationStopped())break e;sf(L,ye,qe),q=Ce}else for(re=0;re<S.length;re++){if(ye=S[re],Ce=ye.instance,qe=ye.currentTarget,ye=ye.listener,Ce!==q&&L.isPropagationStopped())break e;sf(L,ye,qe),q=Ce}}}if(Sr)throw u=Yo,Sr=!1,Yo=null,u}function cr(u,f){var v=f[va];v===void 0&&(v=f[va]=new Set);var S=u+"__bubble";v.has(S)||(cf(f,u,2,!1),v.add(S))}function zh(u,f,v){var S=0;f&&(S|=4),cf(v,u,S,f)}var qu="_reactListening"+Math.random().toString(36).slice(2);function Oc(u){if(!u[qu]){u[qu]=!0,r.forEach(function(v){v!=="selectionchange"&&(Jv.has(v)||zh(v,!1,u),zh(v,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[qu]||(f[qu]=!0,zh("selectionchange",!1,f))}}function cf(u,f,v,S){switch(yc(f)){case 1:var L=Jd;break;case 4:L=Zd;break;default:L=Ou}v=L.bind(null,f,v,u),L=void 0,!Tr||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(L=!0),S?L!==void 0?u.addEventListener(f,v,{capture:!0,passive:L}):u.addEventListener(f,v,!0):L!==void 0?u.addEventListener(f,v,{passive:L}):u.addEventListener(f,v,!1)}function uf(u,f,v,S,L){var q=S;if((f&1)===0&&(f&2)===0&&S!==null)e:for(;;){if(S===null)return;var re=S.tag;if(re===3||re===4){var ye=S.stateNode.containerInfo;if(ye===L||ye.nodeType===8&&ye.parentNode===L)break;if(re===4)for(re=S.return;re!==null;){var Ce=re.tag;if((Ce===3||Ce===4)&&(Ce=re.stateNode.containerInfo,Ce===L||Ce.nodeType===8&&Ce.parentNode===L))return;re=re.return}for(;ye!==null;){if(re=Pl(ye),re===null)return;if(Ce=re.tag,Ce===5||Ce===6){S=q=re;continue e}ye=ye.parentNode}}S=S.return}dt(function(){var qe=q,rt=Ot(v),it=[];e:{var nt=Um.get(u);if(nt!==void 0){var kt=Tu,qt=u;switch(u){case"keypress":if(xc(v)===0)break e;case"keydown":case"keyup":kt=xl;break;case"focusin":qt="focus",kt=bn;break;case"focusout":qt="blur",kt=bn;break;case"beforeblur":case"afterblur":kt=bn;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":kt=et;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":kt=Yt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":kt=Di;break;case Fm:case $m:case qm:kt=Mr;break;case Bm:kt=jc;break;case"scroll":kt=te;break;case"wheel":kt=nf;break;case"copy":case"cut":case"paste":kt=vr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":kt=bl}var Kt=(f&4)!==0,bi=!Kt&&u==="scroll",Me=Kt?nt!==null?nt+"Capture":null:nt;Kt=[];for(var Te=qe,Fe;Te!==null;){Fe=Te;var lt=Fe.stateNode;if(Fe.tag===5&&lt!==null&&(Fe=lt,Me!==null&&(lt=An(Te,Me),lt!=null&&Kt.push(df(Te,lt,Fe)))),bi)break;Te=Te.return}0<Kt.length&&(nt=new kt(nt,qt,null,v,rt),it.push({event:nt,listeners:Kt}))}}if((f&7)===0){e:{if(nt=u==="mouseover"||u==="pointerover",kt=u==="mouseout"||u==="pointerout",nt&&v!==Nn&&(qt=v.relatedTarget||v.fromElement)&&(Pl(qt)||qt[Hi]))break e;if((kt||nt)&&(nt=rt.window===rt?rt:(nt=rt.ownerDocument)?nt.defaultView||nt.parentWindow:window,kt?(qt=v.relatedTarget||v.toElement,kt=qe,qt=qt?Pl(qt):null,qt!==null&&(bi=Oi(qt),qt!==bi||qt.tag!==5&&qt.tag!==6)&&(qt=null)):(kt=null,qt=qe),kt!==qt)){if(Kt=et,lt="onMouseLeave",Me="onMouseEnter",Te="mouse",(u==="pointerout"||u==="pointerover")&&(Kt=bl,lt="onPointerLeave",Me="onPointerEnter",Te="pointer"),bi=kt==null?nt:Lc(kt),Fe=qt==null?nt:Lc(qt),nt=new Kt(lt,Te+"leave",kt,v,rt),nt.target=bi,nt.relatedTarget=Fe,lt=null,Pl(rt)===qe&&(Kt=new Kt(Me,Te+"enter",qt,v,rt),Kt.target=Fe,Kt.relatedTarget=bi,lt=Kt),bi=lt,kt&&qt)t:{for(Kt=kt,Me=qt,Te=0,Fe=Kt;Fe;Fe=Tc(Fe))Te++;for(Fe=0,lt=Me;lt;lt=Tc(lt))Fe++;for(;0<Te-Fe;)Kt=Tc(Kt),Te--;for(;0<Fe-Te;)Me=Tc(Me),Fe--;for(;Te--;){if(Kt===Me||Me!==null&&Kt===Me.alternate)break t;Kt=Tc(Kt),Me=Tc(Me)}Kt=null}else Kt=null;kt!==null&&Zv(it,nt,kt,Kt,!1),qt!==null&&bi!==null&&Zv(it,bi,qt,Kt,!0)}}e:{if(nt=qe?Lc(qe):window,kt=nt.nodeName&&nt.nodeName.toLowerCase(),kt==="select"||kt==="input"&&nt.type==="file")var Qt=as;else if(rs(nt))if(Po)Qt=Al;else{Qt=Nl;var sn=Sl}else(kt=nt.nodeName)&&kt.toLowerCase()==="input"&&(nt.type==="checkbox"||nt.type==="radio")&&(Qt=Cc);if(Qt&&(Qt=Qt(u,qe))){Rs(it,Qt,v,rt);break e}sn&&sn(u,nt,qe),u==="focusout"&&(sn=nt._wrapperState)&&sn.controlled&&nt.type==="number"&&Be(nt,"number",nt.value)}switch(sn=qe?Lc(qe):window,u){case"focusin":(rs(sn)||sn.contentEditable==="true")&&(Fs=sn,Ih=qe,Fu=null);break;case"focusout":Fu=Ih=Fs=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,Mm(it,v,rt);break;case"selectionchange":if(zu)break;case"keydown":case"keyup":Mm(it,v,rt)}var ln;if(Co)e:{switch(u){case"compositionstart":var yn="onCompositionStart";break e;case"compositionend":yn="onCompositionEnd";break e;case"compositionupdate":yn="onCompositionUpdate";break e}yn=void 0}else no?Iu(u,v)&&(yn="onCompositionEnd"):u==="keydown"&&v.keyCode===229&&(yn="onCompositionStart");yn&&(Ra&&v.locale!=="ko"&&(no||yn!=="onCompositionStart"?yn==="onCompositionEnd"&&no&&(ln=ef()):(Za=rt,Ts="value"in Za?Za.value:Za.textContent,no=!0)),sn=Fh(qe,yn),0<sn.length&&(yn=new Qr(yn,u,null,v,rt),it.push({event:yn,listeners:sn}),ln?yn.data=ln:(ln=Is(v),ln!==null&&(yn.data=ln)))),(ln=Lh?Ma(u,v):za(u,v))&&(qe=Fh(qe,"onBeforeInput"),0<qe.length&&(rt=new Qr("onBeforeInput","beforeinput",null,v,rt),it.push({event:rt,listeners:qe}),rt.data=ln))}lf(it,f)})}function df(u,f,v){return{instance:u,listener:f,currentTarget:v}}function Fh(u,f){for(var v=f+"Capture",S=[];u!==null;){var L=u,q=L.stateNode;L.tag===5&&q!==null&&(L=q,q=An(u,v),q!=null&&S.unshift(df(u,q,L)),q=An(u,f),q!=null&&S.push(df(u,q,L))),u=u.return}return S}function Tc(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function Zv(u,f,v,S,L){for(var q=f._reactName,re=[];v!==null&&v!==S;){var ye=v,Ce=ye.alternate,qe=ye.stateNode;if(Ce!==null&&Ce===S)break;ye.tag===5&&qe!==null&&(ye=qe,L?(Ce=An(v,q),Ce!=null&&re.unshift(df(v,Ce,ye))):L||(Ce=An(v,q),Ce!=null&&re.push(df(v,Ce,ye)))),v=v.return}re.length!==0&&u.push({event:f,listeners:re})}var cb=/\r\n?/g,ub=/\u0000|\uFFFD/g;function e0(u){return(typeof u=="string"?u:""+u).replace(cb,`
`).replace(ub,"")}function $h(u,f,v){if(f=e0(f),e0(u)!==f&&v)throw Error(n(425))}function Bu(){}var ff=null,Dc=null;function Wm(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var Vm=typeof setTimeout=="function"?setTimeout:void 0,t0=typeof clearTimeout=="function"?clearTimeout:void 0,n0=typeof Promise=="function"?Promise:void 0,db=typeof queueMicrotask=="function"?queueMicrotask:typeof n0<"u"?function(u){return n0.resolve(null).then(u).catch(fb)}:Vm;function fb(u){setTimeout(function(){throw u})}function Gm(u,f){var v=f,S=0;do{var L=v.nextSibling;if(u.removeChild(v),L&&L.nodeType===8)if(v=L.data,v==="/$"){if(S===0){u.removeChild(L),gc(f);return}S--}else v!=="$"&&v!=="$?"&&v!=="$!"||S++;v=L}while(v);gc(f)}function oa(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return u}function io(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var v=u.data;if(v==="$"||v==="$!"||v==="$?"){if(f===0)return u;f--}else v==="/$"&&f++}u=u.previousSibling}return null}var ga=Math.random().toString(36).slice(2),ss="__reactFiber$"+ga,Uu="__reactProps$"+ga,Hi="__reactContainer$"+ga,va="__reactEvents$"+ga,hb="__reactListeners$"+ga,pb="__reactHandles$"+ga;function Pl(u){var f=u[ss];if(f)return f;for(var v=u.parentNode;v;){if(f=v[Hi]||v[ss]){if(v=f.alternate,f.child!==null||v!==null&&v.child!==null)for(u=io(u);u!==null;){if(v=u[ss])return v;u=io(u)}return f}u=v,v=u.parentNode}return null}function Hu(u){return u=u[ss]||u[Hi],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Lc(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function hf(u){return u[Uu]||null}var Km=[],$s=-1;function ko(u){return{current:u}}function er(u){0>$s||(u.current=Km[$s],Km[$s]=null,$s--)}function ir(u,f){$s++,Km[$s]=u.current,u.current=f}var El={},Li=ko(El),ya=ko(!1),Ic=El;function Wu(u,f){var v=u.type.contextTypes;if(!v)return El;var S=u.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===f)return S.__reactInternalMemoizedMaskedChildContext;var L={},q;for(q in v)L[q]=f[q];return S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=L),L}function xa(u){return u=u.childContextTypes,u!=null}function qh(){er(ya),er(Li)}function r0(u,f,v){if(Li.current!==El)throw Error(n(168));ir(Li,f),ir(ya,v)}function Ym(u,f,v){var S=u.stateNode;if(f=f.childContextTypes,typeof S.getChildContext!="function")return v;S=S.getChildContext();for(var L in S)if(!(L in f))throw Error(n(108,se(u)||"Unknown",L));return ne({},v,S)}function Rc(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||El,Ic=Li.current,ir(Li,u),ir(ya,ya.current),!0}function i0(u,f,v){var S=u.stateNode;if(!S)throw Error(n(169));v?(u=Ym(u,f,Ic),S.__reactInternalMemoizedMergedChildContext=u,er(ya),er(Li),ir(Li,u)):er(ya),ir(ya,v)}var qs=null,pf=!1,_=!1;function N(u){qs===null?qs=[u]:qs.push(u)}function $(u){pf=!0,N(u)}function W(){if(!_&&qs!==null){_=!0;var u=0,f=Hn;try{var v=qs;for(Hn=1;u<v.length;u++){var S=v[u];do S=S(!0);while(S!==null)}qs=null,pf=!1}catch(L){throw qs!==null&&(qs=qs.slice(u+1)),sc(ju,W),L}finally{Hn=f,_=!1}}return null}var ee=[],ie=0,ae=null,ce=0,ue=[],he=0,Ae=null,Re=1,me="";function ke(u,f){ee[ie++]=ce,ee[ie++]=ae,ae=u,ce=f}function Ie(u,f,v){ue[he++]=Re,ue[he++]=me,ue[he++]=Ae,Ae=u;var S=Re;u=me;var L=32-ii(S)-1;S&=~(1<<L),v+=1;var q=32-ii(f)+L;if(30<q){var re=L-L%5;q=(S&(1<<re)-1).toString(32),S>>=re,L-=re,Re=1<<32-ii(f)+L|v<<L|S,me=q+u}else Re=1<<q|v<<L|S,me=u}function Ge(u){u.return!==null&&(ke(u,1),Ie(u,1,0))}function ze(u){for(;u===ae;)ae=ee[--ie],ee[ie]=null,ce=ee[--ie],ee[ie]=null;for(;u===Ae;)Ae=ue[--he],ue[he]=null,me=ue[--he],ue[he]=null,Re=ue[--he],ue[he]=null}var Ue=null,Ve=null,Qe=!1,Je=null;function Xt(u,f){var v=fs(5,null,null,0);v.elementType="DELETED",v.stateNode=f,v.return=u,f=u.deletions,f===null?(u.deletions=[v],u.flags|=16):f.push(v)}function Tt(u,f){switch(u.tag){case 5:var v=u.type;return f=f.nodeType!==1||v.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(u.stateNode=f,Ue=u,Ve=oa(f.firstChild),!0):!1;case 6:return f=u.pendingProps===""||f.nodeType!==3?null:f,f!==null?(u.stateNode=f,Ue=u,Ve=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(v=Ae!==null?{id:Re,overflow:me}:null,u.memoizedState={dehydrated:f,treeContext:v,retryLane:1073741824},v=fs(18,null,null,0),v.stateNode=f,v.return=u,u.child=v,Ue=u,Ve=null,!0):!1;default:return!1}}function wn(u){return(u.mode&1)!==0&&(u.flags&128)===0}function Ft(u){if(Qe){var f=Ve;if(f){var v=f;if(!Tt(u,f)){if(wn(u))throw Error(n(418));f=oa(v.nextSibling);var S=Ue;f&&Tt(u,f)?Xt(S,v):(u.flags=u.flags&-4097|2,Qe=!1,Ue=u)}}else{if(wn(u))throw Error(n(418));u.flags=u.flags&-4097|2,Qe=!1,Ue=u}}}function Dn(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Ue=u}function Hr(u){if(u!==Ue)return!1;if(!Qe)return Dn(u),Qe=!0,!1;var f;if((f=u.tag!==3)&&!(f=u.tag!==5)&&(f=u.type,f=f!=="head"&&f!=="body"&&!Wm(u.type,u.memoizedProps)),f&&(f=Ve)){if(wn(u))throw jn(),Error(n(418));for(;f;)Xt(u,f),f=oa(f.nextSibling)}if(Dn(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,f=0;u;){if(u.nodeType===8){var v=u.data;if(v==="/$"){if(f===0){Ve=oa(u.nextSibling);break e}f--}else v!=="$"&&v!=="$!"&&v!=="$?"||f++}u=u.nextSibling}Ve=null}}else Ve=Ue?oa(u.stateNode.nextSibling):null;return!0}function jn(){for(var u=Ve;u;)u=oa(u.nextSibling)}function Dt(){Ve=Ue=null,Qe=!1}function ht(u){Je===null?Je=[u]:Je.push(u)}var Zr=P.ReactCurrentBatchConfig;function hn(u,f,v){if(u=v.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(n(309));var S=v.stateNode}if(!S)throw Error(n(147,u));var L=S,q=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===q?f.ref:(f=function(re){var ye=L.refs;re===null?delete ye[q]:ye[q]=re},f._stringRef=q,f)}if(typeof u!="string")throw Error(n(284));if(!v._owner)throw Error(n(290,u))}return u}function On(u,f){throw u=Object.prototype.toString.call(f),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function yr(u){var f=u._init;return f(u._payload)}function Ni(u){function f(Me,Te){if(u){var Fe=Me.deletions;Fe===null?(Me.deletions=[Te],Me.flags|=16):Fe.push(Te)}}function v(Me,Te){if(!u)return null;for(;Te!==null;)f(Me,Te),Te=Te.sibling;return null}function S(Me,Te){for(Me=new Map;Te!==null;)Te.key!==null?Me.set(Te.key,Te):Me.set(Te.index,Te),Te=Te.sibling;return Me}function L(Me,Te){return Me=td(Me,Te),Me.index=0,Me.sibling=null,Me}function q(Me,Te,Fe){return Me.index=Fe,u?(Fe=Me.alternate,Fe!==null?(Fe=Fe.index,Fe<Te?(Me.flags|=2,Te):Fe):(Me.flags|=2,Te)):(Me.flags|=1048576,Te)}function re(Me){return u&&Me.alternate===null&&(Me.flags|=2),Me}function ye(Me,Te,Fe,lt){return Te===null||Te.tag!==6?(Te=Ub(Fe,Me.mode,lt),Te.return=Me,Te):(Te=L(Te,Fe),Te.return=Me,Te)}function Ce(Me,Te,Fe,lt){var Qt=Fe.type;return Qt===z?rt(Me,Te,Fe.props.children,lt,Fe.key):Te!==null&&(Te.elementType===Qt||typeof Qt=="object"&&Qt!==null&&Qt.$$typeof===X&&yr(Qt)===Te.type)?(lt=L(Te,Fe.props),lt.ref=hn(Me,Te,Fe),lt.return=Me,lt):(lt=S0(Fe.type,Fe.key,Fe.props,null,Me.mode,lt),lt.ref=hn(Me,Te,Fe),lt.return=Me,lt)}function qe(Me,Te,Fe,lt){return Te===null||Te.tag!==4||Te.stateNode.containerInfo!==Fe.containerInfo||Te.stateNode.implementation!==Fe.implementation?(Te=Hb(Fe,Me.mode,lt),Te.return=Me,Te):(Te=L(Te,Fe.children||[]),Te.return=Me,Te)}function rt(Me,Te,Fe,lt,Qt){return Te===null||Te.tag!==7?(Te=_f(Fe,Me.mode,lt,Qt),Te.return=Me,Te):(Te=L(Te,Fe),Te.return=Me,Te)}function it(Me,Te,Fe){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return Te=Ub(""+Te,Me.mode,Fe),Te.return=Me,Te;if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case E:return Fe=S0(Te.type,Te.key,Te.props,null,Me.mode,Fe),Fe.ref=hn(Me,null,Te),Fe.return=Me,Fe;case I:return Te=Hb(Te,Me.mode,Fe),Te.return=Me,Te;case X:var lt=Te._init;return it(Me,lt(Te._payload),Fe)}if(Nt(Te)||Y(Te))return Te=_f(Te,Me.mode,Fe,null),Te.return=Me,Te;On(Me,Te)}return null}function nt(Me,Te,Fe,lt){var Qt=Te!==null?Te.key:null;if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return Qt!==null?null:ye(Me,Te,""+Fe,lt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case E:return Fe.key===Qt?Ce(Me,Te,Fe,lt):null;case I:return Fe.key===Qt?qe(Me,Te,Fe,lt):null;case X:return Qt=Fe._init,nt(Me,Te,Qt(Fe._payload),lt)}if(Nt(Fe)||Y(Fe))return Qt!==null?null:rt(Me,Te,Fe,lt,null);On(Me,Fe)}return null}function kt(Me,Te,Fe,lt,Qt){if(typeof lt=="string"&&lt!==""||typeof lt=="number")return Me=Me.get(Fe)||null,ye(Te,Me,""+lt,Qt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case E:return Me=Me.get(lt.key===null?Fe:lt.key)||null,Ce(Te,Me,lt,Qt);case I:return Me=Me.get(lt.key===null?Fe:lt.key)||null,qe(Te,Me,lt,Qt);case X:var sn=lt._init;return kt(Me,Te,Fe,sn(lt._payload),Qt)}if(Nt(lt)||Y(lt))return Me=Me.get(Fe)||null,rt(Te,Me,lt,Qt,null);On(Te,lt)}return null}function qt(Me,Te,Fe,lt){for(var Qt=null,sn=null,ln=Te,yn=Te=0,Yi=null;ln!==null&&yn<Fe.length;yn++){ln.index>yn?(Yi=ln,ln=null):Yi=ln.sibling;var Qn=nt(Me,ln,Fe[yn],lt);if(Qn===null){ln===null&&(ln=Yi);break}u&&ln&&Qn.alternate===null&&f(Me,ln),Te=q(Qn,Te,yn),sn===null?Qt=Qn:sn.sibling=Qn,sn=Qn,ln=Yi}if(yn===Fe.length)return v(Me,ln),Qe&&ke(Me,yn),Qt;if(ln===null){for(;yn<Fe.length;yn++)ln=it(Me,Fe[yn],lt),ln!==null&&(Te=q(ln,Te,yn),sn===null?Qt=ln:sn.sibling=ln,sn=ln);return Qe&&ke(Me,yn),Qt}for(ln=S(Me,ln);yn<Fe.length;yn++)Yi=kt(ln,Me,yn,Fe[yn],lt),Yi!==null&&(u&&Yi.alternate!==null&&ln.delete(Yi.key===null?yn:Yi.key),Te=q(Yi,Te,yn),sn===null?Qt=Yi:sn.sibling=Yi,sn=Yi);return u&&ln.forEach(function(nd){return f(Me,nd)}),Qe&&ke(Me,yn),Qt}function Kt(Me,Te,Fe,lt){var Qt=Y(Fe);if(typeof Qt!="function")throw Error(n(150));if(Fe=Qt.call(Fe),Fe==null)throw Error(n(151));for(var sn=Qt=null,ln=Te,yn=Te=0,Yi=null,Qn=Fe.next();ln!==null&&!Qn.done;yn++,Qn=Fe.next()){ln.index>yn?(Yi=ln,ln=null):Yi=ln.sibling;var nd=nt(Me,ln,Qn.value,lt);if(nd===null){ln===null&&(ln=Yi);break}u&&ln&&nd.alternate===null&&f(Me,ln),Te=q(nd,Te,yn),sn===null?Qt=nd:sn.sibling=nd,sn=nd,ln=Yi}if(Qn.done)return v(Me,ln),Qe&&ke(Me,yn),Qt;if(ln===null){for(;!Qn.done;yn++,Qn=Fe.next())Qn=it(Me,Qn.value,lt),Qn!==null&&(Te=q(Qn,Te,yn),sn===null?Qt=Qn:sn.sibling=Qn,sn=Qn);return Qe&&ke(Me,yn),Qt}for(ln=S(Me,ln);!Qn.done;yn++,Qn=Fe.next())Qn=kt(ln,Me,yn,Qn.value,lt),Qn!==null&&(u&&Qn.alternate!==null&&ln.delete(Qn.key===null?yn:Qn.key),Te=q(Qn,Te,yn),sn===null?Qt=Qn:sn.sibling=Qn,sn=Qn);return u&&ln.forEach(function(yU){return f(Me,yU)}),Qe&&ke(Me,yn),Qt}function bi(Me,Te,Fe,lt){if(typeof Fe=="object"&&Fe!==null&&Fe.type===z&&Fe.key===null&&(Fe=Fe.props.children),typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case E:e:{for(var Qt=Fe.key,sn=Te;sn!==null;){if(sn.key===Qt){if(Qt=Fe.type,Qt===z){if(sn.tag===7){v(Me,sn.sibling),Te=L(sn,Fe.props.children),Te.return=Me,Me=Te;break e}}else if(sn.elementType===Qt||typeof Qt=="object"&&Qt!==null&&Qt.$$typeof===X&&yr(Qt)===sn.type){v(Me,sn.sibling),Te=L(sn,Fe.props),Te.ref=hn(Me,sn,Fe),Te.return=Me,Me=Te;break e}v(Me,sn);break}else f(Me,sn);sn=sn.sibling}Fe.type===z?(Te=_f(Fe.props.children,Me.mode,lt,Fe.key),Te.return=Me,Me=Te):(lt=S0(Fe.type,Fe.key,Fe.props,null,Me.mode,lt),lt.ref=hn(Me,Te,Fe),lt.return=Me,Me=lt)}return re(Me);case I:e:{for(sn=Fe.key;Te!==null;){if(Te.key===sn)if(Te.tag===4&&Te.stateNode.containerInfo===Fe.containerInfo&&Te.stateNode.implementation===Fe.implementation){v(Me,Te.sibling),Te=L(Te,Fe.children||[]),Te.return=Me,Me=Te;break e}else{v(Me,Te);break}else f(Me,Te);Te=Te.sibling}Te=Hb(Fe,Me.mode,lt),Te.return=Me,Me=Te}return re(Me);case X:return sn=Fe._init,bi(Me,Te,sn(Fe._payload),lt)}if(Nt(Fe))return qt(Me,Te,Fe,lt);if(Y(Fe))return Kt(Me,Te,Fe,lt);On(Me,Fe)}return typeof Fe=="string"&&Fe!==""||typeof Fe=="number"?(Fe=""+Fe,Te!==null&&Te.tag===6?(v(Me,Te.sibling),Te=L(Te,Fe),Te.return=Me,Me=Te):(v(Me,Te),Te=Ub(Fe,Me.mode,lt),Te.return=Me,Me=Te),re(Me)):v(Me,Te)}return bi}var li=Ni(!0),zr=Ni(!1),yi=ko(null),Ai=null,Dr=null,Rn=null;function Gn(){Rn=Dr=Ai=null}function Lr(u){var f=yi.current;er(yi),u._currentValue=f}function Kn(u,f,v){for(;u!==null;){var S=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,S!==null&&(S.childLanes|=f)):S!==null&&(S.childLanes&f)!==f&&(S.childLanes|=f),u===v)break;u=u.return}}function Wr(u,f){Ai=u,Rn=Dr=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&f)!==0&&(oo=!0),u.firstContext=null)}function Vr(u){var f=u._currentValue;if(Rn!==u)if(u={context:u,memoizedValue:f,next:null},Dr===null){if(Ai===null)throw Error(n(308));Dr=u,Ai.dependencies={lanes:0,firstContext:u}}else Dr=Dr.next=u;return f}var ur=null;function Wi(u){ur===null?ur=[u]:ur.push(u)}function ar(u,f,v,S){var L=f.interleaved;return L===null?(v.next=v,Wi(f)):(v.next=L.next,L.next=v),f.interleaved=v,dr(u,S)}function dr(u,f){u.lanes|=f;var v=u.alternate;for(v!==null&&(v.lanes|=f),v=u,u=u.return;u!==null;)u.childLanes|=f,v=u.alternate,v!==null&&(v.childLanes|=f),v=u,u=u.return;return v.tag===3?v.stateNode:null}var ci=!1;function Ii(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ba(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function ei(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function ti(u,f,v){var S=u.updateQueue;if(S===null)return null;if(S=S.shared,(Yn&2)!==0){var L=S.pending;return L===null?f.next=f:(f.next=L.next,L.next=f),S.pending=f,dr(u,v)}return L=S.interleaved,L===null?(f.next=f,Wi(S)):(f.next=L.next,L.next=f),S.interleaved=f,dr(u,v)}function Vi(u,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194240)!==0)){var S=f.lanes;S&=u.pendingLanes,v|=S,f.lanes=v,Au(u,v)}}function fr(u,f){var v=u.updateQueue,S=u.alternate;if(S!==null&&(S=S.updateQueue,v===S)){var L=null,q=null;if(v=v.firstBaseUpdate,v!==null){do{var re={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};q===null?L=q=re:q=q.next=re,v=v.next}while(v!==null);q===null?L=q=f:q=q.next=f}else L=q=f;v={baseState:S.baseState,firstBaseUpdate:L,lastBaseUpdate:q,shared:S.shared,effects:S.effects},u.updateQueue=v;return}u=v.lastBaseUpdate,u===null?v.firstBaseUpdate=f:u.next=f,v.lastBaseUpdate=f}function Gi(u,f,v,S){var L=u.updateQueue;ci=!1;var q=L.firstBaseUpdate,re=L.lastBaseUpdate,ye=L.shared.pending;if(ye!==null){L.shared.pending=null;var Ce=ye,qe=Ce.next;Ce.next=null,re===null?q=qe:re.next=qe,re=Ce;var rt=u.alternate;rt!==null&&(rt=rt.updateQueue,ye=rt.lastBaseUpdate,ye!==re&&(ye===null?rt.firstBaseUpdate=qe:ye.next=qe,rt.lastBaseUpdate=Ce))}if(q!==null){var it=L.baseState;re=0,rt=qe=Ce=null,ye=q;do{var nt=ye.lane,kt=ye.eventTime;if((S&nt)===nt){rt!==null&&(rt=rt.next={eventTime:kt,lane:0,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null});e:{var qt=u,Kt=ye;switch(nt=f,kt=v,Kt.tag){case 1:if(qt=Kt.payload,typeof qt=="function"){it=qt.call(kt,it,nt);break e}it=qt;break e;case 3:qt.flags=qt.flags&-65537|128;case 0:if(qt=Kt.payload,nt=typeof qt=="function"?qt.call(kt,it,nt):qt,nt==null)break e;it=ne({},it,nt);break e;case 2:ci=!0}}ye.callback!==null&&ye.lane!==0&&(u.flags|=64,nt=L.effects,nt===null?L.effects=[ye]:nt.push(ye))}else kt={eventTime:kt,lane:nt,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},rt===null?(qe=rt=kt,Ce=it):rt=rt.next=kt,re|=nt;if(ye=ye.next,ye===null){if(ye=L.shared.pending,ye===null)break;nt=ye,ye=nt.next,nt.next=null,L.lastBaseUpdate=nt,L.shared.pending=null}}while(!0);if(rt===null&&(Ce=it),L.baseState=Ce,L.firstBaseUpdate=qe,L.lastBaseUpdate=rt,f=L.shared.interleaved,f!==null){L=f;do re|=L.lane,L=L.next;while(L!==f)}else q===null&&(L.shared.lanes=0);yf|=re,u.lanes=re,u.memoizedState=it}}function ao(u,f,v){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var S=u[f],L=S.callback;if(L!==null){if(S.callback=null,S=v,typeof L!="function")throw Error(n(191,L));L.call(S)}}}var Oo={},Ci=ko(Oo),ni=ko(Oo),kl=ko(Oo);function Bs(u){if(u===Oo)throw Error(n(174));return u}function Vu(u,f){switch(ir(kl,f),ir(ni,u),ir(Ci,Oo),u=f.nodeType,u){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:vt(null,"");break;default:u=u===8?f.parentNode:f,f=u.namespaceURI||null,u=u.tagName,f=vt(f,u)}er(Ci),ir(Ci,f)}function ls(){er(Ci),er(ni),er(kl)}function a0(u){Bs(kl.current);var f=Bs(Ci.current),v=vt(f,u.type);f!==v&&(ir(ni,u),ir(Ci,v))}function Xm(u){ni.current===u&&(er(Ci),er(ni))}var Ar=ko(0);function To(u){for(var f=u;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Qm=[];function Jm(){for(var u=0;u<Qm.length;u++)Qm[u]._workInProgressVersionPrimary=null;Qm.length=0}var Bh=P.ReactCurrentDispatcher,Uh=P.ReactCurrentBatchConfig,cs=0,Ir=null,ui=null,ri=null,Gu=!1,Us=!1,Ku=0,mb=0;function xi(){throw Error(n(321))}function Hh(u,f){if(f===null)return!1;for(var v=0;v<f.length&&v<u.length;v++)if(!Br(u[v],f[v]))return!1;return!0}function mf(u,f,v,S,L,q){if(cs=q,Ir=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Bh.current=u===null||u.memoizedState===null?HB:WB,u=v(S,L),Us){q=0;do{if(Us=!1,Ku=0,25<=q)throw Error(n(301));q+=1,ri=ui=null,f.updateQueue=null,Bh.current=VB,u=v(S,L)}while(Us)}if(Bh.current=u0,f=ui!==null&&ui.next!==null,cs=0,ri=ui=Ir=null,Gu=!1,f)throw Error(n(300));return u}function us(){var u=Ku!==0;return Ku=0,u}function Do(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ri===null?Ir.memoizedState=ri=u:ri=ri.next=u,ri}function Fa(){if(ui===null){var u=Ir.alternate;u=u!==null?u.memoizedState:null}else u=ui.next;var f=ri===null?Ir.memoizedState:ri.next;if(f!==null)ri=f,ui=u;else{if(u===null)throw Error(n(310));ui=u,u={memoizedState:ui.memoizedState,baseState:ui.baseState,baseQueue:ui.baseQueue,queue:ui.queue,next:null},ri===null?Ir.memoizedState=ri=u:ri=ri.next=u}return ri}function gf(u,f){return typeof f=="function"?f(u):f}function Wh(u){var f=Fa(),v=f.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=u;var S=ui,L=S.baseQueue,q=v.pending;if(q!==null){if(L!==null){var re=L.next;L.next=q.next,q.next=re}S.baseQueue=L=q,v.pending=null}if(L!==null){q=L.next,S=S.baseState;var ye=re=null,Ce=null,qe=q;do{var rt=qe.lane;if((cs&rt)===rt)Ce!==null&&(Ce=Ce.next={lane:0,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null}),S=qe.hasEagerState?qe.eagerState:u(S,qe.action);else{var it={lane:rt,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null};Ce===null?(ye=Ce=it,re=S):Ce=Ce.next=it,Ir.lanes|=rt,yf|=rt}qe=qe.next}while(qe!==null&&qe!==q);Ce===null?re=S:Ce.next=ye,Br(S,f.memoizedState)||(oo=!0),f.memoizedState=S,f.baseState=re,f.baseQueue=Ce,v.lastRenderedState=S}if(u=v.interleaved,u!==null){L=u;do q=L.lane,Ir.lanes|=q,yf|=q,L=L.next;while(L!==u)}else L===null&&(v.lanes=0);return[f.memoizedState,v.dispatch]}function Ol(u){var f=Fa(),v=f.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=u;var S=v.dispatch,L=v.pending,q=f.memoizedState;if(L!==null){v.pending=null;var re=L=L.next;do q=u(q,re.action),re=re.next;while(re!==L);Br(q,f.memoizedState)||(oo=!0),f.memoizedState=q,f.baseQueue===null&&(f.baseState=q),v.lastRenderedState=q}return[q,S]}function o0(){}function Zm(u,f){var v=Ir,S=Fa(),L=f(),q=!Br(S.memoizedState,L);if(q&&(S.memoizedState=L,oo=!0),S=S.queue,Kh(l0.bind(null,v,S,u),[u]),S.getSnapshot!==f||q||ri!==null&&ri.memoizedState.tag&1){if(v.flags|=2048,$a(9,eg.bind(null,v,S,L,f),void 0,null),Ki===null)throw Error(n(349));(cs&30)!==0||s0(v,f,L)}return L}function s0(u,f,v){u.flags|=16384,u={getSnapshot:f,value:v},f=Ir.updateQueue,f===null?(f={lastEffect:null,stores:null},Ir.updateQueue=f,f.stores=[u]):(v=f.stores,v===null?f.stores=[u]:v.push(u))}function eg(u,f,v,S){f.value=v,f.getSnapshot=S,Yu(f)&&Vh(u)}function l0(u,f,v){return v(function(){Yu(f)&&Vh(u)})}function Yu(u){var f=u.getSnapshot;u=u.value;try{var v=f();return!Br(u,v)}catch{return!0}}function Vh(u){var f=dr(u,1);f!==null&&Ks(f,u,1,-1)}function vf(u){var f=Do();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gf,lastRenderedState:u},f.queue=u,u=u.dispatch=UB.bind(null,Ir,u),[f.memoizedState,u]}function $a(u,f,v,S){return u={tag:u,create:f,destroy:v,deps:S,next:null},f=Ir.updateQueue,f===null?(f={lastEffect:null,stores:null},Ir.updateQueue=f,f.lastEffect=u.next=u):(v=f.lastEffect,v===null?f.lastEffect=u.next=u:(S=v.next,v.next=u,u.next=S,f.lastEffect=u)),u}function Hs(){return Fa().memoizedState}function Lo(u,f,v,S){var L=Do();Ir.flags|=u,L.memoizedState=$a(1|f,v,void 0,S===void 0?null:S)}function Mc(u,f,v,S){var L=Fa();S=S===void 0?null:S;var q=void 0;if(ui!==null){var re=ui.memoizedState;if(q=re.destroy,S!==null&&Hh(S,re.deps)){L.memoizedState=$a(f,v,q,S);return}}Ir.flags|=u,L.memoizedState=$a(1|f,v,q,S)}function Gh(u,f){return Lo(8390656,8,u,f)}function Kh(u,f){return Mc(2048,8,u,f)}function c0(u,f){return Mc(4,2,u,f)}function Yh(u,f){return Mc(4,4,u,f)}function Xh(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function E3(u,f,v){return v=v!=null?v.concat([u]):null,Mc(4,4,Xh.bind(null,f,u),v)}function gb(){}function k3(u,f){var v=Fa();f=f===void 0?null:f;var S=v.memoizedState;return S!==null&&f!==null&&Hh(f,S[1])?S[0]:(v.memoizedState=[u,f],u)}function O3(u,f){var v=Fa();f=f===void 0?null:f;var S=v.memoizedState;return S!==null&&f!==null&&Hh(f,S[1])?S[0]:(u=u(),v.memoizedState=[u,f],u)}function T3(u,f,v){return(cs&21)===0?(u.baseState&&(u.baseState=!1,oo=!0),u.memoizedState=v):(Br(v,f)||(v=Kd(),Ir.lanes|=v,yf|=v,u.baseState=!0),f)}function qB(u,f){var v=Hn;Hn=v!==0&&4>v?v:4,u(!0);var S=Uh.transition;Uh.transition={};try{u(!1),f()}finally{Hn=v,Uh.transition=S}}function D3(){return Fa().memoizedState}function BB(u,f,v){var S=Zu(u);if(v={lane:S,action:v,hasEagerState:!1,eagerState:null,next:null},L3(u))I3(f,v);else if(v=ar(u,f,v,S),v!==null){var L=Ba();Ks(v,u,S,L),R3(v,f,S)}}function UB(u,f,v){var S=Zu(u),L={lane:S,action:v,hasEagerState:!1,eagerState:null,next:null};if(L3(u))I3(f,L);else{var q=u.alternate;if(u.lanes===0&&(q===null||q.lanes===0)&&(q=f.lastRenderedReducer,q!==null))try{var re=f.lastRenderedState,ye=q(re,v);if(L.hasEagerState=!0,L.eagerState=ye,Br(ye,re)){var Ce=f.interleaved;Ce===null?(L.next=L,Wi(f)):(L.next=Ce.next,Ce.next=L),f.interleaved=L;return}}catch{}finally{}v=ar(u,f,L,S),v!==null&&(L=Ba(),Ks(v,u,S,L),R3(v,f,S))}}function L3(u){var f=u.alternate;return u===Ir||f!==null&&f===Ir}function I3(u,f){Us=Gu=!0;var v=u.pending;v===null?f.next=f:(f.next=v.next,v.next=f),u.pending=f}function R3(u,f,v){if((v&4194240)!==0){var S=f.lanes;S&=u.pendingLanes,v|=S,f.lanes=v,Au(u,v)}}var u0={readContext:Vr,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useInsertionEffect:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useMutableSource:xi,useSyncExternalStore:xi,useId:xi,unstable_isNewReconciler:!1},HB={readContext:Vr,useCallback:function(u,f){return Do().memoizedState=[u,f===void 0?null:f],u},useContext:Vr,useEffect:Gh,useImperativeHandle:function(u,f,v){return v=v!=null?v.concat([u]):null,Lo(4194308,4,Xh.bind(null,f,u),v)},useLayoutEffect:function(u,f){return Lo(4194308,4,u,f)},useInsertionEffect:function(u,f){return Lo(4,2,u,f)},useMemo:function(u,f){var v=Do();return f=f===void 0?null:f,u=u(),v.memoizedState=[u,f],u},useReducer:function(u,f,v){var S=Do();return f=v!==void 0?v(f):f,S.memoizedState=S.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},S.queue=u,u=u.dispatch=BB.bind(null,Ir,u),[S.memoizedState,u]},useRef:function(u){var f=Do();return u={current:u},f.memoizedState=u},useState:vf,useDebugValue:gb,useDeferredValue:function(u){return Do().memoizedState=u},useTransition:function(){var u=vf(!1),f=u[0];return u=qB.bind(null,u[1]),Do().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,v){var S=Ir,L=Do();if(Qe){if(v===void 0)throw Error(n(407));v=v()}else{if(v=f(),Ki===null)throw Error(n(349));(cs&30)!==0||s0(S,f,v)}L.memoizedState=v;var q={value:v,getSnapshot:f};return L.queue=q,Gh(l0.bind(null,S,q,u),[u]),S.flags|=2048,$a(9,eg.bind(null,S,q,v,f),void 0,null),v},useId:function(){var u=Do(),f=Ki.identifierPrefix;if(Qe){var v=me,S=Re;v=(S&~(1<<32-ii(S)-1)).toString(32)+v,f=":"+f+"R"+v,v=Ku++,0<v&&(f+="H"+v.toString(32)),f+=":"}else v=mb++,f=":"+f+"r"+v.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},WB={readContext:Vr,useCallback:k3,useContext:Vr,useEffect:Kh,useImperativeHandle:E3,useInsertionEffect:c0,useLayoutEffect:Yh,useMemo:O3,useReducer:Wh,useRef:Hs,useState:function(){return Wh(gf)},useDebugValue:gb,useDeferredValue:function(u){var f=Fa();return T3(f,ui.memoizedState,u)},useTransition:function(){var u=Wh(gf)[0],f=Fa().memoizedState;return[u,f]},useMutableSource:o0,useSyncExternalStore:Zm,useId:D3,unstable_isNewReconciler:!1},VB={readContext:Vr,useCallback:k3,useContext:Vr,useEffect:Kh,useImperativeHandle:E3,useInsertionEffect:c0,useLayoutEffect:Yh,useMemo:O3,useReducer:Ol,useRef:Hs,useState:function(){return Ol(gf)},useDebugValue:gb,useDeferredValue:function(u){var f=Fa();return ui===null?f.memoizedState=u:T3(f,ui.memoizedState,u)},useTransition:function(){var u=Ol(gf)[0],f=Fa().memoizedState;return[u,f]},useMutableSource:o0,useSyncExternalStore:Zm,useId:D3,unstable_isNewReconciler:!1};function Ws(u,f){if(u&&u.defaultProps){f=ne({},f),u=u.defaultProps;for(var v in u)f[v]===void 0&&(f[v]=u[v]);return f}return f}function vb(u,f,v,S){f=u.memoizedState,v=v(S,f),v=v==null?f:ne({},f,v),u.memoizedState=v,u.lanes===0&&(u.updateQueue.baseState=v)}var d0={isMounted:function(u){return(u=u._reactInternals)?Oi(u)===u:!1},enqueueSetState:function(u,f,v){u=u._reactInternals;var S=Ba(),L=Zu(u),q=ei(S,L);q.payload=f,v!=null&&(q.callback=v),f=ti(u,q,L),f!==null&&(Ks(f,u,L,S),Vi(f,u,L))},enqueueReplaceState:function(u,f,v){u=u._reactInternals;var S=Ba(),L=Zu(u),q=ei(S,L);q.tag=1,q.payload=f,v!=null&&(q.callback=v),f=ti(u,q,L),f!==null&&(Ks(f,u,L,S),Vi(f,u,L))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var v=Ba(),S=Zu(u),L=ei(v,S);L.tag=2,f!=null&&(L.callback=f),f=ti(u,L,S),f!==null&&(Ks(f,u,S,v),Vi(f,u,S))}};function M3(u,f,v,S,L,q,re){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(S,q,re):f.prototype&&f.prototype.isPureReactComponent?!ma(v,S)||!ma(L,q):!0}function z3(u,f,v){var S=!1,L=El,q=f.contextType;return typeof q=="object"&&q!==null?q=Vr(q):(L=xa(f)?Ic:Li.current,S=f.contextTypes,q=(S=S!=null)?Wu(u,L):El),f=new f(v,q),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=d0,u.stateNode=f,f._reactInternals=u,S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=L,u.__reactInternalMemoizedMaskedChildContext=q),f}function F3(u,f,v,S){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,S),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,S),f.state!==u&&d0.enqueueReplaceState(f,f.state,null)}function yb(u,f,v,S){var L=u.stateNode;L.props=v,L.state=u.memoizedState,L.refs={},Ii(u);var q=f.contextType;typeof q=="object"&&q!==null?L.context=Vr(q):(q=xa(f)?Ic:Li.current,L.context=Wu(u,q)),L.state=u.memoizedState,q=f.getDerivedStateFromProps,typeof q=="function"&&(vb(u,f,q,v),L.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(f=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),f!==L.state&&d0.enqueueReplaceState(L,L.state,null),Gi(u,v,L,S),L.state=u.memoizedState),typeof L.componentDidMount=="function"&&(u.flags|=4194308)}function Qh(u,f){try{var v="",S=f;do v+=Z(S),S=S.return;while(S);var L=v}catch(q){L=`
Error generating stack: `+q.message+`
`+q.stack}return{value:u,source:f,stack:L,digest:null}}function xb(u,f,v){return{value:u,source:null,stack:v??null,digest:f??null}}function bb(u,f){try{console.error(f.value)}catch(v){setTimeout(function(){throw v})}}var GB=typeof WeakMap=="function"?WeakMap:Map;function $3(u,f,v){v=ei(-1,v),v.tag=3,v.payload={element:null};var S=f.value;return v.callback=function(){y0||(y0=!0,Ib=S),bb(u,f)},v}function q3(u,f,v){v=ei(-1,v),v.tag=3;var S=u.type.getDerivedStateFromError;if(typeof S=="function"){var L=f.value;v.payload=function(){return S(L)},v.callback=function(){bb(u,f)}}var q=u.stateNode;return q!==null&&typeof q.componentDidCatch=="function"&&(v.callback=function(){bb(u,f),typeof S!="function"&&(Qu===null?Qu=new Set([this]):Qu.add(this));var re=f.stack;this.componentDidCatch(f.value,{componentStack:re!==null?re:""})}),v}function B3(u,f,v){var S=u.pingCache;if(S===null){S=u.pingCache=new GB;var L=new Set;S.set(f,L)}else L=S.get(f),L===void 0&&(L=new Set,S.set(f,L));L.has(v)||(L.add(v),u=sU.bind(null,u,f,v),f.then(u,u))}function U3(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function H3(u,f,v,S,L){return(u.mode&1)===0?(u===f?u.flags|=65536:(u.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(f=ei(-1,1),f.tag=2,ti(v,f,1))),v.lanes|=1),u):(u.flags|=65536,u.lanes=L,u)}var KB=P.ReactCurrentOwner,oo=!1;function qa(u,f,v,S){f.child=u===null?zr(f,null,v,S):li(f,u.child,v,S)}function W3(u,f,v,S,L){v=v.render;var q=f.ref;return Wr(f,L),S=mf(u,f,v,S,q,L),v=us(),u!==null&&!oo?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~L,zc(u,f,L)):(Qe&&v&&Ge(f),f.flags|=1,qa(u,f,S,L),f.child)}function V3(u,f,v,S,L){if(u===null){var q=v.type;return typeof q=="function"&&!Bb(q)&&q.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(f.tag=15,f.type=q,G3(u,f,q,S,L)):(u=S0(v.type,null,S,f,f.mode,L),u.ref=f.ref,u.return=f,f.child=u)}if(q=u.child,(u.lanes&L)===0){var re=q.memoizedProps;if(v=v.compare,v=v!==null?v:ma,v(re,S)&&u.ref===f.ref)return zc(u,f,L)}return f.flags|=1,u=td(q,S),u.ref=f.ref,u.return=f,f.child=u}function G3(u,f,v,S,L){if(u!==null){var q=u.memoizedProps;if(ma(q,S)&&u.ref===f.ref)if(oo=!1,f.pendingProps=S=q,(u.lanes&L)!==0)(u.flags&131072)!==0&&(oo=!0);else return f.lanes=u.lanes,zc(u,f,L)}return wb(u,f,v,S,L)}function K3(u,f,v){var S=f.pendingProps,L=S.children,q=u!==null?u.memoizedState:null;if(S.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null,transitions:null},ir(Zh,Io),Io|=v;else{if((v&1073741824)===0)return u=q!==null?q.baseLanes|v:v,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null,transitions:null},f.updateQueue=null,ir(Zh,Io),Io|=u,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=q!==null?q.baseLanes:v,ir(Zh,Io),Io|=S}else q!==null?(S=q.baseLanes|v,f.memoizedState=null):S=v,ir(Zh,Io),Io|=S;return qa(u,f,L,v),f.child}function Y3(u,f){var v=f.ref;(u===null&&v!==null||u!==null&&u.ref!==v)&&(f.flags|=512,f.flags|=2097152)}function wb(u,f,v,S,L){var q=xa(v)?Ic:Li.current;return q=Wu(f,q),Wr(f,L),v=mf(u,f,v,S,q,L),S=us(),u!==null&&!oo?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~L,zc(u,f,L)):(Qe&&S&&Ge(f),f.flags|=1,qa(u,f,v,L),f.child)}function X3(u,f,v,S,L){if(xa(v)){var q=!0;Rc(f)}else q=!1;if(Wr(f,L),f.stateNode===null)h0(u,f),z3(f,v,S),yb(f,v,S,L),S=!0;else if(u===null){var re=f.stateNode,ye=f.memoizedProps;re.props=ye;var Ce=re.context,qe=v.contextType;typeof qe=="object"&&qe!==null?qe=Vr(qe):(qe=xa(v)?Ic:Li.current,qe=Wu(f,qe));var rt=v.getDerivedStateFromProps,it=typeof rt=="function"||typeof re.getSnapshotBeforeUpdate=="function";it||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(ye!==S||Ce!==qe)&&F3(f,re,S,qe),ci=!1;var nt=f.memoizedState;re.state=nt,Gi(f,S,re,L),Ce=f.memoizedState,ye!==S||nt!==Ce||ya.current||ci?(typeof rt=="function"&&(vb(f,v,rt,S),Ce=f.memoizedState),(ye=ci||M3(f,v,ye,S,nt,Ce,qe))?(it||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(f.flags|=4194308)):(typeof re.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=S,f.memoizedState=Ce),re.props=S,re.state=Ce,re.context=qe,S=ye):(typeof re.componentDidMount=="function"&&(f.flags|=4194308),S=!1)}else{re=f.stateNode,ba(u,f),ye=f.memoizedProps,qe=f.type===f.elementType?ye:Ws(f.type,ye),re.props=qe,it=f.pendingProps,nt=re.context,Ce=v.contextType,typeof Ce=="object"&&Ce!==null?Ce=Vr(Ce):(Ce=xa(v)?Ic:Li.current,Ce=Wu(f,Ce));var kt=v.getDerivedStateFromProps;(rt=typeof kt=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(ye!==it||nt!==Ce)&&F3(f,re,S,Ce),ci=!1,nt=f.memoizedState,re.state=nt,Gi(f,S,re,L);var qt=f.memoizedState;ye!==it||nt!==qt||ya.current||ci?(typeof kt=="function"&&(vb(f,v,kt,S),qt=f.memoizedState),(qe=ci||M3(f,v,qe,S,nt,qt,Ce)||!1)?(rt||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(S,qt,Ce),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(S,qt,Ce)),typeof re.componentDidUpdate=="function"&&(f.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof re.componentDidUpdate!="function"||ye===u.memoizedProps&&nt===u.memoizedState||(f.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||ye===u.memoizedProps&&nt===u.memoizedState||(f.flags|=1024),f.memoizedProps=S,f.memoizedState=qt),re.props=S,re.state=qt,re.context=Ce,S=qe):(typeof re.componentDidUpdate!="function"||ye===u.memoizedProps&&nt===u.memoizedState||(f.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||ye===u.memoizedProps&&nt===u.memoizedState||(f.flags|=1024),S=!1)}return _b(u,f,v,S,q,L)}function _b(u,f,v,S,L,q){Y3(u,f);var re=(f.flags&128)!==0;if(!S&&!re)return L&&i0(f,v,!1),zc(u,f,q);S=f.stateNode,KB.current=f;var ye=re&&typeof v.getDerivedStateFromError!="function"?null:S.render();return f.flags|=1,u!==null&&re?(f.child=li(f,u.child,null,q),f.child=li(f,null,ye,q)):qa(u,f,ye,q),f.memoizedState=S.state,L&&i0(f,v,!0),f.child}function Q3(u){var f=u.stateNode;f.pendingContext?r0(u,f.pendingContext,f.pendingContext!==f.context):f.context&&r0(u,f.context,!1),Vu(u,f.containerInfo)}function J3(u,f,v,S,L){return Dt(),ht(L),f.flags|=256,qa(u,f,v,S),f.child}var jb={dehydrated:null,treeContext:null,retryLane:0};function Sb(u){return{baseLanes:u,cachePool:null,transitions:null}}function Z3(u,f,v){var S=f.pendingProps,L=Ar.current,q=!1,re=(f.flags&128)!==0,ye;if((ye=re)||(ye=u!==null&&u.memoizedState===null?!1:(L&2)!==0),ye?(q=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(L|=1),ir(Ar,L&1),u===null)return Ft(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((f.mode&1)===0?f.lanes=1:u.data==="$!"?f.lanes=8:f.lanes=1073741824,null):(re=S.children,u=S.fallback,q?(S=f.mode,q=f.child,re={mode:"hidden",children:re},(S&1)===0&&q!==null?(q.childLanes=0,q.pendingProps=re):q=N0(re,S,0,null),u=_f(u,S,v,null),q.return=f,u.return=f,q.sibling=u,f.child=q,f.child.memoizedState=Sb(v),f.memoizedState=jb,u):Nb(f,re));if(L=u.memoizedState,L!==null&&(ye=L.dehydrated,ye!==null))return YB(u,f,re,S,ye,L,v);if(q){q=S.fallback,re=f.mode,L=u.child,ye=L.sibling;var Ce={mode:"hidden",children:S.children};return(re&1)===0&&f.child!==L?(S=f.child,S.childLanes=0,S.pendingProps=Ce,f.deletions=null):(S=td(L,Ce),S.subtreeFlags=L.subtreeFlags&14680064),ye!==null?q=td(ye,q):(q=_f(q,re,v,null),q.flags|=2),q.return=f,S.return=f,S.sibling=q,f.child=S,S=q,q=f.child,re=u.child.memoizedState,re=re===null?Sb(v):{baseLanes:re.baseLanes|v,cachePool:null,transitions:re.transitions},q.memoizedState=re,q.childLanes=u.childLanes&~v,f.memoizedState=jb,S}return q=u.child,u=q.sibling,S=td(q,{mode:"visible",children:S.children}),(f.mode&1)===0&&(S.lanes=v),S.return=f,S.sibling=null,u!==null&&(v=f.deletions,v===null?(f.deletions=[u],f.flags|=16):v.push(u)),f.child=S,f.memoizedState=null,S}function Nb(u,f){return f=N0({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function f0(u,f,v,S){return S!==null&&ht(S),li(f,u.child,null,v),u=Nb(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function YB(u,f,v,S,L,q,re){if(v)return f.flags&256?(f.flags&=-257,S=xb(Error(n(422))),f0(u,f,re,S)):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(q=S.fallback,L=f.mode,S=N0({mode:"visible",children:S.children},L,0,null),q=_f(q,L,re,null),q.flags|=2,S.return=f,q.return=f,S.sibling=q,f.child=S,(f.mode&1)!==0&&li(f,u.child,null,re),f.child.memoizedState=Sb(re),f.memoizedState=jb,q);if((f.mode&1)===0)return f0(u,f,re,null);if(L.data==="$!"){if(S=L.nextSibling&&L.nextSibling.dataset,S)var ye=S.dgst;return S=ye,q=Error(n(419)),S=xb(q,S,void 0),f0(u,f,re,S)}if(ye=(re&u.childLanes)!==0,oo||ye){if(S=Ki,S!==null){switch(re&-re){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}L=(L&(S.suspendedLanes|re))!==0?0:L,L!==0&&L!==q.retryLane&&(q.retryLane=L,dr(u,L),Ks(S,u,L,-1))}return qb(),S=xb(Error(n(421))),f0(u,f,re,S)}return L.data==="$?"?(f.flags|=128,f.child=u.child,f=lU.bind(null,u),L._reactRetry=f,null):(u=q.treeContext,Ve=oa(L.nextSibling),Ue=f,Qe=!0,Je=null,u!==null&&(ue[he++]=Re,ue[he++]=me,ue[he++]=Ae,Re=u.id,me=u.overflow,Ae=f),f=Nb(f,S.children),f.flags|=4096,f)}function eC(u,f,v){u.lanes|=f;var S=u.alternate;S!==null&&(S.lanes|=f),Kn(u.return,f,v)}function Ab(u,f,v,S,L){var q=u.memoizedState;q===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:S,tail:v,tailMode:L}:(q.isBackwards=f,q.rendering=null,q.renderingStartTime=0,q.last=S,q.tail=v,q.tailMode=L)}function tC(u,f,v){var S=f.pendingProps,L=S.revealOrder,q=S.tail;if(qa(u,f,S.children,v),S=Ar.current,(S&2)!==0)S=S&1|2,f.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&eC(u,v,f);else if(u.tag===19)eC(u,v,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}S&=1}if(ir(Ar,S),(f.mode&1)===0)f.memoizedState=null;else switch(L){case"forwards":for(v=f.child,L=null;v!==null;)u=v.alternate,u!==null&&To(u)===null&&(L=v),v=v.sibling;v=L,v===null?(L=f.child,f.child=null):(L=v.sibling,v.sibling=null),Ab(f,!1,L,v,q);break;case"backwards":for(v=null,L=f.child,f.child=null;L!==null;){if(u=L.alternate,u!==null&&To(u)===null){f.child=L;break}u=L.sibling,L.sibling=v,v=L,L=u}Ab(f,!0,v,null,q);break;case"together":Ab(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function h0(u,f){(f.mode&1)===0&&u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2)}function zc(u,f,v){if(u!==null&&(f.dependencies=u.dependencies),yf|=f.lanes,(v&f.childLanes)===0)return null;if(u!==null&&f.child!==u.child)throw Error(n(153));if(f.child!==null){for(u=f.child,v=td(u,u.pendingProps),f.child=v,v.return=f;u.sibling!==null;)u=u.sibling,v=v.sibling=td(u,u.pendingProps),v.return=f;v.sibling=null}return f.child}function XB(u,f,v){switch(f.tag){case 3:Q3(f),Dt();break;case 5:a0(f);break;case 1:xa(f.type)&&Rc(f);break;case 4:Vu(f,f.stateNode.containerInfo);break;case 10:var S=f.type._context,L=f.memoizedProps.value;ir(yi,S._currentValue),S._currentValue=L;break;case 13:if(S=f.memoizedState,S!==null)return S.dehydrated!==null?(ir(Ar,Ar.current&1),f.flags|=128,null):(v&f.child.childLanes)!==0?Z3(u,f,v):(ir(Ar,Ar.current&1),u=zc(u,f,v),u!==null?u.sibling:null);ir(Ar,Ar.current&1);break;case 19:if(S=(v&f.childLanes)!==0,(u.flags&128)!==0){if(S)return tC(u,f,v);f.flags|=128}if(L=f.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),ir(Ar,Ar.current),S)break;return null;case 22:case 23:return f.lanes=0,K3(u,f,v)}return zc(u,f,v)}var nC,Cb,rC,iC;nC=function(u,f){for(var v=f.child;v!==null;){if(v.tag===5||v.tag===6)u.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===f)break;for(;v.sibling===null;){if(v.return===null||v.return===f)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},Cb=function(){},rC=function(u,f,v,S){var L=u.memoizedProps;if(L!==S){u=f.stateNode,Bs(Ci.current);var q=null;switch(v){case"input":L=He(u,L),S=He(u,S),q=[];break;case"select":L=ne({},L,{value:void 0}),S=ne({},S,{value:void 0}),q=[];break;case"textarea":L=st(u,L),S=st(u,S),q=[];break;default:typeof L.onClick!="function"&&typeof S.onClick=="function"&&(u.onclick=Bu)}Un(v,S);var re;v=null;for(qe in L)if(!S.hasOwnProperty(qe)&&L.hasOwnProperty(qe)&&L[qe]!=null)if(qe==="style"){var ye=L[qe];for(re in ye)ye.hasOwnProperty(re)&&(v||(v={}),v[re]="")}else qe!=="dangerouslySetInnerHTML"&&qe!=="children"&&qe!=="suppressContentEditableWarning"&&qe!=="suppressHydrationWarning"&&qe!=="autoFocus"&&(i.hasOwnProperty(qe)?q||(q=[]):(q=q||[]).push(qe,null));for(qe in S){var Ce=S[qe];if(ye=L!=null?L[qe]:void 0,S.hasOwnProperty(qe)&&Ce!==ye&&(Ce!=null||ye!=null))if(qe==="style")if(ye){for(re in ye)!ye.hasOwnProperty(re)||Ce&&Ce.hasOwnProperty(re)||(v||(v={}),v[re]="");for(re in Ce)Ce.hasOwnProperty(re)&&ye[re]!==Ce[re]&&(v||(v={}),v[re]=Ce[re])}else v||(q||(q=[]),q.push(qe,v)),v=Ce;else qe==="dangerouslySetInnerHTML"?(Ce=Ce?Ce.__html:void 0,ye=ye?ye.__html:void 0,Ce!=null&&ye!==Ce&&(q=q||[]).push(qe,Ce)):qe==="children"?typeof Ce!="string"&&typeof Ce!="number"||(q=q||[]).push(qe,""+Ce):qe!=="suppressContentEditableWarning"&&qe!=="suppressHydrationWarning"&&(i.hasOwnProperty(qe)?(Ce!=null&&qe==="onScroll"&&cr("scroll",u),q||ye===Ce||(q=[])):(q=q||[]).push(qe,Ce))}v&&(q=q||[]).push("style",v);var qe=q;(f.updateQueue=qe)&&(f.flags|=4)}},iC=function(u,f,v,S){v!==S&&(f.flags|=4)};function tg(u,f){if(!Qe)switch(u.tailMode){case"hidden":f=u.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?u.tail=null:v.sibling=null;break;case"collapsed":v=u.tail;for(var S=null;v!==null;)v.alternate!==null&&(S=v),v=v.sibling;S===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:S.sibling=null}}function wa(u){var f=u.alternate!==null&&u.alternate.child===u.child,v=0,S=0;if(f)for(var L=u.child;L!==null;)v|=L.lanes|L.childLanes,S|=L.subtreeFlags&14680064,S|=L.flags&14680064,L.return=u,L=L.sibling;else for(L=u.child;L!==null;)v|=L.lanes|L.childLanes,S|=L.subtreeFlags,S|=L.flags,L.return=u,L=L.sibling;return u.subtreeFlags|=S,u.childLanes=v,f}function QB(u,f,v){var S=f.pendingProps;switch(ze(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wa(f),null;case 1:return xa(f.type)&&qh(),wa(f),null;case 3:return S=f.stateNode,ls(),er(ya),er(Li),Jm(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(u===null||u.child===null)&&(Hr(f)?f.flags|=4:u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Je!==null&&(zb(Je),Je=null))),Cb(u,f),wa(f),null;case 5:Xm(f);var L=Bs(kl.current);if(v=f.type,u!==null&&f.stateNode!=null)rC(u,f,v,S,L),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!S){if(f.stateNode===null)throw Error(n(166));return wa(f),null}if(u=Bs(Ci.current),Hr(f)){S=f.stateNode,v=f.type;var q=f.memoizedProps;switch(S[ss]=f,S[Uu]=q,u=(f.mode&1)!==0,v){case"dialog":cr("cancel",S),cr("close",S);break;case"iframe":case"object":case"embed":cr("load",S);break;case"video":case"audio":for(L=0;L<Cl.length;L++)cr(Cl[L],S);break;case"source":cr("error",S);break;case"img":case"image":case"link":cr("error",S),cr("load",S);break;case"details":cr("toggle",S);break;case"input":le(S,q),cr("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!q.multiple},cr("invalid",S);break;case"textarea":Pe(S,q),cr("invalid",S)}Un(v,q),L=null;for(var re in q)if(q.hasOwnProperty(re)){var ye=q[re];re==="children"?typeof ye=="string"?S.textContent!==ye&&(q.suppressHydrationWarning!==!0&&$h(S.textContent,ye,u),L=["children",ye]):typeof ye=="number"&&S.textContent!==""+ye&&(q.suppressHydrationWarning!==!0&&$h(S.textContent,ye,u),L=["children",""+ye]):i.hasOwnProperty(re)&&ye!=null&&re==="onScroll"&&cr("scroll",S)}switch(v){case"input":Ee(S),xt(S,q,!0);break;case"textarea":Ee(S),_t(S);break;case"select":case"option":break;default:typeof q.onClick=="function"&&(S.onclick=Bu)}S=L,f.updateQueue=S,S!==null&&(f.flags|=4)}else{re=L.nodeType===9?L:L.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=mt(v)),u==="http://www.w3.org/1999/xhtml"?v==="script"?(u=re.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof S.is=="string"?u=re.createElement(v,{is:S.is}):(u=re.createElement(v),v==="select"&&(re=u,S.multiple?re.multiple=!0:S.size&&(re.size=S.size))):u=re.createElementNS(u,v),u[ss]=f,u[Uu]=S,nC(u,f,!1,!1),f.stateNode=u;e:{switch(re=Vt(v,S),v){case"dialog":cr("cancel",u),cr("close",u),L=S;break;case"iframe":case"object":case"embed":cr("load",u),L=S;break;case"video":case"audio":for(L=0;L<Cl.length;L++)cr(Cl[L],u);L=S;break;case"source":cr("error",u),L=S;break;case"img":case"image":case"link":cr("error",u),cr("load",u),L=S;break;case"details":cr("toggle",u),L=S;break;case"input":le(u,S),L=He(u,S),cr("invalid",u);break;case"option":L=S;break;case"select":u._wrapperState={wasMultiple:!!S.multiple},L=ne({},S,{value:void 0}),cr("invalid",u);break;case"textarea":Pe(u,S),L=st(u,S),cr("invalid",u);break;default:L=S}Un(v,L),ye=L;for(q in ye)if(ye.hasOwnProperty(q)){var Ce=ye[q];q==="style"?un(u,Ce):q==="dangerouslySetInnerHTML"?(Ce=Ce?Ce.__html:void 0,Ce!=null&&ut(u,Ce)):q==="children"?typeof Ce=="string"?(v!=="textarea"||Ce!=="")&&St(u,Ce):typeof Ce=="number"&&St(u,""+Ce):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(i.hasOwnProperty(q)?Ce!=null&&q==="onScroll"&&cr("scroll",u):Ce!=null&&C(u,q,Ce,re))}switch(v){case"input":Ee(u),xt(u,S,!1);break;case"textarea":Ee(u),_t(u);break;case"option":S.value!=null&&u.setAttribute("value",""+fe(S.value));break;case"select":u.multiple=!!S.multiple,q=S.value,q!=null?ot(u,!!S.multiple,q,!1):S.defaultValue!=null&&ot(u,!!S.multiple,S.defaultValue,!0);break;default:typeof L.onClick=="function"&&(u.onclick=Bu)}switch(v){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return wa(f),null;case 6:if(u&&f.stateNode!=null)iC(u,f,u.memoizedProps,S);else{if(typeof S!="string"&&f.stateNode===null)throw Error(n(166));if(v=Bs(kl.current),Bs(Ci.current),Hr(f)){if(S=f.stateNode,v=f.memoizedProps,S[ss]=f,(q=S.nodeValue!==v)&&(u=Ue,u!==null))switch(u.tag){case 3:$h(S.nodeValue,v,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&$h(S.nodeValue,v,(u.mode&1)!==0)}q&&(f.flags|=4)}else S=(v.nodeType===9?v:v.ownerDocument).createTextNode(S),S[ss]=f,f.stateNode=S}return wa(f),null;case 13:if(er(Ar),S=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Qe&&Ve!==null&&(f.mode&1)!==0&&(f.flags&128)===0)jn(),Dt(),f.flags|=98560,q=!1;else if(q=Hr(f),S!==null&&S.dehydrated!==null){if(u===null){if(!q)throw Error(n(318));if(q=f.memoizedState,q=q!==null?q.dehydrated:null,!q)throw Error(n(317));q[ss]=f}else Dt(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;wa(f),q=!1}else Je!==null&&(zb(Je),Je=null),q=!0;if(!q)return f.flags&65536?f:null}return(f.flags&128)!==0?(f.lanes=v,f):(S=S!==null,S!==(u!==null&&u.memoizedState!==null)&&S&&(f.child.flags|=8192,(f.mode&1)!==0&&(u===null||(Ar.current&1)!==0?Ri===0&&(Ri=3):qb())),f.updateQueue!==null&&(f.flags|=4),wa(f),null);case 4:return ls(),Cb(u,f),u===null&&Oc(f.stateNode.containerInfo),wa(f),null;case 10:return Lr(f.type._context),wa(f),null;case 17:return xa(f.type)&&qh(),wa(f),null;case 19:if(er(Ar),q=f.memoizedState,q===null)return wa(f),null;if(S=(f.flags&128)!==0,re=q.rendering,re===null)if(S)tg(q,!1);else{if(Ri!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(re=To(u),re!==null){for(f.flags|=128,tg(q,!1),S=re.updateQueue,S!==null&&(f.updateQueue=S,f.flags|=4),f.subtreeFlags=0,S=v,v=f.child;v!==null;)q=v,u=S,q.flags&=14680066,re=q.alternate,re===null?(q.childLanes=0,q.lanes=u,q.child=null,q.subtreeFlags=0,q.memoizedProps=null,q.memoizedState=null,q.updateQueue=null,q.dependencies=null,q.stateNode=null):(q.childLanes=re.childLanes,q.lanes=re.lanes,q.child=re.child,q.subtreeFlags=0,q.deletions=null,q.memoizedProps=re.memoizedProps,q.memoizedState=re.memoizedState,q.updateQueue=re.updateQueue,q.type=re.type,u=re.dependencies,q.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),v=v.sibling;return ir(Ar,Ar.current&1|2),f.child}u=u.sibling}q.tail!==null&&Nr()>ep&&(f.flags|=128,S=!0,tg(q,!1),f.lanes=4194304)}else{if(!S)if(u=To(re),u!==null){if(f.flags|=128,S=!0,v=u.updateQueue,v!==null&&(f.updateQueue=v,f.flags|=4),tg(q,!0),q.tail===null&&q.tailMode==="hidden"&&!re.alternate&&!Qe)return wa(f),null}else 2*Nr()-q.renderingStartTime>ep&&v!==1073741824&&(f.flags|=128,S=!0,tg(q,!1),f.lanes=4194304);q.isBackwards?(re.sibling=f.child,f.child=re):(v=q.last,v!==null?v.sibling=re:f.child=re,q.last=re)}return q.tail!==null?(f=q.tail,q.rendering=f,q.tail=f.sibling,q.renderingStartTime=Nr(),f.sibling=null,v=Ar.current,ir(Ar,S?v&1|2:v&1),f):(wa(f),null);case 22:case 23:return $b(),S=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==S&&(f.flags|=8192),S&&(f.mode&1)!==0?(Io&1073741824)!==0&&(wa(f),f.subtreeFlags&6&&(f.flags|=8192)):wa(f),null;case 24:return null;case 25:return null}throw Error(n(156,f.tag))}function JB(u,f){switch(ze(f),f.tag){case 1:return xa(f.type)&&qh(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return ls(),er(ya),er(Li),Jm(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 5:return Xm(f),null;case 13:if(er(Ar),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(n(340));Dt()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return er(Ar),null;case 4:return ls(),null;case 10:return Lr(f.type._context),null;case 22:case 23:return $b(),null;case 24:return null;default:return null}}var p0=!1,_a=!1,ZB=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function Jh(u,f){var v=u.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(S){di(u,f,S)}else v.current=null}function Pb(u,f,v){try{v()}catch(S){di(u,f,S)}}var aC=!1;function eU(u,f){if(ff=ku,u=si(),Eo(u)){if("selectionStart"in u)var v={start:u.selectionStart,end:u.selectionEnd};else e:{v=(v=u.ownerDocument)&&v.defaultView||window;var S=v.getSelection&&v.getSelection();if(S&&S.rangeCount!==0){v=S.anchorNode;var L=S.anchorOffset,q=S.focusNode;S=S.focusOffset;try{v.nodeType,q.nodeType}catch{v=null;break e}var re=0,ye=-1,Ce=-1,qe=0,rt=0,it=u,nt=null;t:for(;;){for(var kt;it!==v||L!==0&&it.nodeType!==3||(ye=re+L),it!==q||S!==0&&it.nodeType!==3||(Ce=re+S),it.nodeType===3&&(re+=it.nodeValue.length),(kt=it.firstChild)!==null;)nt=it,it=kt;for(;;){if(it===u)break t;if(nt===v&&++qe===L&&(ye=re),nt===q&&++rt===S&&(Ce=re),(kt=it.nextSibling)!==null)break;it=nt,nt=it.parentNode}it=kt}v=ye===-1||Ce===-1?null:{start:ye,end:Ce}}else v=null}v=v||{start:0,end:0}}else v=null;for(Dc={focusedElem:u,selectionRange:v},ku=!1,Rt=f;Rt!==null;)if(f=Rt,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,Rt=u;else for(;Rt!==null;){f=Rt;try{var qt=f.alternate;if((f.flags&1024)!==0)switch(f.tag){case 0:case 11:case 15:break;case 1:if(qt!==null){var Kt=qt.memoizedProps,bi=qt.memoizedState,Me=f.stateNode,Te=Me.getSnapshotBeforeUpdate(f.elementType===f.type?Kt:Ws(f.type,Kt),bi);Me.__reactInternalSnapshotBeforeUpdate=Te}break;case 3:var Fe=f.stateNode.containerInfo;Fe.nodeType===1?Fe.textContent="":Fe.nodeType===9&&Fe.documentElement&&Fe.removeChild(Fe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(lt){di(f,f.return,lt)}if(u=f.sibling,u!==null){u.return=f.return,Rt=u;break}Rt=f.return}return qt=aC,aC=!1,qt}function ng(u,f,v){var S=f.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var L=S=S.next;do{if((L.tag&u)===u){var q=L.destroy;L.destroy=void 0,q!==void 0&&Pb(f,v,q)}L=L.next}while(L!==S)}}function m0(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var v=f=f.next;do{if((v.tag&u)===u){var S=v.create;v.destroy=S()}v=v.next}while(v!==f)}}function Eb(u){var f=u.ref;if(f!==null){var v=u.stateNode;switch(u.tag){case 5:u=v;break;default:u=v}typeof f=="function"?f(u):f.current=u}}function oC(u){var f=u.alternate;f!==null&&(u.alternate=null,oC(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&(delete f[ss],delete f[Uu],delete f[va],delete f[hb],delete f[pb])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function sC(u){return u.tag===5||u.tag===3||u.tag===4}function lC(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||sC(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function kb(u,f,v){var S=u.tag;if(S===5||S===6)u=u.stateNode,f?v.nodeType===8?v.parentNode.insertBefore(u,f):v.insertBefore(u,f):(v.nodeType===8?(f=v.parentNode,f.insertBefore(u,v)):(f=v,f.appendChild(u)),v=v._reactRootContainer,v!=null||f.onclick!==null||(f.onclick=Bu));else if(S!==4&&(u=u.child,u!==null))for(kb(u,f,v),u=u.sibling;u!==null;)kb(u,f,v),u=u.sibling}function Ob(u,f,v){var S=u.tag;if(S===5||S===6)u=u.stateNode,f?v.insertBefore(u,f):v.appendChild(u);else if(S!==4&&(u=u.child,u!==null))for(Ob(u,f,v),u=u.sibling;u!==null;)Ob(u,f,v),u=u.sibling}var sa=null,Vs=!1;function Xu(u,f,v){for(v=v.child;v!==null;)cC(u,f,v),v=v.sibling}function cC(u,f,v){if(Da&&typeof Da.onCommitFiberUnmount=="function")try{Da.onCommitFiberUnmount(cc,v)}catch{}switch(v.tag){case 5:_a||Jh(v,f);case 6:var S=sa,L=Vs;sa=null,Xu(u,f,v),sa=S,Vs=L,sa!==null&&(Vs?(u=sa,v=v.stateNode,u.nodeType===8?u.parentNode.removeChild(v):u.removeChild(v)):sa.removeChild(v.stateNode));break;case 18:sa!==null&&(Vs?(u=sa,v=v.stateNode,u.nodeType===8?Gm(u.parentNode,v):u.nodeType===1&&Gm(u,v),gc(u)):Gm(sa,v.stateNode));break;case 4:S=sa,L=Vs,sa=v.stateNode.containerInfo,Vs=!0,Xu(u,f,v),sa=S,Vs=L;break;case 0:case 11:case 14:case 15:if(!_a&&(S=v.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){L=S=S.next;do{var q=L,re=q.destroy;q=q.tag,re!==void 0&&((q&2)!==0||(q&4)!==0)&&Pb(v,f,re),L=L.next}while(L!==S)}Xu(u,f,v);break;case 1:if(!_a&&(Jh(v,f),S=v.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=v.memoizedProps,S.state=v.memoizedState,S.componentWillUnmount()}catch(ye){di(v,f,ye)}Xu(u,f,v);break;case 21:Xu(u,f,v);break;case 22:v.mode&1?(_a=(S=_a)||v.memoizedState!==null,Xu(u,f,v),_a=S):Xu(u,f,v);break;default:Xu(u,f,v)}}function uC(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var v=u.stateNode;v===null&&(v=u.stateNode=new ZB),f.forEach(function(S){var L=cU.bind(null,u,S);v.has(S)||(v.add(S),S.then(L,L))})}}function Gs(u,f){var v=f.deletions;if(v!==null)for(var S=0;S<v.length;S++){var L=v[S];try{var q=u,re=f,ye=re;e:for(;ye!==null;){switch(ye.tag){case 5:sa=ye.stateNode,Vs=!1;break e;case 3:sa=ye.stateNode.containerInfo,Vs=!0;break e;case 4:sa=ye.stateNode.containerInfo,Vs=!0;break e}ye=ye.return}if(sa===null)throw Error(n(160));cC(q,re,L),sa=null,Vs=!1;var Ce=L.alternate;Ce!==null&&(Ce.return=null),L.return=null}catch(qe){di(L,f,qe)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)dC(f,u),f=f.sibling}function dC(u,f){var v=u.alternate,S=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Gs(f,u),Tl(u),S&4){try{ng(3,u,u.return),m0(3,u)}catch(Kt){di(u,u.return,Kt)}try{ng(5,u,u.return)}catch(Kt){di(u,u.return,Kt)}}break;case 1:Gs(f,u),Tl(u),S&512&&v!==null&&Jh(v,v.return);break;case 5:if(Gs(f,u),Tl(u),S&512&&v!==null&&Jh(v,v.return),u.flags&32){var L=u.stateNode;try{St(L,"")}catch(Kt){di(u,u.return,Kt)}}if(S&4&&(L=u.stateNode,L!=null)){var q=u.memoizedProps,re=v!==null?v.memoizedProps:q,ye=u.type,Ce=u.updateQueue;if(u.updateQueue=null,Ce!==null)try{ye==="input"&&q.type==="radio"&&q.name!=null&&Ke(L,q),Vt(ye,re);var qe=Vt(ye,q);for(re=0;re<Ce.length;re+=2){var rt=Ce[re],it=Ce[re+1];rt==="style"?un(L,it):rt==="dangerouslySetInnerHTML"?ut(L,it):rt==="children"?St(L,it):C(L,rt,it,qe)}switch(ye){case"input":pt(L,q);break;case"textarea":Pt(L,q);break;case"select":var nt=L._wrapperState.wasMultiple;L._wrapperState.wasMultiple=!!q.multiple;var kt=q.value;kt!=null?ot(L,!!q.multiple,kt,!1):nt!==!!q.multiple&&(q.defaultValue!=null?ot(L,!!q.multiple,q.defaultValue,!0):ot(L,!!q.multiple,q.multiple?[]:"",!1))}L[Uu]=q}catch(Kt){di(u,u.return,Kt)}}break;case 6:if(Gs(f,u),Tl(u),S&4){if(u.stateNode===null)throw Error(n(162));L=u.stateNode,q=u.memoizedProps;try{L.nodeValue=q}catch(Kt){di(u,u.return,Kt)}}break;case 3:if(Gs(f,u),Tl(u),S&4&&v!==null&&v.memoizedState.isDehydrated)try{gc(f.containerInfo)}catch(Kt){di(u,u.return,Kt)}break;case 4:Gs(f,u),Tl(u);break;case 13:Gs(f,u),Tl(u),L=u.child,L.flags&8192&&(q=L.memoizedState!==null,L.stateNode.isHidden=q,!q||L.alternate!==null&&L.alternate.memoizedState!==null||(Lb=Nr())),S&4&&uC(u);break;case 22:if(rt=v!==null&&v.memoizedState!==null,u.mode&1?(_a=(qe=_a)||rt,Gs(f,u),_a=qe):Gs(f,u),Tl(u),S&8192){if(qe=u.memoizedState!==null,(u.stateNode.isHidden=qe)&&!rt&&(u.mode&1)!==0)for(Rt=u,rt=u.child;rt!==null;){for(it=Rt=rt;Rt!==null;){switch(nt=Rt,kt=nt.child,nt.tag){case 0:case 11:case 14:case 15:ng(4,nt,nt.return);break;case 1:Jh(nt,nt.return);var qt=nt.stateNode;if(typeof qt.componentWillUnmount=="function"){S=nt,v=nt.return;try{f=S,qt.props=f.memoizedProps,qt.state=f.memoizedState,qt.componentWillUnmount()}catch(Kt){di(S,v,Kt)}}break;case 5:Jh(nt,nt.return);break;case 22:if(nt.memoizedState!==null){pC(it);continue}}kt!==null?(kt.return=nt,Rt=kt):pC(it)}rt=rt.sibling}e:for(rt=null,it=u;;){if(it.tag===5){if(rt===null){rt=it;try{L=it.stateNode,qe?(q=L.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none"):(ye=it.stateNode,Ce=it.memoizedProps.style,re=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null,ye.style.display=pn("display",re))}catch(Kt){di(u,u.return,Kt)}}}else if(it.tag===6){if(rt===null)try{it.stateNode.nodeValue=qe?"":it.memoizedProps}catch(Kt){di(u,u.return,Kt)}}else if((it.tag!==22&&it.tag!==23||it.memoizedState===null||it===u)&&it.child!==null){it.child.return=it,it=it.child;continue}if(it===u)break e;for(;it.sibling===null;){if(it.return===null||it.return===u)break e;rt===it&&(rt=null),it=it.return}rt===it&&(rt=null),it.sibling.return=it.return,it=it.sibling}}break;case 19:Gs(f,u),Tl(u),S&4&&uC(u);break;case 21:break;default:Gs(f,u),Tl(u)}}function Tl(u){var f=u.flags;if(f&2){try{e:{for(var v=u.return;v!==null;){if(sC(v)){var S=v;break e}v=v.return}throw Error(n(160))}switch(S.tag){case 5:var L=S.stateNode;S.flags&32&&(St(L,""),S.flags&=-33);var q=lC(u);Ob(u,q,L);break;case 3:case 4:var re=S.stateNode.containerInfo,ye=lC(u);kb(u,ye,re);break;default:throw Error(n(161))}}catch(Ce){di(u,u.return,Ce)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function tU(u,f,v){Rt=u,fC(u)}function fC(u,f,v){for(var S=(u.mode&1)!==0;Rt!==null;){var L=Rt,q=L.child;if(L.tag===22&&S){var re=L.memoizedState!==null||p0;if(!re){var ye=L.alternate,Ce=ye!==null&&ye.memoizedState!==null||_a;ye=p0;var qe=_a;if(p0=re,(_a=Ce)&&!qe)for(Rt=L;Rt!==null;)re=Rt,Ce=re.child,re.tag===22&&re.memoizedState!==null?mC(L):Ce!==null?(Ce.return=re,Rt=Ce):mC(L);for(;q!==null;)Rt=q,fC(q),q=q.sibling;Rt=L,p0=ye,_a=qe}hC(u)}else(L.subtreeFlags&8772)!==0&&q!==null?(q.return=L,Rt=q):hC(u)}}function hC(u){for(;Rt!==null;){var f=Rt;if((f.flags&8772)!==0){var v=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:_a||m0(5,f);break;case 1:var S=f.stateNode;if(f.flags&4&&!_a)if(v===null)S.componentDidMount();else{var L=f.elementType===f.type?v.memoizedProps:Ws(f.type,v.memoizedProps);S.componentDidUpdate(L,v.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var q=f.updateQueue;q!==null&&ao(f,q,S);break;case 3:var re=f.updateQueue;if(re!==null){if(v=null,f.child!==null)switch(f.child.tag){case 5:v=f.child.stateNode;break;case 1:v=f.child.stateNode}ao(f,re,v)}break;case 5:var ye=f.stateNode;if(v===null&&f.flags&4){v=ye;var Ce=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":Ce.autoFocus&&v.focus();break;case"img":Ce.src&&(v.src=Ce.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var qe=f.alternate;if(qe!==null){var rt=qe.memoizedState;if(rt!==null){var it=rt.dehydrated;it!==null&&gc(it)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}_a||f.flags&512&&Eb(f)}catch(nt){di(f,f.return,nt)}}if(f===u){Rt=null;break}if(v=f.sibling,v!==null){v.return=f.return,Rt=v;break}Rt=f.return}}function pC(u){for(;Rt!==null;){var f=Rt;if(f===u){Rt=null;break}var v=f.sibling;if(v!==null){v.return=f.return,Rt=v;break}Rt=f.return}}function mC(u){for(;Rt!==null;){var f=Rt;try{switch(f.tag){case 0:case 11:case 15:var v=f.return;try{m0(4,f)}catch(Ce){di(f,v,Ce)}break;case 1:var S=f.stateNode;if(typeof S.componentDidMount=="function"){var L=f.return;try{S.componentDidMount()}catch(Ce){di(f,L,Ce)}}var q=f.return;try{Eb(f)}catch(Ce){di(f,q,Ce)}break;case 5:var re=f.return;try{Eb(f)}catch(Ce){di(f,re,Ce)}}}catch(Ce){di(f,f.return,Ce)}if(f===u){Rt=null;break}var ye=f.sibling;if(ye!==null){ye.return=f.return,Rt=ye;break}Rt=f.return}}var nU=Math.ceil,g0=P.ReactCurrentDispatcher,Tb=P.ReactCurrentOwner,ds=P.ReactCurrentBatchConfig,Yn=0,Ki=null,Pi=null,la=0,Io=0,Zh=ko(0),Ri=0,rg=null,yf=0,v0=0,Db=0,ig=null,so=null,Lb=0,ep=1/0,Fc=null,y0=!1,Ib=null,Qu=null,x0=!1,Ju=null,b0=0,ag=0,Rb=null,w0=-1,_0=0;function Ba(){return(Yn&6)!==0?Nr():w0!==-1?w0:w0=Nr()}function Zu(u){return(u.mode&1)===0?1:(Yn&2)!==0&&la!==0?la&-la:Zr.transition!==null?(_0===0&&(_0=Kd()),_0):(u=Hn,u!==0||(u=window.event,u=u===void 0?16:yc(u.type)),u)}function Ks(u,f,v,S){if(50<ag)throw ag=0,Rb=null,Error(n(185));fc(u,v,S),((Yn&2)===0||u!==Ki)&&(u===Ki&&((Yn&2)===0&&(v0|=v),Ri===4&&ed(u,la)),lo(u,S),v===1&&Yn===0&&(f.mode&1)===0&&(ep=Nr()+500,pf&&W()))}function lo(u,f){var v=u.callbackNode;gi(u,f);var S=dc(u,u===Ki?la:0);if(S===0)v!==null&&lc(v),u.callbackNode=null,u.callbackPriority=0;else if(f=S&-S,u.callbackPriority!==f){if(v!=null&&lc(v),f===1)u.tag===0?$(vC.bind(null,u)):N(vC.bind(null,u)),db(function(){(Yn&6)===0&&W()}),v=null;else{switch(hc(S)){case 1:v=ju;break;case 4:v=Ta;break;case 16:v=gl;break;case 536870912:v=Su;break;default:v=gl}v=NC(v,gC.bind(null,u))}u.callbackPriority=f,u.callbackNode=v}}function gC(u,f){if(w0=-1,_0=0,(Yn&6)!==0)throw Error(n(327));var v=u.callbackNode;if(tp()&&u.callbackNode!==v)return null;var S=dc(u,u===Ki?la:0);if(S===0)return null;if((S&30)!==0||(S&u.expiredLanes)!==0||f)f=j0(u,S);else{f=S;var L=Yn;Yn|=2;var q=xC();(Ki!==u||la!==f)&&(Fc=null,ep=Nr()+500,bf(u,f));do try{aU();break}catch(ye){yC(u,ye)}while(!0);Gn(),g0.current=q,Yn=L,Pi!==null?f=0:(Ki=null,la=0,f=Ri)}if(f!==0){if(f===2&&(L=So(u),L!==0&&(S=L,f=Mb(u,L))),f===1)throw v=rg,bf(u,0),ed(u,S),lo(u,Nr()),v;if(f===6)ed(u,S);else{if(L=u.current.alternate,(S&30)===0&&!rU(L)&&(f=j0(u,S),f===2&&(q=So(u),q!==0&&(S=q,f=Mb(u,q))),f===1))throw v=rg,bf(u,0),ed(u,S),lo(u,Nr()),v;switch(u.finishedWork=L,u.finishedLanes=S,f){case 0:case 1:throw Error(n(345));case 2:wf(u,so,Fc);break;case 3:if(ed(u,S),(S&130023424)===S&&(f=Lb+500-Nr(),10<f)){if(dc(u,0)!==0)break;if(L=u.suspendedLanes,(L&S)!==S){Ba(),u.pingedLanes|=u.suspendedLanes&L;break}u.timeoutHandle=Vm(wf.bind(null,u,so,Fc),f);break}wf(u,so,Fc);break;case 4:if(ed(u,S),(S&4194240)===S)break;for(f=u.eventTimes,L=-1;0<S;){var re=31-ii(S);q=1<<re,re=f[re],re>L&&(L=re),S&=~q}if(S=L,S=Nr()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*nU(S/1960))-S,10<S){u.timeoutHandle=Vm(wf.bind(null,u,so,Fc),S);break}wf(u,so,Fc);break;case 5:wf(u,so,Fc);break;default:throw Error(n(329))}}}return lo(u,Nr()),u.callbackNode===v?gC.bind(null,u):null}function Mb(u,f){var v=ig;return u.current.memoizedState.isDehydrated&&(bf(u,f).flags|=256),u=j0(u,f),u!==2&&(f=so,so=v,f!==null&&zb(f)),u}function zb(u){so===null?so=u:so.push.apply(so,u)}function rU(u){for(var f=u;;){if(f.flags&16384){var v=f.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var S=0;S<v.length;S++){var L=v[S],q=L.getSnapshot;L=L.value;try{if(!Br(q(),L))return!1}catch{return!1}}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function ed(u,f){for(f&=~Db,f&=~v0,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var v=31-ii(f),S=1<<v;u[v]=-1,f&=~S}}function vC(u){if((Yn&6)!==0)throw Error(n(327));tp();var f=dc(u,0);if((f&1)===0)return lo(u,Nr()),null;var v=j0(u,f);if(u.tag!==0&&v===2){var S=So(u);S!==0&&(f=S,v=Mb(u,S))}if(v===1)throw v=rg,bf(u,0),ed(u,f),lo(u,Nr()),v;if(v===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,wf(u,so,Fc),lo(u,Nr()),null}function Fb(u,f){var v=Yn;Yn|=1;try{return u(f)}finally{Yn=v,Yn===0&&(ep=Nr()+500,pf&&W())}}function xf(u){Ju!==null&&Ju.tag===0&&(Yn&6)===0&&tp();var f=Yn;Yn|=1;var v=ds.transition,S=Hn;try{if(ds.transition=null,Hn=1,u)return u()}finally{Hn=S,ds.transition=v,Yn=f,(Yn&6)===0&&W()}}function $b(){Io=Zh.current,er(Zh)}function bf(u,f){u.finishedWork=null,u.finishedLanes=0;var v=u.timeoutHandle;if(v!==-1&&(u.timeoutHandle=-1,t0(v)),Pi!==null)for(v=Pi.return;v!==null;){var S=v;switch(ze(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&qh();break;case 3:ls(),er(ya),er(Li),Jm();break;case 5:Xm(S);break;case 4:ls();break;case 13:er(Ar);break;case 19:er(Ar);break;case 10:Lr(S.type._context);break;case 22:case 23:$b()}v=v.return}if(Ki=u,Pi=u=td(u.current,null),la=Io=f,Ri=0,rg=null,Db=v0=yf=0,so=ig=null,ur!==null){for(f=0;f<ur.length;f++)if(v=ur[f],S=v.interleaved,S!==null){v.interleaved=null;var L=S.next,q=v.pending;if(q!==null){var re=q.next;q.next=L,S.next=re}v.pending=S}ur=null}return u}function yC(u,f){do{var v=Pi;try{if(Gn(),Bh.current=u0,Gu){for(var S=Ir.memoizedState;S!==null;){var L=S.queue;L!==null&&(L.pending=null),S=S.next}Gu=!1}if(cs=0,ri=ui=Ir=null,Us=!1,Ku=0,Tb.current=null,v===null||v.return===null){Ri=1,rg=f,Pi=null;break}e:{var q=u,re=v.return,ye=v,Ce=f;if(f=la,ye.flags|=32768,Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var qe=Ce,rt=ye,it=rt.tag;if((rt.mode&1)===0&&(it===0||it===11||it===15)){var nt=rt.alternate;nt?(rt.updateQueue=nt.updateQueue,rt.memoizedState=nt.memoizedState,rt.lanes=nt.lanes):(rt.updateQueue=null,rt.memoizedState=null)}var kt=U3(re);if(kt!==null){kt.flags&=-257,H3(kt,re,ye,q,f),kt.mode&1&&B3(q,qe,f),f=kt,Ce=qe;var qt=f.updateQueue;if(qt===null){var Kt=new Set;Kt.add(Ce),f.updateQueue=Kt}else qt.add(Ce);break e}else{if((f&1)===0){B3(q,qe,f),qb();break e}Ce=Error(n(426))}}else if(Qe&&ye.mode&1){var bi=U3(re);if(bi!==null){(bi.flags&65536)===0&&(bi.flags|=256),H3(bi,re,ye,q,f),ht(Qh(Ce,ye));break e}}q=Ce=Qh(Ce,ye),Ri!==4&&(Ri=2),ig===null?ig=[q]:ig.push(q),q=re;do{switch(q.tag){case 3:q.flags|=65536,f&=-f,q.lanes|=f;var Me=$3(q,Ce,f);fr(q,Me);break e;case 1:ye=Ce;var Te=q.type,Fe=q.stateNode;if((q.flags&128)===0&&(typeof Te.getDerivedStateFromError=="function"||Fe!==null&&typeof Fe.componentDidCatch=="function"&&(Qu===null||!Qu.has(Fe)))){q.flags|=65536,f&=-f,q.lanes|=f;var lt=q3(q,ye,f);fr(q,lt);break e}}q=q.return}while(q!==null)}wC(v)}catch(Qt){f=Qt,Pi===v&&v!==null&&(Pi=v=v.return);continue}break}while(!0)}function xC(){var u=g0.current;return g0.current=u0,u===null?u0:u}function qb(){(Ri===0||Ri===3||Ri===2)&&(Ri=4),Ki===null||(yf&268435455)===0&&(v0&268435455)===0||ed(Ki,la)}function j0(u,f){var v=Yn;Yn|=2;var S=xC();(Ki!==u||la!==f)&&(Fc=null,bf(u,f));do try{iU();break}catch(L){yC(u,L)}while(!0);if(Gn(),Yn=v,g0.current=S,Pi!==null)throw Error(n(261));return Ki=null,la=0,Ri}function iU(){for(;Pi!==null;)bC(Pi)}function aU(){for(;Pi!==null&&!_u();)bC(Pi)}function bC(u){var f=SC(u.alternate,u,Io);u.memoizedProps=u.pendingProps,f===null?wC(u):Pi=f,Tb.current=null}function wC(u){var f=u;do{var v=f.alternate;if(u=f.return,(f.flags&32768)===0){if(v=QB(v,f,Io),v!==null){Pi=v;return}}else{if(v=JB(v,f),v!==null){v.flags&=32767,Pi=v;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Ri=6,Pi=null;return}}if(f=f.sibling,f!==null){Pi=f;return}Pi=f=u}while(f!==null);Ri===0&&(Ri=5)}function wf(u,f,v){var S=Hn,L=ds.transition;try{ds.transition=null,Hn=1,oU(u,f,v,S)}finally{ds.transition=L,Hn=S}return null}function oU(u,f,v,S){do tp();while(Ju!==null);if((Yn&6)!==0)throw Error(n(327));v=u.finishedWork;var L=u.finishedLanes;if(v===null)return null;if(u.finishedWork=null,u.finishedLanes=0,v===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var q=v.lanes|v.childLanes;if(Jo(u,q),u===Ki&&(Pi=Ki=null,la=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||x0||(x0=!0,NC(gl,function(){return tp(),null})),q=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||q){q=ds.transition,ds.transition=null;var re=Hn;Hn=1;var ye=Yn;Yn|=4,Tb.current=null,eU(u,v),dC(v,u),rf(Dc),ku=!!ff,Dc=ff=null,u.current=v,tU(v),Lm(),Yn=ye,Hn=re,ds.transition=q}else u.current=v;if(x0&&(x0=!1,Ju=u,b0=L),q=u.pendingLanes,q===0&&(Qu=null),Eh(v.stateNode),lo(u,Nr()),f!==null)for(S=u.onRecoverableError,v=0;v<f.length;v++)L=f[v],S(L.value,{componentStack:L.stack,digest:L.digest});if(y0)throw y0=!1,u=Ib,Ib=null,u;return(b0&1)!==0&&u.tag!==0&&tp(),q=u.pendingLanes,(q&1)!==0?u===Rb?ag++:(ag=0,Rb=u):ag=0,W(),null}function tp(){if(Ju!==null){var u=hc(b0),f=ds.transition,v=Hn;try{if(ds.transition=null,Hn=16>u?16:u,Ju===null)var S=!1;else{if(u=Ju,Ju=null,b0=0,(Yn&6)!==0)throw Error(n(331));var L=Yn;for(Yn|=4,Rt=u.current;Rt!==null;){var q=Rt,re=q.child;if((Rt.flags&16)!==0){var ye=q.deletions;if(ye!==null){for(var Ce=0;Ce<ye.length;Ce++){var qe=ye[Ce];for(Rt=qe;Rt!==null;){var rt=Rt;switch(rt.tag){case 0:case 11:case 15:ng(8,rt,q)}var it=rt.child;if(it!==null)it.return=rt,Rt=it;else for(;Rt!==null;){rt=Rt;var nt=rt.sibling,kt=rt.return;if(oC(rt),rt===qe){Rt=null;break}if(nt!==null){nt.return=kt,Rt=nt;break}Rt=kt}}}var qt=q.alternate;if(qt!==null){var Kt=qt.child;if(Kt!==null){qt.child=null;do{var bi=Kt.sibling;Kt.sibling=null,Kt=bi}while(Kt!==null)}}Rt=q}}if((q.subtreeFlags&2064)!==0&&re!==null)re.return=q,Rt=re;else e:for(;Rt!==null;){if(q=Rt,(q.flags&2048)!==0)switch(q.tag){case 0:case 11:case 15:ng(9,q,q.return)}var Me=q.sibling;if(Me!==null){Me.return=q.return,Rt=Me;break e}Rt=q.return}}var Te=u.current;for(Rt=Te;Rt!==null;){re=Rt;var Fe=re.child;if((re.subtreeFlags&2064)!==0&&Fe!==null)Fe.return=re,Rt=Fe;else e:for(re=Te;Rt!==null;){if(ye=Rt,(ye.flags&2048)!==0)try{switch(ye.tag){case 0:case 11:case 15:m0(9,ye)}}catch(Qt){di(ye,ye.return,Qt)}if(ye===re){Rt=null;break e}var lt=ye.sibling;if(lt!==null){lt.return=ye.return,Rt=lt;break e}Rt=ye.return}}if(Yn=L,W(),Da&&typeof Da.onPostCommitFiberRoot=="function")try{Da.onPostCommitFiberRoot(cc,u)}catch{}S=!0}return S}finally{Hn=v,ds.transition=f}}return!1}function _C(u,f,v){f=Qh(v,f),f=$3(u,f,1),u=ti(u,f,1),f=Ba(),u!==null&&(fc(u,1,f),lo(u,f))}function di(u,f,v){if(u.tag===3)_C(u,u,v);else for(;f!==null;){if(f.tag===3){_C(f,u,v);break}else if(f.tag===1){var S=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Qu===null||!Qu.has(S))){u=Qh(v,u),u=q3(f,u,1),f=ti(f,u,1),u=Ba(),f!==null&&(fc(f,1,u),lo(f,u));break}}f=f.return}}function sU(u,f,v){var S=u.pingCache;S!==null&&S.delete(f),f=Ba(),u.pingedLanes|=u.suspendedLanes&v,Ki===u&&(la&v)===v&&(Ri===4||Ri===3&&(la&130023424)===la&&500>Nr()-Lb?bf(u,0):Db|=v),lo(u,f)}function jC(u,f){f===0&&((u.mode&1)===0?f=1:(f=La,La<<=1,(La&130023424)===0&&(La=4194304)));var v=Ba();u=dr(u,f),u!==null&&(fc(u,f,v),lo(u,v))}function lU(u){var f=u.memoizedState,v=0;f!==null&&(v=f.retryLane),jC(u,v)}function cU(u,f){var v=0;switch(u.tag){case 13:var S=u.stateNode,L=u.memoizedState;L!==null&&(v=L.retryLane);break;case 19:S=u.stateNode;break;default:throw Error(n(314))}S!==null&&S.delete(f),jC(u,v)}var SC;SC=function(u,f,v){if(u!==null)if(u.memoizedProps!==f.pendingProps||ya.current)oo=!0;else{if((u.lanes&v)===0&&(f.flags&128)===0)return oo=!1,XB(u,f,v);oo=(u.flags&131072)!==0}else oo=!1,Qe&&(f.flags&1048576)!==0&&Ie(f,ce,f.index);switch(f.lanes=0,f.tag){case 2:var S=f.type;h0(u,f),u=f.pendingProps;var L=Wu(f,Li.current);Wr(f,v),L=mf(null,f,S,u,L,v);var q=us();return f.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,xa(S)?(q=!0,Rc(f)):q=!1,f.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,Ii(f),L.updater=d0,f.stateNode=L,L._reactInternals=f,yb(f,S,u,v),f=_b(null,f,S,!0,q,v)):(f.tag=0,Qe&&q&&Ge(f),qa(null,f,L,v),f=f.child),f;case 16:S=f.elementType;e:{switch(h0(u,f),u=f.pendingProps,L=S._init,S=L(S._payload),f.type=S,L=f.tag=dU(S),u=Ws(S,u),L){case 0:f=wb(null,f,S,u,v);break e;case 1:f=X3(null,f,S,u,v);break e;case 11:f=W3(null,f,S,u,v);break e;case 14:f=V3(null,f,S,Ws(S.type,u),v);break e}throw Error(n(306,S,""))}return f;case 0:return S=f.type,L=f.pendingProps,L=f.elementType===S?L:Ws(S,L),wb(u,f,S,L,v);case 1:return S=f.type,L=f.pendingProps,L=f.elementType===S?L:Ws(S,L),X3(u,f,S,L,v);case 3:e:{if(Q3(f),u===null)throw Error(n(387));S=f.pendingProps,q=f.memoizedState,L=q.element,ba(u,f),Gi(f,S,null,v);var re=f.memoizedState;if(S=re.element,q.isDehydrated)if(q={element:S,isDehydrated:!1,cache:re.cache,pendingSuspenseBoundaries:re.pendingSuspenseBoundaries,transitions:re.transitions},f.updateQueue.baseState=q,f.memoizedState=q,f.flags&256){L=Qh(Error(n(423)),f),f=J3(u,f,S,v,L);break e}else if(S!==L){L=Qh(Error(n(424)),f),f=J3(u,f,S,v,L);break e}else for(Ve=oa(f.stateNode.containerInfo.firstChild),Ue=f,Qe=!0,Je=null,v=zr(f,null,S,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Dt(),S===L){f=zc(u,f,v);break e}qa(u,f,S,v)}f=f.child}return f;case 5:return a0(f),u===null&&Ft(f),S=f.type,L=f.pendingProps,q=u!==null?u.memoizedProps:null,re=L.children,Wm(S,L)?re=null:q!==null&&Wm(S,q)&&(f.flags|=32),Y3(u,f),qa(u,f,re,v),f.child;case 6:return u===null&&Ft(f),null;case 13:return Z3(u,f,v);case 4:return Vu(f,f.stateNode.containerInfo),S=f.pendingProps,u===null?f.child=li(f,null,S,v):qa(u,f,S,v),f.child;case 11:return S=f.type,L=f.pendingProps,L=f.elementType===S?L:Ws(S,L),W3(u,f,S,L,v);case 7:return qa(u,f,f.pendingProps,v),f.child;case 8:return qa(u,f,f.pendingProps.children,v),f.child;case 12:return qa(u,f,f.pendingProps.children,v),f.child;case 10:e:{if(S=f.type._context,L=f.pendingProps,q=f.memoizedProps,re=L.value,ir(yi,S._currentValue),S._currentValue=re,q!==null)if(Br(q.value,re)){if(q.children===L.children&&!ya.current){f=zc(u,f,v);break e}}else for(q=f.child,q!==null&&(q.return=f);q!==null;){var ye=q.dependencies;if(ye!==null){re=q.child;for(var Ce=ye.firstContext;Ce!==null;){if(Ce.context===S){if(q.tag===1){Ce=ei(-1,v&-v),Ce.tag=2;var qe=q.updateQueue;if(qe!==null){qe=qe.shared;var rt=qe.pending;rt===null?Ce.next=Ce:(Ce.next=rt.next,rt.next=Ce),qe.pending=Ce}}q.lanes|=v,Ce=q.alternate,Ce!==null&&(Ce.lanes|=v),Kn(q.return,v,f),ye.lanes|=v;break}Ce=Ce.next}}else if(q.tag===10)re=q.type===f.type?null:q.child;else if(q.tag===18){if(re=q.return,re===null)throw Error(n(341));re.lanes|=v,ye=re.alternate,ye!==null&&(ye.lanes|=v),Kn(re,v,f),re=q.sibling}else re=q.child;if(re!==null)re.return=q;else for(re=q;re!==null;){if(re===f){re=null;break}if(q=re.sibling,q!==null){q.return=re.return,re=q;break}re=re.return}q=re}qa(u,f,L.children,v),f=f.child}return f;case 9:return L=f.type,S=f.pendingProps.children,Wr(f,v),L=Vr(L),S=S(L),f.flags|=1,qa(u,f,S,v),f.child;case 14:return S=f.type,L=Ws(S,f.pendingProps),L=Ws(S.type,L),V3(u,f,S,L,v);case 15:return G3(u,f,f.type,f.pendingProps,v);case 17:return S=f.type,L=f.pendingProps,L=f.elementType===S?L:Ws(S,L),h0(u,f),f.tag=1,xa(S)?(u=!0,Rc(f)):u=!1,Wr(f,v),z3(f,S,L),yb(f,S,L,v),_b(null,f,S,!0,u,v);case 19:return tC(u,f,v);case 22:return K3(u,f,v)}throw Error(n(156,f.tag))};function NC(u,f){return sc(u,f)}function uU(u,f,v,S){this.tag=u,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fs(u,f,v,S){return new uU(u,f,v,S)}function Bb(u){return u=u.prototype,!(!u||!u.isReactComponent)}function dU(u){if(typeof u=="function")return Bb(u)?1:0;if(u!=null){if(u=u.$$typeof,u===k)return 11;if(u===M)return 14}return 2}function td(u,f){var v=u.alternate;return v===null?(v=fs(u.tag,f,u.key,u.mode),v.elementType=u.elementType,v.type=u.type,v.stateNode=u.stateNode,v.alternate=u,u.alternate=v):(v.pendingProps=f,v.type=u.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=u.flags&14680064,v.childLanes=u.childLanes,v.lanes=u.lanes,v.child=u.child,v.memoizedProps=u.memoizedProps,v.memoizedState=u.memoizedState,v.updateQueue=u.updateQueue,f=u.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=u.sibling,v.index=u.index,v.ref=u.ref,v}function S0(u,f,v,S,L,q){var re=2;if(S=u,typeof u=="function")Bb(u)&&(re=1);else if(typeof u=="string")re=5;else e:switch(u){case z:return _f(v.children,L,q,f);case O:re=8,L|=8;break;case F:return u=fs(12,v,f,L|2),u.elementType=F,u.lanes=q,u;case B:return u=fs(13,v,f,L),u.elementType=B,u.lanes=q,u;case U:return u=fs(19,v,f,L),u.elementType=U,u.lanes=q,u;case Q:return N0(v,L,q,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case G:re=10;break e;case R:re=9;break e;case k:re=11;break e;case M:re=14;break e;case X:re=16,S=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return f=fs(re,v,f,L),f.elementType=u,f.type=S,f.lanes=q,f}function _f(u,f,v,S){return u=fs(7,u,S,f),u.lanes=v,u}function N0(u,f,v,S){return u=fs(22,u,S,f),u.elementType=Q,u.lanes=v,u.stateNode={isHidden:!1},u}function Ub(u,f,v){return u=fs(6,u,null,f),u.lanes=v,u}function Hb(u,f,v){return f=fs(4,u.children!==null?u.children:[],u.key,f),f.lanes=v,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function fU(u,f,v,S,L){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yd(0),this.expirationTimes=Yd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yd(0),this.identifierPrefix=S,this.onRecoverableError=L,this.mutableSourceEagerHydrationData=null}function Wb(u,f,v,S,L,q,re,ye,Ce){return u=new fU(u,f,v,ye,Ce),f===1?(f=1,q===!0&&(f|=8)):f=0,q=fs(3,null,null,f),u.current=q,q.stateNode=u,q.memoizedState={element:S,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ii(q),u}function hU(u,f,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:S==null?null:""+S,children:u,containerInfo:f,implementation:v}}function AC(u){if(!u)return El;u=u._reactInternals;e:{if(Oi(u)!==u||u.tag!==1)throw Error(n(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(xa(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(n(171))}if(u.tag===1){var v=u.type;if(xa(v))return Ym(u,v,f)}return f}function CC(u,f,v,S,L,q,re,ye,Ce){return u=Wb(v,S,!0,u,L,q,re,ye,Ce),u.context=AC(null),v=u.current,S=Ba(),L=Zu(v),q=ei(S,L),q.callback=f??null,ti(v,q,L),u.current.lanes=L,fc(u,L,S),lo(u,S),u}function A0(u,f,v,S){var L=f.current,q=Ba(),re=Zu(L);return v=AC(v),f.context===null?f.context=v:f.pendingContext=v,f=ei(q,re),f.payload={element:u},S=S===void 0?null:S,S!==null&&(f.callback=S),u=ti(L,f,re),u!==null&&(Ks(u,L,re,q),Vi(u,L,re)),re}function C0(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function PC(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var v=u.retryLane;u.retryLane=v!==0&&v<f?v:f}}function Vb(u,f){PC(u,f),(u=u.alternate)&&PC(u,f)}function pU(){return null}var EC=typeof reportError=="function"?reportError:function(u){console.error(u)};function Gb(u){this._internalRoot=u}P0.prototype.render=Gb.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(n(409));A0(u,f,null,null)},P0.prototype.unmount=Gb.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;xf(function(){A0(null,u,null,null)}),f[Hi]=null}};function P0(u){this._internalRoot=u}P0.prototype.unstable_scheduleHydration=function(u){if(u){var f=Oh();u={blockedOn:null,target:u,priority:f};for(var v=0;v<es.length&&f!==0&&f<es[v].priority;v++);es.splice(v,0,u),v===0&&Dh(u)}};function Kb(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function E0(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function kC(){}function mU(u,f,v,S,L){if(L){if(typeof S=="function"){var q=S;S=function(){var qe=C0(re);q.call(qe)}}var re=CC(f,S,u,0,null,!1,!1,"",kC);return u._reactRootContainer=re,u[Hi]=re.current,Oc(u.nodeType===8?u.parentNode:u),xf(),re}for(;L=u.lastChild;)u.removeChild(L);if(typeof S=="function"){var ye=S;S=function(){var qe=C0(Ce);ye.call(qe)}}var Ce=Wb(u,0,!1,null,null,!1,!1,"",kC);return u._reactRootContainer=Ce,u[Hi]=Ce.current,Oc(u.nodeType===8?u.parentNode:u),xf(function(){A0(f,Ce,v,S)}),Ce}function k0(u,f,v,S,L){var q=v._reactRootContainer;if(q){var re=q;if(typeof L=="function"){var ye=L;L=function(){var Ce=C0(re);ye.call(Ce)}}A0(f,re,u,L)}else re=mU(v,f,u,L,S);return C0(re)}vl=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var v=Qo(f.pendingLanes);v!==0&&(Au(f,v|1),lo(f,Nr()),(Yn&6)===0&&(ep=Nr()+500,W()))}break;case 13:xf(function(){var S=dr(u,1);if(S!==null){var L=Ba();Ks(S,u,1,L)}}),Vb(u,1)}},Xd=function(u){if(u.tag===13){var f=dr(u,134217728);if(f!==null){var v=Ba();Ks(f,u,134217728,v)}Vb(u,134217728)}},kh=function(u){if(u.tag===13){var f=Zu(u),v=dr(u,f);if(v!==null){var S=Ba();Ks(v,u,f,S)}Vb(u,f)}},Oh=function(){return Hn},Cu=function(u,f){var v=Hn;try{return Hn=u,f()}finally{Hn=v}},xe=function(u,f,v){switch(f){case"input":if(pt(u,v),f=v.name,v.type==="radio"&&f!=null){for(v=u;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<v.length;f++){var S=v[f];if(S!==u&&S.form===u.form){var L=hf(S);if(!L)throw Error(n(90));_e(S),pt(S,L)}}}break;case"textarea":Pt(u,v);break;case"select":f=v.value,f!=null&&ot(u,!!v.multiple,f,!1)}},Ne=Fb,at=xf;var gU={usingClientEntryPoint:!1,Events:[Hu,Lc,hf,ct,pe,Fb]},og={findFiberByHostInstance:Pl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vU={bundleType:og.bundleType,version:og.version,rendererPackageName:og.rendererPackageName,rendererConfig:og.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=jo(u),u===null?null:u.stateNode},findFiberByHostInstance:og.findFiberByHostInstance||pU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var O0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!O0.isDisabled&&O0.supportsFiber)try{cc=O0.inject(vU),Da=O0}catch{}}return co.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gU,co.createPortal=function(u,f){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kb(f))throw Error(n(200));return hU(u,f,null,v)},co.createRoot=function(u,f){if(!Kb(u))throw Error(n(299));var v=!1,S="",L=EC;return f!=null&&(f.unstable_strictMode===!0&&(v=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onRecoverableError!==void 0&&(L=f.onRecoverableError)),f=Wb(u,1,!1,null,null,v,!1,S,L),u[Hi]=f.current,Oc(u.nodeType===8?u.parentNode:u),new Gb(f)},co.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=jo(f),u=u===null?null:u.stateNode,u},co.flushSync=function(u){return xf(u)},co.hydrate=function(u,f,v){if(!E0(f))throw Error(n(200));return k0(null,u,f,!0,v)},co.hydrateRoot=function(u,f,v){if(!Kb(u))throw Error(n(405));var S=v!=null&&v.hydratedSources||null,L=!1,q="",re=EC;if(v!=null&&(v.unstable_strictMode===!0&&(L=!0),v.identifierPrefix!==void 0&&(q=v.identifierPrefix),v.onRecoverableError!==void 0&&(re=v.onRecoverableError)),f=CC(f,null,u,1,v??null,L,!1,q,re),u[Hi]=f.current,Oc(u),S)for(u=0;u<S.length;u++)v=S[u],L=v._getVersion,L=L(v._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[v,L]:f.mutableSourceEagerHydrationData.push(v,L);return new P0(f)},co.render=function(u,f,v){if(!E0(f))throw Error(n(200));return k0(null,u,f,!1,v)},co.unmountComponentAtNode=function(u){if(!E0(u))throw Error(n(40));return u._reactRootContainer?(xf(function(){k0(null,null,u,!1,function(){u._reactRootContainer=null,u[Hi]=null})}),!0):!1},co.unstable_batchedUpdates=Fb,co.unstable_renderSubtreeIntoContainer=function(u,f,v,S){if(!E0(v))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return k0(u,f,v,!1,S)},co.version="18.3.1-next-f1338f8080-20240426",co}var FC;function mI(){if(FC)return Jb.exports;FC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Jb.exports=CU(),Jb.exports}var $C;function PU(){if($C)return L0;$C=1;var e=mI();return L0.createRoot=e.createRoot,L0.hydrateRoot=e.hydrateRoot,L0}var EU=PU();const kU=gr(EU);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qC="popstate";function OU(e={}){function t(r,i){let{pathname:a,search:s,hash:l}=r.location;return Kj("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:$g(i)}return DU(t,n,null,e)}function Xr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Wo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function TU(){return Math.random().toString(36).substring(2,10)}function BC(e,t){return{usr:e.state,key:e.key,idx:t}}function Kj(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?vm(t):t,state:n,key:t&&t.key||r||TU()}}function $g({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function vm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function DU(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,l="POP",c=null,d=h();d==null&&(d=0,s.replaceState({...s.state,idx:d},""));function h(){return(s.state||{idx:null}).idx}function p(){l="POP";let y=h(),w=y==null?null:y-d;d=y,c&&c({action:l,location:x.location,delta:w})}function g(y,w){l="PUSH";let A=Kj(x.location,y,w);d=h()+1;let C=BC(A,d),P=x.createHref(A);try{s.pushState(C,"",P)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(P)}a&&c&&c({action:l,location:x.location,delta:1})}function m(y,w){l="REPLACE";let A=Kj(x.location,y,w);d=h();let C=BC(A,d),P=x.createHref(A);s.replaceState(C,"",P),a&&c&&c({action:l,location:x.location,delta:0})}function b(y){return LU(y)}let x={get action(){return l},get location(){return e(i,s)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(qC,p),c=y,()=>{i.removeEventListener(qC,p),c=null}},createHref(y){return t(i,y)},createURL:b,encodeLocation(y){let w=b(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:m,go(y){return s.go(y)}};return x}function LU(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xr(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:$g(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function gI(e,t,n="/"){return IU(e,t,n,!1)}function IU(e,t,n,r){let i=typeof t=="string"?vm(t):t,a=su(i.pathname||"/",n);if(a==null)return null;let s=vI(e);RU(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let d=GU(a);l=WU(s[c],d,r)}return l}function vI(e,t=[],n=[],r="",i=!1){let a=(s,l,c=i,d)=>{let h={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&c)return;Xr(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let p=nu([r,h.relativePath]),g=n.concat(h);s.children&&s.children.length>0&&(Xr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),vI(s.children,t,g,p,c)),!(s.path==null&&!s.index)&&t.push({path:p,score:UU(p,s.index),routesMeta:g})};return e.forEach((s,l)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))a(s,l);else for(let d of yI(s.path))a(s,l,!0,d)}),t}function yI(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=yI(r.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function RU(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:HU(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var MU=/^:[\w-]+$/,zU=3,FU=2,$U=1,qU=10,BU=-2,UC=e=>e==="*";function UU(e,t){let n=e.split("/"),r=n.length;return n.some(UC)&&(r+=BU),t&&(r+=FU),n.filter(i=>!UC(i)).reduce((i,a)=>i+(MU.test(a)?zU:a===""?$U:qU),r)}function HU(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function WU(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",s=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",p=ky({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),g=c.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=ky({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:nu([a,p.pathname]),pathnameBase:QU(nu([a,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(a=nu([a,p.pathnameBase]))}return s}function ky(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=VU(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:p},g)=>{if(h==="*"){let b=l[g]||"";s=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const m=l[g];return p&&!m?d[h]=void 0:d[h]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:s,pattern:e}}function VU(e,t=!1,n=!0){Wo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function GU(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Wo(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function su(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var xI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KU=e=>xI.test(e);function YU(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?vm(e):e,a;if(n)if(KU(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),Wo(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?a=HC(n.substring(1),"/"):a=HC(n,t)}else a=t;return{pathname:a,search:JU(r),hash:ZU(i)}}function HC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function t2(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XU(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function d4(e){let t=XU(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function f4(e,t,n,r=!1){let i;typeof e=="string"?i=vm(e):(i={...e},Xr(!i.pathname||!i.pathname.includes("?"),t2("?","pathname","search",i)),Xr(!i.pathname||!i.pathname.includes("#"),t2("#","pathname","hash",i)),Xr(!i.search||!i.search.includes("#"),t2("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=n;else{let p=t.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}l=p>=0?t[p]:"/"}let c=YU(i,l),d=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var nu=e=>e.join("/").replace(/\/\/+/g,"/"),QU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),JU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ZU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,eH=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function tH(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function nH(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var bI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function wI(e,t){let n=e;if(typeof n!="string"||!xI.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(bI)try{let a=new URL(window.location.href),s=n.startsWith("//")?new URL(a.protocol+n):new URL(n),l=su(s.pathname,t);s.origin===a.origin&&l!=null?n=l+s.search+s.hash:i=!0}catch{Wo(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _I=["POST","PUT","PATCH","DELETE"];new Set(_I);var rH=["GET",..._I];new Set(rH);var ym=j.createContext(null);ym.displayName="DataRouter";var Yx=j.createContext(null);Yx.displayName="DataRouterState";var iH=j.createContext(!1),jI=j.createContext({isTransitioning:!1});jI.displayName="ViewTransition";var aH=j.createContext(new Map);aH.displayName="Fetchers";var oH=j.createContext(null);oH.displayName="Await";var Go=j.createContext(null);Go.displayName="Navigation";var Dv=j.createContext(null);Dv.displayName="Location";var ec=j.createContext({outlet:null,matches:[],isDataRoute:!1});ec.displayName="Route";var h4=j.createContext(null);h4.displayName="RouteError";var SI="REACT_ROUTER_ERROR",sH="REDIRECT",lH="ROUTE_ERROR_RESPONSE";function cH(e){if(e.startsWith(`${SI}:${sH}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function uH(e){if(e.startsWith(`${SI}:${lH}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new eH(t.status,t.statusText,t.data)}catch{}}function dH(e,{relative:t}={}){Xr(xm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(Go),{hash:i,pathname:a,search:s}=Lv(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:nu([n,a])),r.createHref({pathname:l,search:s,hash:i})}function xm(){return j.useContext(Dv)!=null}function ul(){return Xr(xm(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Dv).location}var NI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AI(e){j.useContext(Go).static||j.useLayoutEffect(e)}function p4(){let{isDataRoute:e}=j.useContext(ec);return e?SH():fH()}function fH(){Xr(xm(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(ym),{basename:t,navigator:n}=j.useContext(Go),{matches:r}=j.useContext(ec),{pathname:i}=ul(),a=JSON.stringify(d4(r)),s=j.useRef(!1);return AI(()=>{s.current=!0}),j.useCallback((c,d={})=>{if(Wo(s.current,NI),!s.current)return;if(typeof c=="number"){n.go(c);return}let h=f4(c,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:nu([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,i,e])}j.createContext(null);function Lv(e,{relative:t}={}){let{matches:n}=j.useContext(ec),{pathname:r}=ul(),i=JSON.stringify(d4(n));return j.useMemo(()=>f4(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function hH(e,t){return CI(e,t)}function CI(e,t,n,r,i){var A;Xr(xm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=j.useContext(Go),{matches:s}=j.useContext(ec),l=s[s.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let C=p&&p.path||"";EI(d,!p||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let g=ul(),m;if(t){let C=typeof t=="string"?vm(t):t;Xr(h==="/"||((A=C.pathname)==null?void 0:A.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${C.pathname}" was given in the \`location\` prop.`),m=C}else m=g;let b=m.pathname||"/",x=b;if(h!=="/"){let C=h.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(C.length).join("/")}let y=gI(e,{pathname:x});Wo(p||y!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Wo(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=yH(y&&y.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:nu([h,a.encodeLocation?a.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:nu([h,a.encodeLocation?a.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),s,n,r,i);return t&&w?j.createElement(Dv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},w):w}function pH(){let e=jH(),t=tH(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:a},"ErrorBoundary")," or"," ",j.createElement("code",{style:a},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:i},n):null,s)}var mH=j.createElement(pH,null),PI=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=uH(e.digest);n&&(e=n)}let t=e!==void 0?j.createElement(ec.Provider,{value:this.props.routeContext},j.createElement(h4.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?j.createElement(gH,{error:e},t):t}};PI.contextType=iH;var n2=new WeakMap;function gH({children:e,error:t}){let{basename:n}=j.useContext(Go);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=cH(t.digest);if(r){let i=n2.get(t);if(i)throw i;let a=wI(r.location,n);if(bI&&!n2.get(t))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw n2.set(t,s),s}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return e}function vH({routeContext:e,match:t,children:n}){let r=j.useContext(ym);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(ec.Provider,{value:e},n)}function yH(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=n==null?void 0:n.errors;if(s!=null){let h=a.findIndex(p=>p.route.id&&(s==null?void 0:s[p.route.id])!==void 0);Xr(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,c=-1;if(n)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:g,errors:m}=n,b=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!m||m[p.route.id]===void 0);if(p.route.lazy||b){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let d=n&&r?(h,p)=>{var g,m;r(h,{location:n.location,params:((m=(g=n.matches)==null?void 0:g[0])==null?void 0:m.params)??{},unstable_pattern:nH(n.matches),errorInfo:p})}:void 0;return a.reduceRight((h,p,g)=>{let m,b=!1,x=null,y=null;n&&(m=s&&p.route.id?s[p.route.id]:void 0,x=p.route.errorElement||mH,l&&(c<0&&g===0?(EI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,y=null):c===g&&(b=!0,y=p.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,g+1)),A=()=>{let C;return m?C=x:b?C=y:p.route.Component?C=j.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=h,j.createElement(vH,{match:p,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?j.createElement(PI,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:A(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:d}):A()},null)}function m4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xH(e){let t=j.useContext(ym);return Xr(t,m4(e)),t}function bH(e){let t=j.useContext(Yx);return Xr(t,m4(e)),t}function wH(e){let t=j.useContext(ec);return Xr(t,m4(e)),t}function g4(e){let t=wH(e),n=t.matches[t.matches.length-1];return Xr(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function _H(){return g4("useRouteId")}function jH(){var r;let e=j.useContext(h4),t=bH("useRouteError"),n=g4("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function SH(){let{router:e}=xH("useNavigate"),t=g4("useNavigate"),n=j.useRef(!1);return AI(()=>{n.current=!0}),j.useCallback(async(i,a={})=>{Wo(n.current,NI),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var WC={};function EI(e,t,n){!t&&!WC[e]&&(WC[e]=!0,Wo(!1,n))}j.memo(NH);function NH({routes:e,future:t,state:n,onError:r}){return CI(e,void 0,n,r,t)}function Yj({to:e,replace:t,state:n,relative:r}){Xr(xm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=j.useContext(Go);Wo(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=j.useContext(ec),{pathname:s}=ul(),l=p4(),c=f4(e,d4(a),s,r==="path"),d=JSON.stringify(c);return j.useEffect(()=>{l(JSON.parse(d),{replace:t,state:n,relative:r})},[l,d,r,t,n]),null}function fi(e){Xr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AH({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){Xr(!xm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:l,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[l,i,a,s]);typeof n=="string"&&(n=vm(n));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:m="default"}=n,b=j.useMemo(()=>{let x=su(d,l);return x==null?null:{location:{pathname:x,search:h,hash:p,state:g,key:m},navigationType:r}},[l,d,h,p,g,m,r]);return Wo(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:j.createElement(Go.Provider,{value:c},j.createElement(Dv.Provider,{children:t,value:b}))}function CH({children:e,location:t}){return hH(Xj(e),t)}function Xj(e,t=[]){let n=[];return j.Children.forEach(e,(r,i)=>{if(!j.isValidElement(r))return;let a=[...t,i];if(r.type===j.Fragment){n.push.apply(n,Xj(r.props.children,a));return}Xr(r.type===fi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Xj(r.props.children,a)),n.push(s)}),n}var gy="get",vy="application/x-www-form-urlencoded";function Xx(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function PH(e){return Xx(e)&&e.tagName.toLowerCase()==="button"}function EH(e){return Xx(e)&&e.tagName.toLowerCase()==="form"}function kH(e){return Xx(e)&&e.tagName.toLowerCase()==="input"}function OH(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function TH(e,t){return e.button===0&&(!t||t==="_self")&&!OH(e)}function Qj(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function DH(e,t){let n=Qj(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}var I0=null;function LH(){if(I0===null)try{new FormData(document.createElement("form"),0),I0=!1}catch{I0=!0}return I0}var IH=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function r2(e){return e!=null&&!IH.has(e)?(Wo(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vy}"`),null):e}function RH(e,t){let n,r,i,a,s;if(EH(e)){let l=e.getAttribute("action");r=l?su(l,t):null,n=e.getAttribute("method")||gy,i=r2(e.getAttribute("enctype"))||vy,a=new FormData(e)}else if(PH(e)||kH(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(r=c?su(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||gy,i=r2(e.getAttribute("formenctype"))||r2(l.getAttribute("enctype"))||vy,a=new FormData(l,e),!LH()){let{name:d,type:h,value:p}=e;if(h==="image"){let g=d?`${d}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else d&&a.append(d,p)}}else{if(Xx(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gy,r=null,i=vy,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function v4(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function MH(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&su(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function zH(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FH(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function $H(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await zH(a,n);return s.links?s.links():[]}return[]}));return HH(r.flat(1).filter(FH).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function VC(e,t,n,r,i,a){let s=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,l=(c,d)=>{var h;return n[d].pathname!==c.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,d)=>s(c,d)||l(c,d)):a==="data"?t.filter((c,d)=>{var p;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(s(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function qH(e,t,{includeHydrateFallback:n}={}){return BH(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function BH(e){return[...new Set(e)]}function UH(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function HH(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(UH(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function kI(){let e=j.useContext(ym);return v4(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function WH(){let e=j.useContext(Yx);return v4(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var y4=j.createContext(void 0);y4.displayName="FrameworkContext";function OI(){let e=j.useContext(y4);return v4(e,"You must render this element inside a <HydratedRouter> element"),e}function VH(e,t){let n=j.useContext(y4),[r,i]=j.useState(!1),[a,s]=j.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:p}=t,g=j.useRef(null);j.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let x=w=>{w.forEach(A=>{s(A.isIntersecting)})},y=new IntersectionObserver(x,{threshold:.5});return g.current&&y.observe(g.current),()=>{y.disconnect()}}},[e]),j.useEffect(()=>{if(r){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[r]);let m=()=>{i(!0)},b=()=>{i(!1),s(!1)};return n?e!=="intent"?[a,g,{}]:[a,g,{onFocus:lg(l,m),onBlur:lg(c,b),onMouseEnter:lg(d,m),onMouseLeave:lg(h,b),onTouchStart:lg(p,m)}]:[!1,g,{}]}function lg(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function GH({page:e,...t}){let{router:n}=kI(),r=j.useMemo(()=>gI(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?j.createElement(YH,{page:e,matches:r,...t}):null}function KH(e){let{manifest:t,routeModules:n}=OI(),[r,i]=j.useState([]);return j.useEffect(()=>{let a=!1;return $H(e,t,n).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,n]),r}function YH({page:e,matches:t,...n}){let r=ul(),{manifest:i,routeModules:a}=OI(),{basename:s}=kI(),{loaderData:l,matches:c}=WH(),d=j.useMemo(()=>VC(e,t,c,i,r,"data"),[e,t,c,i,r]),h=j.useMemo(()=>VC(e,t,c,i,r,"assets"),[e,t,c,i,r]),p=j.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let b=new Set,x=!1;if(t.forEach(w=>{var C;let A=i.routes[w.route.id];!A||!A.hasLoader||(!d.some(P=>P.route.id===w.route.id)&&w.route.id in l&&((C=a[w.route.id])!=null&&C.shouldRevalidate)||A.hasClientLoader?x=!0:b.add(w.route.id))}),b.size===0)return[];let y=MH(e,s,"data");return x&&b.size>0&&y.searchParams.set("_routes",t.filter(w=>b.has(w.route.id)).map(w=>w.route.id).join(",")),[y.pathname+y.search]},[s,l,r,i,d,t,e,a]),g=j.useMemo(()=>qH(h,i),[h,i]),m=KH(h);return j.createElement(j.Fragment,null,p.map(b=>j.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),g.map(b=>j.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),m.map(({key:b,link:x})=>j.createElement("link",{key:b,nonce:n.nonce,...x})))}function XH(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var QH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QH&&(window.__reactRouterVersion="7.11.0")}catch{}function JH({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=j.useRef();i.current==null&&(i.current=OU({window:r,v5Compat:!0}));let a=i.current,[s,l]=j.useState({action:a.action,location:a.location}),c=j.useCallback(d=>{n===!1?l(d):j.startTransition(()=>l(d))},[n]);return j.useLayoutEffect(()=>a.listen(c),[a,c]),j.createElement(AH,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n})}var TI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fr=j.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:l,target:c,to:d,preventScrollReset:h,viewTransition:p,unstable_defaultShouldRevalidate:g,...m},b){let{basename:x,unstable_useTransitions:y}=j.useContext(Go),w=typeof d=="string"&&TI.test(d),A=wI(d,x);d=A.to;let C=dH(d,{relative:i}),[P,E,I]=VH(r,m),z=nW(d,{replace:s,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:p,unstable_defaultShouldRevalidate:g,unstable_useTransitions:y});function O(G){t&&t(G),G.defaultPrevented||z(G)}let F=j.createElement("a",{...m,...I,href:A.absoluteURL||C,onClick:A.isExternal||a?t:O,ref:XH(b,E),target:c,"data-discover":!w&&n==="render"?"true":void 0});return P&&!w?j.createElement(j.Fragment,null,F,j.createElement(GH,{page:C})):F});Fr.displayName="Link";var ZH=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:l,children:c,...d},h){let p=Lv(s,{relative:d.relative}),g=ul(),m=j.useContext(Yx),{navigator:b,basename:x}=j.useContext(Go),y=m!=null&&lW(p)&&l===!0,w=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,A=g.pathname,C=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(A=A.toLowerCase(),C=C?C.toLowerCase():null,w=w.toLowerCase()),C&&x&&(C=su(C,x)||C);const P=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let E=A===w||!i&&A.startsWith(w)&&A.charAt(P)==="/",I=C!=null&&(C===w||!i&&C.startsWith(w)&&C.charAt(w.length)==="/"),z={isActive:E,isPending:I,isTransitioning:y},O=E?t:void 0,F;typeof r=="function"?F=r(z):F=[r,E?"active":null,I?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let G=typeof a=="function"?a(z):a;return j.createElement(Fr,{...d,"aria-current":O,className:F,ref:h,style:G,to:s,viewTransition:l},typeof c=="function"?c(z):c)});ZH.displayName="NavLink";var eW=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:s=gy,action:l,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:p,unstable_defaultShouldRevalidate:g,...m},b)=>{let{unstable_useTransitions:x}=j.useContext(Go),y=oW(),w=sW(l,{relative:d}),A=s.toLowerCase()==="get"?"get":"post",C=typeof l=="string"&&TI.test(l),P=E=>{if(c&&c(E),E.defaultPrevented)return;E.preventDefault();let I=E.nativeEvent.submitter,z=(I==null?void 0:I.getAttribute("formmethod"))||s,O=()=>y(I||E.currentTarget,{fetcherKey:t,method:z,navigate:n,replace:i,state:a,relative:d,preventScrollReset:h,viewTransition:p,unstable_defaultShouldRevalidate:g});x&&n!==!1?j.startTransition(()=>O()):O()};return j.createElement("form",{ref:b,method:A,action:w,onSubmit:r?c:P,...m,"data-discover":!C&&e==="render"?"true":void 0})});eW.displayName="Form";function tW(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DI(e){let t=j.useContext(ym);return Xr(t,tW(e)),t}function nW(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let d=p4(),h=ul(),p=Lv(e,{relative:a});return j.useCallback(g=>{if(TH(g,t)){g.preventDefault();let m=n!==void 0?n:$g(h)===$g(p),b=()=>d(e,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:l});c?j.startTransition(()=>b()):b()}},[h,d,p,n,r,t,e,i,a,s,l,c])}function rW(e){Wo(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=j.useRef(Qj(e)),n=j.useRef(!1),r=ul(),i=j.useMemo(()=>DH(r.search,n.current?null:t.current),[r.search]),a=p4(),s=j.useCallback((l,c)=>{const d=Qj(typeof l=="function"?l(new URLSearchParams(i)):l);n.current=!0,a("?"+d,c)},[a,i]);return[i,s]}var iW=0,aW=()=>`__${String(++iW)}__`;function oW(){let{router:e}=DI("useSubmit"),{basename:t}=j.useContext(Go),n=_H(),r=e.fetch,i=e.navigate;return j.useCallback(async(a,s={})=>{let{action:l,method:c,encType:d,formData:h,body:p}=RH(a,t);if(s.navigate===!1){let g=s.fetcherKey||aW();await r(g,n,s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await i(s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,t,n])}function sW(e,{relative:t}={}){let{basename:n}=j.useContext(Go),r=j.useContext(ec);Xr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Lv(e||".",{relative:t})},s=ul();if(e==null){a.search=s.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:nu([n,a.pathname])),$g(a)}function lW(e,{relative:t}={}){let n=j.useContext(jI);Xr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=DI("useViewTransitionState"),i=Lv(e,{relative:t});if(!n.isTransitioning)return!1;let a=su(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=su(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ky(i.pathname,s)!=null||ky(i.pathname,a)!=null}var Iv=mI();const LI=gr(Iv),xr=window.location.origin,Kr=()=>{const e=localStorage.getItem("auth_token");return{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}}},Ro=async(e,t={},n=3e4)=>{const r=new AbortController,i=setTimeout(()=>r.abort(),n);try{const a=await fetch(e,{...t,signal:r.signal});return clearTimeout(i),a}catch(a){throw clearTimeout(i),a.name==="AbortError"?new Error("Richiesta scaduta (timeout). Verifica la connessione o riprova tra poco."):a}},Cr=async e=>{if(!e.ok){e.status===401&&localStorage.removeItem("auth_token");const n=await e.text();try{const r=JSON.parse(n);throw new Error(r.error||r.message||"API Error")}catch{throw new Error(n||"API Error")}}const t=e.headers.get("content-type");return t&&t.indexOf("application/json")!==-1?e.json():e.text()},cW=`${xr}/api/admin/restore-db`,Xi=e=>({list:async(t,n)=>{const r=new URLSearchParams;if(typeof t=="object"){const{sort:a,limit:s,include:l}=t;a&&r.append("sort",a),s&&r.append("limit",s),l&&r.append("include",l)}else t&&r.append("sort",t),n&&r.append("limit",n);const i=await fetch(`${xr}/api/entities/${e}/list?${r.toString()}`,{headers:Kr()});return Cr(i)},get:async t=>{const n=await fetch(`${xr}/api/entities/${e}/${t}`,{headers:Kr()});return Cr(n)},create:async t=>{const n=await fetch(`${xr}/api/entities/${e}`,{method:"POST",headers:Kr(),body:JSON.stringify(t)});return Cr(n)},update:async(t,n)=>{const r=await fetch(`${xr}/api/entities/${e}/${t}`,{method:"PATCH",headers:Kr(),body:JSON.stringify(n)});return Cr(r)},delete:async t=>{console.log(`[CLIENT API] Deleting entity ${e} with ID ${t}`);const n=await fetch(`${xr}/api/entities/${e}/${t}`,{method:"DELETE",headers:Kr()});return console.log(`[CLIENT API] Delete response status: ${n.status} for ${e} ${t}`),Cr(n)},filter:async(t,n)=>{const r=new URLSearchParams;if(typeof n=="object"&&n!==null){const{sort:a,limit:s,offset:l,include:c}=n;a&&r.append("sort",a),s&&r.append("limit",s),l&&r.append("offset",l),c&&r.append("include",c)}else typeof n=="string"&&r.append("sort",n);const i=await fetch(`${xr}/api/entities/${e}/filter?${r.toString()}`,{method:"POST",headers:Kr(),body:JSON.stringify(t)});return Cr(i)},bulkDelete:async()=>{const t=await fetch(`${xr}/api/entities/${e}/bulk?confirm=true`,{method:"DELETE",headers:Kr()});return Cr(t)}}),we={admin:{restoreDatabase:async e=>{const t=new FormData;t.append("database",e);const n=localStorage.getItem("auth_token"),r=await Ro(cW,{method:"POST",headers:{...n?{Authorization:`Bearer ${n}`}:{}},body:t},6e4);return Cr(r)},getSystemDiag:async()=>{const e=await Ro(`${xr}/api/system-diag`,{headers:Kr()});return Cr(e)},testEmailConnection:async()=>{const e=await Ro(`${xr}/api/admin/test-email-connection`,{headers:Kr()},4e4);return Cr(e)},downloadBackup:async()=>{const e=await fetch(`${xr}/api/backup-database-neunoi`,{headers:Kr()});if(!e.ok){const s=await e.text();throw new Error(s||"Backup download failed")}const t=await e.blob(),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n;const i=e.headers.get("Content-Disposition");let a="backup.db";if(i&&i.indexOf("filename=")!==-1){const s=/filename="([^"]*)"/.exec(i);s!=null&&s[1]&&(a=s[1])}return r.download=a,document.body.appendChild(r),r.click(),r.remove(),!0}},auth:{login:async(e,t)=>{const n=await Ro(`${xr}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),r=await Cr(n);return r.token&&localStorage.setItem("auth_token",r.token),r},register:async(e,t,n)=>{const r=await Ro(`${xr}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,full_name:n})},45e3),i=await Cr(r);return i.token&&localStorage.setItem("auth_token",i.token),i},forgotPassword:async e=>{const t=await Ro(`${xr}/auth/forgot-password`,{method:"POST",headers:Kr(),body:JSON.stringify({email:e})},45e3);return Cr(t)},resetPassword:async(e,t)=>{const n=await Ro(`${xr}/auth/reset-password`,{method:"POST",headers:Kr(),body:JSON.stringify({token:e,newPassword:t})});return Cr(n)},verifyEmail:async e=>{const t=await Ro(`${xr}/auth/verify-email?token=${e}`,{method:"GET",headers:Kr()});return Cr(t)},resendVerification:async e=>{const t=await Ro(`${xr}/auth/resend-verification`,{method:"POST",headers:Kr(),body:JSON.stringify({email:e})});return Cr(t)},me:async()=>{const e=await Ro(`${xr}/auth/me`,{headers:Kr()});return Cr(e)},updateProfile:async e=>{const t=await Ro(`${xr}/auth/update`,{method:"POST",headers:Kr(),body:JSON.stringify(e)});return Cr(t)},changePassword:async(e,t)=>{const n=await Ro(`${xr}/auth/change-password`,{method:"POST",headers:Kr(),body:JSON.stringify({currentPassword:e,newPassword:t})});return Cr(n)},adminTriggerReset:async e=>{const t=await Ro(`${xr}/auth/admin-trigger-reset`,{method:"POST",headers:Kr(),body:JSON.stringify({userId:e})},45e3);return Cr(t)},isAuthenticated:async()=>!!localStorage.getItem("auth_token"),redirectToLogin:e=>{const t=e?`/Login?redirect=${encodeURIComponent(e)}`:"/Login";window.location.href=t},logout:()=>{localStorage.removeItem("auth_token"),window.location.href="/Login"}},entities:{User:{...Xi("User"),recalc:async e=>{const t=await fetch(`${xr}/api/users/${e}/recalc`,{method:"POST",headers:Kr()});return Cr(t)}},TurnoHost:Xi("TurnoHost"),ProfiloSocio:Xi("ProfiloSocio"),TransazioneNEU:Xi("TransazioneNEU"),SalaRiunioni:Xi("SalaRiunioni"),PrenotazioneSala:Xi("PrenotazioneSala"),IngressoCoworking:Xi("IngressoCoworking"),NotificaAbbonamento:Xi("NotificaAbbonamento"),TaskNotifica:Xi("TaskNotifica"),ProfiloCoworker:Xi("ProfiloCoworker"),OrdineCoworking:Xi("OrdineCoworking"),DatiFatturazione:Xi("DatiFatturazione"),AmbitoVolontariato:Xi("AmbitoVolontariato"),AzioneVolontariato:Xi("AzioneVolontariato"),DichiarazioneVolontariato:Xi("DichiarazioneVolontariato"),TipoAbbonamento:Xi("TipoAbbonamento"),AbbonamentoUtente:Xi("AbbonamentoUtente"),SistemaSetting:Xi("SistemaSetting")},integrations:{Core:{UploadFile:async({file:e})=>{const t=new FormData;t.append("file",e);const n=await fetch(`${xr}/api/integrations/upload`,{method:"POST",headers:{...localStorage.getItem("auth_token")?{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}:{}},body:t});return Cr(n)},ExtractDataFromUploadedFile:async({file_url:e,json_schema:t})=>{const n=await fetch(`${xr}/api/integrations/extract`,{method:"POST",headers:Kr(),body:JSON.stringify({file_url:e,json_schema:t})});return Cr(n)},GenerateImage:async()=>({url:"https://placehold.co/600x400"}),SendEmail:async e=>{const t={to:e.to,subject:e.subject,text:e.text||e.body||"",html:e.html||e.body||"",base64_attachments:e.base64_attachments||[]};return we.post("/api/integrations/send-email",t)},CreateFileSignedUrl:async()=>({url:""}),InvokeLLM:async()=>({output:""})}},coworking:{sendReceipt:async e=>we.post(`/api/coworking/orders/${e}/send-receipt`)},get:async e=>{const t=await fetch(`${xr}${e}`,{headers:Kr()});return Cr(t)},post:async(e,t)=>{const n=await fetch(`${xr}${e}`,{method:"POST",headers:Kr(),body:t?JSON.stringify(t):void 0});return Cr(n)},patch:async(e,t)=>{const n=await fetch(`${xr}${e}`,{method:"PATCH",headers:Kr(),body:t?JSON.stringify(t):void 0});return Cr(n)},delete:async e=>{const t=await fetch(`${xr}${e}`,{method:"DELETE",headers:Kr()});return Cr(t)}};function Mn(e){return"/"+e.toLowerCase().replace(/ /g,"-")}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),II=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...l},c)=>j.createElement("svg",{ref:c,...dW,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:II("lucide",i),...l},[...s.map(([d,h])=>j.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=(e,t)=>{const n=j.forwardRef(({className:r,...i},a)=>j.createElement(fW,{ref:a,iconNode:t,className:II(`lucide-${uW(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],pW=$t("Activity",hW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],gW=$t("ArrowLeft",mW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],GC=$t("ArrowRight",vW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Oy=$t("Bell",yW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Qx=$t("Briefcase",xW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],na=$t("Calendar",bW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],_W=$t("CheckCheck",wW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Jx=$t("Check",jW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Zx=$t("ChevronDown",SW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],e1=$t("ChevronLeft",NW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],t1=$t("ChevronRight",AW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],x4=$t("ChevronUp",CW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],RI=$t("ChevronsUpDown",PW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],th=$t("CircleAlert",EW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Kf=$t("CircleCheckBig",kW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lu=$t("CircleCheck",OW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Jj=$t("CircleX",TW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],LW=$t("Circle",DW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],b4=$t("ClipboardCheck",IW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],vo=$t("Clock",RW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Yl=$t("Coins",MW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Yf=$t("CreditCard",zW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],$W=$t("Database",FW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]],MI=$t("DoorOpen",qW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],po=$t("Download",BW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],HW=$t("EyeOff",UW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zI=$t("Eye",WW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],n1=$t("FileText",VW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],FI=$t("Globe",GW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],YW=$t("Grid3x3",KW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],QW=$t("Hand",XW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Ty=$t("History",JW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],eV=$t("Info",ZW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],Zj=$t("ListTodo",tV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],rV=$t("List",nV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],aV=$t("LoaderCircle",iV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Dy=$t("Lock",oV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],eS=$t("LogIn",sV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],cV=$t("LogOut",lV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],rl=$t("Mail",uV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],fV=$t("MapPin",dV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],pV=$t("Menu",hV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],KC=$t("Paperclip",mV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],vV=$t("Phone",gV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xs=$t("Plus",yV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],bV=$t("RefreshCcw",xV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],tS=$t("RefreshCw",wV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],nh=$t("Save",_V);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],vu=$t("Search",jV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],$I=$t("Send",SV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qI=$t("Settings",NV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],BI=$t("Shield",AV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],PV=$t("ShoppingBag",CV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],UI=$t("ShoppingCart",EV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Cs=$t("SquarePen",kV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Vo=$t("Trash2",OV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],DV=$t("TrendingDown",TV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],w4=$t("TrendingUp",LV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ad=$t("TriangleAlert",IV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],_4=$t("Upload",RV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],j4=$t("UserCheck",MV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],qg=$t("UserPlus",zV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cu=$t("User",FV);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],yo=$t("Users",$V);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],go=$t("X",qV);var bm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},BV={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},dd,l4,iI,UV=(iI=class{constructor(){en(this,dd,BV);en(this,l4,!1)}setTimeoutProvider(e){Ct(this,dd,e)}setTimeout(e,t){return je(this,dd).setTimeout(e,t)}clearTimeout(e){je(this,dd).clearTimeout(e)}setInterval(e,t){return je(this,dd).setInterval(e,t)}clearInterval(e){je(this,dd).clearInterval(e)}},dd=new WeakMap,l4=new WeakMap,iI),Tf=new UV;function HV(e){setTimeout(e,0)}var rh=typeof window>"u"||"Deno"in globalThis;function Wa(){}function WV(e,t){return typeof e=="function"?e(t):e}function nS(e){return typeof e=="number"&&e>=0&&e!==1/0}function HI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _d(e,t){return typeof e=="function"?e(t):e}function ys(e,t){return typeof e=="function"?e(t):e}function YC(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:s,stale:l}=e;if(s){if(r){if(t.queryHash!==S4(s,t.options))return!1}else if(!Bg(t.queryKey,s))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function XC(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(ih(t.options.mutationKey)!==ih(a))return!1}else if(!Bg(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function S4(e,t){return((t==null?void 0:t.queryKeyHashFn)||ih)(e)}function ih(e){return JSON.stringify(e,(t,n)=>rS(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Bg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Bg(e[n],t[n])):!1}var VV=Object.prototype.hasOwnProperty;function WI(e,t){if(e===t)return e;const n=QC(e)&&QC(t);if(!n&&!(rS(e)&&rS(t)))return t;const i=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),s=a.length,l=n?new Array(s):{};let c=0;for(let d=0;d<s;d++){const h=n?d:a[d],p=e[h],g=t[h];if(p===g){l[h]=p,(n?d<i:VV.call(e,h))&&c++;continue}if(p===null||g===null||typeof p!="object"||typeof g!="object"){l[h]=g;continue}const m=WI(p,g);l[h]=m,m===p&&c++}return i===s&&c===i?e:l}function Ly(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function QC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function rS(e){if(!JC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!JC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function JC(e){return Object.prototype.toString.call(e)==="[object Object]"}function GV(e){return new Promise(t=>{Tf.setTimeout(t,e)})}function iS(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?WI(e,t):t}function KV(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function YV(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var N4=Symbol();function VI(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===N4?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function GI(e,t){return typeof e=="function"?e(...t):!!e}var Ff,fd,Lp,aI,XV=(aI=class extends bm{constructor(){super();en(this,Ff);en(this,fd);en(this,Lp);Ct(this,Lp,t=>{if(!rh&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){je(this,fd)||this.setEventListener(je(this,Lp))}onUnsubscribe(){var t;this.hasListeners()||((t=je(this,fd))==null||t.call(this),Ct(this,fd,void 0))}setEventListener(t){var n;Ct(this,Lp,t),(n=je(this,fd))==null||n.call(this),Ct(this,fd,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){je(this,Ff)!==t&&(Ct(this,Ff,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof je(this,Ff)=="boolean"?je(this,Ff):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ff=new WeakMap,fd=new WeakMap,Lp=new WeakMap,aI),A4=new XV;function aS(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var QV=HV;function JV(){let e=[],t=0,n=l=>{l()},r=l=>{l()},i=QV;const a=l=>{t?e.push(l):i(()=>{n(l)})},s=()=>{const l=e;e=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||s()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var $i=JV(),Ip,hd,Rp,oI,ZV=(oI=class extends bm{constructor(){super();en(this,Ip,!0);en(this,hd);en(this,Rp);Ct(this,Rp,t=>{if(!rh&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){je(this,hd)||this.setEventListener(je(this,Rp))}onUnsubscribe(){var t;this.hasListeners()||((t=je(this,hd))==null||t.call(this),Ct(this,hd,void 0))}setEventListener(t){var n;Ct(this,Rp,t),(n=je(this,hd))==null||n.call(this),Ct(this,hd,t(this.setOnline.bind(this)))}setOnline(t){je(this,Ip)!==t&&(Ct(this,Ip,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return je(this,Ip)}},Ip=new WeakMap,hd=new WeakMap,Rp=new WeakMap,oI),Iy=new ZV;function eG(e){return Math.min(1e3*2**e,3e4)}function KI(e){return(e??"online")==="online"?Iy.isOnline():!0}var oS=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function YI(e){let t=!1,n=0,r;const i=aS(),a=()=>i.status!=="pending",s=x=>{var y;if(!a()){const w=new oS(x);g(w),(y=e.onCancel)==null||y.call(e,w)}},l=()=>{t=!0},c=()=>{t=!1},d=()=>A4.isFocused()&&(e.networkMode==="always"||Iy.isOnline())&&e.canRun(),h=()=>KI(e.networkMode)&&e.canRun(),p=x=>{a()||(r==null||r(),i.resolve(x))},g=x=>{a()||(r==null||r(),i.reject(x))},m=()=>new Promise(x=>{var y;r=w=>{(a()||d())&&x(w)},(y=e.onPause)==null||y.call(e)}).then(()=>{var x;r=void 0,a()||(x=e.onContinue)==null||x.call(e)}),b=()=>{if(a())return;let x;const y=n===0?e.initialPromise:void 0;try{x=y??e.fn()}catch(w){x=Promise.reject(w)}Promise.resolve(x).then(p).catch(w=>{var I;if(a())return;const A=e.retry??(rh?0:3),C=e.retryDelay??eG,P=typeof C=="function"?C(n,w):C,E=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,w);if(t||!E){g(w);return}n++,(I=e.onFail)==null||I.call(e,n,w),GV(P).then(()=>d()?void 0:m()).then(()=>{t?g(w):b()})})};return{promise:i,status:()=>i.status,cancel:s,continue:()=>(r==null||r(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?b():m().then(b),i)}}var $f,sI,XI=(sI=class{constructor(){en(this,$f)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),nS(this.gcTime)&&Ct(this,$f,Tf.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(rh?1/0:300*1e3))}clearGcTimeout(){je(this,$f)&&(Tf.clearTimeout(je(this,$f)),Ct(this,$f,void 0))}},$f=new WeakMap,sI),qf,Mp,vs,Bf,Qi,Pv,Uf,Js,Wc,lI,tG=(lI=class extends XI{constructor(t){super();en(this,Js);en(this,qf);en(this,Mp);en(this,vs);en(this,Bf);en(this,Qi);en(this,Pv);en(this,Uf);Ct(this,Uf,!1),Ct(this,Pv,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ct(this,Bf,t.client),Ct(this,vs,je(this,Bf).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ct(this,qf,eP(this.options)),this.state=t.state??je(this,qf),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=je(this,Qi))==null?void 0:t.promise}setOptions(t){if(this.options={...je(this,Pv),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=eP(this.options);n.data!==void 0&&(this.setState(ZC(n.data,n.dataUpdatedAt)),Ct(this,qf,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&je(this,vs).remove(this)}setData(t,n){const r=iS(this.state.data,t,this.options);return Cn(this,Js,Wc).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Cn(this,Js,Wc).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=je(this,Qi))==null?void 0:r.promise;return(i=je(this,Qi))==null||i.cancel(t),n?n.then(Wa).catch(Wa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(je(this,qf))}isActive(){return this.observers.some(t=>ys(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===N4||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>_d(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!HI(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=je(this,Qi))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=je(this,Qi))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),je(this,vs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(je(this,Qi)&&(je(this,Uf)?je(this,Qi).cancel({revert:!0}):je(this,Qi).cancelRetry()),this.scheduleGc()),je(this,vs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Cn(this,Js,Wc).call(this,{type:"invalidate"})}async fetch(t,n){var c,d,h,p,g,m,b,x,y,w,A,C;if(this.state.fetchStatus!=="idle"&&((c=je(this,Qi))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(je(this,Qi))return je(this,Qi).continueRetry(),je(this,Qi).promise}if(t&&this.setOptions(t),!this.options.queryFn){const P=this.observers.find(E=>E.options.queryFn);P&&this.setOptions(P.options)}const r=new AbortController,i=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(Ct(this,Uf,!0),r.signal)})},a=()=>{const P=VI(this.options,n),I=(()=>{const z={client:je(this,Bf),queryKey:this.queryKey,meta:this.meta};return i(z),z})();return Ct(this,Uf,!1),this.options.persister?this.options.persister(P,I,this):P(I)},l=(()=>{const P={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:je(this,Bf),state:this.state,fetchFn:a};return i(P),P})();(d=this.options.behavior)==null||d.onFetch(l,this),Ct(this,Mp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&Cn(this,Js,Wc).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta}),Ct(this,Qi,YI({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:P=>{P instanceof oS&&P.revert&&this.setState({...je(this,Mp),fetchStatus:"idle"}),r.abort()},onFail:(P,E)=>{Cn(this,Js,Wc).call(this,{type:"failed",failureCount:P,error:E})},onPause:()=>{Cn(this,Js,Wc).call(this,{type:"pause"})},onContinue:()=>{Cn(this,Js,Wc).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const P=await je(this,Qi).start();if(P===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(P),(m=(g=je(this,vs).config).onSuccess)==null||m.call(g,P,this),(x=(b=je(this,vs).config).onSettled)==null||x.call(b,P,this.state.error,this),P}catch(P){if(P instanceof oS){if(P.silent)return je(this,Qi).promise;if(P.revert){if(this.state.data===void 0)throw P;return this.state.data}}throw Cn(this,Js,Wc).call(this,{type:"error",error:P}),(w=(y=je(this,vs).config).onError)==null||w.call(y,P,this),(C=(A=je(this,vs).config).onSettled)==null||C.call(A,this.state.data,P,this),P}finally{this.scheduleGc()}}},qf=new WeakMap,Mp=new WeakMap,vs=new WeakMap,Bf=new WeakMap,Qi=new WeakMap,Pv=new WeakMap,Uf=new WeakMap,Js=new WeakSet,Wc=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...QI(r.data,this.options),fetchMeta:t.meta??null};case"success":const i={...r,...ZC(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ct(this,Mp,t.manual?i:void 0),i;case"error":const a=t.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),$i.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),je(this,vs).notify({query:this,type:"updated",action:t})})},lI);function QI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:KI(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ZC(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function eP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var uo,Bn,Ev,Ua,Hf,zp,Gc,pd,kv,Fp,$p,Wf,Vf,md,qp,lr,jg,sS,lS,cS,uS,dS,fS,hS,JI,cI,nG=(cI=class extends bm{constructor(t,n){super();en(this,lr);en(this,uo);en(this,Bn);en(this,Ev);en(this,Ua);en(this,Hf);en(this,zp);en(this,Gc);en(this,pd);en(this,kv);en(this,Fp);en(this,$p);en(this,Wf);en(this,Vf);en(this,md);en(this,qp,new Set);this.options=n,Ct(this,uo,t),Ct(this,pd,null),Ct(this,Gc,aS()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(je(this,Bn).addObserver(this),tP(je(this,Bn),this.options)?Cn(this,lr,jg).call(this):this.updateResult(),Cn(this,lr,uS).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return pS(je(this,Bn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return pS(je(this,Bn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Cn(this,lr,dS).call(this),Cn(this,lr,fS).call(this),je(this,Bn).removeObserver(this)}setOptions(t){const n=this.options,r=je(this,Bn);if(this.options=je(this,uo).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ys(this.options.enabled,je(this,Bn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Cn(this,lr,hS).call(this),je(this,Bn).setOptions(this.options),n._defaulted&&!Ly(this.options,n)&&je(this,uo).getQueryCache().notify({type:"observerOptionsUpdated",query:je(this,Bn),observer:this});const i=this.hasListeners();i&&nP(je(this,Bn),r,this.options,n)&&Cn(this,lr,jg).call(this),this.updateResult(),i&&(je(this,Bn)!==r||ys(this.options.enabled,je(this,Bn))!==ys(n.enabled,je(this,Bn))||_d(this.options.staleTime,je(this,Bn))!==_d(n.staleTime,je(this,Bn)))&&Cn(this,lr,sS).call(this);const a=Cn(this,lr,lS).call(this);i&&(je(this,Bn)!==r||ys(this.options.enabled,je(this,Bn))!==ys(n.enabled,je(this,Bn))||a!==je(this,md))&&Cn(this,lr,cS).call(this,a)}getOptimisticResult(t){const n=je(this,uo).getQueryCache().build(je(this,uo),t),r=this.createResult(n,t);return iG(this,r)&&(Ct(this,Ua,r),Ct(this,zp,this.options),Ct(this,Hf,je(this,Bn).state)),r}getCurrentResult(){return je(this,Ua)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&je(this,Gc).status==="pending"&&je(this,Gc).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(t){je(this,qp).add(t)}getCurrentQuery(){return je(this,Bn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=je(this,uo).defaultQueryOptions(t),r=je(this,uo).getQueryCache().build(je(this,uo),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Cn(this,lr,jg).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),je(this,Ua)))}createResult(t,n){var F;const r=je(this,Bn),i=this.options,a=je(this,Ua),s=je(this,Hf),l=je(this,zp),d=t!==r?t.state:je(this,Ev),{state:h}=t;let p={...h},g=!1,m;if(n._optimisticResults){const G=this.hasListeners(),R=!G&&tP(t,n),k=G&&nP(t,r,n,i);(R||k)&&(p={...p,...QI(h.data,t.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:b,errorUpdatedAt:x,status:y}=p;m=p.data;let w=!1;if(n.placeholderData!==void 0&&m===void 0&&y==="pending"){let G;a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(G=a.data,w=!0):G=typeof n.placeholderData=="function"?n.placeholderData((F=je(this,$p))==null?void 0:F.state.data,je(this,$p)):n.placeholderData,G!==void 0&&(y="success",m=iS(a==null?void 0:a.data,G,n),g=!0)}if(n.select&&m!==void 0&&!w)if(a&&m===(s==null?void 0:s.data)&&n.select===je(this,kv))m=je(this,Fp);else try{Ct(this,kv,n.select),m=n.select(m),m=iS(a==null?void 0:a.data,m,n),Ct(this,Fp,m),Ct(this,pd,null)}catch(G){Ct(this,pd,G)}je(this,pd)&&(b=je(this,pd),m=je(this,Fp),x=Date.now(),y="error");const A=p.fetchStatus==="fetching",C=y==="pending",P=y==="error",E=C&&A,I=m!==void 0,O={status:y,fetchStatus:p.fetchStatus,isPending:C,isSuccess:y==="success",isError:P,isInitialLoading:E,isLoading:E,data:m,dataUpdatedAt:p.dataUpdatedAt,error:b,errorUpdatedAt:x,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>d.dataUpdateCount||p.errorUpdateCount>d.errorUpdateCount,isFetching:A,isRefetching:A&&!C,isLoadingError:P&&!I,isPaused:p.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:P&&I,isStale:C4(t,n),refetch:this.refetch,promise:je(this,Gc),isEnabled:ys(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const G=B=>{O.status==="error"?B.reject(O.error):O.data!==void 0&&B.resolve(O.data)},R=()=>{const B=Ct(this,Gc,O.promise=aS());G(B)},k=je(this,Gc);switch(k.status){case"pending":t.queryHash===r.queryHash&&G(k);break;case"fulfilled":(O.status==="error"||O.data!==k.value)&&R();break;case"rejected":(O.status!=="error"||O.error!==k.reason)&&R();break}}return O}updateResult(){const t=je(this,Ua),n=this.createResult(je(this,Bn),this.options);if(Ct(this,Hf,je(this,Bn).state),Ct(this,zp,this.options),je(this,Hf).data!==void 0&&Ct(this,$p,je(this,Bn)),Ly(n,t))return;Ct(this,Ua,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!je(this,qp).size)return!0;const s=new Set(a??je(this,qp));return this.options.throwOnError&&s.add("error"),Object.keys(je(this,Ua)).some(l=>{const c=l;return je(this,Ua)[c]!==t[c]&&s.has(c)})};Cn(this,lr,JI).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Cn(this,lr,uS).call(this)}},uo=new WeakMap,Bn=new WeakMap,Ev=new WeakMap,Ua=new WeakMap,Hf=new WeakMap,zp=new WeakMap,Gc=new WeakMap,pd=new WeakMap,kv=new WeakMap,Fp=new WeakMap,$p=new WeakMap,Wf=new WeakMap,Vf=new WeakMap,md=new WeakMap,qp=new WeakMap,lr=new WeakSet,jg=function(t){Cn(this,lr,hS).call(this);let n=je(this,Bn).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Wa)),n},sS=function(){Cn(this,lr,dS).call(this);const t=_d(this.options.staleTime,je(this,Bn));if(rh||je(this,Ua).isStale||!nS(t))return;const r=HI(je(this,Ua).dataUpdatedAt,t)+1;Ct(this,Wf,Tf.setTimeout(()=>{je(this,Ua).isStale||this.updateResult()},r))},lS=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(je(this,Bn)):this.options.refetchInterval)??!1},cS=function(t){Cn(this,lr,fS).call(this),Ct(this,md,t),!(rh||ys(this.options.enabled,je(this,Bn))===!1||!nS(je(this,md))||je(this,md)===0)&&Ct(this,Vf,Tf.setInterval(()=>{(this.options.refetchIntervalInBackground||A4.isFocused())&&Cn(this,lr,jg).call(this)},je(this,md)))},uS=function(){Cn(this,lr,sS).call(this),Cn(this,lr,cS).call(this,Cn(this,lr,lS).call(this))},dS=function(){je(this,Wf)&&(Tf.clearTimeout(je(this,Wf)),Ct(this,Wf,void 0))},fS=function(){je(this,Vf)&&(Tf.clearInterval(je(this,Vf)),Ct(this,Vf,void 0))},hS=function(){const t=je(this,uo).getQueryCache().build(je(this,uo),this.options);if(t===je(this,Bn))return;const n=je(this,Bn);Ct(this,Bn,t),Ct(this,Ev,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},JI=function(t){$i.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(je(this,Ua))}),je(this,uo).getQueryCache().notify({query:je(this,Bn),type:"observerResultsUpdated"})})},cI);function rG(e,t){return ys(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function tP(e,t){return rG(e,t)||e.state.data!==void 0&&pS(e,t,t.refetchOnMount)}function pS(e,t,n){if(ys(t.enabled,e)!==!1&&_d(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&C4(e,t)}return!1}function nP(e,t,n,r){return(e!==t||ys(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&C4(e,n)}function C4(e,t){return ys(t.enabled,e)!==!1&&e.isStaleByTime(_d(t.staleTime,e))}function iG(e,t){return!Ly(e.getCurrentResult(),t)}function rP(e){return{onFetch:(t,n)=>{var h,p,g,m,b;const r=t.options,i=(g=(p=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:g.direction,a=((m=t.state.data)==null?void 0:m.pages)||[],s=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const y=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},w=VI(t.options,t.fetchOptions),A=async(C,P,E)=>{if(x)return Promise.reject();if(P==null&&C.pages.length)return Promise.resolve(C);const z=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:P,direction:E?"backward":"forward",meta:t.options.meta};return y(R),R})(),O=await w(z),{maxPages:F}=t.options,G=E?YV:KV;return{pages:G(C.pages,O,F),pageParams:G(C.pageParams,P,F)}};if(i&&a.length){const C=i==="backward",P=C?aG:iP,E={pages:a,pageParams:s},I=P(r,E);l=await A(E,I,C)}else{const C=e??a.length;do{const P=c===0?s[0]??r.initialPageParam:iP(r,l);if(c>0&&P==null)break;l=await A(l,P),c++}while(c<C)}return l};t.options.persister?t.fetchFn=()=>{var x,y;return(y=(x=t.options).persister)==null?void 0:y.call(x,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function iP(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function aG(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ov,Rl,Ha,Gf,Ml,sd,uI,oG=(uI=class extends XI{constructor(t){super();en(this,Ml);en(this,Ov);en(this,Rl);en(this,Ha);en(this,Gf);Ct(this,Ov,t.client),this.mutationId=t.mutationId,Ct(this,Ha,t.mutationCache),Ct(this,Rl,[]),this.state=t.state||ZI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){je(this,Rl).includes(t)||(je(this,Rl).push(t),this.clearGcTimeout(),je(this,Ha).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ct(this,Rl,je(this,Rl).filter(n=>n!==t)),this.scheduleGc(),je(this,Ha).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){je(this,Rl).length||(this.state.status==="pending"?this.scheduleGc():je(this,Ha).remove(this))}continue(){var t;return((t=je(this,Gf))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,l,c,d,h,p,g,m,b,x,y,w,A,C,P,E,I,z,O,F;const n=()=>{Cn(this,Ml,sd).call(this,{type:"continue"})},r={client:je(this,Ov),meta:this.options.meta,mutationKey:this.options.mutationKey};Ct(this,Gf,YI({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(G,R)=>{Cn(this,Ml,sd).call(this,{type:"failed",failureCount:G,error:R})},onPause:()=>{Cn(this,Ml,sd).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>je(this,Ha).canRun(this)}));const i=this.state.status==="pending",a=!je(this,Gf).canStart();try{if(i)n();else{Cn(this,Ml,sd).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(s=je(this,Ha).config).onMutate)==null?void 0:l.call(s,t,this,r));const R=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,r));R!==this.state.context&&Cn(this,Ml,sd).call(this,{type:"pending",context:R,variables:t,isPaused:a})}const G=await je(this,Gf).start();return await((p=(h=je(this,Ha).config).onSuccess)==null?void 0:p.call(h,G,t,this.state.context,this,r)),await((m=(g=this.options).onSuccess)==null?void 0:m.call(g,G,t,this.state.context,r)),await((x=(b=je(this,Ha).config).onSettled)==null?void 0:x.call(b,G,null,this.state.variables,this.state.context,this,r)),await((w=(y=this.options).onSettled)==null?void 0:w.call(y,G,null,t,this.state.context,r)),Cn(this,Ml,sd).call(this,{type:"success",data:G}),G}catch(G){try{throw await((C=(A=je(this,Ha).config).onError)==null?void 0:C.call(A,G,t,this.state.context,this,r)),await((E=(P=this.options).onError)==null?void 0:E.call(P,G,t,this.state.context,r)),await((z=(I=je(this,Ha).config).onSettled)==null?void 0:z.call(I,void 0,G,this.state.variables,this.state.context,this,r)),await((F=(O=this.options).onSettled)==null?void 0:F.call(O,void 0,G,t,this.state.context,r)),G}finally{Cn(this,Ml,sd).call(this,{type:"error",error:G})}}finally{je(this,Ha).runNext(this)}}},Ov=new WeakMap,Rl=new WeakMap,Ha=new WeakMap,Gf=new WeakMap,Ml=new WeakSet,sd=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),$i.batch(()=>{je(this,Rl).forEach(r=>{r.onMutationUpdate(t)}),je(this,Ha).notify({mutation:this,type:"updated",action:t})})},uI);function ZI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Kc,Zs,Tv,dI,sG=(dI=class extends bm{constructor(t={}){super();en(this,Kc);en(this,Zs);en(this,Tv);this.config=t,Ct(this,Kc,new Set),Ct(this,Zs,new Map),Ct(this,Tv,0)}build(t,n,r){const i=new oG({client:t,mutationCache:this,mutationId:++T0(this,Tv)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){je(this,Kc).add(t);const n=R0(t);if(typeof n=="string"){const r=je(this,Zs).get(n);r?r.push(t):je(this,Zs).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(je(this,Kc).delete(t)){const n=R0(t);if(typeof n=="string"){const r=je(this,Zs).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&je(this,Zs).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=R0(t);if(typeof n=="string"){const r=je(this,Zs).get(n),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=R0(t);if(typeof n=="string"){const i=(r=je(this,Zs).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$i.batch(()=>{je(this,Kc).forEach(t=>{this.notify({type:"removed",mutation:t})}),je(this,Kc).clear(),je(this,Zs).clear()})}getAll(){return Array.from(je(this,Kc))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>XC(n,r))}findAll(t={}){return this.getAll().filter(n=>XC(t,n))}notify(t){$i.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return $i.batch(()=>Promise.all(t.map(n=>n.continue().catch(Wa))))}},Kc=new WeakMap,Zs=new WeakMap,Tv=new WeakMap,dI);function R0(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Yc,gd,fo,Xc,ou,yy,mS,fI,lG=(fI=class extends bm{constructor(n,r){super();en(this,ou);en(this,Yc);en(this,gd);en(this,fo);en(this,Xc);Ct(this,Yc,n),this.setOptions(r),this.bindMethods(),Cn(this,ou,yy).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=je(this,Yc).defaultMutationOptions(n),Ly(this.options,r)||je(this,Yc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:je(this,fo),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ih(r.mutationKey)!==ih(this.options.mutationKey)?this.reset():((i=je(this,fo))==null?void 0:i.state.status)==="pending"&&je(this,fo).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=je(this,fo))==null||n.removeObserver(this)}onMutationUpdate(n){Cn(this,ou,yy).call(this),Cn(this,ou,mS).call(this,n)}getCurrentResult(){return je(this,gd)}reset(){var n;(n=je(this,fo))==null||n.removeObserver(this),Ct(this,fo,void 0),Cn(this,ou,yy).call(this),Cn(this,ou,mS).call(this)}mutate(n,r){var i;return Ct(this,Xc,r),(i=je(this,fo))==null||i.removeObserver(this),Ct(this,fo,je(this,Yc).getMutationCache().build(je(this,Yc),this.options)),je(this,fo).addObserver(this),je(this,fo).execute(n)}},Yc=new WeakMap,gd=new WeakMap,fo=new WeakMap,Xc=new WeakMap,ou=new WeakSet,yy=function(){var r;const n=((r=je(this,fo))==null?void 0:r.state)??ZI();Ct(this,gd,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},mS=function(n){$i.batch(()=>{var r,i,a,s,l,c,d,h;if(je(this,Xc)&&this.hasListeners()){const p=je(this,gd).variables,g=je(this,gd).context,m={client:je(this,Yc),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(r=je(this,Xc)).onSuccess)==null||i.call(r,n.data,p,g,m),(s=(a=je(this,Xc)).onSettled)==null||s.call(a,n.data,null,p,g,m)):(n==null?void 0:n.type)==="error"&&((c=(l=je(this,Xc)).onError)==null||c.call(l,n.error,p,g,m),(h=(d=je(this,Xc)).onSettled)==null||h.call(d,void 0,n.error,p,g,m))}this.listeners.forEach(p=>{p(je(this,gd))})})},fI),zl,hI,cG=(hI=class extends bm{constructor(t={}){super();en(this,zl);this.config=t,Ct(this,zl,new Map)}build(t,n,r){const i=n.queryKey,a=n.queryHash??S4(i,n);let s=this.get(a);return s||(s=new tG({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){je(this,zl).has(t.queryHash)||(je(this,zl).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=je(this,zl).get(t.queryHash);n&&(t.destroy(),n===t&&je(this,zl).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){$i.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return je(this,zl).get(t)}getAll(){return[...je(this,zl).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>YC(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>YC(t,r)):n}notify(t){$i.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){$i.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){$i.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},zl=new WeakMap,hI),hi,vd,yd,Bp,Up,xd,Hp,Wp,pI,uG=(pI=class{constructor(e={}){en(this,hi);en(this,vd);en(this,yd);en(this,Bp);en(this,Up);en(this,xd);en(this,Hp);en(this,Wp);Ct(this,hi,e.queryCache||new cG),Ct(this,vd,e.mutationCache||new sG),Ct(this,yd,e.defaultOptions||{}),Ct(this,Bp,new Map),Ct(this,Up,new Map),Ct(this,xd,0)}mount(){T0(this,xd)._++,je(this,xd)===1&&(Ct(this,Hp,A4.subscribe(async e=>{e&&(await this.resumePausedMutations(),je(this,hi).onFocus())})),Ct(this,Wp,Iy.subscribe(async e=>{e&&(await this.resumePausedMutations(),je(this,hi).onOnline())})))}unmount(){var e,t;T0(this,xd)._--,je(this,xd)===0&&((e=je(this,Hp))==null||e.call(this),Ct(this,Hp,void 0),(t=je(this,Wp))==null||t.call(this),Ct(this,Wp,void 0))}isFetching(e){return je(this,hi).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return je(this,vd).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=je(this,hi).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=je(this,hi).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(_d(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return je(this,hi).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=je(this,hi).get(r.queryHash),a=i==null?void 0:i.state.data,s=WV(t,a);if(s!==void 0)return je(this,hi).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return $i.batch(()=>je(this,hi).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=je(this,hi).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=je(this,hi);$i.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=je(this,hi);return $i.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=$i.batch(()=>je(this,hi).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Wa).catch(Wa)}invalidateQueries(e,t={}){return $i.batch(()=>(je(this,hi).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=$i.batch(()=>je(this,hi).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Wa)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Wa)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=je(this,hi).build(this,t);return n.isStaleByTime(_d(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Wa).catch(Wa)}fetchInfiniteQuery(e){return e.behavior=rP(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Wa).catch(Wa)}ensureInfiniteQueryData(e){return e.behavior=rP(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Iy.isOnline()?je(this,vd).resumePausedMutations():Promise.resolve()}getQueryCache(){return je(this,hi)}getMutationCache(){return je(this,vd)}getDefaultOptions(){return je(this,yd)}setDefaultOptions(e){Ct(this,yd,e)}setQueryDefaults(e,t){je(this,Bp).set(ih(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...je(this,Bp).values()],n={};return t.forEach(r=>{Bg(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){je(this,Up).set(ih(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...je(this,Up).values()],n={};return t.forEach(r=>{Bg(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...je(this,yd).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=S4(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===N4&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...je(this,yd).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){je(this,hi).clear(),je(this,vd).clear()}},hi=new WeakMap,vd=new WeakMap,yd=new WeakMap,Bp=new WeakMap,Up=new WeakMap,xd=new WeakMap,Hp=new WeakMap,Wp=new WeakMap,pI),eR=j.createContext(void 0),Or=e=>{const t=j.useContext(eR);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},dG=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(eR.Provider,{value:e,children:t})),tR=j.createContext(!1),fG=()=>j.useContext(tR);tR.Provider;function hG(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var pG=j.createContext(hG()),mG=()=>j.useContext(pG),gG=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},vG=e=>{j.useEffect(()=>{e.clearReset()},[e])},yG=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||GI(n,[e.error,r])),xG=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},bG=(e,t)=>e.isLoading&&e.isFetching&&!t,wG=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,aP=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function _G(e,t,n){var p,g,m,b,x;const r=fG(),i=mG(),a=Or(),s=a.defaultQueryOptions(e);(g=(p=a.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||g.call(p,s),s._optimisticResults=r?"isRestoring":"optimistic",xG(s),gG(s,i),vG(i);const l=!a.getQueryCache().get(s.queryHash),[c]=j.useState(()=>new t(a,s)),d=c.getOptimisticResult(s),h=!r&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(y=>{const w=h?c.subscribe($i.batchCalls(y)):Wa;return c.updateResult(),w},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(s)},[s,c]),wG(s,d))throw aP(s,c,i);if(yG({result:d,errorResetBoundary:i,throwOnError:s.throwOnError,query:a.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw d.error;if((b=(m=a.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||b.call(m,s,d),s.experimental_prefetchInRender&&!rh&&bG(d,r)){const y=l?aP(s,c,i):(x=a.getQueryCache().get(s.queryHash))==null?void 0:x.promise;y==null||y.catch(Wa).finally(()=>{c.updateResult()})}return s.notifyOnChangeProps?d:c.trackResult(d)}function Wt(e,t){return _G(e,nG)}function vn(e,t){const n=Or(),[r]=j.useState(()=>new lG(n,e));j.useEffect(()=>{r.setOptions(e)},[r,e]);const i=j.useSyncExternalStore(j.useCallback(s=>r.subscribe($i.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=j.useCallback((s,l)=>{r.mutate(s,l).catch(Wa)},[r]);if(i.error&&GI(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}function tc(){var l,c,d;const e=Or(),t=h=>{if(!h)return null;let p=h.roles;if(typeof p=="string")try{p=JSON.parse(p)}catch{p=[p]}return Array.isArray(p)||(p=p?[p]:[]),p.length===0&&h.role&&(p=[h.role]),{...h,roles:p}},{data:n,isLoading:r,error:i,refetch:a}=Wt({queryKey:["auth_user"],queryFn:async()=>{try{if(!localStorage.getItem("auth_token"))return null;const p=await we.auth.me();return t(p)}catch(h){return console.error("Auth error:",h),null}},staleTime:1e3*60*5,retry:!1});return{user:n,isLoading:r,error:i,logout:()=>{we.auth.logout(),e.setQueryData(["auth_user"],null),e.invalidateQueries()},refetch:a,isAuthenticated:!!n,isAdmin:((l=n==null?void 0:n.roles)==null?void 0:l.includes("admin"))||((c=n==null?void 0:n.roles)==null?void 0:c.includes("super_admin"))||(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="super_admin",isSuperAdmin:((d=n==null?void 0:n.roles)==null?void 0:d.includes("super_admin"))||(n==null?void 0:n.role)==="super_admin"}}function jG({children:e,currentPageName:t}){const{user:n,logout:r}=tc(),[i,a]=j.useState(!1);j.useEffect(()=>{(async()=>{if(n)try{const b=await we.entities.ProfiloCoworker.filter({email:n.email,user_id:null});b.length>0&&await we.entities.ProfiloCoworker.update(b[0].id,{user_id:n.id,stato:"iscritto"})}catch(b){console.error("Errore sincronizzazione profilo:",b)}})()},[n]);const s=m=>n?(Array.isArray(n.roles)?n.roles:typeof n.roles=="string"?[n.roles]:[]).includes(m)||n.role===m:!1,l=s("socio")||s("admin")||s("super_admin"),c=s("admin")||s("super_admin");s("super_admin");const d=s("gestore_turni")||c,h=s("coworker")||l,p=s("host"),g=async()=>{r()};return o.jsxs("div",{className:"min-h-screen bg-white",children:[n&&o.jsx("header",{className:"bg-[#053c5e] border-b-4 border-[#db222a] sticky top-0 z-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsx(Fr,{to:Mn("Home"),className:"flex items-center space-x-3",children:o.jsx("img",{src:"/logo-white.png",alt:"neu [ni]",className:"h-12"})}),o.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[l&&o.jsxs(o.Fragment,{children:[o.jsxs(Fr,{to:Mn("MieiNEU"),className:"px-3 py-2 text-white hover:bg-[#1f7a8c] flex items-center gap-2",children:[o.jsx(Yl,{className:"w-4 h-4"}),"Banca NEU"]}),o.jsxs(Fr,{to:Mn("Volontariato"),className:"px-3 py-2 text-white hover:bg-[#1f7a8c] flex items-center gap-2",children:[o.jsx(vo,{className:"w-4 h-4"}),"Volontariato"]}),o.jsxs(Fr,{to:Mn("MieiTask"),className:"px-3 py-2 text-white hover:bg-[#1f7a8c] flex items-center gap-2",children:[o.jsx(Zj,{className:"w-4 h-4"}),"Task"]})]}),d&&o.jsxs(Fr,{to:Mn("TurniHost"),className:"px-3 py-2 text-white hover:bg-[#1f7a8c] flex items-center gap-2",children:[o.jsx(na,{className:"w-4 h-4"}),"Turni Host"]}),h&&o.jsxs(Fr,{to:Mn("Coworking"),className:"px-3 py-2 text-white hover:bg-[#1f7a8c] flex items-center gap-2",children:[o.jsx(Qx,{className:"w-4 h-4"}),"Coworking"]}),p&&o.jsxs(Fr,{to:Mn("Host"),className:"px-3 py-2 text-white hover:bg-[#1f7a8c] flex items-center gap-2",children:[o.jsx(MI,{className:"w-4 h-4"}),"Host"]}),c&&o.jsx(o.Fragment,{children:o.jsxs(Fr,{to:Mn("Amministrazione"),className:"px-3 py-2 text-white hover:bg-[#1f7a8c] flex items-center gap-2",children:[o.jsx(qI,{className:"w-4 h-4"}),"Admin"]})}),n&&o.jsxs("div",{className:"flex items-center gap-3 ml-4 pl-4 border-l border-[#1f7a8c]",children:[o.jsxs(Fr,{to:Mn("Profilo"),className:"px-3 py-2 text-white hover:bg-[#1f7a8c] flex items-center gap-2",children:[o.jsx(yo,{className:"w-4 h-4"}),n.full_name]}),o.jsx("button",{onClick:g,className:"p-2 text-white hover:bg-[#db222a]",children:o.jsx(cV,{className:"w-4 h-4"})})]})]}),o.jsx("button",{onClick:()=>a(!i),className:"md:hidden p-2 text-white hover:bg-[#1f7a8c]",children:i?o.jsx(go,{className:"w-6 h-6"}):o.jsx(pV,{className:"w-6 h-6"})})]}),i&&o.jsxs("div",{className:"md:hidden py-4 space-y-2 border-t border-[#1f7a8c]",children:[l&&o.jsxs(o.Fragment,{children:[o.jsx(Fr,{to:Mn("MieiNEU"),className:"block px-3 py-2 rounded-lg text-white hover:bg-[#1f7a8c]",onClick:()=>a(!1),children:"Banca NEU"}),o.jsx(Fr,{to:Mn("Volontariato"),className:"block px-3 py-2 rounded-lg text-white hover:bg-[#1f7a8c]",onClick:()=>a(!1),children:"Volontariato"}),o.jsx(Fr,{to:Mn("MieiTask"),className:"block px-3 py-2 rounded-lg text-white hover:bg-[#1f7a8c]",onClick:()=>a(!1),children:"Task"})]}),d&&o.jsx(Fr,{to:Mn("TurniHost"),className:"block px-3 py-2 rounded-lg text-white hover:bg-[#1f7a8c]",onClick:()=>a(!1),children:"Turni Host"}),h&&o.jsx(Fr,{to:Mn("Coworking"),className:"block px-3 py-2 rounded-lg text-white hover:bg-[#1f7a8c]",onClick:()=>a(!1),children:"Coworking"}),p&&o.jsx(Fr,{to:Mn("Host"),className:"block px-3 py-2 rounded-lg text-white hover:bg-[#1f7a8c]",onClick:()=>a(!1),children:"Host"}),c&&o.jsx(o.Fragment,{children:o.jsx(Fr,{to:Mn("Amministrazione"),className:"block px-3 py-2 rounded-lg text-white hover:bg-[#1f7a8c]",onClick:()=>a(!1),children:"Amministrazione"})}),n&&o.jsxs("div",{className:"pt-4 border-t border-[#1f7a8c]",children:[o.jsx(Fr,{to:Mn("Profilo"),className:"block px-3 py-2 rounded-lg text-white hover:bg-[#1f7a8c]",onClick:()=>a(!1),children:n.full_name}),o.jsx("button",{onClick:g,className:"w-full text-left px-3 py-2 rounded-lg text-white hover:bg-[#1f7a8c]",children:"Esci"})]})]})]})}),o.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e}),o.jsx("footer",{className:"bg-[#053c5e] border-t-4 border-[#db222a] mt-12",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:o.jsxs("div",{className:"text-center text-white text-sm",children:[o.jsx("img",{src:"/logo-white.png",alt:"neu [ni]",className:"h-8 mx-auto mb-2"}),o.jsx("p",{children:"neu [ni] spazio al lavoro APS"}),o.jsx("p",{className:"mt-1",children:"via Alloro 64, 90133 Palermo"})]})})})]})}function nR(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=nR(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Xn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=nR(e))&&(r&&(r+=" "),r+=t);return r}const SG=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},NG=(e,t)=>({classGroupId:e,validator:t}),rR=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Ry="-",oP=[],AG="arbitrary..",CG=e=>{const t=EG(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{if(s.startsWith("[")&&s.endsWith("]"))return PG(s);const l=s.split(Ry),c=l[0]===""&&l.length>1?1:0;return iR(l,c,t)},getConflictingClassGroupIds:(s,l)=>{if(l){const c=r[s],d=n[s];return c?d?SG(d,c):c:d||oP}return n[s]||oP}}},iR=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const i=e[t],a=n.nextPart.get(i);if(a){const d=iR(e,t+1,a);if(d)return d}const s=n.validators;if(s===null)return;const l=t===0?e.join(Ry):e.slice(t).join(Ry),c=s.length;for(let d=0;d<c;d++){const h=s[d];if(h.validator(l))return h.classGroupId}},PG=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?AG+r:void 0})(),EG=e=>{const{theme:t,classGroups:n}=e;return kG(n,t)},kG=(e,t)=>{const n=rR();for(const r in e){const i=e[r];P4(i,n,r,t)}return n},P4=(e,t,n,r)=>{const i=e.length;for(let a=0;a<i;a++){const s=e[a];OG(s,t,n,r)}},OG=(e,t,n,r)=>{if(typeof e=="string"){TG(e,t,n);return}if(typeof e=="function"){DG(e,t,n,r);return}LG(e,t,n,r)},TG=(e,t,n)=>{const r=e===""?t:aR(t,e);r.classGroupId=n},DG=(e,t,n,r)=>{if(IG(e)){P4(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(NG(n,e))},LG=(e,t,n,r)=>{const i=Object.entries(e),a=i.length;for(let s=0;s<a;s++){const[l,c]=i[s];P4(c,aR(t,l),n,r)}},aR=(e,t)=>{let n=e;const r=t.split(Ry),i=r.length;for(let a=0;a<i;a++){const s=r[a];let l=n.nextPart.get(s);l||(l=rR(),n.nextPart.set(s,l)),n=l}return n},IG=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,RG=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const i=(a,s)=>{n[a]=s,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(a){let s=n[a];if(s!==void 0)return s;if((s=r[a])!==void 0)return i(a,s),s},set(a,s){a in n?n[a]=s:i(a,s)}}},gS="!",sP=":",MG=[],lP=(e,t,n,r,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),zG=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const a=[];let s=0,l=0,c=0,d;const h=i.length;for(let x=0;x<h;x++){const y=i[x];if(s===0&&l===0){if(y===sP){a.push(i.slice(c,x)),c=x+1;continue}if(y==="/"){d=x;continue}}y==="["?s++:y==="]"?s--:y==="("?l++:y===")"&&l--}const p=a.length===0?i:i.slice(c);let g=p,m=!1;p.endsWith(gS)?(g=p.slice(0,-1),m=!0):p.startsWith(gS)&&(g=p.slice(1),m=!0);const b=d&&d>c?d-c:void 0;return lP(a,m,g,b)};if(t){const i=t+sP,a=r;r=s=>s.startsWith(i)?a(s.slice(i.length)):lP(MG,!1,s,void 0,!0)}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},FG=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let a=0;a<n.length;a++){const s=n[a],l=s[0]==="[",c=t.has(s);l||c?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(s)):i.push(s)}return i.length>0&&(i.sort(),r.push(...i)),r}},$G=e=>({cache:RG(e.cacheSize),parseClassName:zG(e),sortModifiers:FG(e),...CG(e)}),qG=/\s+/,BG=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=t,s=[],l=e.trim().split(qG);let c="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{isExternal:p,modifiers:g,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:x}=n(h);if(p){c=h+(c.length>0?" "+c:c);continue}let y=!!x,w=r(y?b.substring(0,x):b);if(!w){if(!y){c=h+(c.length>0?" "+c:c);continue}if(w=r(b),!w){c=h+(c.length>0?" "+c:c);continue}y=!1}const A=g.length===0?"":g.length===1?g[0]:a(g).join(":"),C=m?A+gS:A,P=C+w;if(s.indexOf(P)>-1)continue;s.push(P);const E=i(w,y);for(let I=0;I<E.length;++I){const z=E[I];s.push(C+z)}c=h+(c.length>0?" "+c:c)}return c},UG=(...e)=>{let t=0,n,r,i="";for(;t<e.length;)(n=e[t++])&&(r=oR(n))&&(i&&(i+=" "),i+=r);return i},oR=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=oR(e[r]))&&(n&&(n+=" "),n+=t);return n},HG=(e,...t)=>{let n,r,i,a;const s=c=>{const d=t.reduce((h,p)=>p(h),e());return n=$G(d),r=n.cache.get,i=n.cache.set,a=l,l(c)},l=c=>{const d=r(c);if(d)return d;const h=BG(c,n);return i(c,h),h};return a=s,(...c)=>a(UG(...c))},WG=[],Mi=e=>{const t=n=>n[e]||WG;return t.isThemeGetter=!0,t},sR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,lR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,VG=/^\d+\/\d+$/,GG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,KG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,YG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,XG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,QG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,np=e=>VG.test(e),Tn=e=>!!e&&!Number.isNaN(Number(e)),rd=e=>!!e&&Number.isInteger(Number(e)),i2=e=>e.endsWith("%")&&Tn(e.slice(0,-1)),$c=e=>GG.test(e),JG=()=>!0,ZG=e=>KG.test(e)&&!YG.test(e),cR=()=>!1,eK=e=>XG.test(e),tK=e=>QG.test(e),nK=e=>!Bt(e)&&!Ut(e),rK=e=>wm(e,fR,cR),Bt=e=>sR.test(e),jf=e=>wm(e,hR,ZG),a2=e=>wm(e,lK,Tn),cP=e=>wm(e,uR,cR),iK=e=>wm(e,dR,tK),M0=e=>wm(e,pR,eK),Ut=e=>lR.test(e),cg=e=>_m(e,hR),aK=e=>_m(e,cK),uP=e=>_m(e,uR),oK=e=>_m(e,fR),sK=e=>_m(e,dR),z0=e=>_m(e,pR,!0),wm=(e,t,n)=>{const r=sR.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},_m=(e,t,n=!1)=>{const r=lR.exec(e);return r?r[1]?t(r[1]):n:!1},uR=e=>e==="position"||e==="percentage",dR=e=>e==="image"||e==="url",fR=e=>e==="length"||e==="size"||e==="bg-size",hR=e=>e==="length",lK=e=>e==="number",cK=e=>e==="family-name",pR=e=>e==="shadow",uK=()=>{const e=Mi("color"),t=Mi("font"),n=Mi("text"),r=Mi("font-weight"),i=Mi("tracking"),a=Mi("leading"),s=Mi("breakpoint"),l=Mi("container"),c=Mi("spacing"),d=Mi("radius"),h=Mi("shadow"),p=Mi("inset-shadow"),g=Mi("text-shadow"),m=Mi("drop-shadow"),b=Mi("blur"),x=Mi("perspective"),y=Mi("aspect"),w=Mi("ease"),A=Mi("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...P(),Ut,Bt],I=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],O=()=>[Ut,Bt,c],F=()=>[np,"full","auto",...O()],G=()=>[rd,"none","subgrid",Ut,Bt],R=()=>["auto",{span:["full",rd,Ut,Bt]},rd,Ut,Bt],k=()=>[rd,"auto",Ut,Bt],B=()=>["auto","min","max","fr",Ut,Bt],U=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],M=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...O()],Q=()=>[np,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],K=()=>[e,Ut,Bt],Y=()=>[...P(),uP,cP,{position:[Ut,Bt]}],ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",oK,rK,{size:[Ut,Bt]}],T=()=>[i2,cg,jf],V=()=>["","none","full",d,Ut,Bt],J=()=>["",Tn,cg,jf],Z=()=>["solid","dashed","dotted","double"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>[Tn,i2,uP,cP],fe=()=>["","none",b,Ut,Bt],de=()=>["none",Tn,Ut,Bt],be=()=>["none",Tn,Ut,Bt],Ee=()=>[Tn,Ut,Bt],_e=()=>[np,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[$c],breakpoint:[$c],color:[JG],container:[$c],"drop-shadow":[$c],ease:["in","out","in-out"],font:[nK],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[$c],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[$c],shadow:[$c],spacing:["px",Tn],text:[$c],"text-shadow":[$c],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",np,Bt,Ut,y]}],container:["container"],columns:[{columns:[Tn,Bt,Ut,l]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[rd,"auto",Ut,Bt]}],basis:[{basis:[np,"full","auto",l,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Tn,np,"auto","initial","none",Bt]}],grow:[{grow:["",Tn,Ut,Bt]}],shrink:[{shrink:["",Tn,Ut,Bt]}],order:[{order:[rd,"first","last","none",Ut,Bt]}],"grid-cols":[{"grid-cols":G()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":G()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...U(),"normal"]}],"justify-items":[{"justify-items":[...M(),"normal"]}],"justify-self":[{"justify-self":["auto",...M()]}],"align-content":[{content:["normal",...U()]}],"align-items":[{items:[...M(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...M(),{baseline:["","last"]}]}],"place-content":[{"place-content":U()}],"place-items":[{"place-items":[...M(),"baseline"]}],"place-self":[{"place-self":["auto",...M()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:Q()}],w:[{w:[l,"screen",...Q()]}],"min-w":[{"min-w":[l,"screen","none",...Q()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[s]},...Q()]}],h:[{h:["screen","lh",...Q()]}],"min-h":[{"min-h":["screen","lh","none",...Q()]}],"max-h":[{"max-h":["screen","lh",...Q()]}],"font-size":[{text:["base",n,cg,jf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ut,a2]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",i2,Bt]}],"font-family":[{font:[aK,Bt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ut,Bt]}],"line-clamp":[{"line-clamp":[Tn,"none",Ut,a2]}],leading:[{leading:[a,...O()]}],"list-image":[{"list-image":["none",Ut,Bt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ut,Bt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:[Tn,"from-font","auto",Ut,jf]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[Tn,"auto",Ut,Bt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ut,Bt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ut,Bt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Y()}],"bg-repeat":[{bg:ne()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},rd,Ut,Bt],radial:["",Ut,Bt],conic:[rd,Ut,Bt]},sK,iK]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:T()}],"gradient-via-pos":[{via:T()}],"gradient-to-pos":[{to:T()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:J()}],"border-w-x":[{"border-x":J()}],"border-w-y":[{"border-y":J()}],"border-w-s":[{"border-s":J()}],"border-w-e":[{"border-e":J()}],"border-w-t":[{"border-t":J()}],"border-w-r":[{"border-r":J()}],"border-w-b":[{"border-b":J()}],"border-w-l":[{"border-l":J()}],"divide-x":[{"divide-x":J()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":J()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Z(),"hidden","none"]}],"divide-style":[{divide:[...Z(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...Z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Tn,Ut,Bt]}],"outline-w":[{outline:["",Tn,cg,jf]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",h,z0,M0]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",p,z0,M0]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[Tn,jf]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":J()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",g,z0,M0]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[Tn,Ut,Bt]}],"mix-blend":[{"mix-blend":[...oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Tn]}],"mask-image-linear-from-pos":[{"mask-linear-from":se()}],"mask-image-linear-to-pos":[{"mask-linear-to":se()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":se()}],"mask-image-t-to-pos":[{"mask-t-to":se()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":se()}],"mask-image-r-to-pos":[{"mask-r-to":se()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":se()}],"mask-image-b-to-pos":[{"mask-b-to":se()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":se()}],"mask-image-l-to-pos":[{"mask-l-to":se()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":se()}],"mask-image-x-to-pos":[{"mask-x-to":se()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":se()}],"mask-image-y-to-pos":[{"mask-y-to":se()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[Ut,Bt]}],"mask-image-radial-from-pos":[{"mask-radial-from":se()}],"mask-image-radial-to-pos":[{"mask-radial-to":se()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[Tn]}],"mask-image-conic-from-pos":[{"mask-conic-from":se()}],"mask-image-conic-to-pos":[{"mask-conic-to":se()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Y()}],"mask-repeat":[{mask:ne()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ut,Bt]}],filter:[{filter:["","none",Ut,Bt]}],blur:[{blur:fe()}],brightness:[{brightness:[Tn,Ut,Bt]}],contrast:[{contrast:[Tn,Ut,Bt]}],"drop-shadow":[{"drop-shadow":["","none",m,z0,M0]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",Tn,Ut,Bt]}],"hue-rotate":[{"hue-rotate":[Tn,Ut,Bt]}],invert:[{invert:["",Tn,Ut,Bt]}],saturate:[{saturate:[Tn,Ut,Bt]}],sepia:[{sepia:["",Tn,Ut,Bt]}],"backdrop-filter":[{"backdrop-filter":["","none",Ut,Bt]}],"backdrop-blur":[{"backdrop-blur":fe()}],"backdrop-brightness":[{"backdrop-brightness":[Tn,Ut,Bt]}],"backdrop-contrast":[{"backdrop-contrast":[Tn,Ut,Bt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Tn,Ut,Bt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Tn,Ut,Bt]}],"backdrop-invert":[{"backdrop-invert":["",Tn,Ut,Bt]}],"backdrop-opacity":[{"backdrop-opacity":[Tn,Ut,Bt]}],"backdrop-saturate":[{"backdrop-saturate":[Tn,Ut,Bt]}],"backdrop-sepia":[{"backdrop-sepia":["",Tn,Ut,Bt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ut,Bt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Tn,"initial",Ut,Bt]}],ease:[{ease:["linear","initial",w,Ut,Bt]}],delay:[{delay:[Tn,Ut,Bt]}],animate:[{animate:["none",A,Ut,Bt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Ut,Bt]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:de()}],"rotate-x":[{"rotate-x":de()}],"rotate-y":[{"rotate-y":de()}],"rotate-z":[{"rotate-z":de()}],scale:[{scale:be()}],"scale-x":[{"scale-x":be()}],"scale-y":[{"scale-y":be()}],"scale-z":[{"scale-z":be()}],"scale-3d":["scale-3d"],skew:[{skew:Ee()}],"skew-x":[{"skew-x":Ee()}],"skew-y":[{"skew-y":Ee()}],transform:[{transform:[Ut,Bt,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:_e()}],"translate-x":[{"translate-x":_e()}],"translate-y":[{"translate-y":_e()}],"translate-z":[{"translate-z":_e()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ut,Bt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ut,Bt]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[Tn,cg,jf,a2]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},dK=HG(uK);function Lt(...e){return dK(Xn(e))}const yt=j.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Lt("rounded-xl border bg-card text-card-foreground shadow",e),...t}));yt.displayName="Card";const Jt=j.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Lt("flex flex-col space-y-1.5 p-6",e),...t}));Jt.displayName="CardHeader";const Zt=j.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Lt("font-semibold leading-none tracking-tight",e),...t}));Zt.displayName="CardTitle";const il=j.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Lt("text-sm text-muted-foreground",e),...t}));il.displayName="CardDescription";const wt=j.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Lt("p-6 pt-0",e),...t}));wt.displayName="CardContent";const E4=j.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Lt("flex items-center p-6 pt-0",e),...t}));E4.displayName="CardFooter";function cn(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function fK(e,t){const n=j.createContext(t),r=a=>{const{children:s,...l}=a,c=j.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:s})};r.displayName=e+"Provider";function i(a){const s=j.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function Ps(e,t=[]){let n=[];function r(a,s){const l=j.createContext(s),c=n.length;n=[...n,s];const d=p=>{var w;const{scope:g,children:m,...b}=p,x=((w=g==null?void 0:g[e])==null?void 0:w[c])||l,y=j.useMemo(()=>b,Object.values(b));return o.jsx(x.Provider,{value:y,children:m})};d.displayName=a+"Provider";function h(p,g){var x;const m=((x=g==null?void 0:g[e])==null?void 0:x[c])||l,b=j.useContext(m);if(b)return b;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[d,h]}const i=()=>{const a=n.map(s=>j.createContext(s));return function(l){const c=(l==null?void 0:l[e])||a;return j.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,hK(i,...t)]}function hK(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((l,{useScope:c,scopeName:d})=>{const p=c(a)[`__scope${d}`];return{...l,...p}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function dP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function js(...e){return t=>{let n=!1;const r=e.map(i=>{const a=dP(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():dP(e[i],null)}}}}function zn(...e){return j.useCallback(js(...e),e)}function fP(e){const t=pK(e),n=j.forwardRef((r,i)=>{const{children:a,...s}=r,l=j.Children.toArray(a),c=l.find(gK);if(c){const d=c.props.children,h=l.map(p=>p===c?j.Children.count(d)>1?j.Children.only(null):j.isValidElement(d)?d.props.children:null:p);return o.jsx(t,{...s,ref:i,children:j.isValidElement(d)?j.cloneElement(d,void 0,h):null})}return o.jsx(t,{...s,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function pK(e){const t=j.forwardRef((n,r)=>{const{children:i,...a}=n;if(j.isValidElement(i)){const s=yK(i),l=vK(a,i.props);return i.type!==j.Fragment&&(l.ref=r?js(r,s):s),j.cloneElement(i,l)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mK=Symbol("radix.slottable");function gK(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mK}function vK(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function yK(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function mR(e){const t=e+"CollectionProvider",[n,r]=Ps(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=x=>{const{scope:y,children:w}=x,A=ve.useRef(null),C=ve.useRef(new Map).current;return o.jsx(i,{scope:y,itemMap:C,collectionRef:A,children:w})};s.displayName=t;const l=e+"CollectionSlot",c=fP(l),d=ve.forwardRef((x,y)=>{const{scope:w,children:A}=x,C=a(l,w),P=zn(y,C.collectionRef);return o.jsx(c,{ref:P,children:A})});d.displayName=l;const h=e+"CollectionItemSlot",p="data-radix-collection-item",g=fP(h),m=ve.forwardRef((x,y)=>{const{scope:w,children:A,...C}=x,P=ve.useRef(null),E=zn(y,P),I=a(h,w);return ve.useEffect(()=>(I.itemMap.set(P,{ref:P,...C}),()=>void I.itemMap.delete(P))),o.jsx(g,{[p]:"",ref:E,children:A})});m.displayName=h;function b(x){const y=a(e+"CollectionConsumer",x);return ve.useCallback(()=>{const A=y.collectionRef.current;if(!A)return[];const C=Array.from(A.querySelectorAll(`[${p}]`));return Array.from(y.itemMap.values()).sort((I,z)=>C.indexOf(I.ref.current)-C.indexOf(z.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:s,Slot:d,ItemSlot:m},b,r]}var da=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},xK=u4[" useId ".trim().toString()]||(()=>{}),bK=0;function Ka(e){const[t,n]=j.useState(xK());return da(()=>{n(r=>r??String(bK++))},[e]),t?`radix-${t}`:""}function wK(e){const t=_K(e),n=j.forwardRef((r,i)=>{const{children:a,...s}=r,l=j.Children.toArray(a),c=l.find(SK);if(c){const d=c.props.children,h=l.map(p=>p===c?j.Children.count(d)>1?j.Children.only(null):j.isValidElement(d)?d.props.children:null:p);return o.jsx(t,{...s,ref:i,children:j.isValidElement(d)?j.cloneElement(d,void 0,h):null})}return o.jsx(t,{...s,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function _K(e){const t=j.forwardRef((n,r)=>{const{children:i,...a}=n;if(j.isValidElement(i)){const s=AK(i),l=NK(a,i.props);return i.type!==j.Fragment&&(l.ref=r?js(r,s):s),j.cloneElement(i,l)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jK=Symbol("radix.slottable");function SK(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jK}function NK(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function AK(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var CK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rn=CK.reduce((e,t)=>{const n=wK(`Primitive.${t}`),r=j.forwardRef((i,a)=>{const{asChild:s,...l}=i,c=s?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function PK(e,t){e&&Iv.flushSync(()=>e.dispatchEvent(t))}function Va(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var EK=u4[" useInsertionEffect ".trim().toString()]||da;function Cd({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,s]=kK({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const h=j.useRef(e!==void 0);j.useEffect(()=>{const p=h.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const d=j.useCallback(h=>{var p;if(l){const g=OK(h)?h(e):h;g!==e&&((p=s.current)==null||p.call(s,g))}else a(h)},[l,e,a,s]);return[c,d]}function kK({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),i=j.useRef(n),a=j.useRef(t);return EK(()=>{a.current=t},[t]),j.useEffect(()=>{var s;i.current!==n&&((s=a.current)==null||s.call(a,n),i.current=n)},[n,i]),[n,r,a]}function OK(e){return typeof e=="function"}var TK=j.createContext(void 0);function Rv(e){const t=j.useContext(TK);return e||t||"ltr"}var o2="rovingFocusGroup.onEntryFocus",DK={bubbles:!1,cancelable:!0},Mv="RovingFocusGroup",[vS,gR,LK]=mR(Mv),[IK,r1]=Ps(Mv,[LK]),[RK,MK]=IK(Mv),vR=j.forwardRef((e,t)=>o.jsx(vS.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(vS.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(zK,{...e,ref:t})})}));vR.displayName=Mv;var zK=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...p}=e,g=j.useRef(null),m=zn(t,g),b=Rv(a),[x,y]=Cd({prop:s,defaultProp:l??null,onChange:c,caller:Mv}),[w,A]=j.useState(!1),C=Va(d),P=gR(n),E=j.useRef(!1),[I,z]=j.useState(0);return j.useEffect(()=>{const O=g.current;if(O)return O.addEventListener(o2,C),()=>O.removeEventListener(o2,C)},[C]),o.jsx(RK,{scope:n,orientation:r,dir:b,loop:i,currentTabStopId:x,onItemFocus:j.useCallback(O=>y(O),[y]),onItemShiftTab:j.useCallback(()=>A(!0),[]),onFocusableItemAdd:j.useCallback(()=>z(O=>O+1),[]),onFocusableItemRemove:j.useCallback(()=>z(O=>O-1),[]),children:o.jsx(rn.div,{tabIndex:w||I===0?-1:0,"data-orientation":r,...p,ref:m,style:{outline:"none",...e.style},onMouseDown:cn(e.onMouseDown,()=>{E.current=!0}),onFocus:cn(e.onFocus,O=>{const F=!E.current;if(O.target===O.currentTarget&&F&&!w){const G=new CustomEvent(o2,DK);if(O.currentTarget.dispatchEvent(G),!G.defaultPrevented){const R=P().filter(X=>X.focusable),k=R.find(X=>X.active),B=R.find(X=>X.id===x),M=[k,B,...R].filter(Boolean).map(X=>X.ref.current);bR(M,h)}}E.current=!1}),onBlur:cn(e.onBlur,()=>A(!1))})})}),yR="RovingFocusGroupItem",xR=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:s,...l}=e,c=Ka(),d=a||c,h=MK(yR,n),p=h.currentTabStopId===d,g=gR(n),{onFocusableItemAdd:m,onFocusableItemRemove:b,currentTabStopId:x}=h;return j.useEffect(()=>{if(r)return m(),()=>b()},[r,m,b]),o.jsx(vS.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:o.jsx(rn.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:cn(e.onMouseDown,y=>{r?h.onItemFocus(d):y.preventDefault()}),onFocus:cn(e.onFocus,()=>h.onItemFocus(d)),onKeyDown:cn(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){h.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const w=qK(y,h.orientation,h.dir);if(w!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let C=g().filter(P=>P.focusable).map(P=>P.ref.current);if(w==="last")C.reverse();else if(w==="prev"||w==="next"){w==="prev"&&C.reverse();const P=C.indexOf(y.currentTarget);C=h.loop?BK(C,P+1):C.slice(P+1)}setTimeout(()=>bR(C))}}),children:typeof s=="function"?s({isCurrentTabStop:p,hasTabStop:x!=null}):s})})});xR.displayName=yR;var FK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $K(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function qK(e,t,n){const r=$K(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return FK[r]}function bR(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function BK(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var wR=vR,_R=xR;function UK(e,t){return j.useReducer((n,r)=>t[n][r]??n,e)}var Ko=e=>{const{present:t,children:n}=e,r=HK(t),i=typeof n=="function"?n({present:r.isPresent}):j.Children.only(n),a=zn(r.ref,WK(i));return typeof n=="function"||r.isPresent?j.cloneElement(i,{ref:a}):null};Ko.displayName="Presence";function HK(e){const[t,n]=j.useState(),r=j.useRef(null),i=j.useRef(e),a=j.useRef("none"),s=e?"mounted":"unmounted",[l,c]=UK(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const d=F0(r.current);a.current=l==="mounted"?d:"none"},[l]),da(()=>{const d=r.current,h=i.current;if(h!==e){const g=a.current,m=F0(d);e?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&g!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),da(()=>{if(t){let d;const h=t.ownerDocument.defaultView??window,p=m=>{const x=F0(r.current).includes(CSS.escape(m.animationName));if(m.target===t&&x&&(c("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},g=m=>{m.target===t&&(a.current=F0(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{h.clearTimeout(d),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function F0(e){return(e==null?void 0:e.animationName)||"none"}function WK(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var i1="Tabs",[VK]=Ps(i1,[r1]),jR=r1(),[GK,k4]=VK(i1),SR=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:l,activationMode:c="automatic",...d}=e,h=Rv(l),[p,g]=Cd({prop:r,onChange:i,defaultProp:a??"",caller:i1});return o.jsx(GK,{scope:n,baseId:Ka(),value:p,onValueChange:g,orientation:s,dir:h,activationMode:c,children:o.jsx(rn.div,{dir:h,"data-orientation":s,...d,ref:t})})});SR.displayName=i1;var NR="TabsList",AR=j.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=k4(NR,n),s=jR(n);return o.jsx(wR,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:r,children:o.jsx(rn.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});AR.displayName=NR;var CR="TabsTrigger",PR=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,s=k4(CR,n),l=jR(n),c=OR(s.baseId,r),d=TR(s.baseId,r),h=r===s.value;return o.jsx(_R,{asChild:!0,...l,focusable:!i,active:h,children:o.jsx(rn.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:cn(e.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?s.onValueChange(r):p.preventDefault()}),onKeyDown:cn(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&s.onValueChange(r)}),onFocus:cn(e.onFocus,()=>{const p=s.activationMode!=="manual";!h&&!i&&p&&s.onValueChange(r)})})})});PR.displayName=CR;var ER="TabsContent",kR=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...s}=e,l=k4(ER,n),c=OR(l.baseId,r),d=TR(l.baseId,r),h=r===l.value,p=j.useRef(h);return j.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),o.jsx(Ko,{present:i||h,children:({present:g})=>o.jsx(rn.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:d,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:g&&a})})});kR.displayName=ER;function OR(e,t){return`${e}-trigger-${t}`}function TR(e,t){return`${e}-content-${t}`}var KK=SR,DR=AR,LR=PR,IR=kR;const ol=KK,Ss=j.forwardRef(({className:e,...t},n)=>o.jsx(DR,{ref:n,className:Lt("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));Ss.displayName=DR.displayName;const Pn=j.forwardRef(({className:e,...t},n)=>o.jsx(LR,{ref:n,className:Lt("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));Pn.displayName=LR.displayName;const En=j.forwardRef(({className:e,...t},n)=>o.jsx(IR,{ref:n,className:Lt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));En.displayName=IR.displayName;var YK=Symbol.for("react.lazy"),My=u4[" use ".trim().toString()];function XK(e){return typeof e=="object"&&e!==null&&"then"in e}function RR(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===YK&&"_payload"in e&&XK(e._payload)}function MR(e){const t=JK(e),n=j.forwardRef((r,i)=>{let{children:a,...s}=r;RR(a)&&typeof My=="function"&&(a=My(a._payload));const l=j.Children.toArray(a),c=l.find(eY);if(c){const d=c.props.children,h=l.map(p=>p===c?j.Children.count(d)>1?j.Children.only(null):j.isValidElement(d)?d.props.children:null:p);return o.jsx(t,{...s,ref:i,children:j.isValidElement(d)?j.cloneElement(d,void 0,h):null})}return o.jsx(t,{...s,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var QK=MR("Slot");function JK(e){const t=j.forwardRef((n,r)=>{let{children:i,...a}=n;if(RR(i)&&typeof My=="function"&&(i=My(i._payload)),j.isValidElement(i)){const s=nY(i),l=tY(a,i.props);return i.type!==j.Fragment&&(l.ref=r?js(r,s):s),j.cloneElement(i,l)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ZK=Symbol("radix.slottable");function eY(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ZK}function tY(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function nY(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const hP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,pP=Xn,zv=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return pP(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,s=Object.keys(i).map(d=>{const h=n==null?void 0:n[d],p=a==null?void 0:a[d];if(h===null)return null;const g=hP(h)||hP(p);return i[d][g]}),l=n&&Object.entries(n).reduce((d,h)=>{let[p,g]=h;return g===void 0||(d[p]=g),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:p,className:g,...m}=h;return Object.entries(m).every(b=>{let[x,y]=b;return Array.isArray(y)?y.includes({...a,...l}[x]):{...a,...l}[x]===y})?[...d,p,g]:d},[]);return pP(e,s,c,n==null?void 0:n.class,n==null?void 0:n.className)},O4=zv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Oe=j.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>{const s=r?QK:"button";return o.jsx(s,{className:Lt(O4({variant:t,size:n,className:e})),ref:a,...i})});Oe.displayName="Button";const rY=zv("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function kn({className:e,variant:t,...n}){return o.jsx("div",{className:Lt(rY({variant:t}),e),...n})}function T4(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function D4(e){const[t,n]=j.useState(void 0);return da(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;s=d.inlineSize,l=d.blockSize}else s=e.offsetWidth,l=e.offsetHeight;n({width:s,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var a1="Checkbox",[iY]=Ps(a1),[aY,L4]=iY(a1);function oY(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:a,form:s,name:l,onCheckedChange:c,required:d,value:h="on",internal_do_not_use_render:p}=e,[g,m]=Cd({prop:n,defaultProp:i??!1,onChange:c,caller:a1}),[b,x]=j.useState(null),[y,w]=j.useState(null),A=j.useRef(!1),C=b?!!s||!!b.closest("form"):!0,P={checked:g,disabled:a,setChecked:m,control:b,setControl:x,name:l,form:s,value:h,hasConsumerStoppedPropagationRef:A,required:d,defaultChecked:jd(i)?!1:i,isFormControl:C,bubbleInput:y,setBubbleInput:w};return o.jsx(aY,{scope:t,...P,children:sY(p)?p(P):r})}var zR="CheckboxTrigger",FR=j.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:a,value:s,disabled:l,checked:c,required:d,setControl:h,setChecked:p,hasConsumerStoppedPropagationRef:g,isFormControl:m,bubbleInput:b}=L4(zR,e),x=zn(i,h),y=j.useRef(c);return j.useEffect(()=>{const w=a==null?void 0:a.form;if(w){const A=()=>p(y.current);return w.addEventListener("reset",A),()=>w.removeEventListener("reset",A)}},[a,p]),o.jsx(rn.button,{type:"button",role:"checkbox","aria-checked":jd(c)?"mixed":c,"aria-required":d,"data-state":HR(c),"data-disabled":l?"":void 0,disabled:l,value:s,...r,ref:x,onKeyDown:cn(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:cn(n,w=>{p(A=>jd(A)?!0:!A),b&&m&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})})});FR.displayName=zR;var I4=j.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:s,disabled:l,value:c,onCheckedChange:d,form:h,...p}=e;return o.jsx(oY,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:l,required:s,onCheckedChange:d,name:r,form:h,value:c,internal_do_not_use_render:({isFormControl:g})=>o.jsxs(o.Fragment,{children:[o.jsx(FR,{...p,ref:t,__scopeCheckbox:n}),g&&o.jsx(UR,{__scopeCheckbox:n})]})})});I4.displayName=a1;var $R="CheckboxIndicator",qR=j.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,a=L4($R,n);return o.jsx(Ko,{present:r||jd(a.checked)||a.checked===!0,children:o.jsx(rn.span,{"data-state":HR(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});qR.displayName=$R;var BR="CheckboxBubbleInput",UR=j.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:s,required:l,disabled:c,name:d,value:h,form:p,bubbleInput:g,setBubbleInput:m}=L4(BR,e),b=zn(n,m),x=T4(a),y=D4(r);j.useEffect(()=>{const A=g;if(!A)return;const C=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(C,"checked").set,I=!i.current;if(x!==a&&E){const z=new Event("click",{bubbles:I});A.indeterminate=jd(a),E.call(A,jd(a)?!1:a),A.dispatchEvent(z)}},[g,x,a,i]);const w=j.useRef(jd(a)?!1:a);return o.jsx(rn.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??w.current,required:l,disabled:c,name:d,value:h,form:p,...t,tabIndex:-1,ref:b,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});UR.displayName=BR;function sY(e){return typeof e=="function"}function jd(e){return e==="indeterminate"}function HR(e){return jd(e)?"indeterminate":e?"checked":"unchecked"}const ws=j.forwardRef(({className:e,...t},n)=>o.jsx(I4,{ref:n,className:Lt("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(qR,{className:Lt("flex items-center justify-center text-current"),children:o.jsx(Jx,{className:"h-4 w-4"})})}));ws.displayName=I4.displayName;const tt=j.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,className:Lt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));tt.displayName="Input";var lY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cY=lY.reduce((e,t)=>{const n=MR(`Primitive.${t}`),r=j.forwardRef((i,a)=>{const{asChild:s,...l}=i,c=s?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),uY="Label",WR=j.forwardRef((e,t)=>o.jsx(cY.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));WR.displayName=uY;var VR=WR;const dY=zv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Le=j.forwardRef(({className:e,...t},n)=>o.jsx(VR,{ref:n,className:Lt(dY(),e),...t}));Le.displayName=VR.displayName;const ta=j.forwardRef(({className:e,...t},n)=>o.jsx("textarea",{className:Lt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));ta.displayName="Textarea";function yS(e,[t,n]){return Math.min(n,Math.max(t,e))}function fY(e,t=globalThis==null?void 0:globalThis.document){const n=Va(e);j.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var hY="DismissableLayer",xS="dismissableLayer.update",pY="dismissableLayer.pointerDownOutside",mY="dismissableLayer.focusOutside",mP,GR=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),o1=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:l,...c}=e,d=j.useContext(GR),[h,p]=j.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=j.useState({}),b=zn(t,z=>p(z)),x=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=x.indexOf(y),A=h?x.indexOf(h):-1,C=d.layersWithOutsidePointerEventsDisabled.size>0,P=A>=w,E=yY(z=>{const O=z.target,F=[...d.branches].some(G=>G.contains(O));!P||F||(i==null||i(z),s==null||s(z),z.defaultPrevented||l==null||l())},g),I=xY(z=>{const O=z.target;[...d.branches].some(G=>G.contains(O))||(a==null||a(z),s==null||s(z),z.defaultPrevented||l==null||l())},g);return fY(z=>{A===d.layers.size-1&&(r==null||r(z),!z.defaultPrevented&&l&&(z.preventDefault(),l()))},g),j.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(mP=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),gP(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=mP)}},[h,g,n,d]),j.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),gP())},[h,d]),j.useEffect(()=>{const z=()=>m({});return document.addEventListener(xS,z),()=>document.removeEventListener(xS,z)},[]),o.jsx(rn.div,{...c,ref:b,style:{pointerEvents:C?P?"auto":"none":void 0,...e.style},onFocusCapture:cn(e.onFocusCapture,I.onFocusCapture),onBlurCapture:cn(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:cn(e.onPointerDownCapture,E.onPointerDownCapture)})});o1.displayName=hY;var gY="DismissableLayerBranch",vY=j.forwardRef((e,t)=>{const n=j.useContext(GR),r=j.useRef(null),i=zn(t,r);return j.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),o.jsx(rn.div,{...e,ref:i})});vY.displayName=gY;function yY(e,t=globalThis==null?void 0:globalThis.document){const n=Va(e),r=j.useRef(!1),i=j.useRef(()=>{});return j.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){KR(pY,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function xY(e,t=globalThis==null?void 0:globalThis.document){const n=Va(e),r=j.useRef(!1);return j.useEffect(()=>{const i=a=>{a.target&&!r.current&&KR(mY,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function gP(){const e=new CustomEvent(xS);document.dispatchEvent(e)}function KR(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?PK(i,a):i.dispatchEvent(a)}var s2=0;function R4(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??vP()),document.body.insertAdjacentElement("beforeend",e[1]??vP()),s2++,()=>{s2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),s2--}},[])}function vP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var l2="focusScope.autoFocusOnMount",c2="focusScope.autoFocusOnUnmount",yP={bubbles:!1,cancelable:!0},bY="FocusScope",s1=j.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=e,[l,c]=j.useState(null),d=Va(i),h=Va(a),p=j.useRef(null),g=zn(t,x=>c(x)),m=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(r){let x=function(C){if(m.paused||!l)return;const P=C.target;l.contains(P)?p.current=P:ld(p.current,{select:!0})},y=function(C){if(m.paused||!l)return;const P=C.relatedTarget;P!==null&&(l.contains(P)||ld(p.current,{select:!0}))},w=function(C){if(document.activeElement===document.body)for(const E of C)E.removedNodes.length>0&&ld(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",y);const A=new MutationObserver(w);return l&&A.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",y),A.disconnect()}}},[r,l,m.paused]),j.useEffect(()=>{if(l){bP.add(m);const x=document.activeElement;if(!l.contains(x)){const w=new CustomEvent(l2,yP);l.addEventListener(l2,d),l.dispatchEvent(w),w.defaultPrevented||(wY(AY(YR(l)),{select:!0}),document.activeElement===x&&ld(l))}return()=>{l.removeEventListener(l2,d),setTimeout(()=>{const w=new CustomEvent(c2,yP);l.addEventListener(c2,h),l.dispatchEvent(w),w.defaultPrevented||ld(x??document.body,{select:!0}),l.removeEventListener(c2,h),bP.remove(m)},0)}}},[l,d,h,m]);const b=j.useCallback(x=>{if(!n&&!r||m.paused)return;const y=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,w=document.activeElement;if(y&&w){const A=x.currentTarget,[C,P]=_Y(A);C&&P?!x.shiftKey&&w===P?(x.preventDefault(),n&&ld(C,{select:!0})):x.shiftKey&&w===C&&(x.preventDefault(),n&&ld(P,{select:!0})):w===A&&x.preventDefault()}},[n,r,m.paused]);return o.jsx(rn.div,{tabIndex:-1,...s,ref:g,onKeyDown:b})});s1.displayName=bY;function wY(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ld(r,{select:t}),document.activeElement!==n)return}function _Y(e){const t=YR(e),n=xP(t,e),r=xP(t.reverse(),e);return[n,r]}function YR(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function xP(e,t){for(const n of e)if(!jY(n,{upTo:t}))return n}function jY(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function SY(e){return e instanceof HTMLInputElement&&"select"in e}function ld(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&SY(e)&&t&&e.select()}}var bP=NY();function NY(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=wP(e,t),e.unshift(t)},remove(t){var n;e=wP(e,t),(n=e[0])==null||n.resume()}}}function wP(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function AY(e){return e.filter(t=>t.tagName!=="A")}const CY=["top","right","bottom","left"],Pd=Math.min,qo=Math.max,zy=Math.round,$0=Math.floor,Vl=e=>({x:e,y:e}),PY={left:"right",right:"left",bottom:"top",top:"bottom"},EY={start:"end",end:"start"};function bS(e,t,n){return qo(e,Pd(t,n))}function uu(e,t){return typeof e=="function"?e(t):e}function du(e){return e.split("-")[0]}function jm(e){return e.split("-")[1]}function M4(e){return e==="x"?"y":"x"}function z4(e){return e==="y"?"height":"width"}const kY=new Set(["top","bottom"]);function Bl(e){return kY.has(du(e))?"y":"x"}function F4(e){return M4(Bl(e))}function OY(e,t,n){n===void 0&&(n=!1);const r=jm(e),i=F4(e),a=z4(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=Fy(s)),[s,Fy(s)]}function TY(e){const t=Fy(e);return[wS(e),t,wS(t)]}function wS(e){return e.replace(/start|end/g,t=>EY[t])}const _P=["left","right"],jP=["right","left"],DY=["top","bottom"],LY=["bottom","top"];function IY(e,t,n){switch(e){case"top":case"bottom":return n?t?jP:_P:t?_P:jP;case"left":case"right":return t?DY:LY;default:return[]}}function RY(e,t,n,r){const i=jm(e);let a=IY(du(e),n==="start",r);return i&&(a=a.map(s=>s+"-"+i),t&&(a=a.concat(a.map(wS)))),a}function Fy(e){return e.replace(/left|right|bottom|top/g,t=>PY[t])}function MY(e){return{top:0,right:0,bottom:0,left:0,...e}}function XR(e){return typeof e!="number"?MY(e):{top:e,right:e,bottom:e,left:e}}function $y(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function SP(e,t,n){let{reference:r,floating:i}=e;const a=Bl(t),s=F4(t),l=z4(s),c=du(t),d=a==="y",h=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,g=r[l]/2-i[l]/2;let m;switch(c){case"top":m={x:h,y:r.y-i.height};break;case"bottom":m={x:h,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:p};break;case"left":m={x:r.x-i.width,y:p};break;default:m={x:r.x,y:r.y}}switch(jm(t)){case"start":m[s]-=g*(n&&d?-1:1);break;case"end":m[s]+=g*(n&&d?-1:1);break}return m}const zY=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,l=a.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let d=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:p}=SP(d,r,c),g=r,m={},b=0;for(let x=0;x<l.length;x++){const{name:y,fn:w}=l[x],{x:A,y:C,data:P,reset:E}=await w({x:h,y:p,initialPlacement:r,placement:g,strategy:i,middlewareData:m,rects:d,platform:s,elements:{reference:e,floating:t}});h=A??h,p=C??p,m={...m,[y]:{...m[y],...P}},E&&b<=50&&(b++,typeof E=="object"&&(E.placement&&(g=E.placement),E.rects&&(d=E.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:h,y:p}=SP(d,g,c)),x=-1)}return{x:h,y:p,placement:g,strategy:i,middlewareData:m}};async function Ug(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:s,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:g=!1,padding:m=0}=uu(t,e),b=XR(m),y=l[g?p==="floating"?"reference":"floating":p],w=$y(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),A=p==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),P=await(a.isElement==null?void 0:a.isElement(C))?await(a.getScale==null?void 0:a.getScale(C))||{x:1,y:1}:{x:1,y:1},E=$y(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:A,offsetParent:C,strategy:c}):A);return{top:(w.top-E.top+b.top)/P.y,bottom:(E.bottom-w.bottom+b.bottom)/P.y,left:(w.left-E.left+b.left)/P.x,right:(E.right-w.right+b.right)/P.x}}const FY=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:s,elements:l,middlewareData:c}=t,{element:d,padding:h=0}=uu(e,t)||{};if(d==null)return{};const p=XR(h),g={x:n,y:r},m=F4(i),b=z4(m),x=await s.getDimensions(d),y=m==="y",w=y?"top":"left",A=y?"bottom":"right",C=y?"clientHeight":"clientWidth",P=a.reference[b]+a.reference[m]-g[m]-a.floating[b],E=g[m]-a.reference[m],I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(d));let z=I?I[C]:0;(!z||!await(s.isElement==null?void 0:s.isElement(I)))&&(z=l.floating[C]||a.floating[b]);const O=P/2-E/2,F=z/2-x[b]/2-1,G=Pd(p[w],F),R=Pd(p[A],F),k=G,B=z-x[b]-R,U=z/2-x[b]/2+O,M=bS(k,U,B),X=!c.arrow&&jm(i)!=null&&U!==M&&a.reference[b]/2-(U<k?G:R)-x[b]/2<0,Q=X?U<k?U-k:U-B:0;return{[m]:g[m]+Q,data:{[m]:M,centerOffset:U-M-Q,...X&&{alignmentOffset:Q}},reset:X}}}),$Y=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...y}=uu(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const w=du(i),A=Bl(l),C=du(l)===l,P=await(c.isRTL==null?void 0:c.isRTL(d.floating)),E=g||(C||!x?[Fy(l)]:TY(l)),I=b!=="none";!g&&I&&E.push(...RY(l,x,b,P));const z=[l,...E],O=await Ug(t,y),F=[];let G=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&F.push(O[w]),p){const U=OY(i,s,P);F.push(O[U[0]],O[U[1]])}if(G=[...G,{placement:i,overflows:F}],!F.every(U=>U<=0)){var R,k;const U=(((R=a.flip)==null?void 0:R.index)||0)+1,M=z[U];if(M&&(!(p==="alignment"?A!==Bl(M):!1)||G.every(K=>Bl(K.placement)===A?K.overflows[0]>0:!0)))return{data:{index:U,overflows:G},reset:{placement:M}};let X=(k=G.filter(Q=>Q.overflows[0]<=0).sort((Q,K)=>Q.overflows[1]-K.overflows[1])[0])==null?void 0:k.placement;if(!X)switch(m){case"bestFit":{var B;const Q=(B=G.filter(K=>{if(I){const Y=Bl(K.placement);return Y===A||Y==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(Y=>Y>0).reduce((Y,ne)=>Y+ne,0)]).sort((K,Y)=>K[1]-Y[1])[0])==null?void 0:B[0];Q&&(X=Q);break}case"initialPlacement":X=l;break}if(i!==X)return{reset:{placement:X}}}return{}}}};function NP(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function AP(e){return CY.some(t=>e[t]>=0)}const qY=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=uu(e,t);switch(r){case"referenceHidden":{const a=await Ug(t,{...i,elementContext:"reference"}),s=NP(a,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:AP(s)}}}case"escaped":{const a=await Ug(t,{...i,altBoundary:!0}),s=NP(a,n.floating);return{data:{escapedOffsets:s,escaped:AP(s)}}}default:return{}}}}},QR=new Set(["left","top"]);async function BY(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=du(n),l=jm(n),c=Bl(n)==="y",d=QR.has(s)?-1:1,h=a&&c?-1:1,p=uu(t,e);let{mainAxis:g,crossAxis:m,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof b=="number"&&(m=l==="end"?b*-1:b),c?{x:m*h,y:g*d}:{x:g*d,y:m*h}}const UY=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:s,middlewareData:l}=t,c=await BY(t,e);return s===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:s}}}}},HY=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:l={fn:y=>{let{x:w,y:A}=y;return{x:w,y:A}}},...c}=uu(e,t),d={x:n,y:r},h=await Ug(t,c),p=Bl(du(i)),g=M4(p);let m=d[g],b=d[p];if(a){const y=g==="y"?"top":"left",w=g==="y"?"bottom":"right",A=m+h[y],C=m-h[w];m=bS(A,m,C)}if(s){const y=p==="y"?"top":"left",w=p==="y"?"bottom":"right",A=b+h[y],C=b-h[w];b=bS(A,b,C)}const x=l.fn({...t,[g]:m,[p]:b});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[g]:a,[p]:s}}}}}},WY=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:s}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=uu(e,t),h={x:n,y:r},p=Bl(i),g=M4(p);let m=h[g],b=h[p];const x=uu(l,t),y=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const C=g==="y"?"height":"width",P=a.reference[g]-a.floating[C]+y.mainAxis,E=a.reference[g]+a.reference[C]-y.mainAxis;m<P?m=P:m>E&&(m=E)}if(d){var w,A;const C=g==="y"?"width":"height",P=QR.has(du(i)),E=a.reference[p]-a.floating[C]+(P&&((w=s.offset)==null?void 0:w[p])||0)+(P?0:y.crossAxis),I=a.reference[p]+a.reference[C]+(P?0:((A=s.offset)==null?void 0:A[p])||0)-(P?y.crossAxis:0);b<E?b=E:b>I&&(b=I)}return{[g]:m,[p]:b}}}},VY=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:s,elements:l}=t,{apply:c=()=>{},...d}=uu(e,t),h=await Ug(t,d),p=du(i),g=jm(i),m=Bl(i)==="y",{width:b,height:x}=a.floating;let y,w;p==="top"||p==="bottom"?(y=p,w=g===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(w=p,y=g==="end"?"top":"bottom");const A=x-h.top-h.bottom,C=b-h.left-h.right,P=Pd(x-h[y],A),E=Pd(b-h[w],C),I=!t.middlewareData.shift;let z=P,O=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(O=C),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(z=A),I&&!g){const G=qo(h.left,0),R=qo(h.right,0),k=qo(h.top,0),B=qo(h.bottom,0);m?O=b-2*(G!==0||R!==0?G+R:qo(h.left,h.right)):z=x-2*(k!==0||B!==0?k+B:qo(h.top,h.bottom))}await c({...t,availableWidth:O,availableHeight:z});const F=await s.getDimensions(l.floating);return b!==F.width||x!==F.height?{reset:{rects:!0}}:{}}}};function l1(){return typeof window<"u"}function Sm(e){return JR(e)?(e.nodeName||"").toLowerCase():"#document"}function Ho(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function nc(e){var t;return(t=(JR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function JR(e){return l1()?e instanceof Node||e instanceof Ho(e).Node:!1}function sl(e){return l1()?e instanceof Element||e instanceof Ho(e).Element:!1}function Xl(e){return l1()?e instanceof HTMLElement||e instanceof Ho(e).HTMLElement:!1}function CP(e){return!l1()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ho(e).ShadowRoot}const GY=new Set(["inline","contents"]);function Fv(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ll(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!GY.has(i)}const KY=new Set(["table","td","th"]);function YY(e){return KY.has(Sm(e))}const XY=[":popover-open",":modal"];function c1(e){return XY.some(t=>{try{return e.matches(t)}catch{return!1}})}const QY=["transform","translate","scale","rotate","perspective"],JY=["transform","translate","scale","rotate","perspective","filter"],ZY=["paint","layout","strict","content"];function $4(e){const t=q4(),n=sl(e)?ll(e):e;return QY.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||JY.some(r=>(n.willChange||"").includes(r))||ZY.some(r=>(n.contain||"").includes(r))}function eX(e){let t=Ed(e);for(;Xl(t)&&!Vp(t);){if($4(t))return t;if(c1(t))return null;t=Ed(t)}return null}function q4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const tX=new Set(["html","body","#document"]);function Vp(e){return tX.has(Sm(e))}function ll(e){return Ho(e).getComputedStyle(e)}function u1(e){return sl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ed(e){if(Sm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||CP(e)&&e.host||nc(e);return CP(t)?t.host:t}function ZR(e){const t=Ed(e);return Vp(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xl(t)&&Fv(t)?t:ZR(t)}function Hg(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=ZR(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),s=Ho(i);if(a){const l=_S(s);return t.concat(s,s.visualViewport||[],Fv(i)?i:[],l&&n?Hg(l):[])}return t.concat(i,Hg(i,[],n))}function _S(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function eM(e){const t=ll(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Xl(e),a=i?e.offsetWidth:n,s=i?e.offsetHeight:r,l=zy(n)!==a||zy(r)!==s;return l&&(n=a,r=s),{width:n,height:r,$:l}}function B4(e){return sl(e)?e:e.contextElement}function _p(e){const t=B4(e);if(!Xl(t))return Vl(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=eM(t);let s=(a?zy(n.width):n.width)/r,l=(a?zy(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const nX=Vl(0);function tM(e){const t=Ho(e);return!q4()||!t.visualViewport?nX:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function rX(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ho(e)?!1:t}function ah(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=B4(e);let s=Vl(1);t&&(r?sl(r)&&(s=_p(r)):s=_p(e));const l=rX(a,n,r)?tM(a):Vl(0);let c=(i.left+l.x)/s.x,d=(i.top+l.y)/s.y,h=i.width/s.x,p=i.height/s.y;if(a){const g=Ho(a),m=r&&sl(r)?Ho(r):r;let b=g,x=_S(b);for(;x&&r&&m!==b;){const y=_p(x),w=x.getBoundingClientRect(),A=ll(x),C=w.left+(x.clientLeft+parseFloat(A.paddingLeft))*y.x,P=w.top+(x.clientTop+parseFloat(A.paddingTop))*y.y;c*=y.x,d*=y.y,h*=y.x,p*=y.y,c+=C,d+=P,b=Ho(x),x=_S(b)}}return $y({width:h,height:p,x:c,y:d})}function d1(e,t){const n=u1(e).scrollLeft;return t?t.left+n:ah(nc(e)).left+n}function nM(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-d1(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function iX(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",s=nc(r),l=t?c1(t.floating):!1;if(r===s||l&&a)return n;let c={scrollLeft:0,scrollTop:0},d=Vl(1);const h=Vl(0),p=Xl(r);if((p||!p&&!a)&&((Sm(r)!=="body"||Fv(s))&&(c=u1(r)),Xl(r))){const m=ah(r);d=_p(r),h.x=m.x+r.clientLeft,h.y=m.y+r.clientTop}const g=s&&!p&&!a?nM(s,c):Vl(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+g.x,y:n.y*d.y-c.scrollTop*d.y+h.y+g.y}}function aX(e){return Array.from(e.getClientRects())}function oX(e){const t=nc(e),n=u1(e),r=e.ownerDocument.body,i=qo(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=qo(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+d1(e);const l=-n.scrollTop;return ll(r).direction==="rtl"&&(s+=qo(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:l}}const PP=25;function sX(e,t){const n=Ho(e),r=nc(e),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,l=0,c=0;if(i){a=i.width,s=i.height;const h=q4();(!h||h&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const d=d1(r);if(d<=0){const h=r.ownerDocument,p=h.body,g=getComputedStyle(p),m=h.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,b=Math.abs(r.clientWidth-p.clientWidth-m);b<=PP&&(a-=b)}else d<=PP&&(a+=d);return{width:a,height:s,x:l,y:c}}const lX=new Set(["absolute","fixed"]);function cX(e,t){const n=ah(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Xl(e)?_p(e):Vl(1),s=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,d=r*a.y;return{width:s,height:l,x:c,y:d}}function EP(e,t,n){let r;if(t==="viewport")r=sX(e,n);else if(t==="document")r=oX(nc(e));else if(sl(t))r=cX(t,n);else{const i=tM(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return $y(r)}function rM(e,t){const n=Ed(e);return n===t||!sl(n)||Vp(n)?!1:ll(n).position==="fixed"||rM(n,t)}function uX(e,t){const n=t.get(e);if(n)return n;let r=Hg(e,[],!1).filter(l=>sl(l)&&Sm(l)!=="body"),i=null;const a=ll(e).position==="fixed";let s=a?Ed(e):e;for(;sl(s)&&!Vp(s);){const l=ll(s),c=$4(s);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&lX.has(i.position)||Fv(s)&&!c&&rM(e,s))?r=r.filter(h=>h!==s):i=l,s=Ed(s)}return t.set(e,r),r}function dX(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?c1(t)?[]:uX(t,this._c):[].concat(n),r],l=s[0],c=s.reduce((d,h)=>{const p=EP(t,h,i);return d.top=qo(p.top,d.top),d.right=Pd(p.right,d.right),d.bottom=Pd(p.bottom,d.bottom),d.left=qo(p.left,d.left),d},EP(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function fX(e){const{width:t,height:n}=eM(e);return{width:t,height:n}}function hX(e,t,n){const r=Xl(t),i=nc(t),a=n==="fixed",s=ah(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Vl(0);function d(){c.x=d1(i)}if(r||!r&&!a)if((Sm(t)!=="body"||Fv(i))&&(l=u1(t)),r){const m=ah(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else i&&d();a&&!r&&i&&d();const h=i&&!r&&!a?nM(i,l):Vl(0),p=s.left+l.scrollLeft-c.x-h.x,g=s.top+l.scrollTop-c.y-h.y;return{x:p,y:g,width:s.width,height:s.height}}function u2(e){return ll(e).position==="static"}function kP(e,t){if(!Xl(e)||ll(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return nc(e)===n&&(n=n.ownerDocument.body),n}function iM(e,t){const n=Ho(e);if(c1(e))return n;if(!Xl(e)){let i=Ed(e);for(;i&&!Vp(i);){if(sl(i)&&!u2(i))return i;i=Ed(i)}return n}let r=kP(e,t);for(;r&&YY(r)&&u2(r);)r=kP(r,t);return r&&Vp(r)&&u2(r)&&!$4(r)?n:r||eX(e)||n}const pX=async function(e){const t=this.getOffsetParent||iM,n=this.getDimensions,r=await n(e.floating);return{reference:hX(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function mX(e){return ll(e).direction==="rtl"}const gX={convertOffsetParentRelativeRectToViewportRelativeRect:iX,getDocumentElement:nc,getClippingRect:dX,getOffsetParent:iM,getElementRects:pX,getClientRects:aX,getDimensions:fX,getScale:_p,isElement:sl,isRTL:mX};function aM(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function vX(e,t){let n=null,r;const i=nc(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:h,top:p,width:g,height:m}=d;if(l||t(),!g||!m)return;const b=$0(p),x=$0(i.clientWidth-(h+g)),y=$0(i.clientHeight-(p+m)),w=$0(h),C={rootMargin:-b+"px "+-x+"px "+-y+"px "+-w+"px",threshold:qo(0,Pd(1,c))||1};let P=!0;function E(I){const z=I[0].intersectionRatio;if(z!==c){if(!P)return s();z?s(!1,z):r=setTimeout(()=>{s(!1,1e-7)},1e3)}z===1&&!aM(d,e.getBoundingClientRect())&&s(),P=!1}try{n=new IntersectionObserver(E,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,C)}n.observe(e)}return s(!0),a}function yX(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=B4(e),h=i||a?[...d?Hg(d):[],...Hg(t)]:[];h.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),a&&w.addEventListener("resize",n)});const p=d&&l?vX(d,n):null;let g=-1,m=null;s&&(m=new ResizeObserver(w=>{let[A]=w;A&&A.target===d&&m&&(m.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=m)==null||C.observe(t)})),n()}),d&&!c&&m.observe(d),m.observe(t));let b,x=c?ah(e):null;c&&y();function y(){const w=ah(e);x&&!aM(x,w)&&n(),x=w,b=requestAnimationFrame(y)}return n(),()=>{var w;h.forEach(A=>{i&&A.removeEventListener("scroll",n),a&&A.removeEventListener("resize",n)}),p==null||p(),(w=m)==null||w.disconnect(),m=null,c&&cancelAnimationFrame(b)}}const xX=UY,bX=HY,wX=$Y,_X=VY,jX=qY,OP=FY,SX=WY,NX=(e,t,n)=>{const r=new Map,i={platform:gX,...n},a={...i.platform,_c:r};return zY(e,t,{...i,platform:a})};var AX=typeof document<"u",CX=function(){},xy=AX?j.useLayoutEffect:CX;function qy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!qy(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!qy(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function oM(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function TP(e,t){const n=oM(e);return Math.round(t*n)/n}function d2(e){const t=j.useRef(e);return xy(()=>{t.current=e}),t}function PX(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[h,p]=j.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,m]=j.useState(r);qy(g,r)||m(r);const[b,x]=j.useState(null),[y,w]=j.useState(null),A=j.useCallback(K=>{K!==I.current&&(I.current=K,x(K))},[]),C=j.useCallback(K=>{K!==z.current&&(z.current=K,w(K))},[]),P=a||b,E=s||y,I=j.useRef(null),z=j.useRef(null),O=j.useRef(h),F=c!=null,G=d2(c),R=d2(i),k=d2(d),B=j.useCallback(()=>{if(!I.current||!z.current)return;const K={placement:t,strategy:n,middleware:g};R.current&&(K.platform=R.current),NX(I.current,z.current,K).then(Y=>{const ne={...Y,isPositioned:k.current!==!1};U.current&&!qy(O.current,ne)&&(O.current=ne,Iv.flushSync(()=>{p(ne)}))})},[g,t,n,R,k]);xy(()=>{d===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,p(K=>({...K,isPositioned:!1})))},[d]);const U=j.useRef(!1);xy(()=>(U.current=!0,()=>{U.current=!1}),[]),xy(()=>{if(P&&(I.current=P),E&&(z.current=E),P&&E){if(G.current)return G.current(P,E,B);B()}},[P,E,B,G,F]);const M=j.useMemo(()=>({reference:I,floating:z,setReference:A,setFloating:C}),[A,C]),X=j.useMemo(()=>({reference:P,floating:E}),[P,E]),Q=j.useMemo(()=>{const K={position:n,left:0,top:0};if(!X.floating)return K;const Y=TP(X.floating,h.x),ne=TP(X.floating,h.y);return l?{...K,transform:"translate("+Y+"px, "+ne+"px)",...oM(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Y,top:ne}},[n,l,X.floating,h.x,h.y]);return j.useMemo(()=>({...h,update:B,refs:M,elements:X,floatingStyles:Q}),[h,B,M,X,Q])}const EX=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?OP({element:r.current,padding:i}).fn(n):{}:r?OP({element:r,padding:i}).fn(n):{}}}},kX=(e,t)=>({...xX(e),options:[e,t]}),OX=(e,t)=>({...bX(e),options:[e,t]}),TX=(e,t)=>({...SX(e),options:[e,t]}),DX=(e,t)=>({...wX(e),options:[e,t]}),LX=(e,t)=>({..._X(e),options:[e,t]}),IX=(e,t)=>({...jX(e),options:[e,t]}),RX=(e,t)=>({...EX(e),options:[e,t]});var MX="Arrow",sM=j.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return o.jsx(rn.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});sM.displayName=MX;var zX=sM,U4="Popper",[lM,f1]=Ps(U4),[FX,cM]=lM(U4),uM=e=>{const{__scopePopper:t,children:n}=e,[r,i]=j.useState(null);return o.jsx(FX,{scope:t,anchor:r,onAnchorChange:i,children:n})};uM.displayName=U4;var dM="PopperAnchor",fM=j.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=cM(dM,n),s=j.useRef(null),l=zn(t,s),c=j.useRef(null);return j.useEffect(()=>{const d=c.current;c.current=(r==null?void 0:r.current)||s.current,d!==c.current&&a.onAnchorChange(c.current)}),r?null:o.jsx(rn.div,{...i,ref:l})});fM.displayName=dM;var H4="PopperContent",[$X,qX]=lM(H4),hM=j.forwardRef((e,t)=>{var se,fe,de,be,Ee,_e;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:m="optimized",onPlaced:b,...x}=e,y=cM(H4,n),[w,A]=j.useState(null),C=zn(t,$e=>A($e)),[P,E]=j.useState(null),I=D4(P),z=(I==null?void 0:I.width)??0,O=(I==null?void 0:I.height)??0,F=r+(a!=="center"?"-"+a:""),G=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},R=Array.isArray(d)?d:[d],k=R.length>0,B={padding:G,boundary:R.filter(UX),altBoundary:k},{refs:U,floatingStyles:M,placement:X,isPositioned:Q,middlewareData:K}=PX({strategy:"fixed",placement:F,whileElementsMounted:(...$e)=>yX(...$e,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[kX({mainAxis:i+O,alignmentAxis:s}),c&&OX({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?TX():void 0,...B}),c&&DX({...B}),LX({...B,apply:({elements:$e,rects:He,availableWidth:le,availableHeight:Ke})=>{const{width:pt,height:xt}=He.reference,Be=$e.floating.style;Be.setProperty("--radix-popper-available-width",`${le}px`),Be.setProperty("--radix-popper-available-height",`${Ke}px`),Be.setProperty("--radix-popper-anchor-width",`${pt}px`),Be.setProperty("--radix-popper-anchor-height",`${xt}px`)}}),P&&RX({element:P,padding:l}),HX({arrowWidth:z,arrowHeight:O}),g&&IX({strategy:"referenceHidden",...B})]}),[Y,ne]=gM(X),H=Va(b);da(()=>{Q&&(H==null||H())},[Q,H]);const T=(se=K.arrow)==null?void 0:se.x,V=(fe=K.arrow)==null?void 0:fe.y,J=((de=K.arrow)==null?void 0:de.centerOffset)!==0,[Z,oe]=j.useState();return da(()=>{w&&oe(window.getComputedStyle(w).zIndex)},[w]),o.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:Q?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(be=K.transformOrigin)==null?void 0:be.x,(Ee=K.transformOrigin)==null?void 0:Ee.y].join(" "),...((_e=K.hide)==null?void 0:_e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx($X,{scope:n,placedSide:Y,onArrowChange:E,arrowX:T,arrowY:V,shouldHideArrow:J,children:o.jsx(rn.div,{"data-side":Y,"data-align":ne,...x,ref:C,style:{...x.style,animation:Q?void 0:"none"}})})})});hM.displayName=H4;var pM="PopperArrow",BX={top:"bottom",right:"left",bottom:"top",left:"right"},mM=j.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=qX(pM,r),s=BX[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(zX,{...i,ref:n,style:{...i.style,display:"block"}})})});mM.displayName=pM;function UX(e){return e!==null}var HX=e=>({name:"transformOrigin",options:e,fn(t){var y,w,A;const{placement:n,rects:r,middlewareData:i}=t,s=((y=i.arrow)==null?void 0:y.centerOffset)!==0,l=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[d,h]=gM(n),p={start:"0%",center:"50%",end:"100%"}[h],g=(((w=i.arrow)==null?void 0:w.x)??0)+l/2,m=(((A=i.arrow)==null?void 0:A.y)??0)+c/2;let b="",x="";return d==="bottom"?(b=s?p:`${g}px`,x=`${-c}px`):d==="top"?(b=s?p:`${g}px`,x=`${r.floating.height+c}px`):d==="right"?(b=`${-c}px`,x=s?p:`${m}px`):d==="left"&&(b=`${r.floating.width+c}px`,x=s?p:`${m}px`),{data:{x:b,y:x}}}});function gM(e){const[t,n="center"]=e.split("-");return[t,n]}var vM=uM,W4=fM,yM=hM,xM=mM,WX="Portal",h1=j.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[i,a]=j.useState(!1);da(()=>a(!0),[]);const s=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return s?LI.createPortal(o.jsx(rn.div,{...r,ref:t}),s):null});h1.displayName=WX;function VX(e){const t=GX(e),n=j.forwardRef((r,i)=>{const{children:a,...s}=r,l=j.Children.toArray(a),c=l.find(YX);if(c){const d=c.props.children,h=l.map(p=>p===c?j.Children.count(d)>1?j.Children.only(null):j.isValidElement(d)?d.props.children:null:p);return o.jsx(t,{...s,ref:i,children:j.isValidElement(d)?j.cloneElement(d,void 0,h):null})}return o.jsx(t,{...s,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function GX(e){const t=j.forwardRef((n,r)=>{const{children:i,...a}=n;if(j.isValidElement(i)){const s=QX(i),l=XX(a,i.props);return i.type!==j.Fragment&&(l.ref=r?js(r,s):s),j.cloneElement(i,l)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var KX=Symbol("radix.slottable");function YX(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===KX}function XX(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function QX(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var bM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),JX="VisuallyHidden",ZX=j.forwardRef((e,t)=>o.jsx(rn.span,{...e,ref:t,style:{...bM,...e.style}}));ZX.displayName=JX;var eQ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},rp=new WeakMap,q0=new WeakMap,B0={},f2=0,wM=function(e){return e&&(e.host||wM(e.parentNode))},tQ=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=wM(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},nQ=function(e,t,n,r){var i=tQ(t,Array.isArray(e)?e:[e]);B0[n]||(B0[n]=new WeakMap);var a=B0[n],s=[],l=new Set,c=new Set(i),d=function(p){!p||l.has(p)||(l.add(p),d(p.parentNode))};i.forEach(d);var h=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(g){if(l.has(g))h(g);else try{var m=g.getAttribute(r),b=m!==null&&m!=="false",x=(rp.get(g)||0)+1,y=(a.get(g)||0)+1;rp.set(g,x),a.set(g,y),s.push(g),x===1&&b&&q0.set(g,!0),y===1&&g.setAttribute(n,"true"),b||g.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",g,w)}})};return h(t),l.clear(),f2++,function(){s.forEach(function(p){var g=rp.get(p)-1,m=a.get(p)-1;rp.set(p,g),a.set(p,m),g||(q0.has(p)||p.removeAttribute(r),q0.delete(p)),m||p.removeAttribute(n)}),f2--,f2||(rp=new WeakMap,rp=new WeakMap,q0=new WeakMap,B0={})}},V4=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=eQ(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),nQ(r,i,n,"aria-hidden")):function(){return null}},Fl=function(){return Fl=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Fl.apply(this,arguments)};function _M(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function rQ(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var by="right-scroll-bar-position",wy="width-before-scroll-bar",iQ="with-scroll-bars-hidden",aQ="--removed-body-scroll-bar-size";function h2(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function oQ(e,t){var n=j.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var sQ=typeof window<"u"?j.useLayoutEffect:j.useEffect,DP=new WeakMap;function lQ(e,t){var n=oQ(null,function(r){return e.forEach(function(i){return h2(i,r)})});return sQ(function(){var r=DP.get(n);if(r){var i=new Set(r),a=new Set(e),s=n.current;i.forEach(function(l){a.has(l)||h2(l,null)}),a.forEach(function(l){i.has(l)||h2(l,s)})}DP.set(n,e)},[e]),n}function cQ(e){return e}function uQ(e,t){t===void 0&&(t=cQ);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var s=t(a,r);return n.push(s),function(){n=n.filter(function(l){return l!==s})}},assignSyncMedium:function(a){for(r=!0;n.length;){var s=n;n=[],s.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var s=[];if(n.length){var l=n;n=[],l.forEach(a),s=n}var c=function(){var h=s;s=[],h.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){s.push(h),d()},filter:function(h){return s=s.filter(h),n}}}};return i}function dQ(e){e===void 0&&(e={});var t=uQ(null);return t.options=Fl({async:!0,ssr:!1},e),t}var jM=function(e){var t=e.sideCar,n=_M(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return j.createElement(r,Fl({},n))};jM.isSideCarExport=!0;function fQ(e,t){return e.useMedium(t),jM}var SM=dQ(),p2=function(){},p1=j.forwardRef(function(e,t){var n=j.useRef(null),r=j.useState({onScrollCapture:p2,onWheelCapture:p2,onTouchMoveCapture:p2}),i=r[0],a=r[1],s=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,h=e.enabled,p=e.shards,g=e.sideCar,m=e.noRelative,b=e.noIsolation,x=e.inert,y=e.allowPinchZoom,w=e.as,A=w===void 0?"div":w,C=e.gapMode,P=_M(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=g,I=lQ([n,t]),z=Fl(Fl({},P),i);return j.createElement(j.Fragment,null,h&&j.createElement(E,{sideCar:SM,removeScrollBar:d,shards:p,noRelative:m,noIsolation:b,inert:x,setCallbacks:a,allowPinchZoom:!!y,lockRef:n,gapMode:C}),s?j.cloneElement(j.Children.only(l),Fl(Fl({},z),{ref:I})):j.createElement(A,Fl({},z,{className:c,ref:I}),l))});p1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};p1.classNames={fullWidth:wy,zeroRight:by};var hQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pQ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=hQ();return t&&e.setAttribute("nonce",t),e}function mQ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function gQ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var vQ=function(){var e=0,t=null;return{add:function(n){e==0&&(t=pQ())&&(mQ(t,n),gQ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},yQ=function(){var e=vQ();return function(t,n){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},NM=function(){var e=yQ(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},xQ={left:0,top:0,right:0,gap:0},m2=function(e){return parseInt(e||"",10)||0},bQ=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[m2(n),m2(r),m2(i)]},wQ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return xQ;var t=bQ(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},_Q=NM(),jp="data-scroll-locked",jQ=function(e,t,n,r){var i=e.left,a=e.top,s=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(iQ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(jp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(by,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(wy,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(by," .").concat(by,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(wy," .").concat(wy,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(jp,`] {
    `).concat(aQ,": ").concat(l,`px;
  }
`)},LP=function(){var e=parseInt(document.body.getAttribute(jp)||"0",10);return isFinite(e)?e:0},SQ=function(){j.useEffect(function(){return document.body.setAttribute(jp,(LP()+1).toString()),function(){var e=LP()-1;e<=0?document.body.removeAttribute(jp):document.body.setAttribute(jp,e.toString())}},[])},NQ=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;SQ();var a=j.useMemo(function(){return wQ(i)},[i]);return j.createElement(_Q,{styles:jQ(a,!t,i,n?"":"!important")})},jS=!1;if(typeof window<"u")try{var U0=Object.defineProperty({},"passive",{get:function(){return jS=!0,!0}});window.addEventListener("test",U0,U0),window.removeEventListener("test",U0,U0)}catch{jS=!1}var ip=jS?{passive:!1}:!1,AQ=function(e){return e.tagName==="TEXTAREA"},AM=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!AQ(e)&&n[t]==="visible")},CQ=function(e){return AM(e,"overflowY")},PQ=function(e){return AM(e,"overflowX")},IP=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=CM(e,r);if(i){var a=PM(e,r),s=a[1],l=a[2];if(s>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},EQ=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},kQ=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},CM=function(e,t){return e==="v"?CQ(t):PQ(t)},PM=function(e,t){return e==="v"?EQ(t):kQ(t)},OQ=function(e,t){return e==="h"&&t==="rtl"?-1:1},TQ=function(e,t,n,r,i){var a=OQ(e,window.getComputedStyle(t).direction),s=a*r,l=n.target,c=t.contains(l),d=!1,h=s>0,p=0,g=0;do{if(!l)break;var m=PM(e,l),b=m[0],x=m[1],y=m[2],w=x-y-a*b;(b||w)&&CM(e,l)&&(p+=w,g+=b);var A=l.parentNode;l=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(p)<1||!h&&Math.abs(g)<1)&&(d=!0),d},H0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},RP=function(e){return[e.deltaX,e.deltaY]},MP=function(e){return e&&"current"in e?e.current:e},DQ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},LQ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},IQ=0,ap=[];function RQ(e){var t=j.useRef([]),n=j.useRef([0,0]),r=j.useRef(),i=j.useState(IQ++)[0],a=j.useState(NM)[0],s=j.useRef(e);j.useEffect(function(){s.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var x=rQ([e.lockRef.current],(e.shards||[]).map(MP),!0).filter(Boolean);return x.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=j.useCallback(function(x,y){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!s.current.allowPinchZoom;var w=H0(x),A=n.current,C="deltaX"in x?x.deltaX:A[0]-w[0],P="deltaY"in x?x.deltaY:A[1]-w[1],E,I=x.target,z=Math.abs(C)>Math.abs(P)?"h":"v";if("touches"in x&&z==="h"&&I.type==="range")return!1;var O=window.getSelection(),F=O&&O.anchorNode,G=F?F===I||F.contains(I):!1;if(G)return!1;var R=IP(z,I);if(!R)return!0;if(R?E=z:(E=z==="v"?"h":"v",R=IP(z,I)),!R)return!1;if(!r.current&&"changedTouches"in x&&(C||P)&&(r.current=E),!E)return!0;var k=r.current||E;return TQ(k,y,x,k==="h"?C:P)},[]),c=j.useCallback(function(x){var y=x;if(!(!ap.length||ap[ap.length-1]!==a)){var w="deltaY"in y?RP(y):H0(y),A=t.current.filter(function(E){return E.name===y.type&&(E.target===y.target||y.target===E.shadowParent)&&DQ(E.delta,w)})[0];if(A&&A.should){y.cancelable&&y.preventDefault();return}if(!A){var C=(s.current.shards||[]).map(MP).filter(Boolean).filter(function(E){return E.contains(y.target)}),P=C.length>0?l(y,C[0]):!s.current.noIsolation;P&&y.cancelable&&y.preventDefault()}}},[]),d=j.useCallback(function(x,y,w,A){var C={name:x,delta:y,target:w,should:A,shadowParent:MQ(w)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(P){return P!==C})},1)},[]),h=j.useCallback(function(x){n.current=H0(x),r.current=void 0},[]),p=j.useCallback(function(x){d(x.type,RP(x),x.target,l(x,e.lockRef.current))},[]),g=j.useCallback(function(x){d(x.type,H0(x),x.target,l(x,e.lockRef.current))},[]);j.useEffect(function(){return ap.push(a),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",c,ip),document.addEventListener("touchmove",c,ip),document.addEventListener("touchstart",h,ip),function(){ap=ap.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,ip),document.removeEventListener("touchmove",c,ip),document.removeEventListener("touchstart",h,ip)}},[]);var m=e.removeScrollBar,b=e.inert;return j.createElement(j.Fragment,null,b?j.createElement(a,{styles:LQ(i)}):null,m?j.createElement(NQ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function MQ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const zQ=fQ(SM,RQ);var m1=j.forwardRef(function(e,t){return j.createElement(p1,Fl({},e,{ref:t,sideCar:zQ}))});m1.classNames=p1.classNames;var FQ=[" ","Enter","ArrowUp","ArrowDown"],$Q=[" ","Enter"],oh="Select",[g1,v1,qQ]=mR(oh),[Nm]=Ps(oh,[qQ,f1]),y1=f1(),[BQ,Dd]=Nm(oh),[UQ,HQ]=Nm(oh),EM=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:s,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:p,disabled:g,required:m,form:b}=e,x=y1(t),[y,w]=j.useState(null),[A,C]=j.useState(null),[P,E]=j.useState(!1),I=Rv(d),[z,O]=Cd({prop:r,defaultProp:i??!1,onChange:a,caller:oh}),[F,G]=Cd({prop:s,defaultProp:l,onChange:c,caller:oh}),R=j.useRef(null),k=y?b||!!y.closest("form"):!0,[B,U]=j.useState(new Set),M=Array.from(B).map(X=>X.props.value).join(";");return o.jsx(vM,{...x,children:o.jsxs(BQ,{required:m,scope:t,trigger:y,onTriggerChange:w,valueNode:A,onValueNodeChange:C,valueNodeHasChildren:P,onValueNodeHasChildrenChange:E,contentId:Ka(),value:F,onValueChange:G,open:z,onOpenChange:O,dir:I,triggerPointerDownPosRef:R,disabled:g,children:[o.jsx(g1.Provider,{scope:t,children:o.jsx(UQ,{scope:e.__scopeSelect,onNativeOptionAdd:j.useCallback(X=>{U(Q=>new Set(Q).add(X))},[]),onNativeOptionRemove:j.useCallback(X=>{U(Q=>{const K=new Set(Q);return K.delete(X),K})},[]),children:n})}),k?o.jsxs(ZM,{"aria-hidden":!0,required:m,tabIndex:-1,name:h,autoComplete:p,value:F,onChange:X=>G(X.target.value),disabled:g,form:b,children:[F===void 0?o.jsx("option",{value:""}):null,Array.from(B)]},M):null]})})};EM.displayName=oh;var kM="SelectTrigger",OM=j.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,a=y1(n),s=Dd(kM,n),l=s.disabled||r,c=zn(t,s.onTriggerChange),d=v1(n),h=j.useRef("touch"),[p,g,m]=tz(x=>{const y=d().filter(C=>!C.disabled),w=y.find(C=>C.value===s.value),A=nz(y,x,w);A!==void 0&&s.onValueChange(A.value)}),b=x=>{l||(s.onOpenChange(!0),m()),x&&(s.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return o.jsx(W4,{asChild:!0,...a,children:o.jsx(rn.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ez(s.value)?"":void 0,...i,ref:c,onClick:cn(i.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&b(x)}),onPointerDown:cn(i.onPointerDown,x=>{h.current=x.pointerType;const y=x.target;y.hasPointerCapture(x.pointerId)&&y.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(b(x),x.preventDefault())}),onKeyDown:cn(i.onKeyDown,x=>{const y=p.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&g(x.key),!(y&&x.key===" ")&&FQ.includes(x.key)&&(b(),x.preventDefault())})})})});OM.displayName=kM;var TM="SelectValue",DM=j.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:s="",...l}=e,c=Dd(TM,n),{onValueNodeHasChildrenChange:d}=c,h=a!==void 0,p=zn(t,c.onValueNodeChange);return da(()=>{d(h)},[d,h]),o.jsx(rn.span,{...l,ref:p,style:{pointerEvents:"none"},children:ez(c.value)?o.jsx(o.Fragment,{children:s}):a})});DM.displayName=TM;var WQ="SelectIcon",LM=j.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return o.jsx(rn.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});LM.displayName=WQ;var VQ="SelectPortal",IM=e=>o.jsx(h1,{asChild:!0,...e});IM.displayName=VQ;var sh="SelectContent",RM=j.forwardRef((e,t)=>{const n=Dd(sh,e.__scopeSelect),[r,i]=j.useState();if(da(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Iv.createPortal(o.jsx(MM,{scope:e.__scopeSelect,children:o.jsx(g1.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(zM,{...e,ref:t})});RM.displayName=sh;var Qs=10,[MM,Ld]=Nm(sh),GQ="SelectContentImpl",KQ=VX("SelectContent.RemoveScroll"),zM=j.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:p,collisionBoundary:g,collisionPadding:m,sticky:b,hideWhenDetached:x,avoidCollisions:y,...w}=e,A=Dd(sh,n),[C,P]=j.useState(null),[E,I]=j.useState(null),z=zn(t,se=>P(se)),[O,F]=j.useState(null),[G,R]=j.useState(null),k=v1(n),[B,U]=j.useState(!1),M=j.useRef(!1);j.useEffect(()=>{if(C)return V4(C)},[C]),R4();const X=j.useCallback(se=>{const[fe,...de]=k().map(_e=>_e.ref.current),[be]=de.slice(-1),Ee=document.activeElement;for(const _e of se)if(_e===Ee||(_e==null||_e.scrollIntoView({block:"nearest"}),_e===fe&&E&&(E.scrollTop=0),_e===be&&E&&(E.scrollTop=E.scrollHeight),_e==null||_e.focus(),document.activeElement!==Ee))return},[k,E]),Q=j.useCallback(()=>X([O,C]),[X,O,C]);j.useEffect(()=>{B&&Q()},[B,Q]);const{onOpenChange:K,triggerPointerDownPosRef:Y}=A;j.useEffect(()=>{if(C){let se={x:0,y:0};const fe=be=>{var Ee,_e;se={x:Math.abs(Math.round(be.pageX)-(((Ee=Y.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(be.pageY)-(((_e=Y.current)==null?void 0:_e.y)??0))}},de=be=>{se.x<=10&&se.y<=10?be.preventDefault():C.contains(be.target)||K(!1),document.removeEventListener("pointermove",fe),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",de,{capture:!0})}}},[C,K,Y]),j.useEffect(()=>{const se=()=>K(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[K]);const[ne,H]=tz(se=>{const fe=k().filter(Ee=>!Ee.disabled),de=fe.find(Ee=>Ee.ref.current===document.activeElement),be=nz(fe,se,de);be&&setTimeout(()=>be.ref.current.focus())}),T=j.useCallback((se,fe,de)=>{const be=!M.current&&!de;(A.value!==void 0&&A.value===fe||be)&&(F(se),be&&(M.current=!0))},[A.value]),V=j.useCallback(()=>C==null?void 0:C.focus(),[C]),J=j.useCallback((se,fe,de)=>{const be=!M.current&&!de;(A.value!==void 0&&A.value===fe||be)&&R(se)},[A.value]),Z=r==="popper"?SS:FM,oe=Z===SS?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:p,collisionBoundary:g,collisionPadding:m,sticky:b,hideWhenDetached:x,avoidCollisions:y}:{};return o.jsx(MM,{scope:n,content:C,viewport:E,onViewportChange:I,itemRefCallback:T,selectedItem:O,onItemLeave:V,itemTextRefCallback:J,focusSelectedItem:Q,selectedItemText:G,position:r,isPositioned:B,searchRef:ne,children:o.jsx(m1,{as:KQ,allowPinchZoom:!0,children:o.jsx(s1,{asChild:!0,trapped:A.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:cn(i,se=>{var fe;(fe=A.trigger)==null||fe.focus({preventScroll:!0}),se.preventDefault()}),children:o.jsx(o1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:o.jsx(Z,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:se=>se.preventDefault(),...w,...oe,onPlaced:()=>U(!0),ref:z,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:cn(w.onKeyDown,se=>{const fe=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!fe&&se.key.length===1&&H(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let be=k().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(se.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const Ee=se.target,_e=be.indexOf(Ee);be=be.slice(_e+1)}setTimeout(()=>X(be)),se.preventDefault()}})})})})})})});zM.displayName=GQ;var YQ="SelectItemAlignedPosition",FM=j.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,a=Dd(sh,n),s=Ld(sh,n),[l,c]=j.useState(null),[d,h]=j.useState(null),p=zn(t,z=>h(z)),g=v1(n),m=j.useRef(!1),b=j.useRef(!0),{viewport:x,selectedItem:y,selectedItemText:w,focusSelectedItem:A}=s,C=j.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&x&&y&&w){const z=a.trigger.getBoundingClientRect(),O=d.getBoundingClientRect(),F=a.valueNode.getBoundingClientRect(),G=w.getBoundingClientRect();if(a.dir!=="rtl"){const Ee=G.left-O.left,_e=F.left-Ee,$e=z.left-_e,He=z.width+$e,le=Math.max(He,O.width),Ke=window.innerWidth-Qs,pt=yS(_e,[Qs,Math.max(Qs,Ke-le)]);l.style.minWidth=He+"px",l.style.left=pt+"px"}else{const Ee=O.right-G.right,_e=window.innerWidth-F.right-Ee,$e=window.innerWidth-z.right-_e,He=z.width+$e,le=Math.max(He,O.width),Ke=window.innerWidth-Qs,pt=yS(_e,[Qs,Math.max(Qs,Ke-le)]);l.style.minWidth=He+"px",l.style.right=pt+"px"}const R=g(),k=window.innerHeight-Qs*2,B=x.scrollHeight,U=window.getComputedStyle(d),M=parseInt(U.borderTopWidth,10),X=parseInt(U.paddingTop,10),Q=parseInt(U.borderBottomWidth,10),K=parseInt(U.paddingBottom,10),Y=M+X+B+K+Q,ne=Math.min(y.offsetHeight*5,Y),H=window.getComputedStyle(x),T=parseInt(H.paddingTop,10),V=parseInt(H.paddingBottom,10),J=z.top+z.height/2-Qs,Z=k-J,oe=y.offsetHeight/2,se=y.offsetTop+oe,fe=M+X+se,de=Y-fe;if(fe<=J){const Ee=R.length>0&&y===R[R.length-1].ref.current;l.style.bottom="0px";const _e=d.clientHeight-x.offsetTop-x.offsetHeight,$e=Math.max(Z,oe+(Ee?V:0)+_e+Q),He=fe+$e;l.style.height=He+"px"}else{const Ee=R.length>0&&y===R[0].ref.current;l.style.top="0px";const $e=Math.max(J,M+x.offsetTop+(Ee?T:0)+oe)+de;l.style.height=$e+"px",x.scrollTop=fe-J+x.offsetTop}l.style.margin=`${Qs}px 0`,l.style.minHeight=ne+"px",l.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[g,a.trigger,a.valueNode,l,d,x,y,w,a.dir,r]);da(()=>C(),[C]);const[P,E]=j.useState();da(()=>{d&&E(window.getComputedStyle(d).zIndex)},[d]);const I=j.useCallback(z=>{z&&b.current===!0&&(C(),A==null||A(),b.current=!1)},[C,A]);return o.jsx(QQ,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:I,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:o.jsx(rn.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});FM.displayName=YQ;var XQ="SelectPopperPosition",SS=j.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Qs,...a}=e,s=y1(n);return o.jsx(yM,{...s,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SS.displayName=XQ;var[QQ,G4]=Nm(sh,{}),NS="SelectViewport",$M=j.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,a=Ld(NS,n),s=G4(NS,n),l=zn(t,a.onViewportChange),c=j.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(g1.Slot,{scope:n,children:o.jsx(rn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:cn(i.onScroll,d=>{const h=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=s;if(g!=null&&g.current&&p){const m=Math.abs(c.current-h.scrollTop);if(m>0){const b=window.innerHeight-Qs*2,x=parseFloat(p.style.minHeight),y=parseFloat(p.style.height),w=Math.max(x,y);if(w<b){const A=w+m,C=Math.min(b,A),P=A-C;p.style.height=C+"px",p.style.bottom==="0px"&&(h.scrollTop=P>0?P:0,p.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});$M.displayName=NS;var qM="SelectGroup",[JQ,ZQ]=Nm(qM),eJ=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Ka();return o.jsx(JQ,{scope:n,id:i,children:o.jsx(rn.div,{role:"group","aria-labelledby":i,...r,ref:t})})});eJ.displayName=qM;var BM="SelectLabel",UM=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=ZQ(BM,n);return o.jsx(rn.div,{id:i.id,...r,ref:t})});UM.displayName=BM;var By="SelectItem",[tJ,HM]=Nm(By),WM=j.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...s}=e,l=Dd(By,n),c=Ld(By,n),d=l.value===r,[h,p]=j.useState(a??""),[g,m]=j.useState(!1),b=zn(t,A=>{var C;return(C=c.itemRefCallback)==null?void 0:C.call(c,A,r,i)}),x=Ka(),y=j.useRef("touch"),w=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(tJ,{scope:n,value:r,disabled:i,textId:x,isSelected:d,onItemTextChange:j.useCallback(A=>{p(C=>C||((A==null?void 0:A.textContent)??"").trim())},[]),children:o.jsx(g1.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:o.jsx(rn.div,{role:"option","aria-labelledby":x,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:b,onFocus:cn(s.onFocus,()=>m(!0)),onBlur:cn(s.onBlur,()=>m(!1)),onClick:cn(s.onClick,()=>{y.current!=="mouse"&&w()}),onPointerUp:cn(s.onPointerUp,()=>{y.current==="mouse"&&w()}),onPointerDown:cn(s.onPointerDown,A=>{y.current=A.pointerType}),onPointerMove:cn(s.onPointerMove,A=>{var C;y.current=A.pointerType,i?(C=c.onItemLeave)==null||C.call(c):y.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:cn(s.onPointerLeave,A=>{var C;A.currentTarget===document.activeElement&&((C=c.onItemLeave)==null||C.call(c))}),onKeyDown:cn(s.onKeyDown,A=>{var P;((P=c.searchRef)==null?void 0:P.current)!==""&&A.key===" "||($Q.includes(A.key)&&w(),A.key===" "&&A.preventDefault())})})})})});WM.displayName=By;var Sg="SelectItemText",VM=j.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...a}=e,s=Dd(Sg,n),l=Ld(Sg,n),c=HM(Sg,n),d=HQ(Sg,n),[h,p]=j.useState(null),g=zn(t,w=>p(w),c.onItemTextChange,w=>{var A;return(A=l.itemTextRefCallback)==null?void 0:A.call(l,w,c.value,c.disabled)}),m=h==null?void 0:h.textContent,b=j.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:x,onNativeOptionRemove:y}=d;return da(()=>(x(b),()=>y(b)),[x,y,b]),o.jsxs(o.Fragment,{children:[o.jsx(rn.span,{id:c.textId,...a,ref:g}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Iv.createPortal(a.children,s.valueNode):null]})});VM.displayName=Sg;var GM="SelectItemIndicator",KM=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return HM(GM,n).isSelected?o.jsx(rn.span,{"aria-hidden":!0,...r,ref:t}):null});KM.displayName=GM;var AS="SelectScrollUpButton",YM=j.forwardRef((e,t)=>{const n=Ld(AS,e.__scopeSelect),r=G4(AS,e.__scopeSelect),[i,a]=j.useState(!1),s=zn(t,r.onScrollButtonChange);return da(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?o.jsx(QM,{...e,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});YM.displayName=AS;var CS="SelectScrollDownButton",XM=j.forwardRef((e,t)=>{const n=Ld(CS,e.__scopeSelect),r=G4(CS,e.__scopeSelect),[i,a]=j.useState(!1),s=zn(t,r.onScrollButtonChange);return da(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;a(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?o.jsx(QM,{...e,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});XM.displayName=CS;var QM=j.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,a=Ld("SelectScrollButton",n),s=j.useRef(null),l=v1(n),c=j.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return j.useEffect(()=>()=>c(),[c]),da(()=>{var h;const d=l().find(p=>p.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(rn.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:cn(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:cn(i.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:cn(i.onPointerLeave,()=>{c()})})}),nJ="SelectSeparator",JM=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(rn.div,{"aria-hidden":!0,...r,ref:t})});JM.displayName=nJ;var PS="SelectArrow",rJ=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=y1(n),a=Dd(PS,n),s=Ld(PS,n);return a.open&&s.position==="popper"?o.jsx(xM,{...i,...r,ref:t}):null});rJ.displayName=PS;var iJ="SelectBubbleInput",ZM=j.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=j.useRef(null),a=zn(r,i),s=T4(t);return j.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==t&&h){const p=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(p)}},[s,t]),o.jsx(rn.select,{...n,style:{...bM,...n.style},ref:a,defaultValue:t})});ZM.displayName=iJ;function ez(e){return e===""||e===void 0}function tz(e){const t=Va(e),n=j.useRef(""),r=j.useRef(0),i=j.useCallback(s=>{const l=n.current+s;t(l),(function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))})(l)},[t]),a=j.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function nz(e,t,n){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let s=aJ(e,Math.max(a,0));i.length===1&&(s=s.filter(d=>d!==n));const c=s.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function aJ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var oJ=EM,rz=OM,sJ=DM,lJ=LM,cJ=IM,iz=RM,uJ=$M,az=UM,oz=WM,dJ=VM,fJ=KM,sz=YM,lz=XM,cz=JM;const an=oJ,on=sJ,tn=j.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(rz,{ref:r,className:Lt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,o.jsx(lJ,{asChild:!0,children:o.jsx(Zx,{className:"h-4 w-4 opacity-50"})})]}));tn.displayName=rz.displayName;const uz=j.forwardRef(({className:e,...t},n)=>o.jsx(sz,{ref:n,className:Lt("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(x4,{className:"h-4 w-4"})}));uz.displayName=sz.displayName;const dz=j.forwardRef(({className:e,...t},n)=>o.jsx(lz,{ref:n,className:Lt("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Zx,{className:"h-4 w-4"})}));dz.displayName=lz.displayName;const nn=j.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>o.jsx(cJ,{children:o.jsxs(iz,{ref:i,className:Lt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(uz,{}),o.jsx(uJ,{className:Lt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(dz,{})]})}));nn.displayName=iz.displayName;const hJ=j.forwardRef(({className:e,...t},n)=>o.jsx(az,{ref:n,className:Lt("px-2 py-1.5 text-sm font-semibold",e),...t}));hJ.displayName=az.displayName;const Ze=j.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(oz,{ref:r,className:Lt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(fJ,{children:o.jsx(Jx,{className:"h-4 w-4"})})}),o.jsx(dJ,{children:t})]}));Ze.displayName=oz.displayName;const pJ=j.forwardRef(({className:e,...t},n)=>o.jsx(cz,{ref:n,className:Lt("-mx-1 my-1 h-px bg-muted",e),...t}));pJ.displayName=cz.displayName;function mJ(e){const t=gJ(e),n=j.forwardRef((r,i)=>{const{children:a,...s}=r,l=j.Children.toArray(a),c=l.find(yJ);if(c){const d=c.props.children,h=l.map(p=>p===c?j.Children.count(d)>1?j.Children.only(null):j.isValidElement(d)?d.props.children:null:p);return o.jsx(t,{...s,ref:i,children:j.isValidElement(d)?j.cloneElement(d,void 0,h):null})}return o.jsx(t,{...s,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function gJ(e){const t=j.forwardRef((n,r)=>{const{children:i,...a}=n;if(j.isValidElement(i)){const s=bJ(i),l=xJ(a,i.props);return i.type!==j.Fragment&&(l.ref=r?js(r,s):s),j.cloneElement(i,l)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vJ=Symbol("radix.slottable");function yJ(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vJ}function xJ(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function bJ(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var x1="Dialog",[fz,hz]=Ps(x1),[wJ,dl]=fz(x1),pz=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:s=!0}=e,l=j.useRef(null),c=j.useRef(null),[d,h]=Cd({prop:r,defaultProp:i??!1,onChange:a,caller:x1});return o.jsx(wJ,{scope:t,triggerRef:l,contentRef:c,contentId:Ka(),titleId:Ka(),descriptionId:Ka(),open:d,onOpenChange:h,onOpenToggle:j.useCallback(()=>h(p=>!p),[h]),modal:s,children:n})};pz.displayName=x1;var mz="DialogTrigger",gz=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=dl(mz,n),a=zn(t,i.triggerRef);return o.jsx(rn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":X4(i.open),...r,ref:a,onClick:cn(e.onClick,i.onOpenToggle)})});gz.displayName=mz;var K4="DialogPortal",[_J,vz]=fz(K4,{forceMount:void 0}),yz=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=dl(K4,t);return o.jsx(_J,{scope:t,forceMount:n,children:j.Children.map(r,s=>o.jsx(Ko,{present:n||a.open,children:o.jsx(h1,{asChild:!0,container:i,children:s})}))})};yz.displayName=K4;var Uy="DialogOverlay",xz=j.forwardRef((e,t)=>{const n=vz(Uy,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=dl(Uy,e.__scopeDialog);return a.modal?o.jsx(Ko,{present:r||a.open,children:o.jsx(SJ,{...i,ref:t})}):null});xz.displayName=Uy;var jJ=mJ("DialogOverlay.RemoveScroll"),SJ=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=dl(Uy,n);return o.jsx(m1,{as:jJ,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(rn.div,{"data-state":X4(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),lh="DialogContent",bz=j.forwardRef((e,t)=>{const n=vz(lh,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=dl(lh,e.__scopeDialog);return o.jsx(Ko,{present:r||a.open,children:a.modal?o.jsx(NJ,{...i,ref:t}):o.jsx(AJ,{...i,ref:t})})});bz.displayName=lh;var NJ=j.forwardRef((e,t)=>{const n=dl(lh,e.__scopeDialog),r=j.useRef(null),i=zn(t,n.contentRef,r);return j.useEffect(()=>{const a=r.current;if(a)return V4(a)},[]),o.jsx(wz,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:cn(e.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:cn(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&a.preventDefault()}),onFocusOutside:cn(e.onFocusOutside,a=>a.preventDefault())})}),AJ=j.forwardRef((e,t)=>{const n=dl(lh,e.__scopeDialog),r=j.useRef(!1),i=j.useRef(!1);return o.jsx(wz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,l;(s=e.onCloseAutoFocus)==null||s.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),wz=j.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=e,l=dl(lh,n),c=j.useRef(null),d=zn(t,c);return R4(),o.jsxs(o.Fragment,{children:[o.jsx(s1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:o.jsx(o1,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":X4(l.open),...s,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(PJ,{titleId:l.titleId}),o.jsx(kJ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Y4="DialogTitle",_z=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=dl(Y4,n);return o.jsx(rn.h2,{id:i.titleId,...r,ref:t})});_z.displayName=Y4;var jz="DialogDescription",Sz=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=dl(jz,n);return o.jsx(rn.p,{id:i.descriptionId,...r,ref:t})});Sz.displayName=jz;var Nz="DialogClose",Az=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=dl(Nz,n);return o.jsx(rn.button,{type:"button",...r,ref:t,onClick:cn(e.onClick,()=>i.onOpenChange(!1))})});Az.displayName=Nz;function X4(e){return e?"open":"closed"}var Cz="DialogTitleWarning",[CJ,Pz]=fK(Cz,{contentName:lh,titleName:Y4,docsSlug:"dialog"}),PJ=({titleId:e})=>{const t=Pz(Cz),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},EJ="DialogDescriptionWarning",kJ=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Pz(EJ).contentName}}.`;return j.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Q4=pz,OJ=gz,J4=yz,b1=xz,w1=bz,Z4=_z,eA=Sz,tA=Az;const Er=Q4,TJ=J4,Ez=j.forwardRef(({className:e,...t},n)=>o.jsx(b1,{ref:n,className:Lt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Ez.displayName=b1.displayName;const wr=j.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(TJ,{children:[o.jsx(Ez,{}),o.jsxs(w1,{ref:r,className:Lt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,o.jsxs(tA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(go,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));wr.displayName=w1.displayName;const _r=({className:e,...t})=>o.jsx("div",{className:Lt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});_r.displayName="DialogHeader";const nA=({className:e,...t})=>o.jsx("div",{className:Lt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});nA.displayName="DialogFooter";const jr=j.forwardRef(({className:e,...t},n)=>o.jsx(Z4,{ref:n,className:Lt("text-lg font-semibold leading-none tracking-tight",e),...t}));jr.displayName=Z4.displayName;const DJ=j.forwardRef(({className:e,...t},n)=>o.jsx(eA,{ref:n,className:Lt("text-sm text-muted-foreground",e),...t}));DJ.displayName=eA.displayName;function LJ(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const IJ=e=>{switch(e){case"success":return zJ;case"info":return $J;case"warning":return FJ;case"error":return qJ;default:return null}},RJ=Array(12).fill(0),MJ=({visible:e,className:t})=>ve.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ve.createElement("div",{className:"sonner-spinner"},RJ.map((n,r)=>ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),zJ=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),FJ=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),$J=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qJ=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),BJ=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),UJ=()=>{const[e,t]=ve.useState(document.hidden);return ve.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let ES=1;class HJ{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...i}=t,a=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:ES++,s=this.toasts.find(c=>c.id===a),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),s?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:r}),{...c,...t,id:a,dismissible:l,title:r}):c):this.addToast({title:r,...i,dismissible:l,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let a=r!==void 0,s;const l=i.then(async d=>{if(s=["resolve",d],ve.isValidElement(d))a=!1,this.create({id:r,type:"default",message:d});else if(VJ(d)&&!d.ok){a=!1;const p=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,b=typeof p=="object"&&!ve.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:g,...b})}else if(d instanceof Error){a=!1;const p=typeof n.error=="function"?await n.error(d):n.error,g=typeof n.description=="function"?await n.description(d):n.description,b=typeof p=="object"&&!ve.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:g,...b})}else if(n.success!==void 0){a=!1;const p=typeof n.success=="function"?await n.success(d):n.success,g=typeof n.description=="function"?await n.description(d):n.description,b=typeof p=="object"&&!ve.isValidElement(p)?p:{message:p};this.create({id:r,type:"success",description:g,...b})}}).catch(async d=>{if(s=["reject",d],n.error!==void 0){a=!1;const h=typeof n.error=="function"?await n.error(d):n.error,p=typeof n.description=="function"?await n.description(d):n.description,m=typeof h=="object"&&!ve.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:p,...m})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((d,h)=>l.then(()=>s[0]==="reject"?h(s[1]):d(s[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||ES++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ho=new HJ,WJ=(e,t)=>{const n=(t==null?void 0:t.id)||ES++;return ho.addToast({title:e,...t,id:n}),n},VJ=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",GJ=WJ,KJ=()=>ho.toasts,YJ=()=>ho.getActiveToasts(),We=Object.assign(GJ,{success:ho.success,info:ho.info,warning:ho.warning,error:ho.error,custom:ho.custom,message:ho.message,promise:ho.promise,dismiss:ho.dismiss,loading:ho.loading},{getHistory:KJ,getToasts:YJ});LJ("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function W0(e){return e.label!==void 0}const XJ=3,QJ="24px",JJ="16px",zP=4e3,ZJ=356,eZ=14,tZ=45,nZ=200;function Dl(...e){return e.filter(Boolean).join(" ")}function rZ(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const iZ=e=>{var t,n,r,i,a,s,l,c,d;const{invert:h,toast:p,unstyled:g,interacting:m,setHeights:b,visibleToasts:x,heights:y,index:w,toasts:A,expanded:C,removeToast:P,defaultRichColors:E,closeButton:I,style:z,cancelButtonStyle:O,actionButtonStyle:F,className:G="",descriptionClassName:R="",duration:k,position:B,gap:U,expandByDefault:M,classNames:X,icons:Q,closeButtonAriaLabel:K="Close toast"}=e,[Y,ne]=ve.useState(null),[H,T]=ve.useState(null),[V,J]=ve.useState(!1),[Z,oe]=ve.useState(!1),[se,fe]=ve.useState(!1),[de,be]=ve.useState(!1),[Ee,_e]=ve.useState(!1),[$e,He]=ve.useState(0),[le,Ke]=ve.useState(0),pt=ve.useRef(p.duration||k||zP),xt=ve.useRef(null),Be=ve.useRef(null),Nt=w===0,ot=w+1<=x,st=p.type,Pe=p.dismissible!==!1,Pt=p.className||"",_t=p.descriptionClassName||"",mt=ve.useMemo(()=>y.findIndex(ct=>ct.toastId===p.id)||0,[y,p.id]),vt=ve.useMemo(()=>{var ct;return(ct=p.closeButton)!=null?ct:I},[p.closeButton,I]),jt=ve.useMemo(()=>p.duration||k||zP,[p.duration,k]),ut=ve.useRef(0),St=ve.useRef(0),ft=ve.useRef(0),_n=ve.useRef(null),[pn,un]=B.split("-"),mn=ve.useMemo(()=>y.reduce((ct,pe,Ne)=>Ne>=mt?ct:ct+pe.height,0),[y,mt]),Un=UJ(),Vt=p.invert||h,Nn=st==="loading";St.current=ve.useMemo(()=>mt*U+mn,[mt,mn]),ve.useEffect(()=>{pt.current=jt},[jt]),ve.useEffect(()=>{J(!0)},[]),ve.useEffect(()=>{const ct=Be.current;if(ct){const pe=ct.getBoundingClientRect().height;return Ke(pe),b(Ne=>[{toastId:p.id,height:pe,position:p.position},...Ne]),()=>b(Ne=>Ne.filter(at=>at.toastId!==p.id))}},[b,p.id]),ve.useLayoutEffect(()=>{if(!V)return;const ct=Be.current,pe=ct.style.height;ct.style.height="auto";const Ne=ct.getBoundingClientRect().height;ct.style.height=pe,Ke(Ne),b(at=>at.find(dt=>dt.toastId===p.id)?at.map(dt=>dt.toastId===p.id?{...dt,height:Ne}:dt):[{toastId:p.id,height:Ne,position:p.position},...at])},[V,p.title,p.description,b,p.id,p.jsx,p.action,p.cancel]);const Ot=ve.useCallback(()=>{oe(!0),He(St.current),b(ct=>ct.filter(pe=>pe.toastId!==p.id)),setTimeout(()=>{P(p)},nZ)},[p,P,b,St]);ve.useEffect(()=>{if(p.promise&&st==="loading"||p.duration===1/0||p.type==="loading")return;let ct;return C||m||Un?(()=>{if(ft.current<ut.current){const at=new Date().getTime()-ut.current;pt.current=pt.current-at}ft.current=new Date().getTime()})():(()=>{pt.current!==1/0&&(ut.current=new Date().getTime(),ct=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),Ot()},pt.current))})(),()=>clearTimeout(ct)},[C,m,p,st,Un,Ot]),ve.useEffect(()=>{p.delete&&(Ot(),p.onDismiss==null||p.onDismiss.call(p,p))},[Ot,p.delete]);function xe(){var ct;if(Q!=null&&Q.loading){var pe;return ve.createElement("div",{className:Dl(X==null?void 0:X.loader,p==null||(pe=p.classNames)==null?void 0:pe.loader,"sonner-loader"),"data-visible":st==="loading"},Q.loading)}return ve.createElement(MJ,{className:Dl(X==null?void 0:X.loader,p==null||(ct=p.classNames)==null?void 0:ct.loader),visible:st==="loading"})}const bt=p.icon||(Q==null?void 0:Q[st])||IJ(st);var Et,At;return ve.createElement("li",{tabIndex:0,ref:Be,className:Dl(G,Pt,X==null?void 0:X.toast,p==null||(t=p.classNames)==null?void 0:t.toast,X==null?void 0:X.default,X==null?void 0:X[st],p==null||(n=p.classNames)==null?void 0:n[st]),"data-sonner-toast":"","data-rich-colors":(Et=p.richColors)!=null?Et:E,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":V,"data-promise":!!p.promise,"data-swiped":Ee,"data-removed":Z,"data-visible":ot,"data-y-position":pn,"data-x-position":un,"data-index":w,"data-front":Nt,"data-swiping":se,"data-dismissible":Pe,"data-type":st,"data-invert":Vt,"data-swipe-out":de,"data-swipe-direction":H,"data-expanded":!!(C||M&&V),"data-testid":p.testId,style:{"--index":w,"--toasts-before":w,"--z-index":A.length-w,"--offset":`${Z?$e:St.current}px`,"--initial-height":M?"auto":`${le}px`,...z,...p.style},onDragEnd:()=>{fe(!1),ne(null),_n.current=null},onPointerDown:ct=>{ct.button!==2&&(Nn||!Pe||(xt.current=new Date,He(St.current),ct.target.setPointerCapture(ct.pointerId),ct.target.tagName!=="BUTTON"&&(fe(!0),_n.current={x:ct.clientX,y:ct.clientY})))},onPointerUp:()=>{var ct,pe,Ne;if(de||!Pe)return;_n.current=null;const at=Number(((ct=Be.current)==null?void 0:ct.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),It=Number(((pe=Be.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),dt=new Date().getTime()-((Ne=xt.current)==null?void 0:Ne.getTime()),An=Y==="x"?at:It,Tr=Math.abs(An)/dt;if(Math.abs(An)>=tZ||Tr>.11){He(St.current),p.onDismiss==null||p.onDismiss.call(p,p),T(Y==="x"?at>0?"right":"left":It>0?"down":"up"),Ot(),be(!0);return}else{var $n,Zn;($n=Be.current)==null||$n.style.setProperty("--swipe-amount-x","0px"),(Zn=Be.current)==null||Zn.style.setProperty("--swipe-amount-y","0px")}_e(!1),fe(!1),ne(null)},onPointerMove:ct=>{var pe,Ne,at;if(!_n.current||!Pe||((pe=window.getSelection())==null?void 0:pe.toString().length)>0)return;const dt=ct.clientY-_n.current.y,An=ct.clientX-_n.current.x;var Tr;const $n=(Tr=e.swipeDirections)!=null?Tr:rZ(B);!Y&&(Math.abs(An)>1||Math.abs(dt)>1)&&ne(Math.abs(An)>Math.abs(dt)?"x":"y");let Zn={x:0,y:0};const Fn=Wn=>1/(1.5+Math.abs(Wn)/20);if(Y==="y"){if($n.includes("top")||$n.includes("bottom"))if($n.includes("top")&&dt<0||$n.includes("bottom")&&dt>0)Zn.y=dt;else{const Wn=dt*Fn(dt);Zn.y=Math.abs(Wn)<Math.abs(dt)?Wn:dt}}else if(Y==="x"&&($n.includes("left")||$n.includes("right")))if($n.includes("left")&&An<0||$n.includes("right")&&An>0)Zn.x=An;else{const Wn=An*Fn(An);Zn.x=Math.abs(Wn)<Math.abs(An)?Wn:An}(Math.abs(Zn.x)>0||Math.abs(Zn.y)>0)&&_e(!0),(Ne=Be.current)==null||Ne.style.setProperty("--swipe-amount-x",`${Zn.x}px`),(at=Be.current)==null||at.style.setProperty("--swipe-amount-y",`${Zn.y}px`)}},vt&&!p.jsx&&st!=="loading"?ve.createElement("button",{"aria-label":K,"data-disabled":Nn,"data-close-button":!0,onClick:Nn||!Pe?()=>{}:()=>{Ot(),p.onDismiss==null||p.onDismiss.call(p,p)},className:Dl(X==null?void 0:X.closeButton,p==null||(r=p.classNames)==null?void 0:r.closeButton)},(At=Q==null?void 0:Q.close)!=null?At:BJ):null,(st||p.icon||p.promise)&&p.icon!==null&&((Q==null?void 0:Q[st])!==null||p.icon)?ve.createElement("div",{"data-icon":"",className:Dl(X==null?void 0:X.icon,p==null||(i=p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||xe():null,p.type!=="loading"?bt:null):null,ve.createElement("div",{"data-content":"",className:Dl(X==null?void 0:X.content,p==null||(a=p.classNames)==null?void 0:a.content)},ve.createElement("div",{"data-title":"",className:Dl(X==null?void 0:X.title,p==null||(s=p.classNames)==null?void 0:s.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?ve.createElement("div",{"data-description":"",className:Dl(R,_t,X==null?void 0:X.description,p==null||(l=p.classNames)==null?void 0:l.description)},typeof p.description=="function"?p.description():p.description):null),ve.isValidElement(p.cancel)?p.cancel:p.cancel&&W0(p.cancel)?ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||O,onClick:ct=>{W0(p.cancel)&&Pe&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,ct),Ot())},className:Dl(X==null?void 0:X.cancelButton,p==null||(c=p.classNames)==null?void 0:c.cancelButton)},p.cancel.label):null,ve.isValidElement(p.action)?p.action:p.action&&W0(p.action)?ve.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||F,onClick:ct=>{W0(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,ct),!ct.defaultPrevented&&Ot())},className:Dl(X==null?void 0:X.actionButton,p==null||(d=p.classNames)==null?void 0:d.actionButton)},p.action.label):null)};function FP(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function aZ(e,t){const n={};return[e,t].forEach((r,i)=>{const a=i===1,s=a?"--mobile-offset":"--offset",l=a?JJ:QJ;function c(d){["top","right","bottom","left"].forEach(h=>{n[`${s}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${s}-${d}`]=l:n[`${s}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(l)}),n}const oZ=ve.forwardRef(function(t,n){const{id:r,invert:i,position:a="bottom-right",hotkey:s=["altKey","KeyT"],expand:l,closeButton:c,className:d,offset:h,mobileOffset:p,theme:g="light",richColors:m,duration:b,style:x,visibleToasts:y=XJ,toastOptions:w,dir:A=FP(),gap:C=eZ,icons:P,containerAriaLabel:E="Notifications"}=t,[I,z]=ve.useState([]),O=ve.useMemo(()=>r?I.filter(V=>V.toasterId===r):I.filter(V=>!V.toasterId),[I,r]),F=ve.useMemo(()=>Array.from(new Set([a].concat(O.filter(V=>V.position).map(V=>V.position)))),[O,a]),[G,R]=ve.useState([]),[k,B]=ve.useState(!1),[U,M]=ve.useState(!1),[X,Q]=ve.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=ve.useRef(null),Y=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),ne=ve.useRef(null),H=ve.useRef(!1),T=ve.useCallback(V=>{z(J=>{var Z;return(Z=J.find(oe=>oe.id===V.id))!=null&&Z.delete||ho.dismiss(V.id),J.filter(({id:oe})=>oe!==V.id)})},[]);return ve.useEffect(()=>ho.subscribe(V=>{if(V.dismiss){requestAnimationFrame(()=>{z(J=>J.map(Z=>Z.id===V.id?{...Z,delete:!0}:Z))});return}setTimeout(()=>{LI.flushSync(()=>{z(J=>{const Z=J.findIndex(oe=>oe.id===V.id);return Z!==-1?[...J.slice(0,Z),{...J[Z],...V},...J.slice(Z+1)]:[V,...J]})})})}),[I]),ve.useEffect(()=>{if(g!=="system"){Q(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;const V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:J})=>{Q(J?"dark":"light")})}catch{V.addListener(({matches:Z})=>{try{Q(Z?"dark":"light")}catch(oe){console.error(oe)}})}},[g]),ve.useEffect(()=>{I.length<=1&&B(!1)},[I]),ve.useEffect(()=>{const V=J=>{var Z;if(s.every(fe=>J[fe]||J.code===fe)){var se;B(!0),(se=K.current)==null||se.focus()}J.code==="Escape"&&(document.activeElement===K.current||(Z=K.current)!=null&&Z.contains(document.activeElement))&&B(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[s]),ve.useEffect(()=>{if(K.current)return()=>{ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null,H.current=!1)}},[K.current]),ve.createElement("section",{ref:n,"aria-label":`${E} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},F.map((V,J)=>{var Z;const[oe,se]=V.split("-");return O.length?ve.createElement("ol",{key:V,dir:A==="auto"?FP():A,tabIndex:-1,ref:K,className:d,"data-sonner-toaster":!0,"data-sonner-theme":X,"data-y-position":oe,"data-x-position":se,style:{"--front-toast-height":`${((Z=G[0])==null?void 0:Z.height)||0}px`,"--width":`${ZJ}px`,"--gap":`${C}px`,...x,...aZ(h,p)},onBlur:fe=>{H.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(H.current=!1,ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||H.current||(H.current=!0,ne.current=fe.relatedTarget)},onMouseEnter:()=>B(!0),onMouseMove:()=>B(!0),onMouseLeave:()=>{U||B(!1)},onDragEnd:()=>B(!1),onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},O.filter(fe=>!fe.position&&J===0||fe.position===V).map((fe,de)=>{var be,Ee;return ve.createElement(iZ,{key:fe.id,icons:P,index:de,toast:fe,defaultRichColors:m,duration:(be=w==null?void 0:w.duration)!=null?be:b,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:i,visibleToasts:y,closeButton:(Ee=w==null?void 0:w.closeButton)!=null?Ee:c,interacting:U,position:V,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,closeButtonAriaLabel:w==null?void 0:w.closeButtonAriaLabel,removeToast:T,toasts:O.filter(_e=>_e.position==fe.position),heights:G.filter(_e=>_e.position==fe.position),setHeights:R,expandByDefault:l,gap:C,expanded:k,swipeDirections:t.swipeDirections})})):null}))});function kz(){const[e,t]=j.useState(!1),[n,r]=j.useState(null),[i,a]=j.useState({nome:"",categoria:"ingresso_giornaliero",prezzo:"",durata_tipo:"mesi",durata_valore:"",numero_ingressi:"",ore_sale_incluse:"",descrizione:"",notifiche_scadenza:[],notifiche_ingressi:[],notifiche_ore:[]}),s=Or(),{data:l=[]}=Wt({queryKey:["tipi_abbonamento"],queryFn:()=>we.entities.TipoAbbonamento.list("-created_date"),initialData:[]}),c=vn({mutationFn:async O=>{const F={nome:O.nome,categoria:O.categoria,prezzo:parseFloat(O.prezzo),durata_mesi:O.durata_tipo==="mesi"&&O.durata_valore?parseFloat(O.durata_valore):null,durata_giorni:O.durata_tipo==="giorni"&&O.durata_valore?parseFloat(O.durata_valore):null,numero_ingressi:O.numero_ingressi?parseFloat(O.numero_ingressi):null,ore_sale_incluse:O.ore_sale_incluse?parseFloat(O.ore_sale_incluse):null,descrizione:O.descrizione,notifiche_scadenza:O.notifiche_scadenza.filter(G=>G.giorni&&G.testo),notifiche_ingressi:O.notifiche_ingressi.filter(G=>G.soglia&&G.testo),notifiche_ore:O.notifiche_ore.filter(G=>G.soglia&&G.testo),attivo:!0};n?await we.entities.TipoAbbonamento.update(n.id,F):await we.entities.TipoAbbonamento.create(F)},onSuccess:()=>{s.invalidateQueries({queryKey:["tipi_abbonamento"]}),t(!1),r(null),h(),We.success(n?"Servizio aggiornato":"Servizio creato")}}),d=vn({mutationFn:O=>we.entities.TipoAbbonamento.update(O,{attivo:!1}),onSuccess:()=>{s.invalidateQueries({queryKey:["tipi_abbonamento"]}),We.success("Servizio disattivato")}}),h=()=>{a({nome:"",categoria:"ingresso_giornaliero",prezzo:"",durata_tipo:"mesi",durata_valore:"",numero_ingressi:"",ore_sale_incluse:"",descrizione:"",notifiche_scadenza:[],notifiche_ingressi:[],notifiche_ore:[]})},p=O=>{r(O),a({nome:O.nome,categoria:O.categoria,prezzo:O.prezzo,durata_tipo:O.durata_mesi?"mesi":"giorni",durata_valore:O.durata_mesi||O.durata_giorni||"",numero_ingressi:O.numero_ingressi||"",ore_sale_incluse:O.ore_sale_incluse||"",descrizione:O.descrizione||"",notifiche_scadenza:O.notifiche_scadenza||[],notifiche_ingressi:O.notifiche_ingressi||[],notifiche_ore:O.notifiche_ore||[]}),t(!0)},g=()=>{a({...i,notifiche_scadenza:[...i.notifiche_scadenza,{giorni:"",testo:""}]})},m=O=>{a({...i,notifiche_scadenza:i.notifiche_scadenza.filter((F,G)=>G!==O)})},b=(O,F,G)=>{const R=[...i.notifiche_scadenza];R[O][F]=G,a({...i,notifiche_scadenza:R})},x=()=>{a({...i,notifiche_ingressi:[...i.notifiche_ingressi,{soglia:"",testo:""}]})},y=O=>{a({...i,notifiche_ingressi:i.notifiche_ingressi.filter((F,G)=>G!==O)})},w=(O,F,G)=>{const R=[...i.notifiche_ingressi];R[O][F]=G,a({...i,notifiche_ingressi:R})},A=()=>{a({...i,notifiche_ore:[...i.notifiche_ore,{soglia:"",testo:""}]})},C=O=>{a({...i,notifiche_ore:i.notifiche_ore.filter((F,G)=>G!==O)})},P=(O,F,G)=>{const R=[...i.notifiche_ore];R[O][F]=G,a({...i,notifiche_ore:R})},E=async(O,F)=>{const G=await we.auth.me(),R=new Date,k=new Date(R);i.durata_tipo==="mesi"&&i.durata_valore?k.setMonth(k.getMonth()+parseFloat(i.durata_valore)):i.durata_tipo==="giorni"&&i.durata_valore?k.setDate(k.getDate()+parseFloat(i.durata_valore)):k.setDate(k.getDate()+30);let B=F.testo;B=B.replace(/{nome_utente}/g,G.full_name),B=B.replace(/{nome_abbonamento}/g,i.nome||"Abbonamento Test"),B=B.replace(/{data_scadenza}/g,k.toLocaleDateString("it-IT")),O==="scadenza"?B=B.replace(/{giorni_rimanenti}/g,F.giorni||"7"):O==="ingressi"?B=B.replace(/{ingressi_rimanenti}/g,F.soglia||"2"):O==="ore"&&(B=B.replace(/{ore_rimanenti}/g,F.soglia||"3"));const M=`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="utf-8">
          <style>
            body { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; margin: 0; padding: 0; background-color: #f5f5f5; }
            .container { max-width: 600px; margin: 0 auto; background-color: white; }
            .header { background-color: #053c5e; padding: 30px 20px; text-align: center; border-bottom: 4px solid #db222a; }
            .header img { width: 150px; height: auto; display: inline-block; }
            .content { padding: 40px 30px; color: #333; line-height: 1.6; font-size: 16px; }
            .footer { background-color: #053c5e; color: white; padding: 25px 20px; text-align: center; font-size: 13px; border-top: 4px solid #db222a; }
            .footer p { margin: 5px 0; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <img src="https://www.h2oh.neunoi.it/wp-content/uploads/2025/03/neunoi_logo_bianco.png" alt="neu [ni]">
            </div>
            <div class="content">
              ${B.split(`
`).map(X=>X.trim()?`<p>${X}</p>`:"<br>").join("")}
            </div>
            <div class="footer">
              <p><strong>neu [ni] spazio al lavoro APS</strong></p>
              <p>via Alloro 64, 90133 Palermo</p>
            </div>
          </div>
        </body>
      </html>
    `;try{await we.integrations.Core.SendEmail({to:G.email,subject:`[TEST] Notifica ${O} - ${i.nome||"Abbonamento"}`,html:M}),We.success(`Email di prova inviata a ${G.email}`)}catch{We.error("Errore invio email di prova")}},I=()=>{r(null),h(),t(!0)},z=O=>({ingresso_giornaliero:"Ingresso Giornaliero",abbonamento:"Abbonamento",carnet:"Carnet",sala_riunioni:"Sala Riunioni",extra:"Extra"})[O]||O;return o.jsxs(o.Fragment,{children:[o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs(Zt,{children:["Servizi e Prezzi (",l.filter(O=>O.attivo).length,")"]}),o.jsxs(Oe,{onClick:I,className:"bg-[#053c5e] hover:bg-[#1f7a8c] w-full sm:w-auto",children:[o.jsx(xs,{className:"w-4 h-4 mr-2"}),"Nuovo Servizio"]})]})}),o.jsx(wt,{children:o.jsx("div",{className:"space-y-2",children:l.filter(O=>O.attivo).map(O=>o.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"font-bold text-[#053c5e]",children:O.nome}),o.jsx(kn,{className:"bg-[#1f7a8c] text-white",children:z(O.categoria)})]}),!!O.descrizione&&o.jsx("p",{className:"text-sm text-slate-600 mb-2",children:O.descrizione}),o.jsxs("div",{className:"flex gap-4 text-sm text-slate-500",children:[O.durata_mesi&&o.jsxs("span",{children:["Durata: ",O.durata_mesi," ",O.durata_mesi===1?"mese":"mesi"]}),O.durata_giorni&&o.jsxs("span",{children:["Durata: ",O.durata_giorni," ",O.durata_giorni===1?"giorno":"giorni"]}),O.numero_ingressi&&o.jsxs("span",{children:["Ingressi: ",O.numero_ingressi]}),O.ore_sale_incluse&&o.jsxs("span",{children:["Ore sale: ",O.ore_sale_incluse,"h credito"]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-2xl font-bold text-[#db222a]",children:[O.prezzo,""]}),o.jsx(Oe,{size:"sm",variant:"outline",onClick:()=>p(O),children:o.jsx(Cs,{className:"w-4 h-4"})}),o.jsx(Oe,{size:"sm",variant:"outline",className:"border-red-300 text-red-600",onClick:()=>d.mutate(O.id),children:o.jsx(Vo,{className:"w-4 h-4"})})]})]},O.id))})})]}),o.jsx(Er,{open:e,onOpenChange:t,children:o.jsxs(wr,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[o.jsx(_r,{children:o.jsx(jr,{children:n?"Modifica Servizio":"Nuovo Servizio"})}),o.jsxs("form",{onSubmit:O=>{O.preventDefault(),c.mutate(i)},className:"space-y-4",children:[o.jsxs(ol,{defaultValue:"base",className:"w-full",children:[o.jsxs(Ss,{className:"grid w-full grid-cols-2 bg-[#bfdbf7]",children:[o.jsx(Pn,{value:"base",className:"data-[state=active]:bg-[#053c5e] data-[state=active]:text-white",children:"Dati Base"}),o.jsxs(Pn,{value:"notifiche",className:"data-[state=active]:bg-[#053c5e] data-[state=active]:text-white",children:[o.jsx(Oy,{className:"w-4 h-4 mr-2"}),"Notifiche"]})]}),o.jsxs(En,{value:"base",className:"space-y-4 mt-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Nome Servizio *"}),o.jsx(tt,{value:i.nome,onChange:O=>a({...i,nome:O.target.value}),required:!0})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Categoria *"}),o.jsxs(an,{value:i.categoria,onValueChange:O=>a({...i,categoria:O}),children:[o.jsx(tn,{children:o.jsx(on,{})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"ingresso_giornaliero",children:"Ingresso Giornaliero"}),o.jsx(Ze,{value:"abbonamento",children:"Abbonamento"}),o.jsx(Ze,{value:"carnet",children:"Carnet"}),o.jsx(Ze,{value:"sala_riunioni",children:"Sala Riunioni"}),o.jsx(Ze,{value:"extra",children:"Extra"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Prezzo () *"}),o.jsx(tt,{type:"number",step:"0.01",value:i.prezzo,onChange:O=>a({...i,prezzo:O.target.value}),required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Tipo Durata"}),o.jsxs(an,{value:i.durata_tipo,onValueChange:O=>a({...i,durata_tipo:O}),children:[o.jsx(tn,{children:o.jsx(on,{})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"mesi",children:"Mesi"}),o.jsx(Ze,{value:"giorni",children:"Giorni"})]})]})]}),o.jsxs("div",{children:[o.jsxs(Le,{children:["Durata (",i.durata_tipo,")"]}),o.jsx(tt,{type:"number",value:i.durata_valore,onChange:O=>a({...i,durata_valore:O.target.value}),placeholder:i.durata_tipo==="mesi"?"Es: 1":"Es: 7"})]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Numero Ingressi (per carnet)"}),o.jsx(tt,{type:"number",value:i.numero_ingressi,onChange:O=>a({...i,numero_ingressi:O.target.value})})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Ore Sale Incluse (credito)"}),o.jsx(tt,{type:"number",step:"0.5",value:i.ore_sale_incluse,onChange:O=>a({...i,ore_sale_incluse:O.target.value})}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Call = 0.5 crediti/ora | Riunione = 1 credito/ora. Es: 16h credito = 32h call o 16h riunione"})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Descrizione"}),o.jsx(ta,{value:i.descrizione,onChange:O=>a({...i,descrizione:O.target.value}),rows:3})]})]}),o.jsxs(En,{value:"notifiche",className:"space-y-6 mt-4",children:[o.jsxs("div",{className:"bg-[#bfdbf7] p-4 rounded-lg",children:[o.jsx("p",{className:"text-sm text-[#053c5e] mb-2",children:"Configura quando inviare notifiche automatiche agli utenti per questo abbonamento."}),o.jsxs("p",{className:"text-xs text-[#053c5e]",children:[o.jsx("strong",{children:"Variabili disponibili:"})," ","{nome_utente}",", ","{nome_abbonamento}",", ","{data_scadenza}",", ","{giorni_rimanenti}",", ","{ingressi_rimanenti}",", ","{ore_rimanenti}"]})]}),o.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx(Le,{className:"text-base font-semibold text-[#053c5e]",children:"Notifiche Scadenza"}),o.jsxs(Oe,{type:"button",size:"sm",onClick:g,className:"bg-[#1f7a8c] hover:bg-[#053c5e]",children:[o.jsx(xs,{className:"w-4 h-4 mr-1"}),"Aggiungi"]})]}),i.notifiche_scadenza.map((O,F)=>o.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg mb-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("span",{className:"text-sm font-semibold",children:["Notifica #",F+1]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Oe,{type:"button",size:"sm",variant:"outline",onClick:()=>E("scadenza",O),disabled:!O.giorni||!O.testo,className:"border-[#1f7a8c] text-[#1f7a8c]",children:[o.jsx(rl,{className:"w-4 h-4 mr-1"}),"Prova"]}),o.jsx(Oe,{type:"button",size:"sm",variant:"outline",onClick:()=>m(F),className:"border-red-300 text-red-600",children:o.jsx(go,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx(Le,{className:"text-xs",children:"Giorni prima della scadenza"}),o.jsx(tt,{type:"number",value:O.giorni,onChange:G=>b(F,"giorni",G.target.value),placeholder:"Es: 7"})]}),o.jsxs("div",{children:[o.jsx(Le,{className:"text-xs",children:"Testo Email"}),o.jsx(ta,{value:O.testo,onChange:G=>b(F,"testo",G.target.value),rows:3,placeholder:"Ciao {nome_utente}, il tuo abbonamento {nome_abbonamento} scadr il {data_scadenza} (tra {giorni_rimanenti} giorni)..."})]})]})]},F)),i.notifiche_scadenza.length===0&&o.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"Nessuna notifica configurata"})]}),i.numero_ingressi&&o.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx(Le,{className:"text-base font-semibold text-[#053c5e]",children:"Notifiche Ingressi Rimanenti"}),o.jsxs(Oe,{type:"button",size:"sm",onClick:x,className:"bg-[#1f7a8c] hover:bg-[#053c5e]",children:[o.jsx(xs,{className:"w-4 h-4 mr-1"}),"Aggiungi"]})]}),i.notifiche_ingressi.map((O,F)=>o.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg mb-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("span",{className:"text-sm font-semibold",children:["Notifica #",F+1]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Oe,{type:"button",size:"sm",variant:"outline",onClick:()=>E("ingressi",O),disabled:!O.soglia||!O.testo,className:"border-[#1f7a8c] text-[#1f7a8c]",children:[o.jsx(rl,{className:"w-4 h-4 mr-1"}),"Prova"]}),o.jsx(Oe,{type:"button",size:"sm",variant:"outline",onClick:()=>y(F),className:"border-red-300 text-red-600",children:o.jsx(go,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx(Le,{className:"text-xs",children:"Quando rimangono X ingressi"}),o.jsx(tt,{type:"number",value:O.soglia,onChange:G=>w(F,"soglia",G.target.value),placeholder:"Es: 2"})]}),o.jsxs("div",{children:[o.jsx(Le,{className:"text-xs",children:"Testo Email"}),o.jsx(ta,{value:O.testo,onChange:G=>w(F,"testo",G.target.value),rows:3,placeholder:"Ciao {nome_utente}, ti rimangono {ingressi_rimanenti} ingressi sul tuo abbonamento {nome_abbonamento}..."})]})]})]},F)),i.notifiche_ingressi.length===0&&o.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"Nessuna notifica configurata"})]}),i.ore_sale_incluse&&o.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx(Le,{className:"text-base font-semibold text-[#053c5e]",children:"Notifiche Ore Sale Rimanenti"}),o.jsxs(Oe,{type:"button",size:"sm",onClick:A,className:"bg-[#1f7a8c] hover:bg-[#053c5e]",children:[o.jsx(xs,{className:"w-4 h-4 mr-1"}),"Aggiungi"]})]}),i.notifiche_ore.map((O,F)=>o.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg mb-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("span",{className:"text-sm font-semibold",children:["Notifica #",F+1]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Oe,{type:"button",size:"sm",variant:"outline",onClick:()=>E("ore",O),disabled:!O.soglia||!O.testo,className:"border-[#1f7a8c] text-[#1f7a8c]",children:[o.jsx(rl,{className:"w-4 h-4 mr-1"}),"Prova"]}),o.jsx(Oe,{type:"button",size:"sm",variant:"outline",onClick:()=>C(F),className:"border-red-300 text-red-600",children:o.jsx(go,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx(Le,{className:"text-xs",children:"Quando rimangono X ore credito"}),o.jsx(tt,{type:"number",step:"0.5",value:O.soglia,onChange:G=>P(F,"soglia",G.target.value),placeholder:"Es: 3"})]}),o.jsxs("div",{children:[o.jsx(Le,{className:"text-xs",children:"Testo Email"}),o.jsx(ta,{value:O.testo,onChange:G=>P(F,"testo",G.target.value),rows:3,placeholder:"Ciao {nome_utente}, ti rimangono {ore_rimanenti}h credito per le sale sul tuo abbonamento {nome_abbonamento}..."})]})]})]},F)),i.notifiche_ore.length===0&&o.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"Nessuna notifica configurata"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[o.jsx(Oe,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annulla"}),o.jsx(Oe,{type:"submit",className:"bg-[#053c5e] hover:bg-[#1f7a8c]",children:"Salva"})]})]})]})})]})}function Oz(){var m,b;const[e,t]=j.useState(!1),[n,r]=j.useState(null),[i,a]=j.useState({nome:"",tipi_utilizzo:[],capienza:"",descrizione:"",solo_staff:!1,colore:"#1f7a8c"}),s=Or(),{data:l=[]}=Wt({queryKey:["sale"],queryFn:()=>we.entities.SalaRiunioni.list("-created_date"),initialData:[]}),c=vn({mutationFn:async x=>{const y={...x,capienza:parseInt(x.capienza),attiva:!0};n?await we.entities.SalaRiunioni.update(n.id,y):await we.entities.SalaRiunioni.create(y)},onSuccess:()=>{s.invalidateQueries({queryKey:["sale"]}),t(!1),r(null),h(),We.success(n?"Sala aggiornata":"Sala creata")}}),d=vn({mutationFn:x=>we.entities.SalaRiunioni.update(x,{attiva:!1}),onSuccess:()=>{s.invalidateQueries({queryKey:["sale"]}),We.success("Sala disattivata")}}),h=()=>{a({nome:"",tipi_utilizzo:[],capienza:"",descrizione:"",solo_staff:!1,colore:"#1f7a8c"})},p=x=>{r(x),a(x),t(!0)},g=()=>{r(null),h(),t(!0)};return o.jsxs(o.Fragment,{children:[o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Zt,{children:["Sale Riunioni (",l.filter(x=>x.attiva).length,")"]}),o.jsxs(Oe,{onClick:g,className:"bg-[#053c5e] hover:bg-[#1f7a8c]",children:[o.jsx(xs,{className:"w-4 h-4 mr-2"}),"Nuova Sala"]})]})}),o.jsx(wt,{children:o.jsx("div",{className:"space-y-2",children:l.filter(x=>x.attiva).map(x=>{var y,w;return o.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[o.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:x.colore||"#1f7a8c"}}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"font-bold text-[#053c5e]",children:x.nome}),((y=x.tipi_utilizzo)==null?void 0:y.includes("call"))&&o.jsx(kn,{className:"bg-blue-100 text-blue-800",children:"Call"}),((w=x.tipi_utilizzo)==null?void 0:w.includes("riunione"))&&o.jsx(kn,{className:"bg-purple-100 text-purple-800",children:"Riunione"}),x.solo_staff&&o.jsx(kn,{className:"bg-orange-100 text-orange-800",children:"Solo Staff"})]}),o.jsxs("div",{className:"text-sm text-slate-600",children:["Capienza: ",x.capienza," ",x.capienza===1?"persona":"persone"]}),x.descrizione&&o.jsx("p",{className:"text-sm text-slate-500 mt-1",children:x.descrizione})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Oe,{size:"sm",variant:"outline",onClick:()=>p(x),children:o.jsx(Cs,{className:"w-4 h-4"})}),o.jsx(Oe,{size:"sm",variant:"outline",className:"border-red-300 text-red-600",onClick:()=>d.mutate(x.id),children:o.jsx(Vo,{className:"w-4 h-4"})})]})]},x.id)})})})]}),o.jsx(Er,{open:e,onOpenChange:t,children:o.jsxs(wr,{children:[o.jsx(_r,{children:o.jsx(jr,{children:n?"Modifica Sala":"Nuova Sala"})}),o.jsxs("form",{onSubmit:x=>{x.preventDefault(),c.mutate(i)},className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Nome Sala *"}),o.jsx(tt,{value:i.nome,onChange:x=>a({...i,nome:x.target.value}),required:!0})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Tipi di Utilizzo *"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ws,{id:"tipo_call",checked:(m=i.tipi_utilizzo)==null?void 0:m.includes("call"),onCheckedChange:x=>{const y=x?[...i.tipi_utilizzo||[],"call"]:(i.tipi_utilizzo||[]).filter(w=>w!=="call");a({...i,tipi_utilizzo:y})}}),o.jsx("label",{htmlFor:"tipo_call",className:"text-sm cursor-pointer",children:"Call (individuale)"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ws,{id:"tipo_riunione",checked:(b=i.tipi_utilizzo)==null?void 0:b.includes("riunione"),onCheckedChange:x=>{const y=x?[...i.tipi_utilizzo||[],"riunione"]:(i.tipi_utilizzo||[]).filter(w=>w!=="riunione");a({...i,tipi_utilizzo:y})}}),o.jsx("label",{htmlFor:"tipo_riunione",className:"text-sm cursor-pointer",children:"Riunione (collettiva)"})]})]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Capienza Massima (n. persone) *"}),o.jsx(tt,{type:"number",min:"1",value:i.capienza,onChange:x=>a({...i,capienza:x.target.value}),required:!0}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Numero massimo di persone che possono utilizzare la sala"})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Descrizione e Dotazioni"}),o.jsx(ta,{value:i.descrizione,onChange:x=>a({...i,descrizione:x.target.value}),rows:3})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Colore Calendario"}),o.jsx(tt,{type:"color",value:i.colore,onChange:x=>a({...i,colore:x.target.value})})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ws,{id:"solo_staff",checked:i.solo_staff,onCheckedChange:x=>a({...i,solo_staff:x})}),o.jsx("label",{htmlFor:"solo_staff",className:"text-sm cursor-pointer",children:"Prenotabile solo da Host/Admin"})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Oe,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annulla"}),o.jsx(Oe,{type:"submit",className:"bg-[#053c5e] hover:bg-[#1f7a8c]",children:"Salva"})]})]})]})})]})}function sZ(e,t){return j.useReducer((n,r)=>t[n][r]??n,e)}var rA="ScrollArea",[Tz]=Ps(rA),[lZ,Es]=Tz(rA),Dz=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...s}=e,[l,c]=j.useState(null),[d,h]=j.useState(null),[p,g]=j.useState(null),[m,b]=j.useState(null),[x,y]=j.useState(null),[w,A]=j.useState(0),[C,P]=j.useState(0),[E,I]=j.useState(!1),[z,O]=j.useState(!1),F=zn(t,R=>c(R)),G=Rv(i);return o.jsx(lZ,{scope:n,type:r,dir:G,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:h,content:p,onContentChange:g,scrollbarX:m,onScrollbarXChange:b,scrollbarXEnabled:E,onScrollbarXEnabledChange:I,scrollbarY:x,onScrollbarYChange:y,scrollbarYEnabled:z,onScrollbarYEnabledChange:O,onCornerWidthChange:A,onCornerHeightChange:P,children:o.jsx(rn.div,{dir:G,...s,ref:F,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});Dz.displayName=rA;var Lz="ScrollAreaViewport",Iz=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...a}=e,s=Es(Lz,n),l=j.useRef(null),c=zn(t,l,s.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),o.jsx(rn.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Iz.displayName=Lz;var rc="ScrollAreaScrollbar",iA=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Es(rc,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:s}=i,l=e.orientation==="horizontal";return j.useEffect(()=>(l?a(!0):s(!0),()=>{l?a(!1):s(!1)}),[l,a,s]),i.type==="hover"?o.jsx(cZ,{...r,ref:t,forceMount:n}):i.type==="scroll"?o.jsx(uZ,{...r,ref:t,forceMount:n}):i.type==="auto"?o.jsx(Rz,{...r,ref:t,forceMount:n}):i.type==="always"?o.jsx(aA,{...r,ref:t}):null});iA.displayName=rc;var cZ=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Es(rc,e.__scopeScrollArea),[a,s]=j.useState(!1);return j.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),s(!0)},h=()=>{c=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),o.jsx(Ko,{present:n||a,children:o.jsx(Rz,{"data-state":a?"visible":"hidden",...r,ref:t})})}),uZ=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Es(rc,e.__scopeScrollArea),a=e.orientation==="horizontal",s=j1(()=>c("SCROLL_END"),100),[l,c]=sZ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return j.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,i.scrollHideDelay,c]),j.useEffect(()=>{const d=i.viewport,h=a?"scrollLeft":"scrollTop";if(d){let p=d[h];const g=()=>{const m=d[h];p!==m&&(c("SCROLL"),s()),p=m};return d.addEventListener("scroll",g),()=>d.removeEventListener("scroll",g)}},[i.viewport,a,c,s]),o.jsx(Ko,{present:n||l!=="hidden",children:o.jsx(aA,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:cn(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:cn(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Rz=j.forwardRef((e,t)=>{const n=Es(rc,e.__scopeScrollArea),{forceMount:r,...i}=e,[a,s]=j.useState(!1),l=e.orientation==="horizontal",c=j1(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;s(l?d:h)}},10);return Gp(n.viewport,c),Gp(n.content,c),o.jsx(Ko,{present:r||a,children:o.jsx(aA,{"data-state":a?"visible":"hidden",...i,ref:t})})}),aA=j.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=Es(rc,e.__scopeScrollArea),a=j.useRef(null),s=j.useRef(0),[l,c]=j.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=qz(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:g=>a.current=g,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:g=>s.current=g};function p(g,m){return gZ(g,s.current,l,m)}return n==="horizontal"?o.jsx(dZ,{...h,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const g=i.viewport.scrollLeft,m=$P(g,l,i.dir);a.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollLeft=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollLeft=p(g,i.dir))}}):n==="vertical"?o.jsx(fZ,{...h,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const g=i.viewport.scrollTop,m=$P(g,l);a.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollTop=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollTop=p(g))}}):null}),dZ=j.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=Es(rc,e.__scopeScrollArea),[s,l]=j.useState(),c=j.useRef(null),d=zn(t,c,a.onScrollbarXChange);return j.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(zz,{"data-orientation":"horizontal",...i,ref:d,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":_1(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,p)=>{if(a.viewport){const g=a.viewport.scrollLeft+h.deltaX;e.onWheelScroll(g),Uz(g,p)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&s&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Wy(s.paddingLeft),paddingEnd:Wy(s.paddingRight)}})}})}),fZ=j.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=Es(rc,e.__scopeScrollArea),[s,l]=j.useState(),c=j.useRef(null),d=zn(t,c,a.onScrollbarYChange);return j.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(zz,{"data-orientation":"vertical",...i,ref:d,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":_1(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,p)=>{if(a.viewport){const g=a.viewport.scrollTop+h.deltaY;e.onWheelScroll(g),Uz(g,p)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&s&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Wy(s.paddingTop),paddingEnd:Wy(s.paddingBottom)}})}})}),[hZ,Mz]=Tz(rc),zz=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:s,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:h,onResize:p,...g}=e,m=Es(rc,n),[b,x]=j.useState(null),y=zn(t,F=>x(F)),w=j.useRef(null),A=j.useRef(""),C=m.viewport,P=r.content-r.viewport,E=Va(h),I=Va(c),z=j1(p,10);function O(F){if(w.current){const G=F.clientX-w.current.left,R=F.clientY-w.current.top;d({x:G,y:R})}}return j.useEffect(()=>{const F=G=>{const R=G.target;(b==null?void 0:b.contains(R))&&E(G,P)};return document.addEventListener("wheel",F,{passive:!1}),()=>document.removeEventListener("wheel",F,{passive:!1})},[C,b,P,E]),j.useEffect(I,[r,I]),Gp(b,z),Gp(m.content,z),o.jsx(hZ,{scope:n,scrollbar:b,hasThumb:i,onThumbChange:Va(a),onThumbPointerUp:Va(s),onThumbPositionChange:I,onThumbPointerDown:Va(l),children:o.jsx(rn.div,{...g,ref:y,style:{position:"absolute",...g.style},onPointerDown:cn(e.onPointerDown,F=>{F.button===0&&(F.target.setPointerCapture(F.pointerId),w.current=b.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),O(F))}),onPointerMove:cn(e.onPointerMove,O),onPointerUp:cn(e.onPointerUp,F=>{const G=F.target;G.hasPointerCapture(F.pointerId)&&G.releasePointerCapture(F.pointerId),document.body.style.webkitUserSelect=A.current,m.viewport&&(m.viewport.style.scrollBehavior=""),w.current=null})})})}),Hy="ScrollAreaThumb",Fz=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Mz(Hy,e.__scopeScrollArea);return o.jsx(Ko,{present:n||i.hasThumb,children:o.jsx(pZ,{ref:t,...r})})}),pZ=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,a=Es(Hy,n),s=Mz(Hy,n),{onThumbPositionChange:l}=s,c=zn(t,p=>s.onThumbChange(p)),d=j.useRef(void 0),h=j1(()=>{d.current&&(d.current(),d.current=void 0)},100);return j.useEffect(()=>{const p=a.viewport;if(p){const g=()=>{if(h(),!d.current){const m=vZ(p,l);d.current=m,l()}};return l(),p.addEventListener("scroll",g),()=>p.removeEventListener("scroll",g)}},[a.viewport,h,l]),o.jsx(rn.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:cn(e.onPointerDownCapture,p=>{const m=p.target.getBoundingClientRect(),b=p.clientX-m.left,x=p.clientY-m.top;s.onThumbPointerDown({x:b,y:x})}),onPointerUp:cn(e.onPointerUp,s.onThumbPointerUp)})});Fz.displayName=Hy;var oA="ScrollAreaCorner",$z=j.forwardRef((e,t)=>{const n=Es(oA,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(mZ,{...e,ref:t}):null});$z.displayName=oA;var mZ=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=Es(oA,n),[a,s]=j.useState(0),[l,c]=j.useState(0),d=!!(a&&l);return Gp(i.scrollbarX,()=>{var p;const h=((p=i.scrollbarX)==null?void 0:p.offsetHeight)||0;i.onCornerHeightChange(h),c(h)}),Gp(i.scrollbarY,()=>{var p;const h=((p=i.scrollbarY)==null?void 0:p.offsetWidth)||0;i.onCornerWidthChange(h),s(h)}),d?o.jsx(rn.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Wy(e){return e?parseInt(e,10):0}function qz(e,t){const n=e/t;return isNaN(n)?0:n}function _1(e){const t=qz(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function gZ(e,t,n,r="ltr"){const i=_1(n),a=i/2,s=t||a,l=i-s,c=n.scrollbar.paddingStart+s,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,p=r==="ltr"?[0,h]:[h*-1,0];return Bz([c,d],p)(e)}function $P(e,t,n="ltr"){const r=_1(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,s=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,s]:[s*-1,0],d=yS(e,c);return Bz([0,s],[0,l])(d)}function Bz(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Uz(e,t){return e>0&&e<t}var vZ=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function i(){const a={left:e.scrollLeft,top:e.scrollTop},s=n.left!==a.left,l=n.top!==a.top;(s||l)&&t(),n=a,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)};function j1(e,t){const n=Va(e),r=j.useRef(0);return j.useEffect(()=>()=>window.clearTimeout(r.current),[]),j.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Gp(e,t){const n=Va(t);da(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var Hz=Dz,yZ=Iz,xZ=$z;const Sd=j.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(Hz,{ref:r,className:Lt("relative overflow-hidden",e),...n,children:[o.jsx(yZ,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(Wz,{}),o.jsx(xZ,{})]}));Sd.displayName=Hz.displayName;const Wz=j.forwardRef(({className:e,orientation:t="vertical",...n},r)=>o.jsx(iA,{ref:r,orientation:t,className:Lt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:o.jsx(Fz,{className:"relative flex-1 rounded-full bg-border"})}));Wz.displayName=iA.displayName;var bZ=Symbol("radix.slottable");function wZ(e){const t=({children:n})=>o.jsx(o.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=bZ,t}var Vz="AlertDialog",[_Z]=Ps(Vz,[hz]),yu=hz(),Gz=e=>{const{__scopeAlertDialog:t,...n}=e,r=yu(t);return o.jsx(Q4,{...r,...n,modal:!0})};Gz.displayName=Vz;var jZ="AlertDialogTrigger",SZ=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=yu(n);return o.jsx(OJ,{...i,...r,ref:t})});SZ.displayName=jZ;var NZ="AlertDialogPortal",Kz=e=>{const{__scopeAlertDialog:t,...n}=e,r=yu(t);return o.jsx(J4,{...r,...n})};Kz.displayName=NZ;var AZ="AlertDialogOverlay",Yz=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=yu(n);return o.jsx(b1,{...i,...r,ref:t})});Yz.displayName=AZ;var Sp="AlertDialogContent",[CZ,PZ]=_Z(Sp),EZ=wZ("AlertDialogContent"),Xz=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,a=yu(n),s=j.useRef(null),l=zn(t,s),c=j.useRef(null);return o.jsx(CJ,{contentName:Sp,titleName:Qz,docsSlug:"alert-dialog",children:o.jsx(CZ,{scope:n,cancelRef:c,children:o.jsxs(w1,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:cn(i.onOpenAutoFocus,d=>{var h;d.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[o.jsx(EZ,{children:r}),o.jsx(OZ,{contentRef:s})]})})})});Xz.displayName=Sp;var Qz="AlertDialogTitle",Jz=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=yu(n);return o.jsx(Z4,{...i,...r,ref:t})});Jz.displayName=Qz;var Zz="AlertDialogDescription",e7=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=yu(n);return o.jsx(eA,{...i,...r,ref:t})});e7.displayName=Zz;var kZ="AlertDialogAction",t7=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=yu(n);return o.jsx(tA,{...i,...r,ref:t})});t7.displayName=kZ;var n7="AlertDialogCancel",r7=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=PZ(n7,n),a=yu(n),s=zn(t,i);return o.jsx(tA,{...a,...r,ref:s})});r7.displayName=n7;var OZ=({contentRef:e})=>{const t=`\`${Sp}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Sp}\` by passing a \`${Zz}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Sp}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},TZ=Gz,DZ=Kz,i7=Yz,a7=Xz,o7=t7,s7=r7,l7=Jz,c7=e7;const bh=TZ,LZ=DZ,u7=j.forwardRef(({className:e,...t},n)=>o.jsx(i7,{className:Lt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));u7.displayName=i7.displayName;const Id=j.forwardRef(({className:e,...t},n)=>o.jsxs(LZ,{children:[o.jsx(u7,{}),o.jsx(a7,{ref:n,className:Lt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Id.displayName=a7.displayName;const Rd=({className:e,...t})=>o.jsx("div",{className:Lt("flex flex-col space-y-2 text-center sm:text-left",e),...t});Rd.displayName="AlertDialogHeader";const Md=({className:e,...t})=>o.jsx("div",{className:Lt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Md.displayName="AlertDialogFooter";const zd=j.forwardRef(({className:e,...t},n)=>o.jsx(l7,{ref:n,className:Lt("text-lg font-semibold",e),...t}));zd.displayName=l7.displayName;const Fd=j.forwardRef(({className:e,...t},n)=>o.jsx(c7,{ref:n,className:Lt("text-sm text-muted-foreground",e),...t}));Fd.displayName=c7.displayName;const $d=j.forwardRef(({className:e,...t},n)=>o.jsx(o7,{ref:n,className:Lt(O4(),e),...t}));$d.displayName=o7.displayName;const qd=j.forwardRef(({className:e,...t},n)=>o.jsx(s7,{ref:n,className:Lt(O4({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));qd.displayName=s7.displayName;function IZ(){const[e,t]=j.useState(""),[n,r]=j.useState(null),[i,a]=j.useState(null),[s,l]=j.useState({first_name:"",last_name:"",email:"",telefono:""}),c=Or(),{data:d=[]}=Wt({queryKey:["profili"],queryFn:()=>we.entities.ProfiloCoworker.list("-created_date"),initialData:[]}),h=vn({mutationFn:async({id:w,data:A})=>{await we.entities.ProfiloCoworker.update(w,A)},onSuccess:()=>{c.invalidateQueries({queryKey:["profili"]}),a(null),We.success("Profilo aggiornato con successo")},onError:()=>{We.error("Errore nell'aggiornamento del profilo")}}),p=w=>{a(w),l({first_name:w.first_name||"",last_name:w.last_name||"",email:w.email||"",telefono:w.telefono||""})},g=w=>({check_in_completato:"bg-blue-100 text-blue-800",invitato:"bg-orange-100 text-orange-800",iscritto:"bg-green-100 text-green-800"})[w]||"bg-slate-100 text-slate-800",m=w=>({check_in_completato:"Check-in completato",invitato:"Invitato",iscritto:"Iscritto"})[w]||w,b=d.filter(w=>{var A,C,P;return(((A=w.first_name)==null?void 0:A.toLowerCase().includes(e.toLowerCase()))??!1)||(((C=w.last_name)==null?void 0:C.toLowerCase().includes(e.toLowerCase()))??!1)||(((P=w.email)==null?void 0:P.toLowerCase().includes(e.toLowerCase()))??!1)}),x=vn({mutationFn:async w=>{await we.integrations.Core.SendEmail({to:w.email,subject:"Invito a iscriversi a neu [ni]",body:`Ciao ${w.first_name},

Sei stato/a invitato/a ad accedere alla piattaforma di gestione di neu [ni].

Per completare la registrazione, clicca sul link qui sotto:
${window.location.origin}

Dopo la registrazione, il tuo account sar collegato automaticamente al tuo profilo esistente.

neu [ni] spazio al lavoro APS
via Alloro 64, 90133 Palermo`,from_name:"neu [ni]"}),await we.entities.ProfiloCoworker.update(w.id,{stato:"invitato",data_invito:new Date().toISOString()})},onSuccess:()=>{c.invalidateQueries({queryKey:["profili"]}),r(null),We.success("Invito inviato con successo")},onError:()=>{We.error("Errore nell'invio dell'invito")}}),y=()=>{if(d.length===0){We.info("Nessun profilo da esportare");return}const w=["Nome","Cognome","Email","Telefono","Genere","Data Nascita","Citta Residenza","Paese Residenza","Ragione Sociale","P.IVA","Codice Univoco","Newsletter","Privacy Accettata","Data Accettazione Privacy","Data Compilazione","Stato"],A=d.map(z=>[z.first_name||"",z.last_name||"",z.email||"",z.telefono||"",z.genere||"",z.data_nascita||"",z.citta_residenza||"",z.paese_residenza||"",z.ragione_sociale||"",z.p_iva||"",z.codice_univoco||"",z.newsletter?"SI":"NO",z.privacy_accettata?"SI":"NO",z.data_accettazione_privacy?new Date(z.data_accettazione_privacy).toLocaleDateString():"",z.data_compilazione?new Date(z.data_compilazione).toLocaleDateString():"",z.stato||""]),C=[w.join(","),...A.map(z=>z.map(O=>`"${(O||"").toString().replace(/"/g,'""')}"`).join(","))].join(`
`),P=new Blob([C],{type:"text/csv;charset=utf-8;"}),E=URL.createObjectURL(P),I=document.createElement("a");I.setAttribute("href",E),I.setAttribute("download",`Esportazione_Profili_Coworker_${new Date().toISOString().split("T")[0]}.csv`),I.style.visibility="hidden",document.body.appendChild(I),I.click(),document.body.removeChild(I),We.success("Esportazione completata")};return o.jsxs(o.Fragment,{children:[o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(Zt,{className:"flex items-center gap-2",children:[o.jsx(yo,{className:"w-5 h-5 text-[#1f7a8c]"}),"Profili Coworker (",d.length,")"]}),o.jsxs(Oe,{variant:"outline",size:"sm",onClick:y,className:"border-[#053c5e] text-[#053c5e] hover:bg-[#053c5e] hover:text-white",children:[o.jsx(po,{className:"w-4 h-4 mr-2"}),"Esporta CSV"]})]}),o.jsxs("div",{className:"relative w-full sm:w-64",children:[o.jsx(vu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),o.jsx(tt,{placeholder:"Cerca profilo...",value:e,onChange:w=>t(w.target.value),className:"pl-9 w-full"})]})]})}),o.jsx(wt,{children:o.jsx(Sd,{className:"h-[500px] pr-4",children:o.jsxs("div",{className:"space-y-2",children:[b.map(w=>o.jsx("div",{className:"p-4 border border-slate-200 rounded-lg hover:bg-slate-50",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsxs("span",{className:"font-bold text-[#053c5e]",children:[w.first_name," ",w.last_name]}),o.jsx(kn,{className:g(w.stato),children:m(w.stato)})]}),o.jsxs("div",{className:"text-sm text-slate-600 space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rl,{className:"w-3 h-3"}),w.email]}),w.telefono&&o.jsxs("div",{children:["Tel: ",w.telefono]}),w.data_nascita&&o.jsxs("div",{children:["Nato/a il: ",new Date(w.data_nascita).toLocaleDateString("it-IT")]}),w.citta_residenza&&o.jsxs("div",{children:["Residenza: ",w.citta_residenza]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[w.stato==="check_in_completato"&&o.jsxs(Oe,{size:"sm",onClick:()=>r(w.id),className:"bg-[#1f7a8c] hover:bg-[#053c5e]",children:[o.jsx(qg,{className:"w-4 h-4 mr-2"}),"Invia Invito"]}),w.stato==="invitato"&&w.data_invito&&o.jsxs("div",{className:"text-xs text-slate-500 text-right mr-2",children:["Invitato il",o.jsx("br",{}),new Date(w.data_invito).toLocaleDateString("it-IT")]}),o.jsx(Oe,{size:"sm",variant:"ghost",className:"text-[#1f7a8c] hover:bg-slate-100",onClick:()=>p(w),children:o.jsx(Cs,{className:"w-4 h-4"})}),o.jsx(Oe,{size:"sm",variant:"ghost",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:async()=>{confirm("Sei sicuro di voler eliminare questo profilo?")&&(await we.entities.ProfiloCoworker.delete(w.id),c.invalidateQueries({queryKey:["profili"]}),We.success("Profilo eliminato"))},children:o.jsx(Vo,{className:"w-4 h-4"})})]})]})},w.id)),b.length===0&&o.jsx("p",{className:"text-center text-slate-500 py-8",children:e?"Nessun profilo trovato":"Nessun profilo presente"})]})})})]}),o.jsx(bh,{open:!!n,onOpenChange:()=>r(null),children:o.jsxs(Id,{children:[o.jsxs(Rd,{children:[o.jsx(zd,{children:"Invia Invito Registrazione"}),o.jsx(Fd,{children:n&&(()=>{const w=d.find(A=>A.id===n);return w?o.jsxs(o.Fragment,{children:["Vuoi inviare un invito a ",o.jsxs("strong",{children:[w.first_name," ",w.last_name]})," (",w.email,") per iscriversi alla piattaforma?",o.jsx("br",{}),o.jsx("br",{}),"Ricever un'email con le istruzioni per completare la registrazione."]}):null})()})]}),o.jsxs(Md,{children:[o.jsx(qd,{children:"Annulla"}),o.jsx($d,{className:"bg-[#1f7a8c] hover:bg-[#053c5e]",onClick:()=>{const w=d.find(A=>A.id===n);w&&x.mutate(w)},children:"Invia Invito"})]})]})}),o.jsx(Er,{open:!!i,onOpenChange:w=>!w&&a(null),children:o.jsxs(wr,{className:"sm:max-w-[500px]",children:[o.jsx(_r,{children:o.jsx(jr,{children:"Modifica Profilo Coworker"})}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{children:"Nome"}),o.jsx(tt,{value:s.first_name,onChange:w=>l({...s,first_name:w.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{children:"Cognome"}),o.jsx(tt,{value:s.last_name,onChange:w=>l({...s,last_name:w.target.value})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{children:"Email"}),o.jsx(tt,{value:s.email,onChange:w=>l({...s,email:w.target.value}),type:"email"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{children:"Telefono"}),o.jsx(tt,{value:s.telefono,onChange:w=>l({...s,telefono:w.target.value})})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[o.jsx(Oe,{variant:"outline",onClick:()=>a(null),children:"Annulla"}),o.jsx(Oe,{className:"bg-[#053c5e] hover:bg-[#1f7a8c]",onClick:()=>h.mutate({id:i.id,data:s}),disabled:h.isPending,children:"Salva Modifiche"})]})]})})]})}const RZ="modulepreload",MZ=function(e){return"/"+e},qP={},g2=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let s=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=s(n.map(d=>{if(d=MZ(d),d in qP)return;qP[d]=!0;const h=d.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":RZ,h||(g.as="script"),g.crossOrigin="",g.href=d,c&&g.setAttribute("nonce",c),document.head.appendChild(g),h)return new Promise((m,b)=>{g.addEventListener("load",m),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function mr(e){"@babel/helpers - typeof";return mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mr(e)}var cl=Uint8Array,Uo=Uint16Array,sA=Int32Array,lA=new cl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),cA=new cl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),BP=new cl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d7=function(e,t){for(var n=new Uo(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new sA(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},f7=d7(lA,2),zZ=f7.b,kS=f7.r;zZ[28]=258,kS[258]=28;var FZ=d7(cA,0),UP=FZ.r,OS=new Uo(32768);for(var qr=0;qr<32768;++qr){var id=(qr&43690)>>1|(qr&21845)<<1;id=(id&52428)>>2|(id&13107)<<2,id=(id&61680)>>4|(id&3855)<<4,OS[qr]=((id&65280)>>8|(id&255)<<8)>>1}var Og=(function(e,t,n){for(var r=e.length,i=0,a=new Uo(t);i<r;++i)e[i]&&++a[e[i]-1];var s=new Uo(t);for(i=1;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;var l;if(n){l=new Uo(1<<t);var c=15-t;for(i=0;i<r;++i)if(e[i])for(var d=i<<4|e[i],h=t-e[i],p=s[e[i]-1]++<<h,g=p|(1<<h)-1;p<=g;++p)l[OS[p]>>c]=d}else for(l=new Uo(r),i=0;i<r;++i)e[i]&&(l[i]=OS[s[e[i]-1]++]>>15-e[i]);return l}),ch=new cl(288);for(var qr=0;qr<144;++qr)ch[qr]=8;for(var qr=144;qr<256;++qr)ch[qr]=9;for(var qr=256;qr<280;++qr)ch[qr]=7;for(var qr=280;qr<288;++qr)ch[qr]=8;var Vy=new cl(32);for(var qr=0;qr<32;++qr)Vy[qr]=5;var $Z=Og(ch,9,0),qZ=Og(Vy,5,0),h7=function(e){return(e+7)/8|0},BZ=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new cl(e.subarray(t,n))},qc=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},ug=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},v2=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,a=n.slice();if(!i)return{t:m7,l:0};if(i==1){var s=new cl(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(E,I){return E.f-I.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],d=0,h=1,p=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};h!=i-1;)l=n[n[d].f<n[p].f?d++:p++],c=n[d!=h&&n[d].f<n[p].f?d++:p++],n[h++]={s:-1,f:l.f+c.f,l,r:c};for(var g=a[0].s,r=1;r<i;++r)a[r].s>g&&(g=a[r].s);var m=new Uo(g+1),b=TS(n[h-1],m,0);if(b>t){var r=0,x=0,y=b-t,w=1<<y;for(a.sort(function(I,z){return m[z.s]-m[I.s]||I.f-z.f});r<i;++r){var A=a[r].s;if(m[A]>t)x+=w-(1<<b-m[A]),m[A]=t;else break}for(x>>=y;x>0;){var C=a[r].s;m[C]<t?x-=1<<t-m[C]++-1:++r}for(;r>=0&&x;--r){var P=a[r].s;m[P]==t&&(--m[P],++x)}b=t}return{t:new cl(m),l:b}},TS=function(e,t,n){return e.s==-1?Math.max(TS(e.l,t,n+1),TS(e.r,t,n+1)):t[e.s]=n},HP=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Uo(++t),r=0,i=e[0],a=1,s=function(c){n[r++]=c},l=1;l<=t;++l)if(e[l]==i&&l!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[l]}return{c:n.subarray(0,r),n:t}},dg=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},p7=function(e,t,n){var r=n.length,i=h7(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<r;++a)e[i+a+4]=n[a];return(i+4+r)*8},WP=function(e,t,n,r,i,a,s,l,c,d,h){qc(t,h++,n),++i[256];for(var p=v2(i,15),g=p.t,m=p.l,b=v2(a,15),x=b.t,y=b.l,w=HP(g),A=w.c,C=w.n,P=HP(x),E=P.c,I=P.n,z=new Uo(19),O=0;O<A.length;++O)++z[A[O]&31];for(var O=0;O<E.length;++O)++z[E[O]&31];for(var F=v2(z,7),G=F.t,R=F.l,k=19;k>4&&!G[BP[k-1]];--k);var B=d+5<<3,U=dg(i,ch)+dg(a,Vy)+s,M=dg(i,g)+dg(a,x)+s+14+3*k+dg(z,G)+2*z[16]+3*z[17]+7*z[18];if(c>=0&&B<=U&&B<=M)return p7(t,h,e.subarray(c,c+d));var X,Q,K,Y;if(qc(t,h,1+(M<U)),h+=2,M<U){X=Og(g,m,0),Q=g,K=Og(x,y,0),Y=x;var ne=Og(G,R,0);qc(t,h,C-257),qc(t,h+5,I-1),qc(t,h+10,k-4),h+=14;for(var O=0;O<k;++O)qc(t,h+3*O,G[BP[O]]);h+=3*k;for(var H=[A,E],T=0;T<2;++T)for(var V=H[T],O=0;O<V.length;++O){var J=V[O]&31;qc(t,h,ne[J]),h+=G[J],J>15&&(qc(t,h,V[O]>>5&127),h+=V[O]>>12)}}else X=$Z,Q=ch,K=qZ,Y=Vy;for(var O=0;O<l;++O){var Z=r[O];if(Z>255){var J=Z>>18&31;ug(t,h,X[J+257]),h+=Q[J+257],J>7&&(qc(t,h,Z>>23&31),h+=lA[J]);var oe=Z&31;ug(t,h,K[oe]),h+=Y[oe],oe>3&&(ug(t,h,Z>>5&8191),h+=cA[oe])}else ug(t,h,X[Z]),h+=Q[Z]}return ug(t,h,X[256]),h+Q[256]},UZ=new sA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),m7=new cl(0),HZ=function(e,t,n,r,i,a){var s=a.z||e.length,l=new cl(r+s+5*(1+Math.ceil(s/7e3))+i),c=l.subarray(r,l.length-i),d=a.l,h=(a.r||0)&7;if(t){h&&(c[0]=a.r>>3);for(var p=UZ[t-1],g=p>>13,m=p&8191,b=(1<<n)-1,x=a.p||new Uo(32768),y=a.h||new Uo(b+1),w=Math.ceil(n/3),A=2*w,C=function(He){return(e[He]^e[He+1]<<w^e[He+2]<<A)&b},P=new sA(25e3),E=new Uo(288),I=new Uo(32),z=0,O=0,F=a.i||0,G=0,R=a.w||0,k=0;F+2<s;++F){var B=C(F),U=F&32767,M=y[B];if(x[U]=M,y[B]=U,R<=F){var X=s-F;if((z>7e3||G>24576)&&(X>423||!d)){h=WP(e,c,0,P,E,I,O,G,k,F-k,h),G=z=O=0,k=F;for(var Q=0;Q<286;++Q)E[Q]=0;for(var Q=0;Q<30;++Q)I[Q]=0}var K=2,Y=0,ne=m,H=U-M&32767;if(X>2&&B==C(F-H))for(var T=Math.min(g,X)-1,V=Math.min(32767,F),J=Math.min(258,X);H<=V&&--ne&&U!=M;){if(e[F+K]==e[F+K-H]){for(var Z=0;Z<J&&e[F+Z]==e[F+Z-H];++Z);if(Z>K){if(K=Z,Y=H,Z>T)break;for(var oe=Math.min(H,Z-2),se=0,Q=0;Q<oe;++Q){var fe=F-H+Q&32767,de=x[fe],be=fe-de&32767;be>se&&(se=be,M=fe)}}}U=M,M=x[U],H+=U-M&32767}if(Y){P[G++]=268435456|kS[K]<<18|UP[Y];var Ee=kS[K]&31,_e=UP[Y]&31;O+=lA[Ee]+cA[_e],++E[257+Ee],++I[_e],R=F+K,++z}else P[G++]=e[F],++E[e[F]]}}for(F=Math.max(F,R);F<s;++F)P[G++]=e[F],++E[e[F]];h=WP(e,c,d,P,E,I,O,G,k,F-k,h),d||(a.r=h&7|c[h/8|0]<<3,h-=7,a.h=y,a.p=x,a.i=F,a.w=R)}else{for(var F=a.w||0;F<s+d;F+=65535){var $e=F+65535;$e>=s&&(c[h/8|0]=d,$e=s),h=p7(c,h+1,e.subarray(F,$e))}a.i=s}return BZ(l,0,r+h7(h)+i)},g7=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,a=n.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},WZ=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),s=new cl(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return HZ(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},v7=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},VZ=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=g7();i.p(t.dictionary),v7(e,2,i.d())}};function DS(e,t){t||(t={});var n=g7();n.p(e);var r=WZ(e,t,t.dictionary?6:2,4);return VZ(r,t),v7(r,r.length-4,n.d()),r}var GZ=typeof TextDecoder<"u"&&new TextDecoder,KZ=0;try{GZ.decode(m7,{stream:!0}),KZ=1}catch{}function YZ(e){if(Array.isArray(e))return e}function XZ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function VP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function QZ(e,t){if(e){if(typeof e=="string")return VP(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VP(e,t):void 0}}function JZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GP(e,t){return YZ(e)||XZ(e,t)||QZ(e,t)||JZ()}function KP(e,t="utf8"){return new TextDecoder(t).decode(e)}const ZZ=new TextEncoder;function eee(e){return ZZ.encode(e)}const tee=1024*8,nee=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),y2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class uA{constructor(t=tee,n={}){hr(this,"buffer");hr(this,"byteLength");hr(this,"byteOffset");hr(this,"length");hr(this,"offset");hr(this,"lastWrittenByte");hr(this,"littleEndian");hr(this,"_data");hr(this,"_mark");hr(this,"_marks");let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const i=n.offset?n.offset>>>0:0,a=t.byteLength-i;let s=i;(ArrayBuffer.isView(t)||t instanceof uA)&&(t.byteLength!==t.buffer.byteLength&&(s=t.byteOffset+i),t=t.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const r=y2[n].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===nee&&n!=="uint8"&&n!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+r));l.reverse();const c=new y2[n](l.buffer);return this.offset+=r,c.reverse(),c}const s=new y2[n](a);return this.offset+=r,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let r=0;r<t;r++)n+=this.readChar();return n}readUtf8(t=1){return KP(this.readBytes(t))}decodeText(t=1,n="utf8"){return KP(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(eee(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Am(e){let t=e.length;for(;--t>=0;)e[t]=0}const ree=3,iee=258,y7=29,aee=256,oee=aee+1+y7,x7=30,see=512,lee=new Array((oee+2)*2);Am(lee);const cee=new Array(x7*2);Am(cee);const uee=new Array(see);Am(uee);const dee=new Array(iee-ree+1);Am(dee);const fee=new Array(y7);Am(fee);const hee=new Array(x7);Am(hee);const pee=(e,t,n,r)=>{let i=e&65535|0,a=e>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+t[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var LS=pee;const mee=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},gee=new Uint32Array(mee()),vee=(e,t,n,r)=>{const i=gee,a=r+n;e^=-1;for(let s=r;s<a;s++)e=e>>>8^i[(e^t[s])&255];return e^-1};var Ll=vee,IS={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},b7={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const yee=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var xee=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)yee(n,r)&&(e[r]=n[r])}}return e},bee=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,a=e.length;r<a;r++){let s=e[r];n.set(s,i),i+=s.length}return n},w7={assign:xee,flattenChunks:bee};let _7=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_7=!1}const Wg=new Uint8Array(256);for(let e=0;e<256;e++)Wg[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Wg[254]=Wg[254]=1;var wee=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,a,s=e.length,l=0;for(i=0;i<s;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(l),a=0,i=0;a<l;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|n&63):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|n&63):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|n&63);return t};const _ee=(e,t)=>{if(t<65534&&e.subarray&&_7)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var jee=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let s=e[r++];if(s<128){a[i++]=s;continue}let l=Wg[s];if(l>4){a[i++]=65533,r+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&r<n;)s=s<<6|e[r++]&63,l--;if(l>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return _ee(a,i)},See=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Wg[e[n]]>t?n:t},RS={string2buf:wee,buf2string:jee,utf8border:See};function Nee(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Aee=Nee;const V0=16209,Cee=16191;var Pee=function(t,n){let r,i,a,s,l,c,d,h,p,g,m,b,x,y,w,A,C,P,E,I,z,O,F,G;const R=t.state;r=t.next_in,F=t.input,i=r+(t.avail_in-5),a=t.next_out,G=t.output,s=a-(n-t.avail_out),l=a+(t.avail_out-257),c=R.dmax,d=R.wsize,h=R.whave,p=R.wnext,g=R.window,m=R.hold,b=R.bits,x=R.lencode,y=R.distcode,w=(1<<R.lenbits)-1,A=(1<<R.distbits)-1;e:do{b<15&&(m+=F[r++]<<b,b+=8,m+=F[r++]<<b,b+=8),C=x[m&w];t:for(;;){if(P=C>>>24,m>>>=P,b-=P,P=C>>>16&255,P===0)G[a++]=C&65535;else if(P&16){E=C&65535,P&=15,P&&(b<P&&(m+=F[r++]<<b,b+=8),E+=m&(1<<P)-1,m>>>=P,b-=P),b<15&&(m+=F[r++]<<b,b+=8,m+=F[r++]<<b,b+=8),C=y[m&A];n:for(;;){if(P=C>>>24,m>>>=P,b-=P,P=C>>>16&255,P&16){if(I=C&65535,P&=15,b<P&&(m+=F[r++]<<b,b+=8,b<P&&(m+=F[r++]<<b,b+=8)),I+=m&(1<<P)-1,I>c){t.msg="invalid distance too far back",R.mode=V0;break e}if(m>>>=P,b-=P,P=a-s,I>P){if(P=I-P,P>h&&R.sane){t.msg="invalid distance too far back",R.mode=V0;break e}if(z=0,O=g,p===0){if(z+=d-P,P<E){E-=P;do G[a++]=g[z++];while(--P);z=a-I,O=G}}else if(p<P){if(z+=d+p-P,P-=p,P<E){E-=P;do G[a++]=g[z++];while(--P);if(z=0,p<E){P=p,E-=P;do G[a++]=g[z++];while(--P);z=a-I,O=G}}}else if(z+=p-P,P<E){E-=P;do G[a++]=g[z++];while(--P);z=a-I,O=G}for(;E>2;)G[a++]=O[z++],G[a++]=O[z++],G[a++]=O[z++],E-=3;E&&(G[a++]=O[z++],E>1&&(G[a++]=O[z++]))}else{z=a-I;do G[a++]=G[z++],G[a++]=G[z++],G[a++]=G[z++],E-=3;while(E>2);E&&(G[a++]=G[z++],E>1&&(G[a++]=G[z++]))}}else if((P&64)===0){C=y[(C&65535)+(m&(1<<P)-1)];continue n}else{t.msg="invalid distance code",R.mode=V0;break e}break}}else if((P&64)===0){C=x[(C&65535)+(m&(1<<P)-1)];continue t}else if(P&32){R.mode=Cee;break e}else{t.msg="invalid literal/length code",R.mode=V0;break e}break}}while(r<i&&a<l);E=b>>3,r-=E,b-=E<<3,m&=(1<<b)-1,t.next_in=r,t.next_out=a,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=a<l?257+(l-a):257-(a-l),R.hold=m,R.bits=b};const op=15,YP=852,XP=592,QP=0,x2=1,JP=2,Eee=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),kee=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Oee=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Tee=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Dee=(e,t,n,r,i,a,s,l)=>{const c=l.bits;let d=0,h=0,p=0,g=0,m=0,b=0,x=0,y=0,w=0,A=0,C,P,E,I,z,O=null,F;const G=new Uint16Array(op+1),R=new Uint16Array(op+1);let k=null,B,U,M;for(d=0;d<=op;d++)G[d]=0;for(h=0;h<r;h++)G[t[n+h]]++;for(m=c,g=op;g>=1&&G[g]===0;g--);if(m>g&&(m=g),g===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(p=1;p<g&&G[p]===0;p++);for(m<p&&(m=p),y=1,d=1;d<=op;d++)if(y<<=1,y-=G[d],y<0)return-1;if(y>0&&(e===QP||g!==1))return-1;for(R[1]=0,d=1;d<op;d++)R[d+1]=R[d]+G[d];for(h=0;h<r;h++)t[n+h]!==0&&(s[R[t[n+h]]++]=h);if(e===QP?(O=k=s,F=20):e===x2?(O=Eee,k=kee,F=257):(O=Oee,k=Tee,F=0),A=0,h=0,d=p,z=a,b=m,x=0,E=-1,w=1<<m,I=w-1,e===x2&&w>YP||e===JP&&w>XP)return 1;for(;;){B=d-x,s[h]+1<F?(U=0,M=s[h]):s[h]>=F?(U=k[s[h]-F],M=O[s[h]-F]):(U=96,M=0),C=1<<d-x,P=1<<b,p=P;do P-=C,i[z+(A>>x)+P]=B<<24|U<<16|M|0;while(P!==0);for(C=1<<d-1;A&C;)C>>=1;if(C!==0?(A&=C-1,A+=C):A=0,h++,--G[d]===0){if(d===g)break;d=t[n+s[h]]}if(d>m&&(A&I)!==E){for(x===0&&(x=m),z+=p,b=d-x,y=1<<b;b+x<g&&(y-=G[b+x],!(y<=0));)b++,y<<=1;if(w+=1<<b,e===x2&&w>YP||e===JP&&w>XP)return 1;E=A&I,i[E]=m<<24|b<<16|z-a|0}}return A!==0&&(i[z+A]=d-x<<24|64<<16|0),l.bits=m,0};var Tg=Dee;const Lee=0,j7=1,S7=2,{Z_FINISH:ZP,Z_BLOCK:Iee,Z_TREES:G0,Z_OK:uh,Z_STREAM_END:Ree,Z_NEED_DICT:Mee,Z_STREAM_ERROR:Ns,Z_DATA_ERROR:N7,Z_MEM_ERROR:A7,Z_BUF_ERROR:zee,Z_DEFLATED:eE}=b7,S1=16180,tE=16181,nE=16182,rE=16183,iE=16184,aE=16185,oE=16186,sE=16187,lE=16188,cE=16189,Gy=16190,Bc=16191,b2=16192,uE=16193,w2=16194,dE=16195,fE=16196,hE=16197,pE=16198,K0=16199,Y0=16200,mE=16201,gE=16202,vE=16203,yE=16204,xE=16205,_2=16206,bE=16207,wE=16208,Gr=16209,C7=16210,P7=16211,Fee=852,$ee=592,qee=15,Bee=qee,_E=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Uee(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const wh=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<S1||t.mode>P7?1:0},E7=e=>{if(wh(e))return Ns;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=S1,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Fee),t.distcode=t.distdyn=new Int32Array($ee),t.sane=1,t.back=-1,uh},k7=e=>{if(wh(e))return Ns;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,E7(e)},O7=(e,t)=>{let n;if(wh(e))return Ns;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ns:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,k7(e))},T7=(e,t)=>{if(!e)return Ns;const n=new Uee;e.state=n,n.strm=e,n.window=null,n.mode=S1;const r=O7(e,t);return r!==uh&&(e.state=null),r},Hee=e=>T7(e,Bee);let jE=!0,j2,S2;const Wee=e=>{if(jE){j2=new Int32Array(512),S2=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Tg(j7,e.lens,0,288,j2,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Tg(S7,e.lens,0,32,S2,0,e.work,{bits:5}),jE=!1}e.lencode=j2,e.lenbits=9,e.distcode=S2,e.distbits=5},D7=(e,t,n,r)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(t.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(t.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},Vee=(e,t)=>{let n,r,i,a,s,l,c,d,h,p,g,m,b,x,y=0,w,A,C,P,E,I,z,O;const F=new Uint8Array(4);let G,R;const k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(wh(e)||!e.output||!e.input&&e.avail_in!==0)return Ns;n=e.state,n.mode===Bc&&(n.mode=b2),s=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,r=e.input,l=e.avail_in,d=n.hold,h=n.bits,p=l,g=c,O=uh;e:for(;;)switch(n.mode){case S1:if(n.wrap===0){n.mode=b2;break}for(;h<16;){if(l===0)break e;l--,d+=r[a++]<<h,h+=8}if(n.wrap&2&&d===35615){n.wbits===0&&(n.wbits=15),n.check=0,F[0]=d&255,F[1]=d>>>8&255,n.check=Ll(n.check,F,2,0),d=0,h=0,n.mode=tE;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",n.mode=Gr;break}if((d&15)!==eE){e.msg="unknown compression method",n.mode=Gr;break}if(d>>>=4,h-=4,z=(d&15)+8,n.wbits===0&&(n.wbits=z),z>15||z>n.wbits){e.msg="invalid window size",n.mode=Gr;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=d&512?cE:Bc,d=0,h=0;break;case tE:for(;h<16;){if(l===0)break e;l--,d+=r[a++]<<h,h+=8}if(n.flags=d,(n.flags&255)!==eE){e.msg="unknown compression method",n.mode=Gr;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Gr;break}n.head&&(n.head.text=d>>8&1),n.flags&512&&n.wrap&4&&(F[0]=d&255,F[1]=d>>>8&255,n.check=Ll(n.check,F,2,0)),d=0,h=0,n.mode=nE;case nE:for(;h<32;){if(l===0)break e;l--,d+=r[a++]<<h,h+=8}n.head&&(n.head.time=d),n.flags&512&&n.wrap&4&&(F[0]=d&255,F[1]=d>>>8&255,F[2]=d>>>16&255,F[3]=d>>>24&255,n.check=Ll(n.check,F,4,0)),d=0,h=0,n.mode=rE;case rE:for(;h<16;){if(l===0)break e;l--,d+=r[a++]<<h,h+=8}n.head&&(n.head.xflags=d&255,n.head.os=d>>8),n.flags&512&&n.wrap&4&&(F[0]=d&255,F[1]=d>>>8&255,n.check=Ll(n.check,F,2,0)),d=0,h=0,n.mode=iE;case iE:if(n.flags&1024){for(;h<16;){if(l===0)break e;l--,d+=r[a++]<<h,h+=8}n.length=d,n.head&&(n.head.extra_len=d),n.flags&512&&n.wrap&4&&(F[0]=d&255,F[1]=d>>>8&255,n.check=Ll(n.check,F,2,0)),d=0,h=0}else n.head&&(n.head.extra=null);n.mode=aE;case aE:if(n.flags&1024&&(m=n.length,m>l&&(m=l),m&&(n.head&&(z=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+m),z)),n.flags&512&&n.wrap&4&&(n.check=Ll(n.check,r,m,a)),l-=m,a+=m,n.length-=m),n.length))break e;n.length=0,n.mode=oE;case oE:if(n.flags&2048){if(l===0)break e;m=0;do z=r[a+m++],n.head&&z&&n.length<65536&&(n.head.name+=String.fromCharCode(z));while(z&&m<l);if(n.flags&512&&n.wrap&4&&(n.check=Ll(n.check,r,m,a)),l-=m,a+=m,z)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=sE;case sE:if(n.flags&4096){if(l===0)break e;m=0;do z=r[a+m++],n.head&&z&&n.length<65536&&(n.head.comment+=String.fromCharCode(z));while(z&&m<l);if(n.flags&512&&n.wrap&4&&(n.check=Ll(n.check,r,m,a)),l-=m,a+=m,z)break e}else n.head&&(n.head.comment=null);n.mode=lE;case lE:if(n.flags&512){for(;h<16;){if(l===0)break e;l--,d+=r[a++]<<h,h+=8}if(n.wrap&4&&d!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Gr;break}d=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Bc;break;case cE:for(;h<32;){if(l===0)break e;l--,d+=r[a++]<<h,h+=8}e.adler=n.check=_E(d),d=0,h=0,n.mode=Gy;case Gy:if(n.havedict===0)return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=d,n.bits=h,Mee;e.adler=n.check=1,n.mode=Bc;case Bc:if(t===Iee||t===G0)break e;case b2:if(n.last){d>>>=h&7,h-=h&7,n.mode=_2;break}for(;h<3;){if(l===0)break e;l--,d+=r[a++]<<h,h+=8}switch(n.last=d&1,d>>>=1,h-=1,d&3){case 0:n.mode=uE;break;case 1:if(Wee(n),n.mode=K0,t===G0){d>>>=2,h-=2;break e}break;case 2:n.mode=fE;break;case 3:e.msg="invalid block type",n.mode=Gr}d>>>=2,h-=2;break;case uE:for(d>>>=h&7,h-=h&7;h<32;){if(l===0)break e;l--,d+=r[a++]<<h,h+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Gr;break}if(n.length=d&65535,d=0,h=0,n.mode=w2,t===G0)break e;case w2:n.mode=dE;case dE:if(m=n.length,m){if(m>l&&(m=l),m>c&&(m=c),m===0)break e;i.set(r.subarray(a,a+m),s),l-=m,a+=m,c-=m,s+=m,n.length-=m;break}n.mode=Bc;break;case fE:for(;h<14;){if(l===0)break e;l--,d+=r[a++]<<h,h+=8}if(n.nlen=(d&31)+257,d>>>=5,h-=5,n.ndist=(d&31)+1,d>>>=5,h-=5,n.ncode=(d&15)+4,d>>>=4,h-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Gr;break}n.have=0,n.mode=hE;case hE:for(;n.have<n.ncode;){for(;h<3;){if(l===0)break e;l--,d+=r[a++]<<h,h+=8}n.lens[k[n.have++]]=d&7,d>>>=3,h-=3}for(;n.have<19;)n.lens[k[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,G={bits:n.lenbits},O=Tg(Lee,n.lens,0,19,n.lencode,0,n.work,G),n.lenbits=G.bits,O){e.msg="invalid code lengths set",n.mode=Gr;break}n.have=0,n.mode=pE;case pE:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[d&(1<<n.lenbits)-1],w=y>>>24,A=y>>>16&255,C=y&65535,!(w<=h);){if(l===0)break e;l--,d+=r[a++]<<h,h+=8}if(C<16)d>>>=w,h-=w,n.lens[n.have++]=C;else{if(C===16){for(R=w+2;h<R;){if(l===0)break e;l--,d+=r[a++]<<h,h+=8}if(d>>>=w,h-=w,n.have===0){e.msg="invalid bit length repeat",n.mode=Gr;break}z=n.lens[n.have-1],m=3+(d&3),d>>>=2,h-=2}else if(C===17){for(R=w+3;h<R;){if(l===0)break e;l--,d+=r[a++]<<h,h+=8}d>>>=w,h-=w,z=0,m=3+(d&7),d>>>=3,h-=3}else{for(R=w+7;h<R;){if(l===0)break e;l--,d+=r[a++]<<h,h+=8}d>>>=w,h-=w,z=0,m=11+(d&127),d>>>=7,h-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Gr;break}for(;m--;)n.lens[n.have++]=z}}if(n.mode===Gr)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Gr;break}if(n.lenbits=9,G={bits:n.lenbits},O=Tg(j7,n.lens,0,n.nlen,n.lencode,0,n.work,G),n.lenbits=G.bits,O){e.msg="invalid literal/lengths set",n.mode=Gr;break}if(n.distbits=6,n.distcode=n.distdyn,G={bits:n.distbits},O=Tg(S7,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,G),n.distbits=G.bits,O){e.msg="invalid distances set",n.mode=Gr;break}if(n.mode=K0,t===G0)break e;case K0:n.mode=Y0;case Y0:if(l>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=d,n.bits=h,Pee(e,g),s=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,r=e.input,l=e.avail_in,d=n.hold,h=n.bits,n.mode===Bc&&(n.back=-1);break}for(n.back=0;y=n.lencode[d&(1<<n.lenbits)-1],w=y>>>24,A=y>>>16&255,C=y&65535,!(w<=h);){if(l===0)break e;l--,d+=r[a++]<<h,h+=8}if(A&&(A&240)===0){for(P=w,E=A,I=C;y=n.lencode[I+((d&(1<<P+E)-1)>>P)],w=y>>>24,A=y>>>16&255,C=y&65535,!(P+w<=h);){if(l===0)break e;l--,d+=r[a++]<<h,h+=8}d>>>=P,h-=P,n.back+=P}if(d>>>=w,h-=w,n.back+=w,n.length=C,A===0){n.mode=xE;break}if(A&32){n.back=-1,n.mode=Bc;break}if(A&64){e.msg="invalid literal/length code",n.mode=Gr;break}n.extra=A&15,n.mode=mE;case mE:if(n.extra){for(R=n.extra;h<R;){if(l===0)break e;l--,d+=r[a++]<<h,h+=8}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=gE;case gE:for(;y=n.distcode[d&(1<<n.distbits)-1],w=y>>>24,A=y>>>16&255,C=y&65535,!(w<=h);){if(l===0)break e;l--,d+=r[a++]<<h,h+=8}if((A&240)===0){for(P=w,E=A,I=C;y=n.distcode[I+((d&(1<<P+E)-1)>>P)],w=y>>>24,A=y>>>16&255,C=y&65535,!(P+w<=h);){if(l===0)break e;l--,d+=r[a++]<<h,h+=8}d>>>=P,h-=P,n.back+=P}if(d>>>=w,h-=w,n.back+=w,A&64){e.msg="invalid distance code",n.mode=Gr;break}n.offset=C,n.extra=A&15,n.mode=vE;case vE:if(n.extra){for(R=n.extra;h<R;){if(l===0)break e;l--,d+=r[a++]<<h,h+=8}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Gr;break}n.mode=yE;case yE:if(c===0)break e;if(m=g-c,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Gr;break}m>n.wnext?(m-=n.wnext,b=n.wsize-m):b=n.wnext-m,m>n.length&&(m=n.length),x=n.window}else x=i,b=s-n.offset,m=n.length;m>c&&(m=c),c-=m,n.length-=m;do i[s++]=x[b++];while(--m);n.length===0&&(n.mode=Y0);break;case xE:if(c===0)break e;i[s++]=n.length,c--,n.mode=Y0;break;case _2:if(n.wrap){for(;h<32;){if(l===0)break e;l--,d|=r[a++]<<h,h+=8}if(g-=c,e.total_out+=g,n.total+=g,n.wrap&4&&g&&(e.adler=n.check=n.flags?Ll(n.check,i,g,s-g):LS(n.check,i,g,s-g)),g=c,n.wrap&4&&(n.flags?d:_E(d))!==n.check){e.msg="incorrect data check",n.mode=Gr;break}d=0,h=0}n.mode=bE;case bE:if(n.wrap&&n.flags){for(;h<32;){if(l===0)break e;l--,d+=r[a++]<<h,h+=8}if(n.wrap&4&&d!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Gr;break}d=0,h=0}n.mode=wE;case wE:O=Ree;break e;case Gr:O=N7;break e;case C7:return A7;case P7:default:return Ns}return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=d,n.bits=h,(n.wsize||g!==e.avail_out&&n.mode<Gr&&(n.mode<_2||t!==ZP))&&D7(e,e.output,e.next_out,g-e.avail_out),p-=e.avail_in,g-=e.avail_out,e.total_in+=p,e.total_out+=g,n.total+=g,n.wrap&4&&g&&(e.adler=n.check=n.flags?Ll(n.check,i,g,e.next_out-g):LS(n.check,i,g,e.next_out-g)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Bc?128:0)+(n.mode===K0||n.mode===w2?256:0),(p===0&&g===0||t===ZP)&&O===uh&&(O=zee),O},Gee=e=>{if(wh(e))return Ns;let t=e.state;return t.window&&(t.window=null),e.state=null,uh},Kee=(e,t)=>{if(wh(e))return Ns;const n=e.state;return(n.wrap&2)===0?Ns:(n.head=t,t.done=!1,uh)},Yee=(e,t)=>{const n=t.length;let r,i,a;return wh(e)||(r=e.state,r.wrap!==0&&r.mode!==Gy)?Ns:r.mode===Gy&&(i=1,i=LS(i,t,n,0),i!==r.check)?N7:(a=D7(e,t,n,n),a?(r.mode=C7,A7):(r.havedict=1,uh))};var Xee=k7,Qee=O7,Jee=E7,Zee=Hee,ete=T7,tte=Vee,nte=Gee,rte=Kee,ite=Yee,ate="pako inflate (from Nodeca project)",Vc={inflateReset:Xee,inflateReset2:Qee,inflateResetKeep:Jee,inflateInit:Zee,inflateInit2:ete,inflate:tte,inflateEnd:nte,inflateGetHeader:rte,inflateSetDictionary:ite,inflateInfo:ate};function ote(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var ste=ote;const L7=Object.prototype.toString,{Z_NO_FLUSH:lte,Z_FINISH:cte,Z_OK:Vg,Z_STREAM_END:N2,Z_NEED_DICT:A2,Z_STREAM_ERROR:ute,Z_DATA_ERROR:SE,Z_MEM_ERROR:dte}=b7;function $v(e){this.options=w7.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Aee,this.strm.avail_out=0;let n=Vc.inflateInit2(this.strm,t.windowBits);if(n!==Vg)throw new Error(IS[n]);if(this.header=new ste,Vc.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=RS.string2buf(t.dictionary):L7.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Vc.inflateSetDictionary(this.strm,t.dictionary),n!==Vg)))throw new Error(IS[n])}$v.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,l;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?cte:lte,L7.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=Vc.inflate(n,s),a===A2&&i&&(a=Vc.inflateSetDictionary(n,i),a===Vg?a=Vc.inflate(n,s):a===SE&&(a=A2));n.avail_in>0&&a===N2&&n.state.wrap>0&&e[n.next_in]!==0;)Vc.inflateReset(n),a=Vc.inflate(n,s);switch(a){case ute:case SE:case A2:case dte:return this.onEnd(a),this.ended=!0,!1}if(l=n.avail_out,n.next_out&&(n.avail_out===0||a===N2))if(this.options.to==="string"){let c=RS.utf8border(n.output,n.next_out),d=n.next_out-c,h=RS.buf2string(n.output,c);n.next_out=d,n.avail_out=r-d,d&&n.output.set(n.output.subarray(c,c+d),0),this.onData(h)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===Vg&&l===0)){if(a===N2)return a=Vc.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};$v.prototype.onData=function(e){this.chunks.push(e)};$v.prototype.onEnd=function(e){e===Vg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=w7.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function fte(e,t){const n=new $v(t);if(n.push(e),n.err)throw n.msg||IS[n.err];return n.result}var hte=$v,pte=fte,mte={Inflate:hte,inflate:pte};const{Inflate:gte,inflate:vte}=mte;var NE=gte,yte=vte;const I7=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;I7[e]=t}const AE=4294967295;function xte(e,t,n){let r=e;for(let i=0;i<n;i++)r=I7[(r^t[i])&255]^r>>>8;return r}function bte(e,t){return(xte(AE,e,t)^AE)>>>0}function CE(e,t,n){const r=e.readUint32(),i=bte(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function R7(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function M7(e,t,n,r){let i=0;for(;i<r;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-r]&255}function z7(e,t,n,r){let i=0;if(n.length===0)for(;i<r;i++)t[i]=e[i];else for(;i<r;i++)t[i]=e[i]+n[i]&255}function F7(e,t,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(n[a]>>1)&255;for(;a<r;a++)t[a]=e[a]+(t[a-i]+n[a]>>1)&255}}function $7(e,t,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+n[a]&255;for(;a<r;a++)t[a]=e[a]+wte(t[a-i],n[a],n[a-i])&255}}function wte(e,t,n){const r=e+t-n,i=Math.abs(r-e),a=Math.abs(r-t),s=Math.abs(r-n);return i<=a&&i<=s?e:a<=s?t:n}function _te(e,t,n,r,i,a){switch(e){case 0:R7(t,n,i);break;case 1:M7(t,n,i,a);break;case 2:z7(t,n,r,i);break;case 3:F7(t,n,r,i,a);break;case 4:$7(t,n,r,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const jte=new Uint16Array([255]),Ste=new Uint8Array(jte.buffer),Nte=Ste[0]===255;function Ate(e){const{data:t,width:n,height:r,channels:i,depth:a}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*i,c=new Uint8Array(r*n*l);let d=0;for(let h=0;h<7;h++){const p=s[h],g=Math.ceil((n-p.x)/p.xStep),m=Math.ceil((r-p.y)/p.yStep);if(g<=0||m<=0)continue;const b=g*l,x=new Uint8Array(b);for(let y=0;y<m;y++){const w=t[d++],A=t.subarray(d,d+b);d+=b;const C=new Uint8Array(b);_te(w,A,C,x,b,l),x.set(C);for(let P=0;P<g;P++){const E=p.x+P*p.xStep,I=p.y+y*p.yStep;if(!(E>=n||I>=r))for(let z=0;z<l;z++)c[(I*n+E)*l+z]=C[P*l+z]}}}if(a===16){const h=new Uint16Array(c.buffer);if(Nte)for(let p=0;p<h.length;p++)h[p]=Cte(h[p]);return h}else return c}function Cte(e){return(e&255)<<8|e>>8&255}const Pte=new Uint16Array([255]),Ete=new Uint8Array(Pte.buffer),kte=Ete[0]===255,Ote=new Uint8Array(0);function PE(e){const{data:t,width:n,height:r,channels:i,depth:a}=e,s=Math.ceil(a/8)*i,l=Math.ceil(a/8*i*n),c=new Uint8Array(r*l);let d=Ote,h=0,p,g;for(let m=0;m<r;m++){switch(p=t.subarray(h+1,h+1+l),g=c.subarray(m*l,(m+1)*l),t[h]){case 0:R7(p,g,l);break;case 1:M7(p,g,l,s);break;case 2:z7(p,g,d,l);break;case 3:F7(p,g,d,l,s);break;case 4:$7(p,g,d,l,s);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}d=g,h+=l+1}if(a===16){const m=new Uint16Array(c.buffer);if(kte)for(let b=0;b<m.length;b++)m[b]=Tte(m[b]);return m}else return c}function Tte(e){return(e&255)<<8|e>>8&255}const _y=Uint8Array.of(137,80,78,71,13,10,26,10);function EE(e){if(!Dte(e.readBytes(_y.length)))throw new Error("wrong PNG signature")}function Dte(e){if(e.length<_y.length)return!1;for(let t=0;t<_y.length;t++)if(e[t]!==_y[t])return!1;return!0}const Lte="tEXt",Ite=0,q7=new TextDecoder("latin1");function Rte(e){if(zte(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Mte=/^[\u0000-\u00FF]*$/;function zte(e){if(!Mte.test(e))throw new Error("invalid latin1 text")}function Fte(e,t,n){const r=B7(t);e[r]=$te(t,n-r.length-1)}function B7(e){for(e.mark();e.readByte()!==Ite;);const t=e.offset;e.reset();const n=q7.decode(e.readBytes(t-e.offset-1));return e.skip(1),Rte(n),n}function $te(e,t){return q7.decode(e.readBytes(t))}const Mo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},C2={UNKNOWN:-1,DEFLATE:0},kE={UNKNOWN:-1,ADAPTIVE:0},P2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},X0={NONE:0,BACKGROUND:1,PREVIOUS:2},E2={SOURCE:0,OVER:1};class qte extends uA{constructor(n,r={}){super(n);hr(this,"_checkCrc");hr(this,"_inflator");hr(this,"_png");hr(this,"_apng");hr(this,"_end");hr(this,"_hasPalette");hr(this,"_palette");hr(this,"_hasTransparency");hr(this,"_transparency");hr(this,"_compressionMethod");hr(this,"_filterMethod");hr(this,"_interlaceMethod");hr(this,"_colorType");hr(this,"_isAnimated");hr(this,"_numberOfFrames");hr(this,"_numberOfPlays");hr(this,"_frames");hr(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new NE,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=C2.UNKNOWN,this._filterMethod=kE.UNKNOWN,this._interlaceMethod=P2.UNKNOWN,this._colorType=Mo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(EE(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(EE(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case Lte:Fte(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?CE(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?CE(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=Bte(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Mo.GREYSCALE:i=1;break;case Mo.TRUECOLOUR:i=3;break;case Mo.INDEXED_COLOUR:i=1;break;case Mo.GREYSCALE_ALPHA:i=2;break;case Mo.TRUECOLOUR_ALPHA:i=4;break;case Mo.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==C2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<r;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Mo.GREYSCALE:case Mo.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Mo.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Mo.UNKNOWN:case Mo.GREYSCALE_ALPHA:case Mo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=B7(this),i=this.readUint8();if(i!==C2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:yte(a)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=PE({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const a=this._apng.frames.at(n-1);this.disposeFrame(i,a,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case X0.NONE:break;case X0.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const l=(a*n.width+s)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[l+c]=0}break;case X0.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,a=(s,l)=>{const c=((s+r.yOffset)*this._png.width+r.xOffset+l)*this._png.channels,d=(s*r.width+l)*this._png.channels;return{index:c,frameIndex:d}};switch(r.blendOp){case E2.SOURCE:for(let s=0;s<r.height;s++)for(let l=0;l<r.width;l++){const{index:c,frameIndex:d}=a(s,l);for(let h=0;h<this._png.channels;h++)n.data[c+h]=r.data[d+h]}break;case E2.OVER:for(let s=0;s<r.height;s++)for(let l=0;l<r.width;l++){const{index:c,frameIndex:d}=a(s,l);for(let h=0;h<this._png.channels;h++){const p=r.data[d+this._png.channels-1]/i,g=h%(this._png.channels-1)===0?1:r.data[d+h],m=Math.floor(p*g+(1-p)*n.data[c+h]);n.data[c+h]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==kE.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===P2.NO_INTERLACE)this._png.data=PE({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===P2.ADAM7)this._png.data=Ate({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:X0.NONE,blendOp:E2.SOURCE,data:n}),this._inflator=new NE,this._writingDataChunks=!1}}function Bte(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var OE;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(OE||(OE={}));function Ute(e,t){return new qte(e,t).decode()}var xn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function k2(){xn.console&&typeof xn.console.log=="function"&&xn.console.log.apply(xn.console,arguments)}var Pr={log:k2,warn:function(e){xn.console&&(typeof xn.console.warn=="function"?xn.console.warn.apply(xn.console,arguments):k2.call(null,arguments))},error:function(e){xn.console&&(typeof xn.console.error=="function"?xn.console.error.apply(xn.console,arguments):k2(e))}};function O2(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Af(r.response,t,n)},r.onerror=function(){Pr.error("could not download file")},r.send()}function TE(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Q0(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Af=xn.saveAs||((typeof window>"u"?"undefined":mr(window))!=="object"||window!==xn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=xn.URL||xn.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?TE(i.href)?O2(e,t,n):Q0(i,i.target="_blank"):Q0(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Q0(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(TE(e))O2(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Q0(r)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:mr(a)!=="object"&&(Pr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return O2(e,t,n);var i=e.type==="application/octet-stream",a=/constructor/i.test(xn.HTMLElement)||xn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":mr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=s?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},l.readAsDataURL(e)}else{var c=xn.URL||xn.webkitURL,d=c.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function U7(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,s=i.exec(e);s&&(t=a(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}var jy=xn.atob.bind(xn),DE=xn.btoa.bind(xn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function T2(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n=ja(n,r,i,a,t[0],7,-680876936),a=ja(a,n,r,i,t[1],12,-389564586),i=ja(i,a,n,r,t[2],17,606105819),r=ja(r,i,a,n,t[3],22,-1044525330),n=ja(n,r,i,a,t[4],7,-176418897),a=ja(a,n,r,i,t[5],12,1200080426),i=ja(i,a,n,r,t[6],17,-1473231341),r=ja(r,i,a,n,t[7],22,-45705983),n=ja(n,r,i,a,t[8],7,1770035416),a=ja(a,n,r,i,t[9],12,-1958414417),i=ja(i,a,n,r,t[10],17,-42063),r=ja(r,i,a,n,t[11],22,-1990404162),n=ja(n,r,i,a,t[12],7,1804603682),a=ja(a,n,r,i,t[13],12,-40341101),i=ja(i,a,n,r,t[14],17,-1502002290),n=Sa(n,r=ja(r,i,a,n,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Sa(a,n,r,i,t[6],9,-1069501632),i=Sa(i,a,n,r,t[11],14,643717713),r=Sa(r,i,a,n,t[0],20,-373897302),n=Sa(n,r,i,a,t[5],5,-701558691),a=Sa(a,n,r,i,t[10],9,38016083),i=Sa(i,a,n,r,t[15],14,-660478335),r=Sa(r,i,a,n,t[4],20,-405537848),n=Sa(n,r,i,a,t[9],5,568446438),a=Sa(a,n,r,i,t[14],9,-1019803690),i=Sa(i,a,n,r,t[3],14,-187363961),r=Sa(r,i,a,n,t[8],20,1163531501),n=Sa(n,r,i,a,t[13],5,-1444681467),a=Sa(a,n,r,i,t[2],9,-51403784),i=Sa(i,a,n,r,t[7],14,1735328473),n=Na(n,r=Sa(r,i,a,n,t[12],20,-1926607734),i,a,t[5],4,-378558),a=Na(a,n,r,i,t[8],11,-2022574463),i=Na(i,a,n,r,t[11],16,1839030562),r=Na(r,i,a,n,t[14],23,-35309556),n=Na(n,r,i,a,t[1],4,-1530992060),a=Na(a,n,r,i,t[4],11,1272893353),i=Na(i,a,n,r,t[7],16,-155497632),r=Na(r,i,a,n,t[10],23,-1094730640),n=Na(n,r,i,a,t[13],4,681279174),a=Na(a,n,r,i,t[0],11,-358537222),i=Na(i,a,n,r,t[3],16,-722521979),r=Na(r,i,a,n,t[6],23,76029189),n=Na(n,r,i,a,t[9],4,-640364487),a=Na(a,n,r,i,t[12],11,-421815835),i=Na(i,a,n,r,t[15],16,530742520),n=Aa(n,r=Na(r,i,a,n,t[2],23,-995338651),i,a,t[0],6,-198630844),a=Aa(a,n,r,i,t[7],10,1126891415),i=Aa(i,a,n,r,t[14],15,-1416354905),r=Aa(r,i,a,n,t[5],21,-57434055),n=Aa(n,r,i,a,t[12],6,1700485571),a=Aa(a,n,r,i,t[3],10,-1894986606),i=Aa(i,a,n,r,t[10],15,-1051523),r=Aa(r,i,a,n,t[1],21,-2054922799),n=Aa(n,r,i,a,t[8],6,1873313359),a=Aa(a,n,r,i,t[15],10,-30611744),i=Aa(i,a,n,r,t[6],15,-1560198380),r=Aa(r,i,a,n,t[13],21,1309151649),n=Aa(n,r,i,a,t[4],6,-145523070),a=Aa(a,n,r,i,t[11],10,-1120210379),i=Aa(i,a,n,r,t[2],15,718787259),r=Aa(r,i,a,n,t[9],21,-343485551),e[0]=bd(n,e[0]),e[1]=bd(r,e[1]),e[2]=bd(i,e[2]),e[3]=bd(a,e[3])}function N1(e,t,n,r,i,a){return t=bd(bd(t,e),bd(r,a)),bd(t<<i|t>>>32-i,n)}function ja(e,t,n,r,i,a,s){return N1(t&n|~t&r,e,t,i,a,s)}function Sa(e,t,n,r,i,a,s){return N1(t&r|n&~r,e,t,i,a,s)}function Na(e,t,n,r,i,a,s){return N1(t^n^r,e,t,i,a,s)}function Aa(e,t,n,r,i,a,s){return N1(n^(t|~r),e,t,i,a,s)}function H7(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)T2(r,Hte(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(T2(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,T2(r,i),r}function Hte(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var LE="0123456789abcdef".split("");function Wte(e){for(var t="",n=0;n<4;n++)t+=LE[e>>8*n+4&15]+LE[e>>8*n&15];return t}function Vte(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function MS(e){return H7(e).map(Vte).join("")}var Gte=(function(e){for(var t=0;t<e.length;t++)e[t]=Wte(e[t]);return e.join("")})(H7("hello"))!="5d41402abc4b2a76b9719d911017c592";function bd(e,t){if(Gte){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function zS(e,t){var n,r,i,a;if(e!==n){for(var s=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var h=l[c];d=(d+h+s.charCodeAt(c))%256,l[c]=l[d],l[d]=h}n=e,r=l}else l=r;var p=t.length,g=0,m=0,b="";for(c=0;c<p;c++)m=(m+(h=l[g=(g+1)%256]))%256,l[g]=l[m],l[m]=h,s=l[(l[g]+l[m])%256],b+=String.fromCharCode(t.charCodeAt(c)^s);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var IE={print:4,modify:8,copy:16,"annot-forms":32};function pp(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(IE.perm!==void 0)throw new Error("Invalid permission: "+l);i+=IE[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=MS(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=zS(this.encryptionKey,this.padding)}function mp(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function RE(e){if(mr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[n]){var s=t[n][a];try{s[0].apply(e,r)}catch(l){xn.console&&Pr.error("jsPDF PubSub Error",l.message,l)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ky(e){if(!(this instanceof Ky))return new Ky(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function W7(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Of(e,t,n,r,i){if(!(this instanceof Of))return new Of(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,W7.call(this,r,i)}function yp(e,t,n,r,i){if(!(this instanceof yp))return new yp(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,W7.call(this,r,i)}function Gt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],l=1,c=16,d="S",h=null;mr(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var p=e.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=RE;var b="1.3",x=m.__private__.getPdfVersion=function(){return b};m.__private__.setPdfVersion=function(D){b=D};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return y};var w=m.__private__.getPageFormat=function(D){return y[D]};i=i||"a4";var A="compat",C="advanced",P=A;function E(){this.saveGraphicsState(),le(new dt(St,0,0,-St,0,to()*St).toString()+" cm"),this.setFontSize(this.getFontSize()/St),d="n",P=C}function I(){this.restoreGraphicsState(),d="S",P=A}var z=m.__private__.combineFontStyleAndFontWeight=function(D,te){if(D=="bold"&&te=="normal"||D=="bold"&&te==400||D=="normal"&&te=="italic"||D=="bold"&&te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return te&&(D=te==400||te==="normal"?D==="italic"?"italic":"normal":te!=700&&te!=="bold"||D!=="normal"?(te==700?"bold":te)+""+D:"bold"),D};m.advancedAPI=function(D){var te=P===A;return te&&E.call(this),typeof D!="function"||(D(this),te&&I.call(this)),this},m.compatAPI=function(D){var te=P===C;return te&&I.call(this),typeof D!="function"||(D(this),te&&E.call(this)),this},m.isAdvancedAPI=function(){return P===C};var O,F=function(D){if(P!==C)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=m.roundToPrecision=m.__private__.roundToPrecision=function(D,te){var ge=t||te;if(isNaN(D)||isNaN(ge))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(ge).replace(/0+$/,"")};O=m.hpf=m.__private__.hpf=typeof c=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return G(D,c)}:c==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return G(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return G(D,16)};var R=m.f2=m.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return G(D,2)},k=m.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return G(D,3)},B=m.scale=m.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return P===A?D*St:P===C?D:void 0},U=function(D){return B((function(te){return P===A?to()-te:P===C?te:void 0})(D))};m.__private__.setPrecision=m.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(t=parseInt(D,10))};var M,X="00000000000000000000000000000000",Q=m.__private__.getFileId=function(){return X},K=m.__private__.setFileId=function(D){return X=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(gi=new pp(h.userPermissions,h.userPassword,h.ownerPassword,X)),X};m.setFileId=function(D){return K(D),this},m.getFileId=function(){return Q()};var Y=m.__private__.convertDateToPDFDate=function(D){var te=D.getTimezoneOffset(),ge=te<0?"+":"-",Se=Math.floor(Math.abs(te/60)),De=Math.abs(te%60),Ye=[ge,J(Se),"'",J(De),"'"].join("");return["D:",D.getFullYear(),J(D.getMonth()+1),J(D.getDate()),J(D.getHours()),J(D.getMinutes()),J(D.getSeconds()),Ye].join("")},ne=m.__private__.convertPDFDateToDate=function(D){var te=parseInt(D.substr(2,4),10),ge=parseInt(D.substr(6,2),10)-1,Se=parseInt(D.substr(8,2),10),De=parseInt(D.substr(10,2),10),Ye=parseInt(D.substr(12,2),10),et=parseInt(D.substr(14,2),10);return new Date(te,ge,Se,De,Ye,et,0)},H=m.__private__.setCreationDate=function(D){var te;if(D===void 0&&(D=new Date),D instanceof Date)te=Y(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");te=D}return M=te},T=m.__private__.getCreationDate=function(D){var te=M;return D==="jsDate"&&(te=ne(M)),te};m.setCreationDate=function(D){return H(D),this},m.getCreationDate=function(D){return T(D)};var V,J=m.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},Z=m.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},oe=0,se=[],fe=[],de=0,be=[],Ee=[],_e=!1,$e=fe;m.__private__.setCustomOutputDestination=function(D){_e=!0,$e=D};var He=function(D){_e||($e=D)};m.__private__.resetCustomOutputDestination=function(){_e=!1,$e=fe};var le=m.__private__.out=function(D){return D=D.toString(),de+=D.length+1,$e.push(D),$e},Ke=m.__private__.write=function(D){return le(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},pt=m.__private__.getArrayBuffer=function(D){for(var te=D.length,ge=new ArrayBuffer(te),Se=new Uint8Array(ge);te--;)Se[te]=D.charCodeAt(te);return ge},xt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return xt};var Be=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(D){return Be=P===C?D/St:D,this};var Nt,ot=m.__private__.getFontSize=m.getFontSize=function(){return P===A?Be:Be*St},st=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(D){return st=D,this},m.__private__.getR2L=m.getR2L=function(){return st};var Pe,Pt=m.__private__.setZoomMode=function(D){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))Nt=D;else if(isNaN(D)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');Nt=D}else Nt=parseInt(D,10)};m.__private__.getZoomMode=function(){return Nt};var _t,mt=m.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');Pe=D};m.__private__.getPageMode=function(){return Pe};var vt=m.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');_t=D};m.__private__.getLayoutMode=function(){return _t},m.__private__.setDisplayMode=m.setDisplayMode=function(D,te,ge){return Pt(D),vt(te),mt(ge),this};var jt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(D){if(Object.keys(jt).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return jt[D]},m.__private__.getDocumentProperties=function(){return jt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(D){for(var te in jt)jt.hasOwnProperty(te)&&D[te]&&(jt[te]=D[te]);return this},m.__private__.setDocumentProperty=function(D,te){if(Object.keys(jt).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return jt[D]=te};var ut,St,ft,_n,pn,un={},mn={},Un=[],Vt={},Nn={},Ot={},xe={},bt=null,Et=0,At=[],ct=new RE(m),pe=e.hotfixes||[],Ne={},at={},It=[],dt=function D(te,ge,Se,De,Ye,et){if(!(this instanceof D))return new D(te,ge,Se,De,Ye,et);isNaN(te)&&(te=1),isNaN(ge)&&(ge=0),isNaN(Se)&&(Se=0),isNaN(De)&&(De=1),isNaN(Ye)&&(Ye=0),isNaN(et)&&(et=0),this._matrix=[te,ge,Se,De,Ye,et]};Object.defineProperty(dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dt.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(D)},dt.prototype.multiply=function(D){var te=D.sx*this.sx+D.shy*this.shx,ge=D.sx*this.shy+D.shy*this.sy,Se=D.shx*this.sx+D.sy*this.shx,De=D.shx*this.shy+D.sy*this.sy,Ye=D.tx*this.sx+D.ty*this.shx+this.tx,et=D.tx*this.shy+D.ty*this.sy+this.ty;return new dt(te,ge,Se,De,Ye,et)},dt.prototype.decompose=function(){var D=this.sx,te=this.shy,ge=this.shx,Se=this.sy,De=this.tx,Ye=this.ty,et=Math.sqrt(D*D+te*te),zt=(D/=et)*ge+(te/=et)*Se;ge-=D*zt,Se-=te*zt;var Yt=Math.sqrt(ge*ge+Se*Se);return zt/=Yt,D*(Se/=Yt)<te*(ge/=Yt)&&(D=-D,te=-te,zt=-zt,et=-et),{scale:new dt(et,0,0,Yt,0,0),translate:new dt(1,0,0,1,De,Ye),rotate:new dt(D,te,-te,D,0,0),skew:new dt(1,0,zt,1,0,0)}},dt.prototype.toString=function(D){return this.join(" ")},dt.prototype.inversed=function(){var D=this.sx,te=this.shy,ge=this.shx,Se=this.sy,De=this.tx,Ye=this.ty,et=1/(D*Se-te*ge),zt=Se*et,Yt=-te*et,gn=-ge*et,bn=D*et;return new dt(zt,Yt,gn,bn,-zt*De-gn*Ye,-Yt*De-bn*Ye)},dt.prototype.applyToPoint=function(D){var te=D.x*this.sx+D.y*this.shx+this.tx,ge=D.x*this.shy+D.y*this.sy+this.ty;return new Ja(te,ge)},dt.prototype.applyToRectangle=function(D){var te=this.applyToPoint(D),ge=this.applyToPoint(new Ja(D.x+D.w,D.y+D.h));return new vc(te.x,te.y,ge.x-te.x,ge.y-te.y)},dt.prototype.clone=function(){var D=this.sx,te=this.shy,ge=this.shx,Se=this.sy,De=this.tx,Ye=this.ty;return new dt(D,te,ge,Se,De,Ye)},m.Matrix=dt;var An=m.matrixMult=function(D,te){return te.multiply(D)},Tr=new dt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Tr;var $n=function(D,te){if(!Nn[D]){var ge=(te instanceof Of?"Sh":"P")+(Object.keys(Vt).length+1).toString(10);te.id=ge,Nn[D]=ge,Vt[ge]=te,ct.publish("addPattern",te)}};m.ShadingPattern=Of,m.TilingPattern=yp,m.addShadingPattern=function(D,te){return F("addShadingPattern()"),$n(D,te),this},m.beginTilingPattern=function(D){F("beginTilingPattern()"),Za(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},m.endTilingPattern=function(D,te){F("endTilingPattern()"),te.stream=Ee[V].join(`
`),$n(D,te),ct.publish("endTilingPattern",te),It.pop().restore()};var Zn,Fn=m.__private__.newObject=function(){var D=Wn();return Sr(D,!0),D},Wn=m.__private__.newObjectDeferred=function(){return oe++,se[oe]=function(){return de},oe},Sr=function(D,te){return te=typeof te=="boolean"&&te,se[D]=de,te&&le(D+" 0 obj"),D},Yo=m.__private__.newAdditionalObject=function(){var D={objId:Wn(),content:""};return be.push(D),D},ka=Wn(),_o=Wn(),Xo=m.__private__.decodeColorString=function(D){var te=D.split(" ");if(te.length!==2||te[1]!=="g"&&te[1]!=="G")te.length!==5||te[4]!=="k"&&te[4]!=="K"||(te=[(1-te[0])*(1-te[3]),(1-te[1])*(1-te[3]),(1-te[2])*(1-te[3]),"r"]);else{var ge=parseFloat(te[0]);te=[ge,ge,ge,"r"]}for(var Se="#",De=0;De<3;De++)Se+=("0"+Math.floor(255*parseFloat(te[De])).toString(16)).slice(-2);return Se},Oi=m.__private__.encodeColorString=function(D){var te;typeof D=="string"&&(D={ch1:D});var ge=D.ch1,Se=D.ch2,De=D.ch3,Ye=D.ch4,et=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ge=="string"&&ge.charAt(0)!=="#"){var zt=new U7(ge);if(zt.ok)ge=zt.toHex();else if(!/^\d*\.?\d*$/.test(ge))throw new Error('Invalid color "'+ge+'" passed to jsPDF.encodeColorString.')}if(typeof ge=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ge)&&(ge="#"+ge[1]+ge[1]+ge[2]+ge[2]+ge[3]+ge[3]),typeof ge=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ge)){var Yt=parseInt(ge.substr(1),16);ge=Yt>>16&255,Se=Yt>>8&255,De=255&Yt}if(Se===void 0||Ye===void 0&&ge===Se&&Se===De)te=typeof ge=="string"?ge+" "+et[0]:D.precision===2?R(ge/255)+" "+et[0]:k(ge/255)+" "+et[0];else if(Ye===void 0||mr(Ye)==="object"){if(Ye&&!isNaN(Ye.a)&&Ye.a===0)return["1.","1.","1.",et[1]].join(" ");te=typeof ge=="string"?[ge,Se,De,et[1]].join(" "):D.precision===2?[R(ge/255),R(Se/255),R(De/255),et[1]].join(" "):[k(ge/255),k(Se/255),k(De/255),et[1]].join(" ")}else te=typeof ge=="string"?[ge,Se,De,Ye,et[2]].join(" "):D.precision===2?[R(ge),R(Se),R(De),R(Ye),et[2]].join(" "):[k(ge),k(Se),k(De),k(Ye),et[2]].join(" ");return te},Ya=m.__private__.getFilters=function(){return s},Oa=m.__private__.putStream=function(D){var te=(D=D||{}).data||"",ge=D.filters||Ya(),Se=D.alreadyAppliedFilters||[],De=D.addLength1||!1,Ye=te.length,et=D.objectId,zt=function(vi){return vi};if(h!==null&&et===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(zt=gi.encryptor(et,0));var Yt={};ge===!0&&(ge=["FlateEncode"]);var gn=D.additionalKeyValues||[],bn=(Yt=Gt.API.processDataByFilters!==void 0?Gt.API.processDataByFilters(te,ge):{data:te,reverseChain:[]}).reverseChain+(Array.isArray(Se)?Se.join(" "):Se.toString());if(Yt.data.length!==0&&(gn.push({key:"Length",value:Yt.data.length}),De===!0&&gn.push({key:"Length1",value:Ye})),bn.length!=0)if(bn.split("/").length-1==1)gn.push({key:"Filter",value:bn});else{gn.push({key:"Filter",value:"["+bn+"]"});for(var qn=0;qn<gn.length;qn+=1)if(gn[qn].key==="DecodeParms"){for(var Mr=[],oi=0;oi<Yt.reverseChain.split("/").length-1;oi+=1)Mr.push("null");Mr.push(gn[qn].value),gn[qn].value="["+Mr.join(" ")+"]"}}le("<<");for(var vr=0;vr<gn.length;vr++)le("/"+gn[vr].key+" "+gn[vr].value);le(">>"),Yt.data.length!==0&&(le("stream"),le(zt(Yt.data)),le("endstream"))},oc=m.__private__.putPage=function(D){var te=D.number,ge=D.data,Se=D.objId,De=D.contentsObjId;Sr(Se,!0),le("<</Type /Page"),le("/Parent "+D.rootDictionaryObjId+" 0 R"),le("/Resources "+D.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(O(D.mediaBox.bottomLeftX))+" "+parseFloat(O(D.mediaBox.bottomLeftY))+" "+O(D.mediaBox.topRightX)+" "+O(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&le("/CropBox ["+O(D.cropBox.bottomLeftX)+" "+O(D.cropBox.bottomLeftY)+" "+O(D.cropBox.topRightX)+" "+O(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&le("/BleedBox ["+O(D.bleedBox.bottomLeftX)+" "+O(D.bleedBox.bottomLeftY)+" "+O(D.bleedBox.topRightX)+" "+O(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&le("/TrimBox ["+O(D.trimBox.bottomLeftX)+" "+O(D.trimBox.bottomLeftY)+" "+O(D.trimBox.topRightX)+" "+O(D.trimBox.topRightY)+"]"),D.artBox!==null&&le("/ArtBox ["+O(D.artBox.bottomLeftX)+" "+O(D.artBox.bottomLeftY)+" "+O(D.artBox.topRightX)+" "+O(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&le("/UserUnit "+D.userUnit),ct.publish("putPage",{objId:Se,pageContext:At[te],pageNumber:te,page:ge}),le("/Contents "+De+" 0 R"),le(">>"),le("endobj");var Ye=ge.join(`
`);return P===C&&(Ye+=`
Q`),Sr(De,!0),Oa({data:Ye,filters:Ya(),objectId:De}),le("endobj"),Se},jo=m.__private__.putPages=function(){var D,te,ge=[];for(D=1;D<=Et;D++)At[D].objId=Wn(),At[D].contentsObjId=Wn();for(D=1;D<=Et;D++)ge.push(oc({number:D,data:Ee[D],objId:At[D].objId,contentsObjId:At[D].contentsObjId,mediaBox:At[D].mediaBox,cropBox:At[D].cropBox,bleedBox:At[D].bleedBox,trimBox:At[D].trimBox,artBox:At[D].artBox,userUnit:At[D].userUnit,rootDictionaryObjId:ka,resourceDictionaryObjId:_o}));Sr(ka,!0),le("<</Type /Pages");var Se="/Kids [";for(te=0;te<Et;te++)Se+=ge[te]+" 0 R ";le(Se+"]"),le("/Count "+Et),le(">>"),le("endobj"),ct.publish("postPutPages")},ml=function(D){ct.publish("putFont",{font:D,out:le,newObject:Fn,putStream:Oa}),D.isAlreadyPutted!==!0&&(D.objectNumber=Fn(),le("<<"),le("/Type /Font"),le("/BaseFont /"+mp(D.postScriptName)),le("/Subtype /Type1"),typeof D.encoding=="string"&&le("/Encoding /"+D.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},sc=function(D){D.objectNumber=Fn();var te=[];te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Form"}),te.push({key:"BBox",value:"["+[O(D.x),O(D.y),O(D.x+D.width),O(D.y+D.height)].join(" ")+"]"}),te.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var ge=D.pages[1].join(`
`);Oa({data:ge,additionalKeyValues:te,objectId:D.objectNumber}),le("endobj")},lc=function(D,te){te||(te=21);var ge=Fn(),Se=(function(et,zt){var Yt,gn=[],bn=1/(zt-1);for(Yt=0;Yt<1;Yt+=bn)gn.push(Yt);if(gn.push(1),et[0].offset!=0){var qn={offset:0,color:et[0].color};et.unshift(qn)}if(et[et.length-1].offset!=1){var Mr={offset:1,color:et[et.length-1].color};et.push(Mr)}for(var oi="",vr=0,vi=0;vi<gn.length;vi++){for(Yt=gn[vi];Yt>et[vr+1].offset;)vr++;var Qr=et[vr].offset,Ti=(Yt-Qr)/(et[vr+1].offset-Qr),Ds=et[vr].color,Ao=et[vr+1].color;oi+=Z(Math.round((1-Ti)*Ds[0]+Ti*Ao[0]).toString(16))+Z(Math.round((1-Ti)*Ds[1]+Ti*Ao[1]).toString(16))+Z(Math.round((1-Ti)*Ds[2]+Ti*Ao[2]).toString(16))}return oi.trim()})(D.colors,te),De=[];De.push({key:"FunctionType",value:"0"}),De.push({key:"Domain",value:"[0.0 1.0]"}),De.push({key:"Size",value:"["+te+"]"}),De.push({key:"BitsPerSample",value:"8"}),De.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),De.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oa({data:Se,additionalKeyValues:De,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ge}),le("endobj"),D.objectNumber=Fn(),le("<< /ShadingType "+D.type),le("/ColorSpace /DeviceRGB");var Ye="/Coords ["+O(parseFloat(D.coords[0]))+" "+O(parseFloat(D.coords[1]))+" ";D.type===2?Ye+=O(parseFloat(D.coords[2]))+" "+O(parseFloat(D.coords[3])):Ye+=O(parseFloat(D.coords[2]))+" "+O(parseFloat(D.coords[3]))+" "+O(parseFloat(D.coords[4]))+" "+O(parseFloat(D.coords[5])),le(Ye+="]"),D.matrix&&le("/Matrix ["+D.matrix.toString()+"]"),le("/Function "+ge+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},_u=function(D,te){var ge=Wn(),Se=Fn();te.push({resourcesOid:ge,objectOid:Se}),D.objectNumber=Se;var De=[];De.push({key:"Type",value:"/Pattern"}),De.push({key:"PatternType",value:"1"}),De.push({key:"PaintType",value:"1"}),De.push({key:"TilingType",value:"1"}),De.push({key:"BBox",value:"["+D.boundingBox.map(O).join(" ")+"]"}),De.push({key:"XStep",value:O(D.xStep)}),De.push({key:"YStep",value:O(D.yStep)}),De.push({key:"Resources",value:ge+" 0 R"}),D.matrix&&De.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),Oa({data:D.stream,additionalKeyValues:De,objectId:D.objectNumber}),le("endobj")},Lm=function(D){for(var te in D.objectNumber=Fn(),le("<<"),D)switch(te){case"opacity":le("/ca "+R(D[te]));break;case"stroke-opacity":le("/CA "+R(D[te]))}le(">>"),le("endobj")},Nr=function(D){Sr(D.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var te in le("/Font <<"),un)un.hasOwnProperty(te)&&(p===!1||p===!0&&g.hasOwnProperty(te))&&le("/"+te+" "+un[te].objectNumber+" 0 R");le(">>")})(),(function(){if(Object.keys(Vt).length>0){for(var te in le("/Shading <<"),Vt)Vt.hasOwnProperty(te)&&Vt[te]instanceof Of&&Vt[te].objectNumber>=0&&le("/"+te+" "+Vt[te].objectNumber+" 0 R");ct.publish("putShadingPatternDict"),le(">>")}})(),(function(te){if(Object.keys(Vt).length>0){for(var ge in le("/Pattern <<"),Vt)Vt.hasOwnProperty(ge)&&Vt[ge]instanceof m.TilingPattern&&Vt[ge].objectNumber>=0&&Vt[ge].objectNumber<te&&le("/"+ge+" "+Vt[ge].objectNumber+" 0 R");ct.publish("putTilingPatternDict"),le(">>")}})(D.objectOid),(function(){if(Object.keys(Ot).length>0){var te;for(te in le("/ExtGState <<"),Ot)Ot.hasOwnProperty(te)&&Ot[te].objectNumber>=0&&le("/"+te+" "+Ot[te].objectNumber+" 0 R");ct.publish("putGStateDict"),le(">>")}})(),(function(){for(var te in le("/XObject <<"),Ne)Ne.hasOwnProperty(te)&&Ne[te].objectNumber>=0&&le("/"+te+" "+Ne[te].objectNumber+" 0 R");ct.publish("putXobjectDict"),le(">>")})(),le(">>"),le("endobj")},Ch=function(D){mn[D.fontName]=mn[D.fontName]||{},mn[D.fontName][D.fontStyle]=D.id},ju=function(D,te,ge,Se,De){var Ye={id:"F"+(Object.keys(un).length+1).toString(10),postScriptName:D,fontName:te,fontStyle:ge,encoding:Se,isStandardFont:De||!1,metadata:{}};return ct.publish("addFont",{font:Ye,instance:this}),un[Ye.id]=Ye,Ch(Ye),Ye.id},Ta=m.__private__.pdfEscape=m.pdfEscape=function(D,te){return(function(ge,Se){var De,Ye,et,zt,Yt,gn,bn,qn,Mr;if(et=(Se=Se||{}).sourceEncoding||"Unicode",Yt=Se.outputEncoding,(Se.autoencode||Yt)&&un[ut].metadata&&un[ut].metadata[et]&&un[ut].metadata[et].encoding&&(zt=un[ut].metadata[et].encoding,!Yt&&un[ut].encoding&&(Yt=un[ut].encoding),!Yt&&zt.codePages&&(Yt=zt.codePages[0]),typeof Yt=="string"&&(Yt=zt[Yt]),Yt)){for(bn=!1,gn=[],De=0,Ye=ge.length;De<Ye;De++)(qn=Yt[ge.charCodeAt(De)])?gn.push(String.fromCharCode(qn)):gn.push(ge[De]),gn[De].charCodeAt(0)>>8&&(bn=!0);ge=gn.join("")}for(De=ge.length;bn===void 0&&De!==0;)ge.charCodeAt(De-1)>>8&&(bn=!0),De--;if(!bn)return ge;for(gn=Se.noBOM?[]:[254,255],De=0,Ye=ge.length;De<Ye;De++){if((Mr=(qn=ge.charCodeAt(De))>>8)>>8)throw new Error("Character at position "+De+" of string '"+ge+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");gn.push(Mr),gn.push(qn-(Mr<<8))}return String.fromCharCode.apply(void 0,gn)})(D,te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gl=m.__private__.beginPage=function(D){Ee[++Et]=[],At[Et]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},cc(Et),He(Ee[V])},Ph=function(D,te){var ge,Se,De;switch(n=te||n,typeof D=="string"&&(ge=w(D.toLowerCase()),Array.isArray(ge)&&(Se=ge[0],De=ge[1])),Array.isArray(D)&&(Se=D[0]*St,De=D[1]*St),isNaN(Se)&&(Se=i[0],De=i[1]),(Se>14400||De>14400)&&(Pr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Se=Math.min(14400,Se),De=Math.min(14400,De)),i=[Se,De],n.substr(0,1)){case"l":De>Se&&(i=[De,Se]);break;case"p":Se>De&&(i=[De,Se])}gl(i),dn(Qa),le(mc),Jd!==0&&le(Jd+" J"),Zd!==0&&le(Zd+" j"),ct.publish("addPage",{pageNumber:Et})},Su=function(D){D>0&&D<=Et&&(Ee.splice(D,1),At.splice(D,1),Et--,V>Et&&(V=Et),this.setPage(V))},cc=function(D){D>0&&D<=Et&&(V=D)},Da=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Ee.length-1},Eh=function(D,te,ge){var Se,De=void 0;return ge=ge||{},D=D!==void 0?D:un[ut].fontName,te=te!==void 0?te:un[ut].fontStyle,Se=D.toLowerCase(),mn[Se]!==void 0&&mn[Se][te]!==void 0?De=mn[Se][te]:mn[D]!==void 0&&mn[D][te]!==void 0?De=mn[D][te]:ge.disableWarning===!1&&Pr.warn("Unable to look up font label for font '"+D+"', '"+te+"'. Refer to getFontList() for available fonts."),De||ge.noFallback||(De=mn.times[te])==null&&(De=mn.times.normal),De},ii=m.__private__.putInfo=function(){var D=Fn(),te=function(Se){return Se};for(var ge in h!==null&&(te=gi.encryptor(D,0)),le("<<"),le("/Producer ("+Ta(te("jsPDF "+Gt.version))+")"),jt)jt.hasOwnProperty(ge)&&jt[ge]&&le("/"+ge.substr(0,1).toUpperCase()+ge.substr(1)+" ("+Ta(te(jt[ge]))+")");le("/CreationDate ("+Ta(te(M))+")"),le(">>"),le("endobj")},Nu=m.__private__.putCatalog=function(D){var te=(D=D||{}).rootDictionaryObjId||ka;switch(Fn(),le("<<"),le("/Type /Catalog"),le("/Pages "+te+" 0 R"),Nt||(Nt="fullwidth"),Nt){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ge=""+Nt;ge.substr(ge.length-1)==="%"&&(Nt=parseInt(Nt)/100),typeof Nt=="number"&&le("/OpenAction [3 0 R /XYZ null null "+R(Nt)+"]")}switch(_t||(_t="continuous"),_t){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}Pe&&le("/PageMode /"+Pe),ct.publish("putCatalog"),le(">>"),le("endobj")},Im=m.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(oe+1)),le("/Root "+oe+" 0 R"),le("/Info "+(oe-1)+" 0 R"),h!==null&&le("/Encrypt "+gi.oid+" 0 R"),le("/ID [ <"+X+"> <"+X+"> ]"),le(">>")},ai=m.__private__.putHeader=function(){le("%PDF-"+b),le("%")},uc=m.__private__.putXRef=function(){var D="0000000000";le("xref"),le("0 "+(oe+1)),le("0000000000 65535 f ");for(var te=1;te<=oe;te++)typeof se[te]=="function"?le((D+se[te]()).slice(-10)+" 00000 n "):se[te]!==void 0?le((D+se[te]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},La=m.__private__.buildDocument=function(){var D;oe=0,de=0,fe=[],se=[],be=[],ka=Wn(),_o=Wn(),He(fe),ct.publish("buildDocument"),ai(),jo(),(function(){ct.publish("putAdditionalObjects");for(var ge=0;ge<be.length;ge++){var Se=be[ge];Sr(Se.objId,!0),le(Se.content),le("endobj")}ct.publish("postPutAdditionalObjects")})(),D=[],(function(){for(var ge in un)un.hasOwnProperty(ge)&&(p===!1||p===!0&&g.hasOwnProperty(ge))&&ml(un[ge])})(),(function(){var ge;for(ge in Ot)Ot.hasOwnProperty(ge)&&Lm(Ot[ge])})(),(function(){for(var ge in Ne)Ne.hasOwnProperty(ge)&&sc(Ne[ge])})(),(function(ge){var Se;for(Se in Vt)Vt.hasOwnProperty(Se)&&(Vt[Se]instanceof Of?lc(Vt[Se]):Vt[Se]instanceof yp&&_u(Vt[Se],ge))})(D),ct.publish("putResources"),D.forEach(Nr),Nr({resourcesOid:_o,objectOid:Number.MAX_SAFE_INTEGER}),ct.publish("postPutResources"),h!==null&&(gi.oid=Fn(),le("<<"),le("/Filter /Standard"),le("/V "+gi.v),le("/R "+gi.r),le("/U <"+gi.toHexString(gi.U)+">"),le("/O <"+gi.toHexString(gi.O)+">"),le("/P "+gi.P),le(">>"),le("endobj")),ii(),Nu();var te=de;return uc(),Im(),le("startxref"),le(""+te),le("%%EOF"),He(Ee[V]),fe.join(`
`)},Qo=m.__private__.getBlob=function(D){return new Blob([pt(D)],{type:"application/pdf"})},dc=m.output=m.__private__.output=(Zn=function(D,te){switch(typeof(te=te||{})=="string"?te={filename:te}:te.filename=te.filename||"generated.pdf",D){case void 0:return La();case"save":m.save(te.filename);break;case"arraybuffer":return pt(La());case"blob":return Qo(La());case"bloburi":case"bloburl":if(xn.URL!==void 0&&typeof xn.URL.createObjectURL=="function")return xn.URL&&xn.URL.createObjectURL(Qo(La()))||void 0;Pr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ge="",Se=La();try{ge=DE(Se)}catch{ge=DE(unescape(encodeURIComponent(Se)))}return"data:application/pdf;filename="+te.filename+";base64,"+ge;case"pdfobjectnewwindow":if(Object.prototype.toString.call(xn)==="[object Window]"){var De="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';te.pdfObjectUrl&&(De=te.pdfObjectUrl,Ye="");var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+De+'"'+Ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(te)+");<\/script></body></html>",zt=xn.open();return zt!==null&&zt.document.write(et),zt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(xn)==="[object Window]"){var Yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+te.filename+'" width="500px" height="400px" /></body></html>',gn=xn.open();if(gn!==null){gn.document.write(Yt);var bn=this;gn.document.documentElement.querySelector("#pdfViewer").onload=function(){gn.document.title=te.filename,gn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(bn.output("bloburl"))}}return gn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(xn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var qn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",te)+'"></iframe></body></html>',Mr=xn.open();if(Mr!==null&&(Mr.document.write(qn),Mr.document.title=te.filename),Mr||typeof safari>"u")return Mr;break;case"datauri":case"dataurl":return xn.document.location.href=this.output("datauristring",te);default:return null}},Zn.foo=function(){try{return Zn.apply(this,arguments)}catch(ge){var D=ge.stack||"";~D.indexOf(" at ")&&(D=D.split(" at ")[1]);var te="Error in function "+D.split(`
`)[0].split("<")[0]+": "+ge.message;if(!xn.console)throw new Error(te);xn.console.error(te,ge),xn.alert&&alert(te)}},Zn.foo.bar=Zn,Zn.foo),Xa=function(D){return Array.isArray(pe)===!0&&pe.indexOf(D)>-1};switch(r){case"pt":St=1;break;case"mm":St=72/25.4;break;case"cm":St=72/2.54;break;case"in":St=72;break;case"px":St=Xa("px_scaling")==1?.75:96/72;break;case"pc":case"em":St=12;break;case"ex":St=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);St=r}var gi=null;H(),K();var So=m.__private__.getPageInfo=m.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:At[D].objId,pageNumber:D,pageContext:At[D]}},Kd=m.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var te in At)if(At[te].objId===D)break;return So(te)},Yd=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:At[V].objId,pageNumber:V,pageContext:At[V]}};m.addPage=function(){return Ph.apply(this,arguments),this},m.setPage=function(){return cc.apply(this,arguments),He.call(this,Ee[V]),this},m.insertPage=function(D){return this.addPage(),this.movePage(V,D),this},m.movePage=function(D,te){var ge,Se;if(D>te){ge=Ee[D],Se=At[D];for(var De=D;De>te;De--)Ee[De]=Ee[De-1],At[De]=At[De-1];Ee[te]=ge,At[te]=Se,this.setPage(te)}else if(D<te){ge=Ee[D],Se=At[D];for(var Ye=D;Ye<te;Ye++)Ee[Ye]=Ee[Ye+1],At[Ye]=At[Ye+1];Ee[te]=ge,At[te]=Se,this.setPage(te)}return this},m.deletePage=function(){return Su.apply(this,arguments),this},m.__private__.text=m.text=function(D,te,ge,Se,De){var Ye,et,zt,Yt,gn,bn,qn,Mr,oi,vr=(Se=Se||{}).scope||this;if(typeof D=="number"&&typeof te=="number"&&(typeof ge=="string"||Array.isArray(ge))){var vi=ge;ge=te,te=D,D=vi}if(arguments[3]instanceof dt==0?(zt=arguments[4],Yt=arguments[5],mr(qn=arguments[3])==="object"&&qn!==null||(typeof zt=="string"&&(Yt=zt,zt=null),typeof qn=="string"&&(Yt=qn,qn=null),typeof qn=="number"&&(zt=qn,qn=null),Se={flags:qn,angle:zt,align:Yt})):(F("The transform parameter of text() with a Matrix value"),oi=De),isNaN(te)||isNaN(ge)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return vr;var Qr,Ti="",Ds=typeof Se.lineHeightFactor=="number"?Se.lineHeightFactor:ha,Ao=vr.internal.scaleFactor;function Ls(Vn){return Vn=Vn.split("	").join(Array(Se.TabLen||9).join(" ")),Ta(Vn,qn)}function bc(Vn){for(var rr,Ur=Vn.concat(),si=[],Eo=Ur.length;Eo--;)typeof(rr=Ur.shift())=="string"?si.push(rr):Array.isArray(Vn)&&(rr.length===1||rr[1]===void 0&&rr[2]===void 0)?si.push(rr[0]):si.push([rr[0],rr[1],rr[2]]);return si}function Du(Vn,rr){var Ur;if(typeof Vn=="string")Ur=rr(Vn)[0];else if(Array.isArray(Vn)){for(var si,Eo,rf=Vn.concat(),zu=[],Fs=rf.length;Fs--;)typeof(si=rf.shift())=="string"?zu.push(rr(si)[0]):Array.isArray(si)&&typeof si[0]=="string"&&(Eo=rr(si[0],si[1],si[2]),zu.push([Eo[0],Eo[1],Eo[2]]));Ur=zu}return Ur}var xl=!1,wc=!0;if(typeof D=="string")xl=!0;else if(Array.isArray(D)){var bl=D.concat();et=[];for(var wl,Di=bl.length;Di--;)(typeof(wl=bl.shift())!="string"||Array.isArray(wl)&&typeof wl[0]!="string")&&(wc=!1);xl=wc}if(xl===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var _c=Be/vr.internal.scaleFactor,jc=_c*(Ds-1);switch(Se.baseline){case"bottom":ge-=jc;break;case"top":ge+=_c-jc;break;case"hanging":ge+=_c-2*jc;break;case"middle":ge+=_c/2-jc}if((bn=Se.maxWidth||0)>0&&(typeof D=="string"?D=vr.splitTextToSize(D,bn):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(Vn,rr){return Vn.concat(vr.splitTextToSize(rr,bn))},[]))),Ye={text:D,x:te,y:ge,options:Se,mutex:{pdfEscape:Ta,activeFontKey:ut,fonts:un,activeFontSize:Be}},ct.publish("preProcessText",Ye),D=Ye.text,zt=(Se=Ye.options).angle,oi instanceof dt==0&&zt&&typeof zt=="number"){zt*=Math.PI/180,Se.rotationDirection===0&&(zt=-zt),P===C&&(zt=-zt);var tf=Math.cos(zt),nf=Math.sin(zt);oi=new dt(tf,nf,-nf,tf,0,0)}else zt&&zt instanceof dt&&(oi=zt);P!==C||oi||(oi=Tr),(gn=Se.charSpace||pa)!==void 0&&(Ti+=O(B(gn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Mr=Se.horizontalScale)!==void 0&&(Ti+=O(100*Mr)+` Tz
`),Se.lang;var ia=-1,Co=Se.renderingMode!==void 0?Se.renderingMode:Se.stroke,ns=vr.internal.getCurrentPageInfo().pageContext;switch(Co){case 0:case!1:case"fill":ia=0;break;case 1:case!0:case"stroke":ia=1;break;case 2:case"fillThenStroke":ia=2;break;case 3:case"invisible":ia=3;break;case 4:case"fillAndAddForClipping":ia=4;break;case 5:case"strokeAndAddPathForClipping":ia=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ia=6;break;case 7:case"addToPathForClipping":ia=7}var Lh=ns.usedRenderingMode!==void 0?ns.usedRenderingMode:-1;ia!==-1?Ti+=ia+` Tr
`:Lh!==-1&&(Ti+=`0 Tr
`),ia!==-1&&(ns.usedRenderingMode=ia),Yt=Se.align||"left";var Ra,_l=Be*Ds,Lu=vr.internal.pageSize.getWidth(),Iu=un[ut];gn=Se.charSpace||pa,bn=Se.maxWidth||0,qn=Object.assign({autoencode:!0,noBOM:!0},Se.flags);var Is=[],no=function(Vn){return vr.getStringUnitWidth(Vn,{font:Iu,charSpace:gn,fontSize:Be,doKerning:!1})*Be/Ao};if(Object.prototype.toString.call(D)==="[object Array]"){var Ma;et=bc(D),Yt!=="left"&&(Ra=et.map(no));var za,jl=0;if(Yt==="right"){te-=Ra[0],D=[],Di=et.length;for(var rs=0;rs<Di;rs++)rs===0?(za=Ia(te),Ma=Os(ge)):(za=B(jl-Ra[rs]),Ma=-_l),D.push([et[rs],za,Ma]),jl=Ra[rs]}else if(Yt==="center"){te-=Ra[0]/2,D=[],Di=et.length;for(var Rs=0;Rs<Di;Rs++)Rs===0?(za=Ia(te),Ma=Os(ge)):(za=B((jl-Ra[Rs])/2),Ma=-_l),D.push([et[Rs],za,Ma]),jl=Ra[Rs]}else if(Yt==="left"){D=[],Di=et.length;for(var Ms=0;Ms<Di;Ms++)D.push(et[Ms])}else if(Yt==="justify"&&Iu.encoding==="Identity-H"){D=[],Di=et.length,bn=bn!==0?bn:Lu;for(var is=0,Jr=0;Jr<Di;Jr++)if(Ma=Jr===0?Os(ge):-_l,za=Jr===0?Ia(te):is,Jr<Di-1){var Sc=B((bn-Ra[Jr])/(et[Jr].split(" ").length-1)),as=et[Jr].split(" ");D.push([as[0]+" ",za,Ma]),is=0;for(var Po=1;Po<as.length;Po++){var Nc=(no(as[Po-1]+" "+as[Po])-no(as[Po]))*Ao+Sc;Po==as.length-1?D.push([as[Po],Nc,0]):D.push([as[Po]+" ",Nc,0]),is-=Nc}}else D.push([et[Jr],za,Ma]);D.push(["",is,0])}else{if(Yt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],Di=et.length,bn=bn!==0?bn:Lu,Jr=0;Jr<Di;Jr++){Ma=Jr===0?Os(ge):-_l,za=Jr===0?Ia(te):0;var Ac=et[Jr].split(" ").length-1,Ru=Ac>0?(bn-Ra[Jr])/Ac:0;Jr<Di-1?Is.push(O(B(Ru))):Is.push(0),D.push([et[Jr],za,Ma])}}}(typeof Se.R2L=="boolean"?Se.R2L:st)===!0&&(D=Du(D,function(Vn,rr,Ur){return[Vn.split("").reverse().join(""),rr,Ur]})),Ye={text:D,x:te,y:ge,options:Se,mutex:{pdfEscape:Ta,activeFontKey:ut,fonts:un,activeFontSize:Be}},ct.publish("postProcessText",Ye),D=Ye.text,Qr=Ye.mutex.isHex||!1;var Mu=un[ut].encoding;Mu!=="WinAnsiEncoding"&&Mu!=="StandardEncoding"||(D=Du(D,function(Vn,rr,Ur){return[Ls(Vn),rr,Ur]})),et=bc(D),D=[];for(var zs,Sl,Nl,Cc=Array.isArray(et[0])?1:0,Al="",Pc=function(Vn,rr,Ur){var si="";return Ur instanceof dt?(Ur=typeof Se.angle=="number"?An(Ur,new dt(1,0,0,1,Vn,rr)):An(new dt(1,0,0,1,Vn,rr),Ur),P===C&&(Ur=An(new dt(1,0,0,-1,0,0),Ur)),si=Ur.join(" ")+` Tm
`):si=O(Vn)+" "+O(rr)+` Td
`,si},Br=0;Br<et.length;Br++){switch(Al="",Cc){case 1:Nl=(Qr?"<":"(")+et[Br][0]+(Qr?">":")"),zs=parseFloat(et[Br][1]),Sl=parseFloat(et[Br][2]);break;case 0:Nl=(Qr?"<":"(")+et[Br]+(Qr?">":")"),zs=Ia(te),Sl=Os(ge)}Is!==void 0&&Is[Br]!==void 0&&(Al=Is[Br]+` Tw
`),Br===0?D.push(Al+Pc(zs,Sl,oi)+Nl):Cc===0?D.push(Al+Nl):Cc===1&&D.push(Al+Pc(zs,Sl,oi)+Nl)}D=Cc===0?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var ma=`BT
/`;return ma+=ut+" "+Be+` Tf
`,ma+=O(Be*Ds)+` TL
`,ma+=No+`
`,ma+=Ti,ma+=D,le(ma+="ET"),g[ut]=!0,vr};var fc=m.__private__.clip=m.clip=function(D){return le(D==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return fc("evenodd")},m.__private__.discardPath=m.discardPath=function(){return le("n"),this};var Jo=m.__private__.isValidStyle=function(D){var te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(te=!0),te};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(D){return Jo(D)&&(d=D),this};var Au=m.__private__.getStyle=m.getStyle=function(D){var te=d;switch(D){case"D":case"S":te="S";break;case"F":te="f";break;case"FD":case"DF":te="B";break;case"f":case"f*":case"B":case"B*":te=D}return te},Hn=m.close=function(){return le("h"),this};m.stroke=function(){return le("S"),this},m.fill=function(D){return hc("f",D),this},m.fillEvenOdd=function(D){return hc("f*",D),this},m.fillStroke=function(D){return hc("B",D),this},m.fillStrokeEvenOdd=function(D){return hc("B*",D),this};var hc=function(D,te){mr(te)==="object"?kh(te,D):le(D)},vl=function(D){D===null||P===C&&D===void 0||(D=Au(D),le(D))};function Xd(D,te,ge,Se,De){var Ye=new yp(te||this.boundingBox,ge||this.xStep,Se||this.yStep,this.gState,De||this.matrix);Ye.stream=this.stream;var et=D+"$$"+this.cloneIndex+++"$$";return $n(et,Ye),Ye}var kh=function(D,te){var ge=Nn[D.key],Se=Vt[ge];if(Se instanceof Of)le("q"),le(Oh(te)),Se.gState&&m.setGState(Se.gState),le(D.matrix.toString()+" cm"),le("/"+ge+" sh"),le("Q");else if(Se instanceof yp){var De=new dt(1,0,0,-1,0,to());D.matrix&&(De=De.multiply(D.matrix||Tr),ge=Xd.call(Se,D.key,D.boundingBox,D.xStep,D.yStep,De).id),le("q"),le("/Pattern cs"),le("/"+ge+" scn"),Se.gState&&m.setGState(Se.gState),le(te),le("Q")}},Oh=function(D){switch(D){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Cu=m.moveTo=function(D,te){return le(O(B(D))+" "+O(U(te))+" m"),this},Pu=m.lineTo=function(D,te){return le(O(B(D))+" "+O(U(te))+" l"),this},fa=m.curveTo=function(D,te,ge,Se,De,Ye){return le([O(B(D)),O(U(te)),O(B(ge)),O(U(Se)),O(B(De)),O(U(Ye)),"c"].join(" ")),this};m.__private__.line=m.line=function(D,te,ge,Se,De){if(isNaN(D)||isNaN(te)||isNaN(ge)||isNaN(Se)||!Jo(De))throw new Error("Invalid arguments passed to jsPDF.line");return P===A?this.lines([[ge-D,Se-te]],D,te,[1,1],De||"S"):this.lines([[ge-D,Se-te]],D,te,[1,1]).stroke()},m.__private__.lines=m.lines=function(D,te,ge,Se,De,Ye){var et,zt,Yt,gn,bn,qn,Mr,oi,vr,vi,Qr,Ti;if(typeof D=="number"&&(Ti=ge,ge=te,te=D,D=Ti),Se=Se||[1,1],Ye=Ye||!1,isNaN(te)||isNaN(ge)||!Array.isArray(D)||!Array.isArray(Se)||!Jo(De)||typeof Ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Cu(te,ge),et=Se[0],zt=Se[1],gn=D.length,vi=te,Qr=ge,Yt=0;Yt<gn;Yt++)(bn=D[Yt]).length===2?(vi=bn[0]*et+vi,Qr=bn[1]*zt+Qr,Pu(vi,Qr)):(qn=bn[0]*et+vi,Mr=bn[1]*zt+Qr,oi=bn[2]*et+vi,vr=bn[3]*zt+Qr,vi=bn[4]*et+vi,Qr=bn[5]*zt+Qr,fa(qn,Mr,oi,vr,vi,Qr));return Ye&&Hn(),vl(De),this},m.path=function(D){for(var te=0;te<D.length;te++){var ge=D[te],Se=ge.c;switch(ge.op){case"m":Cu(Se[0],Se[1]);break;case"l":Pu(Se[0],Se[1]);break;case"c":fa.apply(this,Se);break;case"h":Hn()}}return this},m.__private__.rect=m.rect=function(D,te,ge,Se,De){if(isNaN(D)||isNaN(te)||isNaN(ge)||isNaN(Se)||!Jo(De))throw new Error("Invalid arguments passed to jsPDF.rect");return P===A&&(Se=-Se),le([O(B(D)),O(U(te)),O(B(ge)),O(B(Se)),"re"].join(" ")),vl(De),this},m.__private__.triangle=m.triangle=function(D,te,ge,Se,De,Ye,et){if(isNaN(D)||isNaN(te)||isNaN(ge)||isNaN(Se)||isNaN(De)||isNaN(Ye)||!Jo(et))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ge-D,Se-te],[De-ge,Ye-Se],[D-De,te-Ye]],D,te,[1,1],et,!0),this},m.__private__.roundedRect=m.roundedRect=function(D,te,ge,Se,De,Ye,et){if(isNaN(D)||isNaN(te)||isNaN(ge)||isNaN(Se)||isNaN(De)||isNaN(Ye)||!Jo(et))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var zt=4/3*(Math.SQRT2-1);return De=Math.min(De,.5*ge),Ye=Math.min(Ye,.5*Se),this.lines([[ge-2*De,0],[De*zt,0,De,Ye-Ye*zt,De,Ye],[0,Se-2*Ye],[0,Ye*zt,-De*zt,Ye,-De,Ye],[2*De-ge,0],[-De*zt,0,-De,-Ye*zt,-De,-Ye],[0,2*Ye-Se],[0,-Ye*zt,De*zt,-Ye,De,-Ye]],D+De,te,[1,1],et,!0),this},m.__private__.ellipse=m.ellipse=function(D,te,ge,Se,De){if(isNaN(D)||isNaN(te)||isNaN(ge)||isNaN(Se)||!Jo(De))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ye=4/3*(Math.SQRT2-1)*ge,et=4/3*(Math.SQRT2-1)*Se;return Cu(D+ge,te),fa(D+ge,te-et,D+Ye,te-Se,D,te-Se),fa(D-Ye,te-Se,D-ge,te-et,D-ge,te),fa(D-ge,te+et,D-Ye,te+Se,D,te+Se),fa(D+Ye,te+Se,D+ge,te+et,D+ge,te),vl(De),this},m.__private__.circle=m.circle=function(D,te,ge,Se){if(isNaN(D)||isNaN(te)||isNaN(ge)||!Jo(Se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,te,ge,ge,Se)},m.setFont=function(D,te,ge){return ge&&(te=z(te,ge)),ut=Eh(D,te,{disableWarning:!1}),this};var Zo=m.__private__.getFont=m.getFont=function(){return un[Eh.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var D,te,ge={};for(D in mn)if(mn.hasOwnProperty(D))for(te in ge[D]=[],mn[D])mn[D].hasOwnProperty(te)&&ge[D].push(te);return ge},m.addFont=function(D,te,ge,Se,De){var Ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ye.indexOf(arguments[3])!==-1?De=arguments[3]:arguments[3]&&Ye.indexOf(arguments[3])==-1&&(ge=z(ge,Se)),ju.call(this,D,te,ge,De=De||"Identity-H")};var ha,Qa=e.lineWidth||.200025,pc=m.__private__.getLineWidth=m.getLineWidth=function(){return Qa},dn=m.__private__.setLineWidth=m.setLineWidth=function(D){return Qa=D,le(O(B(D))+" w"),this};m.__private__.setLineDash=Gt.API.setLineDash=Gt.API.setLineDashPattern=function(D,te){if(D=D||[],te=te||0,isNaN(te)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(ge){return O(B(ge))}).join(" "),te=O(B(te)),le("["+D+"] "+te+" d"),this};var es=m.__private__.getLineHeight=m.getLineHeight=function(){return Be*ha};m.__private__.getLineHeight=m.getLineHeight=function(){return Be*ha};var Rm=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(ha=D),this},Th=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return ha};Rm(e.lineHeight);var Ia=m.__private__.getHorizontalCoordinate=function(D){return B(D)},Os=m.__private__.getVerticalCoordinate=function(D){return P===C?D:At[V].mediaBox.topRightY-At[V].mediaBox.bottomLeftY-B(D)},Dh=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(D){return O(Ia(D))},Eu=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(D){return O(Os(D))},mc=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Xo(mc)},m.__private__.setStrokeColor=m.setDrawColor=function(D,te,ge,Se){return mc=Oi({ch1:D,ch2:te,ch3:ge,ch4:Se,pdfColorType:"draw",precision:2}),le(mc),this};var Qd=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Xo(Qd)},m.__private__.setFillColor=m.setFillColor=function(D,te,ge,Se){return Qd=Oi({ch1:D,ch2:te,ch3:ge,ch4:Se,pdfColorType:"fill",precision:2}),le(Qd),this};var No=e.textColor||"0 g",gc=m.__private__.getTextColor=m.getTextColor=function(){return Xo(No)};m.__private__.setTextColor=m.setTextColor=function(D,te,ge,Se){return No=Oi({ch1:D,ch2:te,ch3:ge,ch4:Se,pdfColorType:"text",precision:3}),this};var pa=e.charSpace,ku=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(pa||0)};m.__private__.setCharSpace=m.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return pa=D,this};var Jd=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(D){var te=m.CapJoinStyles[D];if(te===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Jd=te,le(te+" J"),this};var Zd=0;m.__private__.setLineJoin=m.setLineJoin=function(D){var te=m.CapJoinStyles[D];if(te===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zd=te,le(te+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(O(B(D))+" M"),this},m.GState=Ky,m.setGState=function(D){(D=typeof D=="string"?Ot[xe[D]]:Ou(null,D)).equals(bt)||(le("/"+D.id+" gs"),bt=D)};var Ou=function(D,te){if(!D||!xe[D]){var ge=!1;for(var Se in Ot)if(Ot.hasOwnProperty(Se)&&Ot[Se].equals(te)){ge=!0;break}if(ge)te=Ot[Se];else{var De="GS"+(Object.keys(Ot).length+1).toString(10);Ot[De]=te,te.id=De}return D&&(xe[D]=te.id),ct.publish("addGState",te),te}};m.addGState=function(D,te){return Ou(D,te),this},m.saveGraphicsState=function(){return le("q"),Un.push({key:ut,size:Be,color:No}),this},m.restoreGraphicsState=function(){le("Q");var D=Un.pop();return ut=D.key,Be=D.size,No=D.color,bt=null,this},m.setCurrentTransformationMatrix=function(D){return le(D.toString()+" cm"),this},m.comment=function(D){return le("#"+D),this};var Ja=function(D,te){var ge=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ge},set:function(Ye){isNaN(Ye)||(ge=parseFloat(Ye))}});var Se=te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Se},set:function(Ye){isNaN(Ye)||(Se=parseFloat(Ye))}});var De="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return De},set:function(Ye){De=Ye.toString()}}),this},vc=function(D,te,ge,Se){Ja.call(this,D,te),this.type="rect";var De=ge||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return De},set:function(et){isNaN(et)||(De=parseFloat(et))}});var Ye=Se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ye},set:function(et){isNaN(et)||(Ye=parseFloat(et))}}),this},yc=function(){this.page=Et,this.currentPage=V,this.pages=Ee.slice(0),this.pagesContext=At.slice(0),this.x=ft,this.y=_n,this.matrix=pn,this.width=yl(V),this.height=xc(V),this.outputDestination=$e,this.id="",this.objectNumber=-1};yc.prototype.restore=function(){Et=this.page,V=this.currentPage,At=this.pagesContext,Ee=this.pages,ft=this.x,_n=this.y,pn=this.matrix,ef(V,this.width),eo(V,this.height),$e=this.outputDestination};var Za=function(D,te,ge,Se,De){It.push(new yc),Et=V=0,Ee=[],ft=D,_n=te,pn=De,gl([ge,Se])};for(var Ts in m.beginFormObject=function(D,te,ge,Se,De){return Za(D,te,ge,Se,De),this},m.endFormObject=function(D){return(function(te){if(at[te])It.pop().restore();else{var ge=new yc,Se="Xo"+(Object.keys(Ne).length+1).toString(10);ge.id=Se,at[te]=Se,Ne[Se]=ge,ct.publish("addFormObject",ge),It.pop().restore()}})(D),this},m.doFormObject=function(D,te){var ge=Ne[at[D]];return le("q"),le(te.toString()+" cm"),le("/"+ge.id+" Do"),le("Q"),this},m.getFormObject=function(D){var te=Ne[at[D]];return{x:te.x,y:te.y,width:te.width,height:te.height,matrix:te.matrix}},m.save=function(D,te){return D=D||"generated.pdf",(te=te||{}).returnPromise=te.returnPromise||!1,te.returnPromise===!1?(Af(Qo(La()),D),typeof Af.unload=="function"&&xn.setTimeout&&setTimeout(Af.unload,911),this):new Promise(function(ge,Se){try{var De=Af(Qo(La()),D);typeof Af.unload=="function"&&xn.setTimeout&&setTimeout(Af.unload,911),ge(De)}catch(Ye){Se(Ye.message)}})},Gt.API)Gt.API.hasOwnProperty(Ts)&&(Ts==="events"&&Gt.API.events.length?(function(D,te){var ge,Se,De;for(De=te.length-1;De!==-1;De--)ge=te[De][0],Se=te[De][1],D.subscribe.apply(D,[ge].concat(typeof Se=="function"?[Se]:Se))})(ct,Gt.API.events):m[Ts]=Gt.API[Ts]);function yl(D){return At[D].mediaBox.topRightX-At[D].mediaBox.bottomLeftX}function ef(D,te){At[D].mediaBox.topRightX=te+At[D].mediaBox.bottomLeftX}function xc(D){return At[D].mediaBox.topRightY-At[D].mediaBox.bottomLeftY}function eo(D,te){At[D].mediaBox.topRightY=te+At[D].mediaBox.bottomLeftY}var ts=m.getPageWidth=function(D){return yl(D=D||V)/St},Ui=m.setPageWidth=function(D,te){ef(D,te*St)},to=m.getPageHeight=function(D){return xc(D=D||V)/St},Tu=m.setPageHeight=function(D,te){eo(D,te*St)};return m.internal={pdfEscape:Ta,getStyle:Au,getFont:Zo,getFontSize:ot,getCharSpace:ku,getTextColor:gc,getLineHeight:es,getLineHeightFactor:Th,getLineWidth:pc,write:Ke,getHorizontalCoordinate:Ia,getVerticalCoordinate:Os,getCoordinateString:Dh,getVerticalCoordinateString:Eu,collections:{},newObject:Fn,newAdditionalObject:Yo,newObjectDeferred:Wn,newObjectDeferredBegin:Sr,getFilters:Ya,putStream:Oa,events:ct,scaleFactor:St,pageSize:{getWidth:function(){return ts(V)},setWidth:function(D){Ui(V,D)},getHeight:function(){return to(V)},setHeight:function(D){Tu(V,D)}},encryptionOptions:h,encryption:gi,getEncryptor:function(D){return h!==null?gi.encryptor(D,0):function(te){return te}},output:dc,getNumberOfPages:Da,get pages(){return Ee},out:le,f2:R,f3:k,getPageInfo:So,getPageInfoByObjId:Kd,getCurrentPageInfo:Yd,getPDFVersion:x,Point:Ja,Rectangle:vc,Matrix:dt,hasHotfix:Xa},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return ts(V)},set:function(D){Ui(V,D)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return to(V)},set:function(D){Tu(V,D)},enumerable:!0,configurable:!0}),(function(D){for(var te=0,ge=xt.length;te<ge;te++){var Se=ju.call(this,D[te][0],D[te][1],D[te][2],xt[te][3],!0);p===!1&&(g[Se]=!0);var De=D[te][0].split("-");Ch({id:Se,fontName:De[0],fontStyle:De[1]||""})}ct.publish("addFonts",{fonts:un,dictionary:mn})}).call(m,xt),ut="F1",Ph(i,n),ct.publish("initialized"),m}pp.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},pp.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},pp.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},pp.prototype.processOwnerPassword=function(e,t){return zS(MS(t).substr(0,5),e)},pp.prototype.encryptor=function(e,t){var n=MS(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return zS(n,r)}},Ky.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||mr(e)!==mr(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},Gt.API={events:[]},Gt.version="3.0.4";var pi=Gt.API,dA=1,_h=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sp=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Sn=function(e){return e.toFixed(2)},ad=function(e){return e.toFixed(5)};pi.__acroform__={};var xo=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},ME=function(e){return e*dA},Il=function(e){var t=new G7,n=Ht.internal.getHeight(e)||0,r=Ht.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Sn(r)),Number(Sn(n))],t},Kte=pi.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},Yte=pi.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Xte=pi.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},wi=pi.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Xte(e,t-1)},_i=pi.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Kte(e,t-1)},ji=pi.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Yte(e,t-1)},Qte=pi.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],l=e[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(a+l)||0,c.upperRight_X=n(i+s)||0,c.upperRight_Y=r(a)||0,[Number(Sn(c.lowerLeft_X)),Number(Sn(c.lowerLeft_Y)),Number(Sn(c.upperRight_X)),Number(Sn(c.upperRight_Y))]},Jte=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=FS(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Sn(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Il(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},FS=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(R){return R.split(`
`)}):i.map(function(R){return[R]});var a=n,s=Ht.internal.getHeight(e)||0;s=s<0?-s:s;var l=Ht.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(R,k,B){if(R+1<i.length){var U=k+" "+i[R+1][0];return J0(U,e,B).width<=l-4}return!1};a++;e:for(;a>0;){t="",a--;var d,h,p=J0("3",e,a).height,g=e.multiline?s-a:(s-p)/2,m=g+=2,b=0,x=0,y=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+J0(t,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var w="",A=0,C=0;C<i.length;C++)if(i.hasOwnProperty(C)){var P=!1;if(i[C].length!==1&&y!==i[C].length-1){if((p+2)*(A+2)+2>s)continue e;w+=i[C][y],P=!0,x=C,C--}else{w=(w+=i[C][y]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var E=parseInt(C),I=c(E,w,a),z=C>=i.length-1;if(I&&!z){w+=" ",y=0;continue}if(I||z){if(z)x=E;else if(e.multiline&&(p+2)*(A+2)+2>s)continue e}else{if(!e.multiline||(p+2)*(A+2)+2>s)continue e;x=E}}for(var O="",F=b;F<=x;F++){var G=i[F];if(e.multiline){if(F===x){O+=G[y]+" ",y=(y+1)%G.length;continue}if(F===b){O+=G[G.length-1]+" ";continue}}O+=G[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,h=J0(O,e,a).width,e.textAlign){case"right":d=l-h-2;break;case"center":d=(l-h)/2;break;default:d=2}t+=Sn(d)+" "+Sn(m)+` Td
`,t+="("+_h(O)+`) Tj
`,t+=-Sn(d)+` 0 Td
`,m=-(a+2),h=0,b=P?x:x+1,A++,w=""}break}return r.text=t,r.fontSize=a,r},J0=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Zte={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ene=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},tne=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(fl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Zte)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");dA=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new K7,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&ene(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var l=r[s],c=[],d=l.Rect;if(l.Rect&&(l.Rect=Qte(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Ht.createDefaultAppearanceStream(l),mr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=Jte(l);c.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var p="";for(var g in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(g)){var m=l.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var s in m)if(m.hasOwnProperty(s)){var b=m[s];typeof b=="function"&&(b=b.call(i,l)),p+="/"+s+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=m)=="function"&&(b=b.call(i,l)),p+="/"+s+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&(function(x,y){for(var w in x)if(x.hasOwnProperty(w)){var A=w,C=x[w];y.internal.newObjectDeferredBegin(C.objId,!0),mr(C)==="object"&&typeof C.putStream=="function"&&C.putStream(),delete x[A]}})(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},V7=pi.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(s){return s};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),mr(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+_h(r(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},D2=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+_h(r(e))+")"},Ul=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ul.prototype.toString=function(){return this.objId+" 0 R"},Ul.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ul.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:V7(i,this.objId,this.scope)}):i instanceof Ul?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var G7=function(){Ul.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};xo(G7,Ul);var K7=function(){Ul.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+_h(n(e))+")"}},set:function(n){e=n}})};xo(K7,Ul);var fl=function e(){Ul.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');t=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!wi(t,3)},set:function(w){w?this.F=_i(t,3):this.F=ji(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');n=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Yy)return;a="FieldObject"+e.FieldNum++}var w=function(A){return A};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+_h(w(a))+")"},set:function(w){a=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(w){a=w}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(w){s=w}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/dA:d},set:function(w){d=w}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(w){h=w}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Yy||this instanceof Xf))return D2(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=w}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Zi==0?D2(g,this.objId,this.scope):g},set:function(w){w=w.toString(),g=this instanceof Zi==0?w.substr(0,1)==="("?sp(w.substr(1,w.length-2)):sp(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Zi==1?sp(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof Zi==1?"/"+w:w}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Zi==0?D2(m,this.objId,this.scope):m},set:function(w){w=w.toString(),m=this instanceof Zi==0?w.substr(0,1)==="("?sp(w.substr(1,w.length-2)):sp(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Zi==1?sp(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof Zi==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(w){w=!!w,x=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(w){b=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,1)},set:function(w){w?this.Ff=_i(this.Ff,1):this.Ff=ji(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,2)},set:function(w){w?this.Ff=_i(this.Ff,2):this.Ff=ji(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,3)},set:function(w){w?this.Ff=_i(this.Ff,3):this.Ff=ji(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');y=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(y){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};xo(fl,Ul);var Np=function(){fl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return V7(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(a,s,l){l||(l=1);for(var c,d=[];c=s.exec(a);)d.push(c[l]);return d})(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,18)},set:function(n){n?this.Ff=_i(this.Ff,18):this.Ff=ji(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=_i(this.Ff,19):this.Ff=ji(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,20)},set:function(n){n?(this.Ff=_i(this.Ff,20),t.sort()):this.Ff=ji(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,22)},set:function(n){n?this.Ff=_i(this.Ff,22):this.Ff=ji(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,23)},set:function(n){n?this.Ff=_i(this.Ff,23):this.Ff=ji(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,27)},set:function(n){n?this.Ff=_i(this.Ff,27):this.Ff=ji(this.Ff,27)}}),this.hasAppearanceStream=!1};xo(Np,fl);var Ap=function(){Np.call(this),this.fontName="helvetica",this.combo=!1};xo(Ap,Np);var Cp=function(){Ap.call(this),this.combo=!0};xo(Cp,Ap);var Sy=function(){Cp.call(this),this.edit=!0};xo(Sy,Cp);var Zi=function(){fl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,15)},set:function(n){n?this.Ff=_i(this.Ff,15):this.Ff=ji(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,16)},set:function(n){n?this.Ff=_i(this.Ff,16):this.Ff=ji(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,17)},set:function(n){n?this.Ff=_i(this.Ff,17):this.Ff=ji(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,26)},set:function(n){n?this.Ff=_i(this.Ff,26):this.Ff=ji(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+_h(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){mr(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};xo(Zi,fl);var Ny=function(){Zi.call(this),this.pushButton=!0};xo(Ny,Zi);var Pp=function(){Zi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};xo(Pp,Zi);var Yy=function(){var e,t;fl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+_h(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){mr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ht.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};xo(Yy,fl),Pp.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Pp.prototype.createOption=function(e){var t=new Yy;return t.Parent=this,t.optionName=e,this.Kids.push(t),nne.call(this.scope,t),t};var Ay=function(){Zi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ht.CheckBox.createAppearanceStream()};xo(Ay,Zi);var Xf=function(){fl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,13)},set:function(t){t?this.Ff=_i(this.Ff,13):this.Ff=ji(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,21)},set:function(t){t?this.Ff=_i(this.Ff,21):this.Ff=ji(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,23)},set:function(t){t?this.Ff=_i(this.Ff,23):this.Ff=ji(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,24)},set:function(t){t?this.Ff=_i(this.Ff,24):this.Ff=ji(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,25)},set:function(t){t?this.Ff=_i(this.Ff,25):this.Ff=ji(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,26)},set:function(t){t?this.Ff=_i(this.Ff,26):this.Ff=ji(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};xo(Xf,fl);var Cy=function(){Xf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,14)},set:function(e){e?this.Ff=_i(this.Ff,14):this.Ff=ji(this.Ff,14)}}),this.password=!0};xo(Cy,Xf);var Ht={CheckBox:{createAppearanceStream:function(){return{N:{On:Ht.CheckBox.YesNormal},D:{On:Ht.CheckBox.YesPushDown,Off:Ht.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Il(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=FS(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Sn(Ht.internal.getWidth(e))+" "+Sn(Ht.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Sn(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Il(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=Ht.internal.getHeight(e),s=Ht.internal.getWidth(e),l=FS(e,e.caption);return i.push("1 g"),i.push("0 0 "+Sn(s)+" "+Sn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Sn(s-1)+" "+Sn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Sn(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Il(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Sn(Ht.internal.getWidth(e))+" "+Sn(Ht.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ht.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ht.RadioButton.Circle.YesNormal,t.D[e]=Ht.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Il(e);t.scope=e.scope;var n=[],r=Ht.internal.getWidth(e)<=Ht.internal.getHeight(e)?Ht.internal.getWidth(e)/4:Ht.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Ht.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ad(Ht.internal.getWidth(e)/2)+" "+ad(Ht.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Il(e);t.scope=e.scope;var n=[],r=Ht.internal.getWidth(e)<=Ht.internal.getHeight(e)?Ht.internal.getWidth(e)/4:Ht.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Ht.internal.Bezier_C).toFixed(5)),s=Number((r*Ht.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ad(Ht.internal.getWidth(e)/2)+" "+ad(Ht.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ad(Ht.internal.getWidth(e)/2)+" "+ad(Ht.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Il(e);t.scope=e.scope;var n=[],r=Ht.internal.getWidth(e)<=Ht.internal.getHeight(e)?Ht.internal.getWidth(e)/4:Ht.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Ht.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ad(Ht.internal.getWidth(e)/2)+" "+ad(Ht.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ht.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ht.RadioButton.Cross.YesNormal,t.D[e]=Ht.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Il(e);t.scope=e.scope;var n=[],r=Ht.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Sn(Ht.internal.getWidth(e)-2)+" "+Sn(Ht.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Sn(r.x1.x)+" "+Sn(r.x1.y)+" m"),n.push(Sn(r.x2.x)+" "+Sn(r.x2.y)+" l"),n.push(Sn(r.x4.x)+" "+Sn(r.x4.y)+" m"),n.push(Sn(r.x3.x)+" "+Sn(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Il(e);t.scope=e.scope;var n=Ht.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Sn(Ht.internal.getWidth(e))+" "+Sn(Ht.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Sn(Ht.internal.getWidth(e)-2)+" "+Sn(Ht.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Sn(n.x1.x)+" "+Sn(n.x1.y)+" m"),r.push(Sn(n.x2.x)+" "+Sn(n.x2.y)+" l"),r.push(Sn(n.x4.x)+" "+Sn(n.x4.y)+" m"),r.push(Sn(n.x3.x)+" "+Sn(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Il(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Sn(Ht.internal.getWidth(e))+" "+Sn(Ht.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Ht.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ht.internal.getWidth(e),n=Ht.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Ht.internal.getWidth=function(e){var t=0;return mr(e)==="object"&&(t=ME(e.Rect[2])),t},Ht.internal.getHeight=function(e){var t=0;return mr(e)==="object"&&(t=ME(e.Rect[3])),t};var nne=pi.addField=function(e){if(tne(this,e),!(e instanceof fl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};pi.AcroFormChoiceField=Np,pi.AcroFormListBox=Ap,pi.AcroFormComboBox=Cp,pi.AcroFormEditBox=Sy,pi.AcroFormButton=Zi,pi.AcroFormPushButton=Ny,pi.AcroFormRadioButton=Pp,pi.AcroFormCheckBox=Ay,pi.AcroFormTextField=Xf,pi.AcroFormPasswordField=Cy,pi.AcroFormAppearance=Ht,pi.AcroForm={ChoiceField:Np,ListBox:Ap,ComboBox:Cp,EditBox:Sy,Button:Zi,PushButton:Ny,RadioButton:Pp,CheckBox:Ay,TextField:Xf,PasswordField:Cy,Appearance:Ht},Gt.AcroForm={ChoiceField:Np,ListBox:Ap,ComboBox:Cp,EditBox:Sy,Button:Zi,PushButton:Ny,RadioButton:Pp,CheckBox:Ay,TextField:Xf,PasswordField:Cy,Appearance:Ht};Gt.AcroForm;function Y7(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(R,k){var B,U,M,X,Q,K=n;if((k=k||n)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(I(R))for(Q in r)for(M=r[Q],B=0;B<M.length;B+=1){for(X=!0,U=0;U<M[B].length;U+=1)if(M[B][U]!==void 0&&M[B][U]!==R[U]){X=!1;break}if(X===!0){K=Q;break}}else for(Q in r)for(M=r[Q],B=0;B<M.length;B+=1){for(X=!0,U=0;U<M[B].length;U+=1)if(M[B][U]!==void 0&&M[B][U]!==R.charCodeAt(U)){X=!1;break}if(X===!0){K=Q;break}}return K===n&&k!==n&&(K=k),K},a=function R(k){for(var B=this.internal.write,U=this.internal.putStream,M=(0,this.internal.getFilters)();M.indexOf("FlateEncode")!==-1;)M.splice(M.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:k.width}),X.push({key:"Height",value:k.height}),k.colorSpace===w.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===w.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)&&k.transparency.length>0){for(var Q="",K=0,Y=k.transparency.length;K<Y;K++)Q+=k.transparency[K]+" "+k.transparency[K]+" ";X.push({key:"Mask",value:"["+Q+"]"})}k.sMask!==void 0&&X.push({key:"SMask",value:k.objectId+1+" 0 R"});var ne=k.filter!==void 0?["/"+k.filter]:void 0;if(U({data:k.data,additionalKeyValues:X,alreadyAppliedFilters:ne,objectId:k.objectId}),B("endobj"),"sMask"in k&&k.sMask!==void 0){var H,T=(H=k.sMaskBitsPerComponent)!==null&&H!==void 0?H:k.bitsPerComponent,V={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:T,data:k.sMask};"filter"in k&&(V.decodeParameters="/Predictor ".concat(k.predictor," /Colors 1 /BitsPerComponent ").concat(T," /Columns ").concat(k.width),V.filter=k.filter),R.call(this,V)}if(k.colorSpace===w.INDEXED){var J=this.internal.newObject();U({data:O(new Uint8Array(k.palette)),objectId:J}),B("endobj")}},s=function(){var R=this.internal.collections[t+"images"];for(var k in R)a.call(this,R[k])},l=function(){var R,k=this.internal.collections[t+"images"],B=this.internal.write;for(var U in k)B("/I"+(R=k[U]).index,R.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var R=this.internal.collections[t+"images"];return c.call(this),R},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},p=function(R){return typeof e["process"+R.toUpperCase()]=="function"},g=function(R){return mr(R)==="object"&&R.nodeType===1},m=function(R,k){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var B=""+R.getAttribute("src");if(B.indexOf("data:image/")===0)return jy(unescape(B).split("base64,").pop());var U=e.loadFile(B,!0);if(U!==void 0)return U}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var M;switch(k){case"PNG":M="image/png";break;case"WEBP":M="image/webp";break;default:M="image/jpeg"}return jy(R.toDataURL(M,1).split("base64,").pop())}},b=function(R){var k=this.internal.collections[t+"images"];if(k){for(var B in k)if(R===k[B].alias)return k[B]}},x=function(R,k,B){return R||k||(R=-96,k=-96),R<0&&(R=-1*B.width*72/R/this.internal.scaleFactor),k<0&&(k=-1*B.height*72/k/this.internal.scaleFactor),R===0&&(R=k*B.width/B.height),k===0&&(k=R*B.height/B.width),[R,k]},y=function(R,k,B,U,M,X){var Q=x.call(this,B,U,M),K=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,ne=d.call(this);if(B=Q[0],U=Q[1],ne[M.index]=M,X){X*=Math.PI/180;var H=Math.cos(X),T=Math.sin(X),V=function(Z){return Z.toFixed(4)},J=[V(H),V(T),V(-1*T),V(H),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,K(R),Y(k+U),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([K(B),"0","0",K(U),"0","0","cm"].join(" "))):this.internal.write([K(B),"0","0",K(U),K(R),Y(k+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+M.index+" Do"),this.internal.write("Q")},w=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var A=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=e.__addimage__.sHashCode=function(R){var k,B,U=0;if(typeof R=="string")for(B=R.length,k=0;k<B;k++)U=(U<<5)-U+R.charCodeAt(k),U|=0;else if(I(R))for(B=R.byteLength/2,k=0;k<B;k++)U=(U<<5)-U+R[k],U|=0;return U},P=e.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var k=!0;return R.length===0&&(k=!1),R.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(k=!1),k},E=e.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var k=R.indexOf(",");return k<0?null:R.substring(0,k).trim().endsWith("base64")?R.substring(k+1):null};e.__addimage__.isArrayBuffer=function(R){return R instanceof ArrayBuffer};var I=e.__addimage__.isArrayBufferView=function(R){return R instanceof Int8Array||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array},z=e.__addimage__.binaryStringToUint8Array=function(R){for(var k=R.length,B=new Uint8Array(k),U=0;U<k;U++)B[U]=R.charCodeAt(U);return B},O=e.__addimage__.arrayBufferToBinaryString=function(R){for(var k="",B=I(R)?R:new Uint8Array(R),U=0;U<B.length;U+=8192)k+=String.fromCharCode.apply(null,B.subarray(U,U+8192));return k};e.addImage=function(){var R,k,B,U,M,X,Q,K,Y;if(typeof arguments[1]=="number"?(k=n,B=arguments[1],U=arguments[2],M=arguments[3],X=arguments[4],Q=arguments[5],K=arguments[6],Y=arguments[7]):(k=arguments[1],B=arguments[2],U=arguments[3],M=arguments[4],X=arguments[5],Q=arguments[6],K=arguments[7],Y=arguments[8]),mr(R=arguments[0])==="object"&&!g(R)&&"imageData"in R){var ne=R;R=ne.imageData,k=ne.format||k||n,B=ne.x||B||0,U=ne.y||U||0,M=ne.w||ne.width||M,X=ne.h||ne.height||X,Q=ne.alias||Q,K=ne.compression||K,Y=ne.rotation||ne.angle||Y}var H=this.internal.getFilters();if(K===void 0&&H.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(B)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var T=F.call(this,R,k,Q,K);return y.call(this,B,U,M,X,T,Y),this};var F=function(R,k,B,U){var M,X,Q;if(typeof R=="string"&&i(R)===n){R=unescape(R);var K=G(R,!1);(K!==""||(K=e.loadFile(R,!0))!==void 0)&&(R=K)}if(g(R)&&(R=m(R,k)),k=i(R,k),!p(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((Q=B)==null||Q.length===0)&&(B=(function(Y){return typeof Y=="string"||I(Y)?C(Y):I(Y.data)?C(Y.data):null})(R)),(M=b.call(this,B))||(R instanceof Uint8Array||k==="RGBA"||(X=R,R=z(R)),M=this["process"+k.toUpperCase()](R,h.call(this),B,(function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in e.image_compression?Y:A.NONE})(U),X)),!M)throw new Error("An unknown error occurred whilst processing the image.");return M},G=e.__addimage__.convertBase64ToBinaryString=function(R,k){k=typeof k!="boolean"||k;var B,U="";if(typeof R=="string"){var M;B=(M=E(R))!==null&&M!==void 0?M:R;try{U=jy(B)}catch(X){if(k)throw P(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};e.getImageProperties=function(R){var k,B,U="";if(g(R)&&(R=m(R)),typeof R=="string"&&i(R)===n&&((U=G(R,!1))===""&&(U=e.loadFile(R)||""),R=U),B=i(R),!p(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(R instanceof Uint8Array||(R=z(R)),!(k=this["process"+B.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=B,k}})(Gt.API),(function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Gt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,a,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,h=!1,p=0;p<d.length&&!h;p++)switch((r=d[p]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<d.length;g++){r=d[g];var m=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(x.objId),A=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+m(w(r.contents))+")",a+=" /Popup "+y.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+m(w(A))+") >>",x.content=a;var C=x.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+C,r.open&&(a+=" /Open true"),a+=" >>",y.content=a,this.internal.write(x.objId,"0 R",y.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var P=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(b(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var E=this.annotations._nameMap[r.options.name];r.options.pageNumber=E.page,r.options.top=E.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var I=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+I+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,a,s){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:d(r),w:c(n+i),h:d(r+a)},options:s,type:"link"})},e.textWithLink=function(n,r,i,a){var s,l,c=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var h=this.splitTextToSize(n,l).length;s=Math.ceil(d*h)}else l=c,s=d;return this.text(n,r,i,a),i+=.2*d,a.align==="center"&&(r-=c/2),a.align==="right"&&(r-=c),this.link(r,i-d,l,s,a),c},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(Gt.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=e.__arabicParser__.isArabicEndLetter=function(x){return s(x)&&a(x)&&t[x.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(x){return s(x)&&i.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return s(x)&&a(x)&&t[x.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return s(x)&&a(x)&&t[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return s(x)&&a(x)&&t[x.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return s(x)&&a(x)&&t[x.charCodeAt(0)].length==4},p=e.__arabicParser__.resolveLigatures=function(x){var y=0,w=n,A="",C=0;for(y=0;y<x.length;y+=1)w[x.charCodeAt(y)]!==void 0?(C++,typeof(w=w[x.charCodeAt(y)])=="number"&&(A+=String.fromCharCode(w),w=n,C=0),y===x.length-1&&(w=n,A+=x.charAt(y-(C-1)),y-=C-1,C=0)):(w=n,A+=x.charAt(y-C),y-=C,C=0);return A};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&r[x.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(x,y,w){return s(x)?a(x)===!1?-1:!d(x)||!s(y)&&!s(w)||!s(w)&&l(y)||l(x)&&!s(y)||l(x)&&c(y)||l(x)&&l(y)?0:h(x)&&s(y)&&!l(y)&&s(w)&&d(w)?3:l(x)||!s(w)?1:2:-1},m=function(x){var y=0,w=0,A=0,C="",P="",E="",I=(x=x||"").split("\\s+"),z=[];for(y=0;y<I.length;y+=1){for(z.push(""),w=0;w<I[y].length;w+=1)C=I[y][w],P=I[y][w-1],E=I[y][w+1],s(C)?(A=g(C,P,E),z[y]+=A!==-1?String.fromCharCode(t[C.charCodeAt(0)][A]):C):z[y]+=C;z[y]=p(z[y])}return z.join(" ")},b=e.__arabicParser__.processArabic=e.processArabic=function(){var x,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(y)){var A=0;for(w=[],A=0;A<y.length;A+=1)Array.isArray(y[A])?w.push([m(y[A][0]),y[A][1],y[A][2]]):w.push([m(y[A])]);x=w}else x=m(y);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",b])})(Gt.API),Gt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Gt.API),(function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(x){g=x}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(x){b=x}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){r.call(this);var h=(d=d||{}).fontSize||this.getFontSize(),p=d.font||this.getFont(),g=d.scaleFactor||this.internal.scaleFactor,m=0,b=0,x=0,y=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var w=d.maxWidth;w>0?typeof c=="string"?c=this.splitTextToSize(c,w):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(C,P){return C.concat(y.splitTextToSize(P,w))},[])):c=Array.isArray(c)?c:[c];for(var A=0;A<c.length;A++)m<(x=this.getStringUnitWidth(c[A],{font:p})*h)&&(m=x);return m!==0&&(b=c.length),{w:m/=g,h:Math.max((b*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var d=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,m&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,h,p,g){if(r.call(this),!h)throw new Error("No data for PDF table.");var m,b,x,y,w=[],A=[],C=[],P={},E={},I=[],z=[],O=(g=g||{}).autoSize||!1,F=g.printHeaders!==!1,G=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,R=g.margins||Object.assign({width:this.getPageWidth()},t),k=typeof g.padding=="number"?g.padding:3,B=g.headerBackgroundColor||"#c8c8c8",U=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=U,this.setFontSize(G),p==null)A=w=Object.keys(h[0]),C=w.map(function(){return"left"});else if(Array.isArray(p)&&mr(p[0])==="object")for(w=p.map(function(ne){return ne.name}),A=p.map(function(ne){return ne.prompt||ne.name||""}),C=p.map(function(ne){return ne.align||"left"}),m=0;m<p.length;m+=1)E[p[m].name]=.7499990551181103*p[m].width;else Array.isArray(p)&&typeof p[0]=="string"&&(A=w=p,C=w.map(function(){return"left"}));if(O||Array.isArray(p)&&typeof p[0]=="string")for(m=0;m<w.length;m+=1){for(P[y=w[m]]=h.map(function(ne){return ne[y]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(A[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=P[y],this.setFont(void 0,"normal"),x=0;x<b.length;x+=1)I.push(this.getTextDimensions(b[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[y]=Math.max.apply(null,I)+k+k,I=[]}if(F){var M={};for(m=0;m<w.length;m+=1)M[w[m]]={},M[w[m]].text=A[m],M[w[m]].align=C[m];var X=l.call(this,M,E);z=w.map(function(ne){return new a(c,d,E[ne],X,M[ne].text,void 0,M[ne].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var Q=p.reduce(function(ne,H){return ne[H.name]=H.align,ne},{});for(m=0;m<h.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:h[m]},this);var K=l.call(this,h[m],E);for(x=0;x<w.length;x+=1){var Y=h[m][w[x]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:x,data:Y},this),s.call(this,new a(c,d,E[w[x]],K,Y,m+2,Q[w[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var h=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map(function(m){var b=c[m];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,d[m]-h-h)},this).map(function(m){return this.getLineHeightFactor()*m.length*p/g+h+h},this).reduce(function(m,b){return Math.max(m,b)},0)};e.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){h=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=c;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,h),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}})(Gt.API);var X7={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Q7=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],$S=Y7(Q7),J7=[100,200,300,400,500,600,700,800,900],rne=Y7(J7);function L2(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=(function(a){return X7[a=a||"normal"]?a:"normal"})(e.style),r=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(e.weight),i=(function(a){return typeof $S[a=a||"normal"]=="number"?a:"normal"})(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function zE(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var ine={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},FE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $E(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function qE(e){return e.trimLeft()}function ane(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function one(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Z0,BE,UE,lp,ey,HE,WE,VE,I2=["times"];function GE(e,t,n,r,i){var a=4,s=YE;switch(i){case Gt.API.image_compression.FAST:a=1,s=KE;break;case Gt.API.image_compression.MEDIUM:a=6,s=XE;break;case Gt.API.image_compression.SLOW:a=9,s=QE}e=(function(c,d,h,p){for(var g,m=c.length/d,b=new Uint8Array(c.length+m),x=[sne,KE,YE,XE,QE],y=0;y<m;y+=1){var w=y*d,A=c.subarray(w,w+d);if(p)b.set(p(A,h,g),w+y);else{for(var C=x.length,P=[],E=0;E<C;E+=1)P[E]=x[E](A,h,g);var I=cne(P.concat());b.set(P[I],w+y)}g=A}return b})(e,t,Math.ceil(n*r/8),s);var l=DS(e,{level:a});return Gt.API.__addimage__.arrayBufferToBinaryString(l)}function sne(e){var t=Array.apply([],e);return t.unshift(0),t}function KE(e,t){var n=e.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=e[i-t]||0;r[i+1]=e[i]-a+256&255}return r}function YE(e,t,n){var r=e.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var s=n&&n[a]||0;i[a+1]=e[a]-s+256&255}return i}function XE(e,t,n){var r=e.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var s=e[a-t]||0,l=n&&n[a]||0;i[a+1]=e[a]+256-(s+l>>>1)&255}return i}function QE(e,t,n){var r=e.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var s=lne(e[a-t]||0,n&&n[a]||0,n&&n[a-t]||0);i[a+1]=e[a]-s+256&255}return i}function lne(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),a=Math.abs(e+t-n-n);return r<=i&&r<=a?e:i<=a?t:n}function cne(e){var t=e.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function R2(e,t,n){var r=t*n,i=Math.floor(r/8),a=16-(r-8*i+n),s=(1<<n)-1;return Z7(e,i)>>a&s}function JE(e,t,n,r){var i=n*r,a=Math.floor(i/8),s=16-(i-8*a+r),l=(1<<r)-1,c=(t&l)<<s;(function(d,h,p){if(h+1<d.byteLength)d.setUint16(h,p,!1);else{var g=p>>8&255;d.setUint8(h,g)}})(e,a,Z7(e,a)&~(l<<s)&65535|c)}function Z7(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function une(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,s=1<<1+(7&i);e[t++],e[t++];var l=null,c=null;a&&(l=t,c=s,t+=3*s);var d=!0,h=[],p=0,g=null,m=0,b=null;for(this.width=n,this.height=r;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,b=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[t++];p=e[t++]|e[t++]<<8,g=e[t++],1&x||(g=null),m=x>>2&7,t++;break;case 254:for(;;){if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,A=e[t++]|e[t++]<<8,C=e[t++]|e[t++]<<8,P=e[t++],E=P>>6&1,I=1<<1+(7&P),z=l,O=c,F=!1;P>>7&&(F=!0,z=t,O=I,t+=3*I);var G=t;for(t++;;){var R;if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}h.push({x:y,y:w,width:A,height:C,has_local_palette:F,palette_offset:z,palette_size:O,data_offset:G,data_length:t-G,transparent_index:g,interlaced:!!E,delay:p,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return b},this.frameInfo=function(k){if(k<0||k>=h.length)throw new Error("Frame index out of range.");return h[k]},this.decodeAndBlitFrameBGRA=function(k,B){var U=this.frameInfo(k),M=U.width*U.height,X=new Uint8Array(M);ZE(e,U.data_offset,X,M);var Q=U.palette_offset,K=U.transparent_index;K===null&&(K=256);var Y=U.width,ne=n-Y,H=Y,T=4*(U.y*n+U.x),V=4*((U.y+U.height)*n+U.x),J=T,Z=4*ne;U.interlaced===!0&&(Z+=4*n*7);for(var oe=8,se=0,fe=X.length;se<fe;++se){var de=X[se];if(H===0&&(H=Y,(J+=Z)>=V&&(Z=4*ne+4*n*(oe-1),J=T+(Y+ne)*(oe<<1),oe>>=1)),de===K)J+=4;else{var be=e[Q+3*de],Ee=e[Q+3*de+1],_e=e[Q+3*de+2];B[J++]=_e,B[J++]=Ee,B[J++]=be,B[J++]=255}--H}},this.decodeAndBlitFrameRGBA=function(k,B){var U=this.frameInfo(k),M=U.width*U.height,X=new Uint8Array(M);ZE(e,U.data_offset,X,M);var Q=U.palette_offset,K=U.transparent_index;K===null&&(K=256);var Y=U.width,ne=n-Y,H=Y,T=4*(U.y*n+U.x),V=4*((U.y+U.height)*n+U.x),J=T,Z=4*ne;U.interlaced===!0&&(Z+=4*n*7);for(var oe=8,se=0,fe=X.length;se<fe;++se){var de=X[se];if(H===0&&(H=Y,(J+=Z)>=V&&(Z=4*ne+4*n*(oe-1),J=T+(Y+ne)*(oe<<1),oe>>=1)),de===K)J+=4;else{var be=e[Q+3*de],Ee=e[Q+3*de+1],_e=e[Q+3*de+2];B[J++]=be,B[J++]=Ee,B[J++]=_e,B[J++]=255}--H}}}function ZE(e,t,n,r){for(var i=e[t++],a=1<<i,s=a+1,l=s+1,c=i+1,d=(1<<c)-1,h=0,p=0,g=0,m=e[t++],b=new Int32Array(4096),x=null;;){for(;h<16&&m!==0;)p|=e[t++]<<h,h+=8,m===1?m=e[t++]:--m;if(h<c)break;var y=p&d;if(p>>=c,h-=c,y!==a){if(y===s)break;for(var w=y<l?y:x,A=0,C=w;C>a;)C=b[C]>>8,++A;var P=C;if(g+A+(w!==y?1:0)>r)return void Pr.log("Warning, gif stream longer than expected.");n[g++]=P;var E=g+=A;for(w!==y&&(n[g++]=P),C=w;A--;)C=b[C],n[--E]=255&C,C>>=8;x!==null&&l<4096&&(b[l++]=x<<8|P,l>=d+1&&c<12&&(++c,d=d<<1|1)),x=y}else l=s+1,d=(1<<(c=i+1))-1,x=null}return g!==r&&Pr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function M2(e){var t,n,r,i,a,s=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),h=new Array(64),p=new Array(65535),g=new Array(65535),m=new Array(64),b=new Array(64),x=[],y=0,w=7,A=new Array(64),C=new Array(64),P=new Array(64),E=new Array(256),I=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],M=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(T,V){for(var J=0,Z=0,oe=new Array,se=1;se<=16;se++){for(var fe=1;fe<=T[se];fe++)oe[V[Z]]=[],oe[V[Z]][0]=J,oe[V[Z]][1]=se,Z++,J++;J*=2}return oe}function Q(T){for(var V=T[0],J=T[1]-1;J>=0;)V&1<<J&&(y|=1<<w),J--,--w<0&&(y==255?(K(255),K(0)):K(y),w=7,y=0)}function K(T){x.push(T)}function Y(T){K(T>>8&255),K(255&T)}function ne(T,V,J,Z,oe){for(var se,fe=oe[0],de=oe[240],be=(function(Be,Nt){var ot,st,Pe,Pt,_t,mt,vt,jt,ut,St,ft=0;for(ut=0;ut<8;++ut){ot=Be[ft],st=Be[ft+1],Pe=Be[ft+2],Pt=Be[ft+3],_t=Be[ft+4],mt=Be[ft+5],vt=Be[ft+6];var _n=ot+(jt=Be[ft+7]),pn=ot-jt,un=st+vt,mn=st-vt,Un=Pe+mt,Vt=Pe-mt,Nn=Pt+_t,Ot=Pt-_t,xe=_n+Nn,bt=_n-Nn,Et=un+Un,At=un-Un;Be[ft]=xe+Et,Be[ft+4]=xe-Et;var ct=.707106781*(At+bt);Be[ft+2]=bt+ct,Be[ft+6]=bt-ct;var pe=.382683433*((xe=Ot+Vt)-(At=mn+pn)),Ne=.5411961*xe+pe,at=1.306562965*At+pe,It=.707106781*(Et=Vt+mn),dt=pn+It,An=pn-It;Be[ft+5]=An+Ne,Be[ft+3]=An-Ne,Be[ft+1]=dt+at,Be[ft+7]=dt-at,ft+=8}for(ft=0,ut=0;ut<8;++ut){ot=Be[ft],st=Be[ft+8],Pe=Be[ft+16],Pt=Be[ft+24],_t=Be[ft+32],mt=Be[ft+40],vt=Be[ft+48];var Tr=ot+(jt=Be[ft+56]),$n=ot-jt,Zn=st+vt,Fn=st-vt,Wn=Pe+mt,Sr=Pe-mt,Yo=Pt+_t,ka=Pt-_t,_o=Tr+Yo,Xo=Tr-Yo,Oi=Zn+Wn,Ya=Zn-Wn;Be[ft]=_o+Oi,Be[ft+32]=_o-Oi;var Oa=.707106781*(Ya+Xo);Be[ft+16]=Xo+Oa,Be[ft+48]=Xo-Oa;var oc=.382683433*((_o=ka+Sr)-(Ya=Fn+$n)),jo=.5411961*_o+oc,ml=1.306562965*Ya+oc,sc=.707106781*(Oi=Sr+Fn),lc=$n+sc,_u=$n-sc;Be[ft+40]=_u+jo,Be[ft+24]=_u-jo,Be[ft+8]=lc+ml,Be[ft+56]=lc-ml,ft++}for(ut=0;ut<64;++ut)St=Be[ut]*Nt[ut],m[ut]=St>0?St+.5|0:St-.5|0;return m})(T,V),Ee=0;Ee<64;++Ee)b[z[Ee]]=be[Ee];var _e=b[0]-J;J=b[0],_e==0?Q(Z[0]):(Q(Z[g[se=32767+_e]]),Q(p[se]));for(var $e=63;$e>0&&b[$e]==0;)$e--;if($e==0)return Q(fe),J;for(var He,le=1;le<=$e;){for(var Ke=le;b[le]==0&&le<=$e;)++le;var pt=le-Ke;if(pt>=16){He=pt>>4;for(var xt=1;xt<=He;++xt)Q(de);pt&=15}se=32767+b[le],Q(oe[(pt<<4)+g[se]]),Q(p[se]),le++}return $e!=63&&Q(fe),J}function H(T){T=Math.min(Math.max(T,1),100),a!=T&&((function(V){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var oe=s((J[Z]*V+50)/100);oe=Math.min(Math.max(oe,1),255),l[z[Z]]=oe}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var de=s((se[fe]*V+50)/100);de=Math.min(Math.max(de,1),255),c[z[fe]]=de}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,_e=0;_e<8;_e++)for(var $e=0;$e<8;$e++)d[Ee]=1/(l[z[Ee]]*be[_e]*be[$e]*8),h[Ee]=1/(c[z[Ee]]*be[_e]*be[$e]*8),Ee++})(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),a=T)}this.encode=function(T,V){V&&H(V),x=new Array,y=0,w=7,Y(65496),Y(65504),Y(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),Y(1),Y(1),K(0),K(0),(function(){Y(65499),Y(132),K(0);for(var st=0;st<64;st++)K(l[st]);K(1);for(var Pe=0;Pe<64;Pe++)K(c[Pe])})(),(function(st,Pe){Y(65472),Y(17),K(8),Y(Pe),Y(st),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)})(T.width,T.height),(function(){Y(65476),Y(418),K(0);for(var st=0;st<16;st++)K(O[st+1]);for(var Pe=0;Pe<=11;Pe++)K(F[Pe]);K(16);for(var Pt=0;Pt<16;Pt++)K(G[Pt+1]);for(var _t=0;_t<=161;_t++)K(R[_t]);K(1);for(var mt=0;mt<16;mt++)K(k[mt+1]);for(var vt=0;vt<=11;vt++)K(B[vt]);K(17);for(var jt=0;jt<16;jt++)K(U[jt+1]);for(var ut=0;ut<=161;ut++)K(M[ut])})(),Y(65498),Y(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var J=0,Z=0,oe=0;y=0,w=7,this.encode.displayName="_encode_";for(var se,fe,de,be,Ee,_e,$e,He,le,Ke=T.data,pt=T.width,xt=T.height,Be=4*pt,Nt=0;Nt<xt;){for(se=0;se<Be;){for(Ee=Be*Nt+se,$e=-1,He=0,le=0;le<64;le++)_e=Ee+(He=le>>3)*Be+($e=4*(7&le)),Nt+He>=xt&&(_e-=Be*(Nt+1+He-xt)),se+$e>=Be&&(_e-=se+$e-Be+4),fe=Ke[_e++],de=Ke[_e++],be=Ke[_e++],A[le]=(I[fe]+I[de+256|0]+I[be+512|0]>>16)-128,C[le]=(I[fe+768|0]+I[de+1024|0]+I[be+1280|0]>>16)-128,P[le]=(I[fe+1280|0]+I[de+1536|0]+I[be+1792|0]>>16)-128;J=ne(A,d,J,t,r),Z=ne(C,h,Z,n,i),oe=ne(P,h,oe,n,i),se+=32}Nt+=8}if(w>=0){var ot=[];ot[1]=w+1,ot[0]=(1<<w+1)-1,Q(ot)}return Y(65497),new Uint8Array(x)},e=e||50,(function(){for(var T=String.fromCharCode,V=0;V<256;V++)E[V]=T(V)})(),t=X(O,F),n=X(k,B),r=X(G,R),i=X(U,M),(function(){for(var T=1,V=2,J=1;J<=15;J++){for(var Z=T;Z<V;Z++)g[32767+Z]=J,p[32767+Z]=[],p[32767+Z][1]=J,p[32767+Z][0]=Z;for(var oe=-(V-1);oe<=-T;oe++)g[32767+oe]=J,p[32767+oe]=[],p[32767+oe][1]=J,p[32767+oe][0]=V-1+oe;T<<=1,V<<=1}})(),(function(){for(var T=0;T<256;T++)I[T]=19595*T,I[T+256|0]=38470*T,I[T+512|0]=7471*T+32768,I[T+768|0]=-11059*T,I[T+1024|0]=-21709*T,I[T+1280|0]=32768*T+8421375,I[T+1536|0]=-27439*T,I[T+1792|0]=-5329*T})(),H(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ys(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ek(e){function t(F){if(!F)throw Error("assert :P")}function n(F,G,R){for(var k=0;4>k;k++)if(F[G+k]!=R.charCodeAt(k))return!0;return!1}function r(F,G,R,k,B){for(var U=0;U<B;U++)F[G+U]=R[k+U]}function i(F,G,R,k){for(var B=0;B<k;B++)F[G+B]=R}function a(F){return new Int32Array(F)}function s(F,G){for(var R=[],k=0;k<F;k++)R.push(new G);return R}function l(F,G){var R=[];return(function k(B,U,M){for(var X=M[U],Q=0;Q<X&&(B.push(M.length>U+1?[]:new G),!(M.length<U+1));Q++)k(B[Q],U+1,M)})(R,0,F),R}var c=function(){var F=this;function G(_,N){for(var $=1<<N-1>>>0;_&$;)$>>>=1;return $?(_&$-1)+$:_}function R(_,N,$,W,ee){t(!(W%$));do _[N+(W-=$)]=ee;while(0<W)}function k(_,N,$,W,ee){if(t(2328>=ee),512>=ee)var ie=a(512);else if((ie=a(ee))==null)return 0;return(function(ae,ce,ue,he,Ae,Re){var me,ke,Ie=ce,Ge=1<<ue,ze=a(16),Ue=a(16);for(t(Ae!=0),t(he!=null),t(ae!=null),t(0<ue),ke=0;ke<Ae;++ke){if(15<he[ke])return 0;++ze[he[ke]]}if(ze[0]==Ae)return 0;for(Ue[1]=0,me=1;15>me;++me){if(ze[me]>1<<me)return 0;Ue[me+1]=Ue[me]+ze[me]}for(ke=0;ke<Ae;++ke)me=he[ke],0<he[ke]&&(Re[Ue[me]++]=ke);if(Ue[15]==1)return(he=new B).g=0,he.value=Re[0],R(ae,Ie,1,Ge,he),Ge;var Ve,Qe=-1,Je=Ge-1,Xt=0,Tt=1,wn=1,Ft=1<<ue;for(ke=0,me=1,Ae=2;me<=ue;++me,Ae<<=1){if(Tt+=wn<<=1,0>(wn-=ze[me]))return 0;for(;0<ze[me];--ze[me])(he=new B).g=me,he.value=Re[ke++],R(ae,Ie+Xt,Ae,Ft,he),Xt=G(Xt,me)}for(me=ue+1,Ae=2;15>=me;++me,Ae<<=1){if(Tt+=wn<<=1,0>(wn-=ze[me]))return 0;for(;0<ze[me];--ze[me]){if(he=new B,(Xt&Je)!=Qe){for(Ie+=Ft,Ve=1<<(Qe=me)-ue;15>Qe&&!(0>=(Ve-=ze[Qe]));)++Qe,Ve<<=1;Ge+=Ft=1<<(Ve=Qe-ue),ae[ce+(Qe=Xt&Je)].g=Ve+ue,ae[ce+Qe].value=Ie-ce-Qe}he.g=me-ue,he.value=Re[ke++],R(ae,Ie+(Xt>>ue),Ae,Ft,he),Xt=G(Xt,me)}}return Tt!=2*Ue[15]-1?0:Ge})(_,N,$,W,ee,ie)}function B(){this.value=this.g=0}function U(){this.value=this.g=0}function M(){this.G=s(5,B),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(no,U)}function X(_,N,$,W){t(_!=null),t(N!=null),t(2147483648>W),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=N,_.pa=$,_.Jd=N,_.Yc=$+W,_.Zc=4<=W?$+W-4+1:$,fe(_)}function Q(_,N){for(var $=0;0<N--;)$|=be(_,128)<<N;return $}function K(_,N){var $=Q(_,N);return de(_)?-$:$}function Y(_,N,$,W){var ee,ie=0;for(t(_!=null),t(N!=null),t(4294967288>W),_.Sb=W,_.Ra=0,_.u=0,_.h=0,4<W&&(W=4),ee=0;ee<W;++ee)ie+=N[$+ee]<<8*ee;_.Ra=ie,_.bb=W,_.oa=N,_.pa=$}function ne(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<jl-8>>>0,++_.bb,_.u-=8;Z(_)&&(_.h=1,_.u=0)}function H(_,N){if(t(0<=N),!_.h&&N<=za){var $=J(_)&Ma[N];return _.u+=N,ne(_),$}return _.h=1,_.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function V(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(_){return _.Ra>>>(_.u&jl-1)>>>0}function Z(_){return t(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>jl}function oe(_,N){_.u=N,_.h=Z(_)}function se(_){_.u>=rs&&(t(_.u>=rs),ne(_))}function fe(_){t(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(t(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function de(_){return Q(_,1)}function be(_,N){var $=_.Ca;0>_.b&&fe(_);var W=_.b,ee=$*N>>>8,ie=(_.I>>>W>ee)+0;for(ie?($-=ee,_.I-=ee+1<<W>>>0):$=ee+1,W=$,ee=0;256<=W;)ee+=8,W>>=8;return W=7^ee+Rs[W],_.b-=W,_.Ca=($<<W)-1,ie}function Ee(_,N,$){_[N+0]=$>>24&255,_[N+1]=$>>16&255,_[N+2]=$>>8&255,_[N+3]=255&$}function _e(_,N){return _[N+0]|_[N+1]<<8}function $e(_,N){return _e(_,N)|_[N+2]<<16}function He(_,N){return _e(_,N)|_e(_,N+2)<<16}function le(_,N){var $=1<<N;return t(_!=null),t(0<N),_.X=a($),_.X==null?0:(_.Mb=32-N,_.Xa=N,1)}function Ke(_,N){t(_!=null),t(N!=null),t(_.Xa==N.Xa),r(N.X,0,_.X,0,1<<N.Xa)}function pt(){this.X=[],this.Xa=this.Mb=0}function xt(_,N,$,W){t($!=null),t(W!=null);var ee=$[0],ie=W[0];return ee==0&&(ee=(_*ie+N/2)/N),ie==0&&(ie=(N*ee+_/2)/_),0>=ee||0>=ie?0:($[0]=ee,W[0]=ie,1)}function Be(_,N){return _+(1<<N)-1>>>N}function Nt(_,N){return((4278255360&_)+(4278255360&N)>>>0&4278255360)+((16711935&_)+(16711935&N)>>>0&16711935)>>>0}function ot(_,N){F[N]=function($,W,ee,ie,ae,ce,ue){var he;for(he=0;he<ae;++he){var Ae=F[_](ce[ue+he-1],ee,ie+he);ce[ue+he]=Nt($[W+he],Ae)}}}function st(){this.ud=this.hd=this.jd=0}function Pe(_,N){return((4278124286&(_^N))>>>1)+(_&N)>>>0}function Pt(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function _t(_,N){return Pt(_+(_-N+.5>>1))}function mt(_,N,$){return Math.abs(N-$)-Math.abs(_-$)}function vt(_,N,$,W,ee,ie,ae){for(W=ie[ae-1],$=0;$<ee;++$)ie[ae+$]=W=Nt(_[N+$],W)}function jt(_,N,$,W,ee){var ie;for(ie=0;ie<$;++ie){var ae=_[N+ie],ce=ae>>8&255,ue=16711935&(ue=(ue=16711935&ae)+((ce<<16)+ce));W[ee+ie]=(4278255360&ae)+ue>>>0}}function ut(_,N){N.jd=255&_,N.hd=_>>8&255,N.ud=_>>16&255}function St(_,N,$,W,ee,ie){var ae;for(ae=0;ae<W;++ae){var ce=N[$+ae],ue=ce>>>8,he=ce,Ae=255&(Ae=(Ae=ce>>>16)+((_.jd<<24>>24)*(ue<<24>>24)>>>5));he=255&(he=(he+=(_.hd<<24>>24)*(ue<<24>>24)>>>5)+((_.ud<<24>>24)*(Ae<<24>>24)>>>5)),ee[ie+ae]=(4278255360&ce)+(Ae<<16)+he}}function ft(_,N,$,W,ee){F[N]=function(ie,ae,ce,ue,he,Ae,Re,me,ke){for(ue=Re;ue<me;++ue)for(Re=0;Re<ke;++Re)he[Ae++]=ee(ce[W(ie[ae++])])},F[_]=function(ie,ae,ce,ue,he,Ae,Re){var me=8>>ie.b,ke=ie.Ea,Ie=ie.K[0],Ge=ie.w;if(8>me)for(ie=(1<<ie.b)-1,Ge=(1<<me)-1;ae<ce;++ae){var ze,Ue=0;for(ze=0;ze<ke;++ze)ze&ie||(Ue=W(ue[he++])),Ae[Re++]=ee(Ie[Ue&Ge]),Ue>>=me}else F["VP8LMapColor"+$](ue,he,Ie,Ge,Ae,Re,ae,ce,ke)}}function _n(_,N,$,W,ee){for($=N+$;N<$;){var ie=_[N++];W[ee++]=ie>>16&255,W[ee++]=ie>>8&255,W[ee++]=255&ie}}function pn(_,N,$,W,ee){for($=N+$;N<$;){var ie=_[N++];W[ee++]=ie>>16&255,W[ee++]=ie>>8&255,W[ee++]=255&ie,W[ee++]=ie>>24&255}}function un(_,N,$,W,ee){for($=N+$;N<$;){var ie=(ae=_[N++])>>16&240|ae>>12&15,ae=240&ae|ae>>28&15;W[ee++]=ie,W[ee++]=ae}}function mn(_,N,$,W,ee){for($=N+$;N<$;){var ie=(ae=_[N++])>>16&248|ae>>13&7,ae=ae>>5&224|ae>>3&31;W[ee++]=ie,W[ee++]=ae}}function Un(_,N,$,W,ee){for($=N+$;N<$;){var ie=_[N++];W[ee++]=255&ie,W[ee++]=ie>>8&255,W[ee++]=ie>>16&255}}function Vt(_,N,$,W,ee,ie){if(ie==0)for($=N+$;N<$;)Ee(W,((ie=_[N++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),ee+=32;else r(W,ee,_,N,$)}function Nn(_,N){F[N][0]=F[_+"0"],F[N][1]=F[_+"1"],F[N][2]=F[_+"2"],F[N][3]=F[_+"3"],F[N][4]=F[_+"4"],F[N][5]=F[_+"5"],F[N][6]=F[_+"6"],F[N][7]=F[_+"7"],F[N][8]=F[_+"8"],F[N][9]=F[_+"9"],F[N][10]=F[_+"10"],F[N][11]=F[_+"11"],F[N][12]=F[_+"12"],F[N][13]=F[_+"13"],F[N][14]=F[_+"0"],F[N][15]=F[_+"0"]}function Ot(_){return _==qu||_==Oc||_==cf||_==uf}function xe(){this.eb=[],this.size=this.A=this.fb=0}function bt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Et(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new xe,this.f.kb=new bt,this.sd=null}function At(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ct(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function pe(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function Ne(_,N){var $=_.T,W=N.ba.f.RGBA,ee=W.eb,ie=W.fb+_.ka*W.A,ae=va[N.ba.S],ce=_.y,ue=_.O,he=_.f,Ae=_.N,Re=_.ea,me=_.W,ke=N.cc,Ie=N.dc,Ge=N.Mc,ze=N.Nc,Ue=_.ka,Ve=_.ka+_.T,Qe=_.U,Je=Qe+1>>1;for(Ue==0?ae(ce,ue,null,null,he,Ae,Re,me,he,Ae,Re,me,ee,ie,null,null,Qe):(ae(N.ec,N.fc,ce,ue,ke,Ie,Ge,ze,he,Ae,Re,me,ee,ie-W.A,ee,ie,Qe),++$);Ue+2<Ve;Ue+=2)ke=he,Ie=Ae,Ge=Re,ze=me,Ae+=_.Rc,me+=_.Rc,ie+=2*W.A,ae(ce,(ue+=2*_.fa)-_.fa,ce,ue,ke,Ie,Ge,ze,he,Ae,Re,me,ee,ie-W.A,ee,ie,Qe);return ue+=_.fa,_.j+Ve<_.o?(r(N.ec,N.fc,ce,ue,Qe),r(N.cc,N.dc,he,Ae,Je),r(N.Mc,N.Nc,Re,me,Je),$--):1&Ve||ae(ce,ue,null,null,he,Ae,Re,me,he,Ae,Re,me,ee,ie+W.A,null,null,Qe),$}function at(_,N,$){var W=_.F,ee=[_.J];if(W!=null){var ie=_.U,ae=N.ba.S,ce=ae==lf||ae==cf;N=N.ba.f.RGBA;var ue=[0],he=_.ka;ue[0]=_.T,_.Kb&&(he==0?--ue[0]:(--he,ee[0]-=_.width),_.j+_.ka+_.T==_.o&&(ue[0]=_.o-_.j-he));var Ae=N.eb;he=N.fb+he*N.A,_=of(W,ee[0],_.width,ie,ue,Ae,he+(ce?0:3),N.A),t($==ue),_&&Ot(ae)&&kc(Ae,he,ce,ie,ue,N.A)}return 0}function It(_){var N=_.ma,$=N.ba.S,W=11>$,ee=$==Cl||$==sf||$==lf||$==cr||$==12||Ot($);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!Lu(N.Oa,_,ee?11:12))return 0;if(ee&&Ot($)&&bc(),_.da)alert("todo:use_scaling");else{if(W){if(N.Ib=pe,_.Kb){if($=_.U+1>>1,N.memory=a(_.U+2*$),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+_.U,N.Mc=N.cc,N.Nc=N.dc+$,N.Ib=Ne,bc()}}else alert("todo:EmitYUV");ee&&(N.Jb=at,W&&Ao())}if(W&&!Li){for(_=0;256>_;++_)ya[_]=89858*(_-128)+ko>>$s,xa[_]=-22014*(_-128)+ko,Wu[_]=-45773*(_-128),Ic[_]=113618*(_-128)+ko>>$s;for(_=er;_<ir;++_)N=76283*(_-16)+ko>>$s,qh[_-er]=ii(N,255),r0[_-er]=ii(N+8>>4,15);Li=1}return 1}function dt(_){var N=_.ma,$=_.U,W=_.T;return t(!(1&_.ka)),0>=$||0>=W?0:($=N.Ib(_,N),N.Jb!=null&&N.Jb(_,N,$),N.Dc+=$,1)}function An(_){_.ma.memory=null}function Tr(_,N,$,W){return H(_,8)!=47?0:(N[0]=H(_,14)+1,$[0]=H(_,14)+1,W[0]=H(_,1),H(_,3)!=0?0:!_.h)}function $n(_,N){if(4>_)return _+1;var $=_-2>>1;return(2+(1&_)<<$)+H(N,$)+1}function Zn(_,N){return 120<N?N-120:1<=($=(($=ub[N-1])>>4)*_+(8-(15&$)))?$:1;var $}function Fn(_,N,$){var W=J($),ee=_[N+=255&W].g-8;return 0<ee&&(oe($,$.u+8),W=J($),N+=_[N].value,N+=W&(1<<ee)-1),oe($,$.u+_[N].g),_[N].value}function Wn(_,N,$){return $.g+=_.g,$.value+=_.value<<N>>>0,t(8>=$.g),_.g}function Sr(_,N,$){var W=_.xc;return t((N=W==0?0:_.vc[_.md*($>>W)+(N>>W)])<_.Wb),_.Ya[N]}function Yo(_,N,$,W){var ee=_.ab,ie=_.c*N,ae=_.C;N=ae+N;var ce=$,ue=W;for(W=_.Ta,$=_.Ua;0<ee--;){var he=_.gc[ee],Ae=ae,Re=N,me=ce,ke=ue,Ie=(ue=W,ce=$,he.Ea);switch(t(Ae<Re),t(Re<=he.nc),he.hc){case 2:Jr(me,ke,(Re-Ae)*Ie,ue,ce);break;case 0:var Ge=Ae,ze=Re,Ue=ue,Ve=ce,Qe=(Ft=he).Ea;Ge==0&&(Ms(me,ke,null,null,1,Ue,Ve),vt(me,ke+1,0,0,Qe-1,Ue,Ve+1),ke+=Qe,Ve+=Qe,++Ge);for(var Je=1<<Ft.b,Xt=Je-1,Tt=Be(Qe,Ft.b),wn=Ft.K,Ft=Ft.w+(Ge>>Ft.b)*Tt;Ge<ze;){var Dn=wn,Hr=Ft,jn=1;for(is(me,ke,Ue,Ve-Qe,1,Ue,Ve);jn<Qe;){var Dt=(jn&~Xt)+Je;Dt>Qe&&(Dt=Qe),(0,Ac[Dn[Hr++]>>8&15])(me,ke+ +jn,Ue,Ve+jn-Qe,Dt-jn,Ue,Ve+jn),jn=Dt}ke+=Qe,Ve+=Qe,++Ge&Xt||(Ft+=Tt)}Re!=he.nc&&r(ue,ce-Ie,ue,ce+(Re-Ae-1)*Ie,Ie);break;case 1:for(Ie=me,ze=ke,Qe=(me=he.Ea)-(Ve=me&~(Ue=(ke=1<<he.b)-1)),Ge=Be(me,he.b),Je=he.K,he=he.w+(Ae>>he.b)*Ge;Ae<Re;){for(Xt=Je,Tt=he,wn=new st,Ft=ze+Ve,Dn=ze+me;ze<Ft;)ut(Xt[Tt++],wn),Ru(wn,Ie,ze,ke,ue,ce),ze+=ke,ce+=ke;ze<Dn&&(ut(Xt[Tt++],wn),Ru(wn,Ie,ze,Qe,ue,ce),ze+=Qe,ce+=Qe),++Ae&Ue||(he+=Ge)}break;case 3:if(me==ue&&ke==ce&&0<he.b){for(ze=ue,me=Ie=ce+(Re-Ae)*Ie-(Ve=(Re-Ae)*Be(he.Ea,he.b)),ke=ue,Ue=ce,Ge=[],Ve=(Qe=Ve)-1;0<=Ve;--Ve)Ge[Ve]=ke[Ue+Ve];for(Ve=Qe-1;0<=Ve;--Ve)ze[me+Ve]=Ge[Ve];Sc(he,Ae,Re,ue,Ie,ue,ce)}else Sc(he,Ae,Re,me,ke,ue,ce)}ce=W,ue=$}ue!=$&&r(W,$,ce,ue,ie)}function ka(_,N){var $=_.V,W=_.Ba+_.c*_.C,ee=N-_.C;if(t(N<=_.l.o),t(16>=ee),0<ee){var ie=_.l,ae=_.Ta,ce=_.Ua,ue=ie.width;if(Yo(_,ee,$,W),ee=ce=[ce],t(($=_.C)<(W=N)),t(ie.v<ie.va),W>ie.o&&(W=ie.o),$<ie.j){var he=ie.j-$;$=ie.j,ee[0]+=he*ue}if($>=W?$=0:(ee[0]+=4*ie.v,ie.ka=$-ie.j,ie.U=ie.va-ie.v,ie.T=W-$,$=1),$){if(ce=ce[0],11>($=_.ca).S){var Ae=$.f.RGBA,Re=(W=$.S,ee=ie.U,ie=ie.T,he=Ae.eb,Ae.A),me=ie;for(Ae=Ae.fb+_.Ma*Ae.A;0<me--;){var ke=ae,Ie=ce,Ge=ee,ze=he,Ue=Ae;switch(W){case Mh:Mu(ke,Ie,Ge,ze,Ue);break;case Cl:zs(ke,Ie,Ge,ze,Ue);break;case qu:zs(ke,Ie,Ge,ze,Ue),kc(ze,Ue,0,Ge,1,0);break;case Jv:Cc(ke,Ie,Ge,ze,Ue);break;case sf:Vt(ke,Ie,Ge,ze,Ue,1);break;case Oc:Vt(ke,Ie,Ge,ze,Ue,1),kc(ze,Ue,0,Ge,1,0);break;case lf:Vt(ke,Ie,Ge,ze,Ue,0);break;case cf:Vt(ke,Ie,Ge,ze,Ue,0),kc(ze,Ue,1,Ge,1,0);break;case cr:Sl(ke,Ie,Ge,ze,Ue);break;case uf:Sl(ke,Ie,Ge,ze,Ue),zm(ze,Ue,Ge,1,0);break;case zh:Nl(ke,Ie,Ge,ze,Ue);break;default:t(0)}ce+=ue,Ae+=Re}_.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");t(_.Ma<=$.height)}}_.C=N,t(_.C<=_.i)}function _o(_){var N;if(0<_.ua)return 0;for(N=0;N<_.Wb;++N){var $=_.Ya[N].G,W=_.Ya[N].H;if(0<$[1][W[1]+0].g||0<$[2][W[2]+0].g||0<$[3][W[3]+0].g)return 0}return 1}function Xo(_,N,$,W,ee,ie){if(_.Z!=0){var ae=_.qd,ce=_.rd;for(t(Hi[_.Z]!=null);N<$;++N)Hi[_.Z](ae,ce,W,ee,W,ee,ie),ae=W,ce=ee,ee+=ie;_.qd=ae,_.rd=ce}}function Oi(_,N){var $=_.l.ma,W=$.Z==0||$.Z==1?_.l.j:_.C;if(W=_.C<W?W:_.C,t(N<=_.l.o),N>W){var ee=_.l.width,ie=$.ca,ae=$.tb+ee*W,ce=_.V,ue=_.Ba+_.c*W,he=_.gc;t(_.ab==1),t(he[0].hc==3),Po(he[0],W,N,ce,ue,ie,ae),Xo($,W,N,ie,ae,ee)}_.C=_.Ma=N}function Ya(_,N,$,W,ee,ie,ae){var ce=_.$/W,ue=_.$%W,he=_.m,Ae=_.s,Re=$+_.$,me=Re;ee=$+W*ee;var ke=$+W*ie,Ie=280+Ae.ua,Ge=_.Pb?ce:16777216,ze=0<Ae.ua?Ae.Wa:null,Ue=Ae.wc,Ve=Re<ke?Sr(Ae,ue,ce):null;t(_.C<ie),t(ke<=ee);var Qe=!1;e:for(;;){for(;Qe||Re<ke;){var Je=0;if(ce>=Ge){var Xt=Re-$;t((Ge=_).Pb),Ge.wd=Ge.m,Ge.xd=Xt,0<Ge.s.ua&&Ke(Ge.s.Wa,Ge.s.vb),Ge=ce+$h}if(ue&Ue||(Ve=Sr(Ae,ue,ce)),t(Ve!=null),Ve.Qb&&(N[Re]=Ve.qb,Qe=!0),!Qe)if(se(he),Ve.jc){Je=he,Xt=N;var Tt=Re,wn=Ve.pd[J(Je)&no-1];t(Ve.jc),256>wn.g?(oe(Je,Je.u+wn.g),Xt[Tt]=wn.value,Je=0):(oe(Je,Je.u+wn.g-256),t(256<=wn.value),Je=wn.value),Je==0&&(Qe=!0)}else Je=Fn(Ve.G[0],Ve.H[0],he);if(he.h)break;if(Qe||256>Je){if(!Qe)if(Ve.nd)N[Re]=(Ve.qb|Je<<8)>>>0;else{if(se(he),Qe=Fn(Ve.G[1],Ve.H[1],he),se(he),Xt=Fn(Ve.G[2],Ve.H[2],he),Tt=Fn(Ve.G[3],Ve.H[3],he),he.h)break;N[Re]=(Tt<<24|Qe<<16|Je<<8|Xt)>>>0}if(Qe=!1,++Re,++ue>=W&&(ue=0,++ce,ae!=null&&ce<=ie&&!(ce%16)&&ae(_,ce),ze!=null))for(;me<Re;)Je=N[me++],ze.X[(506832829*Je&4294967295)>>>ze.Mb]=Je}else if(280>Je){if(Je=$n(Je-256,he),Xt=Fn(Ve.G[4],Ve.H[4],he),se(he),Xt=Zn(W,Xt=$n(Xt,he)),he.h)break;if(Re-$<Xt||ee-Re<Je)break e;for(Tt=0;Tt<Je;++Tt)N[Re+Tt]=N[Re+Tt-Xt];for(Re+=Je,ue+=Je;ue>=W;)ue-=W,++ce,ae!=null&&ce<=ie&&!(ce%16)&&ae(_,ce);if(t(Re<=ee),ue&Ue&&(Ve=Sr(Ae,ue,ce)),ze!=null)for(;me<Re;)Je=N[me++],ze.X[(506832829*Je&4294967295)>>>ze.Mb]=Je}else{if(!(Je<Ie))break e;for(Qe=Je-280,t(ze!=null);me<Re;)Je=N[me++],ze.X[(506832829*Je&4294967295)>>>ze.Mb]=Je;Je=Re,t(!(Qe>>>(Xt=ze).Xa)),N[Je]=Xt.X[Qe],Qe=!0}Qe||t(he.h==Z(he))}if(_.Pb&&he.h&&Re<ee)t(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&Ke(_.s.vb,_.s.Wa);else{if(he.h)break e;ae!=null&&ae(_,ce>ie?ie:ce),_.a=0,_.$=Re-$}return 1}return _.a=3,0}function Oa(_){t(_!=null),_.vc=null,_.yc=null,_.Ya=null;var N=_.Wa;N!=null&&(N.X=null),_.vb=null,t(_!=null)}function oc(){var _=new gn;return _==null?null:(_.a=0,_.xb=Uu,Nn("Predictor","VP8LPredictors"),Nn("Predictor","VP8LPredictors_C"),Nn("PredictorAdd","VP8LPredictorsAdd"),Nn("PredictorAdd","VP8LPredictorsAdd_C"),Jr=jt,Ru=St,Mu=_n,zs=pn,Sl=un,Nl=mn,Cc=Un,F.VP8LMapColor32b=as,F.VP8LMapColor8b=Nc,_)}function jo(_,N,$,W,ee){var ie=1,ae=[_],ce=[N],ue=W.m,he=W.s,Ae=null,Re=0;e:for(;;){if($)for(;ie&&H(ue,1);){var me=ae,ke=ce,Ie=W,Ge=1,ze=Ie.m,Ue=Ie.gc[Ie.ab],Ve=H(ze,2);if(Ie.Oc&1<<Ve)ie=0;else{switch(Ie.Oc|=1<<Ve,Ue.hc=Ve,Ue.Ea=me[0],Ue.nc=ke[0],Ue.K=[null],++Ie.ab,t(4>=Ie.ab),Ve){case 0:case 1:Ue.b=H(ze,3)+2,Ge=jo(Be(Ue.Ea,Ue.b),Be(Ue.nc,Ue.b),0,Ie,Ue.K),Ue.K=Ue.K[0];break;case 3:var Qe,Je=H(ze,8)+1,Xt=16<Je?0:4<Je?1:2<Je?2:3;if(me[0]=Be(Ue.Ea,Xt),Ue.b=Xt,Qe=Ge=jo(Je,1,0,Ie,Ue.K)){var Tt,wn=Je,Ft=Ue,Dn=1<<(8>>Ft.b),Hr=a(Dn);if(Hr==null)Qe=0;else{var jn=Ft.K[0],Dt=Ft.w;for(Hr[0]=Ft.K[0][0],Tt=1;Tt<1*wn;++Tt)Hr[Tt]=Nt(jn[Dt+Tt],Hr[Tt-1]);for(;Tt<4*Dn;++Tt)Hr[Tt]=0;Ft.K[0]=null,Ft.K[0]=Hr,Qe=1}}Ge=Qe;break;case 2:break;default:t(0)}ie=Ge}}if(ae=ae[0],ce=ce[0],ie&&H(ue,1)&&!(ie=1<=(Re=H(ue,4))&&11>=Re)){W.a=3;break e}var ht;if(ht=ie)t:{var Zr,hn,On,yr=W,Ni=ae,li=ce,zr=Re,yi=$,Ai=yr.m,Dr=yr.s,Rn=[null],Gn=1,Lr=0,Kn=e0[zr];n:for(;;){if(yi&&H(Ai,1)){var Wr=H(Ai,3)+2,Vr=Be(Ni,Wr),ur=Be(li,Wr),Wi=Vr*ur;if(!jo(Vr,ur,0,yr,Rn))break n;for(Rn=Rn[0],Dr.xc=Wr,Zr=0;Zr<Wi;++Zr){var ar=Rn[Zr]>>8&65535;Rn[Zr]=ar,ar>=Gn&&(Gn=ar+1)}}if(Ai.h)break n;for(hn=0;5>hn;++hn){var dr=Tc[hn];!hn&&0<zr&&(dr+=1<<zr),Lr<dr&&(Lr=dr)}var ci=s(Gn*Kn,B),Ii=Gn,ba=s(Ii,M);if(ba==null)var ei=null;else t(65536>=Ii),ei=ba;var ti=a(Lr);if(ei==null||ti==null||ci==null){yr.a=1;break n}var Vi=ci;for(Zr=On=0;Zr<Gn;++Zr){var fr=ei[Zr],Gi=fr.G,ao=fr.H,Oo=0,Ci=1,ni=0;for(hn=0;5>hn;++hn){dr=Tc[hn],Gi[hn]=Vi,ao[hn]=On,!hn&&0<zr&&(dr+=1<<zr);i:{var kl,Bs=dr,Vu=yr,ls=ti,a0=Vi,Xm=On,Ar=0,To=Vu.m,Qm=H(To,1);if(i(ls,0,0,Bs),Qm){var Jm=H(To,1)+1,Bh=H(To,1),Uh=H(To,Bh==0?1:8);ls[Uh]=1,Jm==2&&(ls[Uh=H(To,8)]=1);var cs=1}else{var Ir=a(19),ui=H(To,4)+4;if(19<ui){Vu.a=3;var ri=0;break i}for(kl=0;kl<ui;++kl)Ir[cb[kl]]=H(To,3);var Gu=void 0,Us=void 0,Ku=Vu,mb=Ir,xi=Bs,Hh=ls,mf=0,us=Ku.m,Do=8,Fa=s(128,B);r:for(;k(Fa,0,7,mb,19);){if(H(us,1)){var gf=2+2*H(us,3);if((Gu=2+H(us,gf))>xi)break r}else Gu=xi;for(Us=0;Us<xi&&Gu--;){se(us);var Wh=Fa[0+(127&J(us))];oe(us,us.u+Wh.g);var Ol=Wh.value;if(16>Ol)Hh[Us++]=Ol,Ol!=0&&(Do=Ol);else{var o0=Ol==16,Zm=Ol-16,s0=Fh[Zm],eg=H(us,df[Zm])+s0;if(Us+eg>xi)break r;for(var l0=o0?Do:0;0<eg--;)Hh[Us++]=l0}}mf=1;break r}mf||(Ku.a=3),cs=mf}(cs=cs&&!To.h)&&(Ar=k(a0,Xm,8,ls,Bs)),cs&&Ar!=0?ri=Ar:(Vu.a=3,ri=0)}if(ri==0)break n;if(Ci&&Zv[hn]==1&&(Ci=Vi[On].g==0),Oo+=Vi[On].g,On+=ri,3>=hn){var Yu,Vh=ti[0];for(Yu=1;Yu<dr;++Yu)ti[Yu]>Vh&&(Vh=ti[Yu]);ni+=Vh}}if(fr.nd=Ci,fr.Qb=0,Ci&&(fr.qb=(Gi[3][ao[3]+0].value<<24|Gi[1][ao[1]+0].value<<16|Gi[2][ao[2]+0].value)>>>0,Oo==0&&256>Gi[0][ao[0]+0].value&&(fr.Qb=1,fr.qb+=Gi[0][ao[0]+0].value<<8)),fr.jc=!fr.Qb&&6>ni,fr.jc){var vf,$a=fr;for(vf=0;vf<no;++vf){var Hs=vf,Lo=$a.pd[Hs],Mc=$a.G[0][$a.H[0]+Hs];256<=Mc.value?(Lo.g=Mc.g+256,Lo.value=Mc.value):(Lo.g=0,Lo.value=0,Hs>>=Wn(Mc,8,Lo),Hs>>=Wn($a.G[1][$a.H[1]+Hs],16,Lo),Hs>>=Wn($a.G[2][$a.H[2]+Hs],0,Lo),Wn($a.G[3][$a.H[3]+Hs],24,Lo))}}}Dr.vc=Rn,Dr.Wb=Gn,Dr.Ya=ei,Dr.yc=ci,ht=1;break t}ht=0}if(!(ie=ht)){W.a=3;break e}if(0<Re){if(he.ua=1<<Re,!le(he.Wa,Re)){W.a=1,ie=0;break e}}else he.ua=0;var Gh=W,Kh=ae,c0=ce,Yh=Gh.s,Xh=Yh.xc;if(Gh.c=Kh,Gh.i=c0,Yh.md=Be(Kh,Xh),Yh.wc=Xh==0?-1:(1<<Xh)-1,$){W.xb=ss;break e}if((Ae=a(ae*ce))==null){W.a=1,ie=0;break e}ie=(ie=Ya(W,Ae,0,ae,ce,ce,null))&&!ue.h;break e}return ie?(ee!=null?ee[0]=Ae:(t(Ae==null),t($)),W.$=0,$||Oa(he)):Oa(he),ie}function ml(_,N){var $=_.c*_.i,W=$+N+16*N;return t(_.c<=N),_.V=a(W),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+$+N,1)}function sc(_,N){var $=_.C,W=N-$,ee=_.V,ie=_.Ba+_.c*$;for(t(N<=_.l.o);0<W;){var ae=16<W?16:W,ce=_.l.ma,ue=_.l.width,he=ue*ae,Ae=ce.ca,Re=ce.tb+ue*$,me=_.Ta,ke=_.Ua;Yo(_,ae,ee,ie),Fm(me,ke,Ae,Re,he),Xo(ce,$,$+ae,Ae,Re,ue),W-=ae,ee+=ae*_.c,$+=ae}t($==N),_.C=_.Ma=N}function lc(){this.ub=this.yd=this.td=this.Rb=0}function _u(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Lm(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Nr(){this.Yb=(function(){var _=[];return(function N($,W,ee){for(var ie=ee[W],ae=0;ae<ie&&($.push(ee.length>W+1?[]:0),!(ee.length<W+1));ae++)N($[ae],W+1,ee)})(_,0,[3,11]),_})()}function Ch(){this.jb=a(3),this.Wc=l([4,8],Nr),this.Xc=l([4,17],Nr)}function ju(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Ta(){this.ld=this.La=this.dd=this.tc=0}function gl(){this.Na=this.la=0}function Ph(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Su(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function cc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ta),this.Y=0,this.ya=Array(new Su),this.aa=0,this.l=new Nu}function Da(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Eh(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new lc,this.Kc=new _u,this.ed=new ju,this.Qa=new Lm,this.Ic=this.$c=this.Aa=0,this.D=new cc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,T),this.ia=0,this.pb=s(4,Ph),this.Pa=new Ch,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Da),this.Hd=0,this.rb=Array(new gl),this.sb=0,this.wa=Array(new Ta),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Su),this.L=this.aa=0,this.gd=l([4,2],Ta),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ii(_,N){return 0>_?0:_>N?N:_}function Nu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Im(){var _=new Eh;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,Dc||(Dc=Qo)),_}function ai(_,N,$){return _.a==0&&(_.a=N,_.sc=$,_.cb=0),0}function uc(_,N,$){return 3<=$&&_[N+0]==157&&_[N+1]==1&&_[N+2]==42}function La(_,N){if(_==null)return 0;if(_.a=0,_.sc="OK",N==null)return ai(_,2,"null VP8Io passed to VP8GetHeaders()");var $=N.data,W=N.w,ee=N.ha;if(4>ee)return ai(_,7,"Truncated header.");var ie=$[W+0]|$[W+1]<<8|$[W+2]<<16,ae=_.Od;if(ae.Rb=!(1&ie),ae.td=ie>>1&7,ae.yd=ie>>4&1,ae.ub=ie>>5,3<ae.td)return ai(_,3,"Incorrect keyframe parameters.");if(!ae.yd)return ai(_,4,"Frame not displayable.");W+=3,ee-=3;var ce=_.Kc;if(ae.Rb){if(7>ee)return ai(_,7,"cannot parse picture header");if(!uc($,W,ee))return ai(_,3,"Bad code word");ce.c=16383&($[W+4]<<8|$[W+3]),ce.Td=$[W+4]>>6,ce.i=16383&($[W+6]<<8|$[W+5]),ce.Ud=$[W+6]>>6,W+=7,ee-=7,_.za=ce.c+15>>4,_.Ub=ce.i+15>>4,N.width=ce.c,N.height=ce.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,i((ie=_.Pa).jb,0,255,ie.jb.length),t((ie=_.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,i(ie.Zb,0,0,ie.Zb.length),i(ie.Lb,0,0,ie.Lb)}if(ae.ub>ee)return ai(_,7,"bad partition length");X(ie=_.m,$,W,ae.ub),W+=ae.ub,ee-=ae.ub,ae.Rb&&(ce.Ld=de(ie),ce.Kd=de(ie)),ce=_.Qa;var ue,he=_.Pa;if(t(ie!=null),t(ce!=null),ce.Cb=de(ie),ce.Cb){if(ce.Bb=de(ie),de(ie)){for(ce.Fb=de(ie),ue=0;4>ue;++ue)ce.Zb[ue]=de(ie)?K(ie,7):0;for(ue=0;4>ue;++ue)ce.Lb[ue]=de(ie)?K(ie,6):0}if(ce.Bb)for(ue=0;3>ue;++ue)he.jb[ue]=de(ie)?Q(ie,8):255}else ce.Bb=0;if(ie.Ka)return ai(_,3,"cannot parse segment header");if((ce=_.ed).zd=de(ie),ce.Tb=Q(ie,6),ce.wb=Q(ie,3),ce.Pc=de(ie),ce.Pc&&de(ie)){for(he=0;4>he;++he)de(ie)&&(ce.vd[he]=K(ie,6));for(he=0;4>he;++he)de(ie)&&(ce.od[he]=K(ie,6))}if(_.L=ce.Tb==0?0:ce.zd?1:2,ie.Ka)return ai(_,3,"cannot parse filter header");var Ae=ee;if(ee=ue=W,W=ue+Ae,ce=Ae,_.Xb=(1<<Q(_.m,2))-1,Ae<3*(he=_.Xb))$=7;else{for(ue+=3*he,ce-=3*he,Ae=0;Ae<he;++Ae){var Re=$[ee+0]|$[ee+1]<<8|$[ee+2]<<16;Re>ce&&(Re=ce),X(_.Jc[+Ae],$,ue,Re),ue+=Re,ce-=Re,ee+=3}X(_.Jc[+he],$,ue,ce),$=ue<W?0:5}if($!=0)return ai(_,$,"cannot parse partitions");for($=Q(ue=_.m,7),ee=de(ue)?K(ue,4):0,W=de(ue)?K(ue,4):0,ce=de(ue)?K(ue,4):0,he=de(ue)?K(ue,4):0,ue=de(ue)?K(ue,4):0,Ae=_.Qa,Re=0;4>Re;++Re){if(Ae.Cb){var me=Ae.Zb[Re];Ae.Fb||(me+=$)}else{if(0<Re){_.pb[Re]=_.pb[0];continue}me=$}var ke=_.pb[Re];ke.Sc[0]=Bu[ii(me+ee,127)],ke.Sc[1]=ff[ii(me+0,127)],ke.Eb[0]=2*Bu[ii(me+W,127)],ke.Eb[1]=101581*ff[ii(me+ce,127)]>>16,8>ke.Eb[1]&&(ke.Eb[1]=8),ke.Qc[0]=Bu[ii(me+he,117)],ke.Qc[1]=ff[ii(me+ue,127)],ke.lc=me+ue}if(!ae.Rb)return ai(_,4,"Not a key frame.");for(de(ie),ae=_.Pa,$=0;4>$;++$){for(ee=0;8>ee;++ee)for(W=0;3>W;++W)for(ce=0;11>ce;++ce)he=be(ie,fb[$][ee][W][ce])?Q(ie,8):n0[$][ee][W][ce],ae.Wc[$][ee].Yb[W][ce]=he;for(ee=0;17>ee;++ee)ae.Xc[$][ee]=ae.Wc[$][Gm[ee]]}return _.kc=de(ie),_.kc&&(_.Bd=Q(ie,8)),_.cb=1}function Qo(_,N,$,W,ee,ie,ae){var ce=N[ee].Yb[$];for($=0;16>ee;++ee){if(!be(_,ce[$+0]))return ee;for(;!be(_,ce[$+1]);)if(ce=N[++ee].Yb[0],$=0,ee==16)return 16;var ue=N[ee+1].Yb;if(be(_,ce[$+2])){var he=_,Ae=0;if(be(he,(me=ce)[(Re=$)+3]))if(be(he,me[Re+6])){for(ce=0,Re=2*(Ae=be(he,me[Re+8]))+(me=be(he,me[Re+9+Ae])),Ae=0,me=Wm[Re];me[ce];++ce)Ae+=Ae+be(he,me[ce]);Ae+=3+(8<<Re)}else be(he,me[Re+7])?(Ae=7+2*be(he,165),Ae+=be(he,145)):Ae=5+be(he,159);else Ae=be(he,me[Re+4])?3+be(he,me[Re+5]):2;ce=ue[2]}else Ae=1,ce=ue[1];ue=ae+Vm[ee],0>(he=_).b&&fe(he);var Re,me=he.b,ke=(Re=he.Ca>>1)-(he.I>>me)>>31;--he.b,he.Ca+=ke,he.Ca|=1,he.I-=(Re+1&ke)<<me,ie[ue]=((Ae^ke)-ke)*W[(0<ee)+0]}return 16}function dc(_){var N=_.rb[_.sb-1];N.la=0,N.Na=0,i(_.zc,0,0,_.zc.length),_.ja=0}function Xa(_,N,$,W,ee){ee=_[N+$+32*W]+(ee>>3),_[N+$+32*W]=-256&ee?0>ee?0:255:ee}function gi(_,N,$,W,ee,ie){Xa(_,N,0,$,W+ee),Xa(_,N,1,$,W+ie),Xa(_,N,2,$,W-ie),Xa(_,N,3,$,W-ee)}function So(_){return(20091*_>>16)+_}function Kd(_,N,$,W){var ee,ie=0,ae=a(16);for(ee=0;4>ee;++ee){var ce=_[N+0]+_[N+8],ue=_[N+0]-_[N+8],he=(35468*_[N+4]>>16)-So(_[N+12]),Ae=So(_[N+4])+(35468*_[N+12]>>16);ae[ie+0]=ce+Ae,ae[ie+1]=ue+he,ae[ie+2]=ue-he,ae[ie+3]=ce-Ae,ie+=4,N++}for(ee=ie=0;4>ee;++ee)ce=(_=ae[ie+0]+4)+ae[ie+8],ue=_-ae[ie+8],he=(35468*ae[ie+4]>>16)-So(ae[ie+12]),Xa($,W,0,0,ce+(Ae=So(ae[ie+4])+(35468*ae[ie+12]>>16))),Xa($,W,1,0,ue+he),Xa($,W,2,0,ue-he),Xa($,W,3,0,ce-Ae),ie++,W+=32}function Yd(_,N,$,W){var ee=_[N+0]+4,ie=35468*_[N+4]>>16,ae=So(_[N+4]),ce=35468*_[N+1]>>16;gi($,W,0,ee+ae,_=So(_[N+1]),ce),gi($,W,1,ee+ie,_,ce),gi($,W,2,ee-ie,_,ce),gi($,W,3,ee-ae,_,ce)}function fc(_,N,$,W,ee){Kd(_,N,$,W),ee&&Kd(_,N+16,$,W+4)}function Jo(_,N,$,W){Pc(_,N+0,$,W,1),Pc(_,N+32,$,W+128,1)}function Au(_,N,$,W){var ee;for(_=_[N+0]+4,ee=0;4>ee;++ee)for(N=0;4>N;++N)Xa($,W,N,ee,_)}function Hn(_,N,$,W){_[N+0]&&Vn(_,N+0,$,W),_[N+16]&&Vn(_,N+16,$,W+4),_[N+32]&&Vn(_,N+32,$,W+128),_[N+48]&&Vn(_,N+48,$,W+128+4)}function hc(_,N,$,W){var ee,ie=a(16);for(ee=0;4>ee;++ee){var ae=_[N+0+ee]+_[N+12+ee],ce=_[N+4+ee]+_[N+8+ee],ue=_[N+4+ee]-_[N+8+ee],he=_[N+0+ee]-_[N+12+ee];ie[0+ee]=ae+ce,ie[8+ee]=ae-ce,ie[4+ee]=he+ue,ie[12+ee]=he-ue}for(ee=0;4>ee;++ee)ae=(_=ie[0+4*ee]+3)+ie[3+4*ee],ce=ie[1+4*ee]+ie[2+4*ee],ue=ie[1+4*ee]-ie[2+4*ee],he=_-ie[3+4*ee],$[W+0]=ae+ce>>3,$[W+16]=he+ue>>3,$[W+32]=ae-ce>>3,$[W+48]=he-ue>>3,W+=64}function vl(_,N,$){var W,ee=N-32,ie=aa,ae=255-_[ee-1];for(W=0;W<$;++W){var ce,ue=ie,he=ae+_[N-1];for(ce=0;ce<$;++ce)_[N+ce]=ue[he+_[ee+ce]];N+=32}}function Xd(_,N){vl(_,N,4)}function kh(_,N){vl(_,N,8)}function Oh(_,N){vl(_,N,16)}function Cu(_,N){var $;for($=0;16>$;++$)r(_,N+32*$,_,N-32,16)}function Pu(_,N){var $;for($=16;0<$;--$)i(_,N,_[N-1],16),N+=32}function fa(_,N,$){var W;for(W=0;16>W;++W)i(N,$+32*W,_,16)}function Zo(_,N){var $,W=16;for($=0;16>$;++$)W+=_[N-1+32*$]+_[N+$-32];fa(W>>5,_,N)}function ha(_,N){var $,W=8;for($=0;16>$;++$)W+=_[N-1+32*$];fa(W>>4,_,N)}function Qa(_,N){var $,W=8;for($=0;16>$;++$)W+=_[N+$-32];fa(W>>4,_,N)}function pc(_,N){fa(128,_,N)}function dn(_,N,$){return _+2*N+$+2>>2}function es(_,N){var $,W=N-32;for(W=new Uint8Array([dn(_[W-1],_[W+0],_[W+1]),dn(_[W+0],_[W+1],_[W+2]),dn(_[W+1],_[W+2],_[W+3]),dn(_[W+2],_[W+3],_[W+4])]),$=0;4>$;++$)r(_,N+32*$,W,0,W.length)}function Rm(_,N){var $=_[N-1],W=_[N-1+32],ee=_[N-1+64],ie=_[N-1+96];Ee(_,N+0,16843009*dn(_[N-1-32],$,W)),Ee(_,N+32,16843009*dn($,W,ee)),Ee(_,N+64,16843009*dn(W,ee,ie)),Ee(_,N+96,16843009*dn(ee,ie,ie))}function Th(_,N){var $,W=4;for($=0;4>$;++$)W+=_[N+$-32]+_[N-1+32*$];for(W>>=3,$=0;4>$;++$)i(_,N+32*$,W,4)}function Ia(_,N){var $=_[N-1+0],W=_[N-1+32],ee=_[N-1+64],ie=_[N-1-32],ae=_[N+0-32],ce=_[N+1-32],ue=_[N+2-32],he=_[N+3-32];_[N+0+96]=dn(W,ee,_[N-1+96]),_[N+1+96]=_[N+0+64]=dn($,W,ee),_[N+2+96]=_[N+1+64]=_[N+0+32]=dn(ie,$,W),_[N+3+96]=_[N+2+64]=_[N+1+32]=_[N+0+0]=dn(ae,ie,$),_[N+3+64]=_[N+2+32]=_[N+1+0]=dn(ce,ae,ie),_[N+3+32]=_[N+2+0]=dn(ue,ce,ae),_[N+3+0]=dn(he,ue,ce)}function Os(_,N){var $=_[N+1-32],W=_[N+2-32],ee=_[N+3-32],ie=_[N+4-32],ae=_[N+5-32],ce=_[N+6-32],ue=_[N+7-32];_[N+0+0]=dn(_[N+0-32],$,W),_[N+1+0]=_[N+0+32]=dn($,W,ee),_[N+2+0]=_[N+1+32]=_[N+0+64]=dn(W,ee,ie),_[N+3+0]=_[N+2+32]=_[N+1+64]=_[N+0+96]=dn(ee,ie,ae),_[N+3+32]=_[N+2+64]=_[N+1+96]=dn(ie,ae,ce),_[N+3+64]=_[N+2+96]=dn(ae,ce,ue),_[N+3+96]=dn(ce,ue,ue)}function Dh(_,N){var $=_[N-1+0],W=_[N-1+32],ee=_[N-1+64],ie=_[N-1-32],ae=_[N+0-32],ce=_[N+1-32],ue=_[N+2-32],he=_[N+3-32];_[N+0+0]=_[N+1+64]=ie+ae+1>>1,_[N+1+0]=_[N+2+64]=ae+ce+1>>1,_[N+2+0]=_[N+3+64]=ce+ue+1>>1,_[N+3+0]=ue+he+1>>1,_[N+0+96]=dn(ee,W,$),_[N+0+64]=dn(W,$,ie),_[N+0+32]=_[N+1+96]=dn($,ie,ae),_[N+1+32]=_[N+2+96]=dn(ie,ae,ce),_[N+2+32]=_[N+3+96]=dn(ae,ce,ue),_[N+3+32]=dn(ce,ue,he)}function Eu(_,N){var $=_[N+0-32],W=_[N+1-32],ee=_[N+2-32],ie=_[N+3-32],ae=_[N+4-32],ce=_[N+5-32],ue=_[N+6-32],he=_[N+7-32];_[N+0+0]=$+W+1>>1,_[N+1+0]=_[N+0+64]=W+ee+1>>1,_[N+2+0]=_[N+1+64]=ee+ie+1>>1,_[N+3+0]=_[N+2+64]=ie+ae+1>>1,_[N+0+32]=dn($,W,ee),_[N+1+32]=_[N+0+96]=dn(W,ee,ie),_[N+2+32]=_[N+1+96]=dn(ee,ie,ae),_[N+3+32]=_[N+2+96]=dn(ie,ae,ce),_[N+3+64]=dn(ae,ce,ue),_[N+3+96]=dn(ce,ue,he)}function mc(_,N){var $=_[N-1+0],W=_[N-1+32],ee=_[N-1+64],ie=_[N-1+96];_[N+0+0]=$+W+1>>1,_[N+2+0]=_[N+0+32]=W+ee+1>>1,_[N+2+32]=_[N+0+64]=ee+ie+1>>1,_[N+1+0]=dn($,W,ee),_[N+3+0]=_[N+1+32]=dn(W,ee,ie),_[N+3+32]=_[N+1+64]=dn(ee,ie,ie),_[N+3+64]=_[N+2+64]=_[N+0+96]=_[N+1+96]=_[N+2+96]=_[N+3+96]=ie}function Qd(_,N){var $=_[N-1+0],W=_[N-1+32],ee=_[N-1+64],ie=_[N-1+96],ae=_[N-1-32],ce=_[N+0-32],ue=_[N+1-32],he=_[N+2-32];_[N+0+0]=_[N+2+32]=$+ae+1>>1,_[N+0+32]=_[N+2+64]=W+$+1>>1,_[N+0+64]=_[N+2+96]=ee+W+1>>1,_[N+0+96]=ie+ee+1>>1,_[N+3+0]=dn(ce,ue,he),_[N+2+0]=dn(ae,ce,ue),_[N+1+0]=_[N+3+32]=dn($,ae,ce),_[N+1+32]=_[N+3+64]=dn(W,$,ae),_[N+1+64]=_[N+3+96]=dn(ee,W,$),_[N+1+96]=dn(ie,ee,W)}function No(_,N){var $;for($=0;8>$;++$)r(_,N+32*$,_,N-32,8)}function gc(_,N){var $;for($=0;8>$;++$)i(_,N,_[N-1],8),N+=32}function pa(_,N,$){var W;for(W=0;8>W;++W)i(N,$+32*W,_,8)}function ku(_,N){var $,W=8;for($=0;8>$;++$)W+=_[N+$-32]+_[N-1+32*$];pa(W>>4,_,N)}function Jd(_,N){var $,W=4;for($=0;8>$;++$)W+=_[N+$-32];pa(W>>3,_,N)}function Zd(_,N){var $,W=4;for($=0;8>$;++$)W+=_[N-1+32*$];pa(W>>3,_,N)}function Ou(_,N){pa(128,_,N)}function Ja(_,N,$){var W=_[N-$],ee=_[N+0],ie=3*(ee-W)+os[1020+_[N-2*$]-_[N+$]],ae=$u[112+(ie+4>>3)];_[N-$]=aa[255+W+$u[112+(ie+3>>3)]],_[N+0]=aa[255+ee-ae]}function vc(_,N,$,W){var ee=_[N+0],ie=_[N+$];return ro[255+_[N-2*$]-_[N-$]]>W||ro[255+ie-ee]>W}function yc(_,N,$,W){return 4*ro[255+_[N-$]-_[N+0]]+ro[255+_[N-2*$]-_[N+$]]<=W}function Za(_,N,$,W,ee){var ie=_[N-3*$],ae=_[N-2*$],ce=_[N-$],ue=_[N+0],he=_[N+$],Ae=_[N+2*$],Re=_[N+3*$];return 4*ro[255+ce-ue]+ro[255+ae-he]>W?0:ro[255+_[N-4*$]-ie]<=ee&&ro[255+ie-ae]<=ee&&ro[255+ae-ce]<=ee&&ro[255+Re-Ae]<=ee&&ro[255+Ae-he]<=ee&&ro[255+he-ue]<=ee}function Ts(_,N,$,W){var ee=2*W+1;for(W=0;16>W;++W)yc(_,N+W,$,ee)&&Ja(_,N+W,$)}function yl(_,N,$,W){var ee=2*W+1;for(W=0;16>W;++W)yc(_,N+W*$,1,ee)&&Ja(_,N+W*$,1)}function ef(_,N,$,W){var ee;for(ee=3;0<ee;--ee)Ts(_,N+=4*$,$,W)}function xc(_,N,$,W){var ee;for(ee=3;0<ee;--ee)yl(_,N+=4,$,W)}function eo(_,N,$,W,ee,ie,ae,ce){for(ie=2*ie+1;0<ee--;){if(Za(_,N,$,ie,ae))if(vc(_,N,$,ce))Ja(_,N,$);else{var ue=_,he=N,Ae=$,Re=ue[he-2*Ae],me=ue[he-Ae],ke=ue[he+0],Ie=ue[he+Ae],Ge=ue[he+2*Ae],ze=27*(Ve=os[1020+3*(ke-me)+os[1020+Re-Ie]])+63>>7,Ue=18*Ve+63>>7,Ve=9*Ve+63>>7;ue[he-3*Ae]=aa[255+ue[he-3*Ae]+Ve],ue[he-2*Ae]=aa[255+Re+Ue],ue[he-Ae]=aa[255+me+ze],ue[he+0]=aa[255+ke-ze],ue[he+Ae]=aa[255+Ie-Ue],ue[he+2*Ae]=aa[255+Ge-Ve]}N+=W}}function ts(_,N,$,W,ee,ie,ae,ce){for(ie=2*ie+1;0<ee--;){if(Za(_,N,$,ie,ae))if(vc(_,N,$,ce))Ja(_,N,$);else{var ue=_,he=N,Ae=$,Re=ue[he-Ae],me=ue[he+0],ke=ue[he+Ae],Ie=$u[112+(4+(Ge=3*(me-Re))>>3)],Ge=$u[112+(Ge+3>>3)],ze=Ie+1>>1;ue[he-2*Ae]=aa[255+ue[he-2*Ae]+ze],ue[he-Ae]=aa[255+Re+Ge],ue[he+0]=aa[255+me-Ie],ue[he+Ae]=aa[255+ke-ze]}N+=W}}function Ui(_,N,$,W,ee,ie){eo(_,N,$,1,16,W,ee,ie)}function to(_,N,$,W,ee,ie){eo(_,N,1,$,16,W,ee,ie)}function Tu(_,N,$,W,ee,ie){var ae;for(ae=3;0<ae;--ae)ts(_,N+=4*$,$,1,16,W,ee,ie)}function D(_,N,$,W,ee,ie){var ae;for(ae=3;0<ae;--ae)ts(_,N+=4,1,$,16,W,ee,ie)}function te(_,N,$,W,ee,ie,ae,ce){eo(_,N,ee,1,8,ie,ae,ce),eo($,W,ee,1,8,ie,ae,ce)}function ge(_,N,$,W,ee,ie,ae,ce){eo(_,N,1,ee,8,ie,ae,ce),eo($,W,1,ee,8,ie,ae,ce)}function Se(_,N,$,W,ee,ie,ae,ce){ts(_,N+4*ee,ee,1,8,ie,ae,ce),ts($,W+4*ee,ee,1,8,ie,ae,ce)}function De(_,N,$,W,ee,ie,ae,ce){ts(_,N+4,1,ee,8,ie,ae,ce),ts($,W+4,1,ee,8,ie,ae,ce)}function Ye(){this.ba=new Et,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ct,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function et(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function zt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Yt(){this.ua=0,this.Wa=new pt,this.vb=new pt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new M,this.yc=new B}function gn(){this.xb=this.a=0,this.l=new Nu,this.ca=new Et,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new V,this.Pb=0,this.wd=new V,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Yt,this.ab=0,this.gc=s(4,zt),this.Oc=0}function bn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Nu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function qn(_,N,$,W,ee,ie,ae){for(_=_==null?0:_[N+0],N=0;N<ae;++N)ee[ie+N]=_+$[W+N]&255,_=ee[ie+N]}function Mr(_,N,$,W,ee,ie,ae){var ce;if(_==null)qn(null,null,$,W,ee,ie,ae);else for(ce=0;ce<ae;++ce)ee[ie+ce]=_[N+ce]+$[W+ce]&255}function oi(_,N,$,W,ee,ie,ae){if(_==null)qn(null,null,$,W,ee,ie,ae);else{var ce,ue=_[N+0],he=ue,Ae=ue;for(ce=0;ce<ae;++ce)he=Ae+(ue=_[N+ce])-he,Ae=$[W+ce]+(-256&he?0>he?0:255:he)&255,he=ue,ee[ie+ce]=Ae}}function vr(_,N,$,W){var ee=N.width,ie=N.o;if(t(_!=null&&N!=null),0>$||0>=W||$+W>ie)return null;if(!_.Cc){if(_.ga==null){var ae;if(_.ga=new bn,(ae=_.ga==null)||(ae=N.width*N.o,t(_.Gb.length==0),_.Gb=a(ae),_.Uc=0,_.Gb==null?ae=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,ae=1),ae=!ae),!ae){ae=_.ga;var ce=_.Fa,ue=_.P,he=_.qc,Ae=_.mb,Re=_.nb,me=ue+1,ke=he-1,Ie=ae.l;if(t(ce!=null&&Ae!=null&&N!=null),Hi[0]=null,Hi[1]=qn,Hi[2]=Mr,Hi[3]=oi,ae.ca=Ae,ae.tb=Re,ae.c=N.width,ae.i=N.height,t(0<ae.c&&0<ae.i),1>=he)N=0;else if(ae.$a=3&ce[ue+0],ae.Z=ce[ue+0]>>2&3,ae.Lc=ce[ue+0]>>4&3,ue=ce[ue+0]>>6&3,0>ae.$a||1<ae.$a||4<=ae.Z||1<ae.Lc||ue)N=0;else if(Ie.put=dt,Ie.ac=It,Ie.bc=An,Ie.ma=ae,Ie.width=N.width,Ie.height=N.height,Ie.Da=N.Da,Ie.v=N.v,Ie.va=N.va,Ie.j=N.j,Ie.o=N.o,ae.$a)e:{t(ae.$a==1),N=oc();t:for(;;){if(N==null){N=0;break e}if(t(ae!=null),ae.mc=N,N.c=ae.c,N.i=ae.i,N.l=ae.l,N.l.ma=ae,N.l.width=ae.c,N.l.height=ae.i,N.a=0,Y(N.m,ce,me,ke),!jo(ae.c,ae.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&_o(N.s)?(ae.ic=1,ce=N.c*N.i,N.Ta=null,N.Ua=0,N.V=a(ce),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(ae.ic=0,N=ml(N,ae.c)),!N))break t;N=1;break e}ae.mc=null,N=0}else N=ke>=ae.c*ae.i;ae=!N}if(ae)return null;_.ga.Lc!=1?_.Ga=0:W=ie-$}t(_.ga!=null),t($+W<=ie);e:{if(N=(ce=_.ga).c,ie=ce.l.o,ce.$a==0){if(me=_.rc,ke=_.Vc,Ie=_.Fa,ue=_.P+1+$*N,he=_.mb,Ae=_.nb+$*N,t(ue<=_.P+_.qc),ce.Z!=0)for(t(Hi[ce.Z]!=null),ae=0;ae<W;++ae)Hi[ce.Z](me,ke,Ie,ue,he,Ae,N),me=he,ke=Ae,Ae+=N,ue+=N;else for(ae=0;ae<W;++ae)r(he,Ae,Ie,ue,N),me=he,ke=Ae,Ae+=N,ue+=N;_.rc=me,_.Vc=ke}else{if(t(ce.mc!=null),N=$+W,t((ae=ce.mc)!=null),t(N<=ae.i),ae.C>=N)N=1;else if(ce.ic||Ao(),ce.ic){ce=ae.V,me=ae.Ba,ke=ae.c;var Ge=ae.i,ze=(Ie=1,ue=ae.$/ke,he=ae.$%ke,Ae=ae.m,Re=ae.s,ae.$),Ue=ke*Ge,Ve=ke*N,Qe=Re.wc,Je=ze<Ve?Sr(Re,he,ue):null;t(ze<=Ue),t(N<=Ge),t(_o(Re));t:for(;;){for(;!Ae.h&&ze<Ve;){if(he&Qe||(Je=Sr(Re,he,ue)),t(Je!=null),se(Ae),256>(Ge=Fn(Je.G[0],Je.H[0],Ae)))ce[me+ze]=Ge,++ze,++he>=ke&&(he=0,++ue<=N&&!(ue%16)&&Oi(ae,ue));else{if(!(280>Ge)){Ie=0;break t}Ge=$n(Ge-256,Ae);var Xt,Tt=Fn(Je.G[4],Je.H[4],Ae);if(se(Ae),!(ze>=(Tt=Zn(ke,Tt=$n(Tt,Ae)))&&Ue-ze>=Ge)){Ie=0;break t}for(Xt=0;Xt<Ge;++Xt)ce[me+ze+Xt]=ce[me+ze+Xt-Tt];for(ze+=Ge,he+=Ge;he>=ke;)he-=ke,++ue<=N&&!(ue%16)&&Oi(ae,ue);ze<Ve&&he&Qe&&(Je=Sr(Re,he,ue))}t(Ae.h==Z(Ae))}Oi(ae,ue>N?N:ue);break t}!Ie||Ae.h&&ze<Ue?(Ie=0,ae.a=Ae.h?5:3):ae.$=ze,N=Ie}else N=Ya(ae,ae.V,ae.Ba,ae.c,ae.i,N,sc);if(!N){W=0;break e}}$+W>=ie&&(_.Cc=1),W=1}if(!W)return null;if(_.Cc&&((W=_.ga)!=null&&(W.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+$*ee}function vi(_,N,$,W,ee,ie){for(;0<ee--;){var ae,ce=_,ue=N+($?1:0),he=_,Ae=N+($?0:3);for(ae=0;ae<W;++ae){var Re=he[Ae+4*ae];Re!=255&&(Re*=32897,ce[ue+4*ae+0]=ce[ue+4*ae+0]*Re>>23,ce[ue+4*ae+1]=ce[ue+4*ae+1]*Re>>23,ce[ue+4*ae+2]=ce[ue+4*ae+2]*Re>>23)}N+=ie}}function Qr(_,N,$,W,ee){for(;0<W--;){var ie;for(ie=0;ie<$;++ie){var ae=_[N+2*ie+0],ce=15&(he=_[N+2*ie+1]),ue=4369*ce,he=(240&he|he>>4)*ue>>16;_[N+2*ie+0]=(240&ae|ae>>4)*ue>>16&240|(15&ae|ae<<4)*ue>>16>>4&15,_[N+2*ie+1]=240&he|ce}N+=ee}}function Ti(_,N,$,W,ee,ie,ae,ce){var ue,he,Ae=255;for(he=0;he<ee;++he){for(ue=0;ue<W;++ue){var Re=_[N+ue];ie[ae+4*ue]=Re,Ae&=Re}N+=$,ae+=ce}return Ae!=255}function Ds(_,N,$,W,ee){var ie;for(ie=0;ie<ee;++ie)$[W+ie]=_[N+ie]>>8}function Ao(){kc=vi,zm=Qr,of=Ti,Fm=Ds}function Ls(_,N,$){F[_]=function(W,ee,ie,ae,ce,ue,he,Ae,Re,me,ke,Ie,Ge,ze,Ue,Ve,Qe){var Je,Xt=Qe-1>>1,Tt=ce[ue+0]|he[Ae+0]<<16,wn=Re[me+0]|ke[Ie+0]<<16;t(W!=null);var Ft=3*Tt+wn+131074>>2;for(N(W[ee+0],255&Ft,Ft>>16,Ge,ze),ie!=null&&(Ft=3*wn+Tt+131074>>2,N(ie[ae+0],255&Ft,Ft>>16,Ue,Ve)),Je=1;Je<=Xt;++Je){var Dn=ce[ue+Je]|he[Ae+Je]<<16,Hr=Re[me+Je]|ke[Ie+Je]<<16,jn=Tt+Dn+wn+Hr+524296,Dt=jn+2*(Dn+wn)>>3;Ft=Dt+Tt>>1,Tt=(jn=jn+2*(Tt+Hr)>>3)+Dn>>1,N(W[ee+2*Je-1],255&Ft,Ft>>16,Ge,ze+(2*Je-1)*$),N(W[ee+2*Je-0],255&Tt,Tt>>16,Ge,ze+(2*Je-0)*$),ie!=null&&(Ft=jn+wn>>1,Tt=Dt+Hr>>1,N(ie[ae+2*Je-1],255&Ft,Ft>>16,Ue,Ve+(2*Je-1)*$),N(ie[ae+2*Je+0],255&Tt,Tt>>16,Ue,Ve+(2*Je+0)*$)),Tt=Dn,wn=Hr}1&Qe||(Ft=3*Tt+wn+131074>>2,N(W[ee+Qe-1],255&Ft,Ft>>16,Ge,ze+(Qe-1)*$),ie!=null&&(Ft=3*wn+Tt+131074>>2,N(ie[ae+Qe-1],255&Ft,Ft>>16,Ue,Ve+(Qe-1)*$)))}}function bc(){va[Mh]=hb,va[Cl]=Pl,va[Jv]=pb,va[sf]=Hu,va[lf]=Lc,va[cr]=hf,va[zh]=Km,va[qu]=Pl,va[Oc]=Hu,va[cf]=Lc,va[uf]=hf}function Du(_){return _&-16384?0>_?0:255:_>>El}function xl(_,N){return Du((19077*_>>8)+(26149*N>>8)-14234)}function wc(_,N,$){return Du((19077*_>>8)-(6419*N>>8)-(13320*$>>8)+8708)}function bl(_,N){return Du((19077*_>>8)+(33050*N>>8)-17685)}function wl(_,N,$,W,ee){W[ee+0]=xl(_,$),W[ee+1]=wc(_,N,$),W[ee+2]=bl(_,N)}function Di(_,N,$,W,ee){W[ee+0]=bl(_,N),W[ee+1]=wc(_,N,$),W[ee+2]=xl(_,$)}function _c(_,N,$,W,ee){var ie=wc(_,N,$);N=ie<<3&224|bl(_,N)>>3,W[ee+0]=248&xl(_,$)|ie>>5,W[ee+1]=N}function jc(_,N,$,W,ee){var ie=240&bl(_,N)|15;W[ee+0]=240&xl(_,$)|wc(_,N,$)>>4,W[ee+1]=ie}function tf(_,N,$,W,ee){W[ee+0]=255,wl(_,N,$,W,ee+1)}function nf(_,N,$,W,ee){Di(_,N,$,W,ee),W[ee+3]=255}function ia(_,N,$,W,ee){wl(_,N,$,W,ee),W[ee+3]=255}function Co(_,N,$){F[_]=function(W,ee,ie,ae,ce,ue,he,Ae,Re){for(var me=Ae+(-2&Re)*$;Ae!=me;)N(W[ee+0],ie[ae+0],ce[ue+0],he,Ae),N(W[ee+1],ie[ae+0],ce[ue+0],he,Ae+$),ee+=2,++ae,++ue,Ae+=2*$;1&Re&&N(W[ee+0],ie[ae+0],ce[ue+0],he,Ae)}}function ns(_,N,$){return $==0?_==0?N==0?6:5:N==0?4:0:$}function Lh(_,N,$,W,ee){switch(_>>>30){case 3:Pc(N,$,W,ee,0);break;case 2:Br(N,$,W,ee);break;case 1:Vn(N,$,W,ee)}}function Ra(_,N){var $,W,ee=N.M,ie=N.Nb,ae=_.oc,ce=_.pc+40,ue=_.oc,he=_.pc+584,Ae=_.oc,Re=_.pc+600;for($=0;16>$;++$)ae[ce+32*$-1]=129;for($=0;8>$;++$)ue[he+32*$-1]=129,Ae[Re+32*$-1]=129;for(0<ee?ae[ce-1-32]=ue[he-1-32]=Ae[Re-1-32]=129:(i(ae,ce-32-1,127,21),i(ue,he-32-1,127,9),i(Ae,Re-32-1,127,9)),W=0;W<_.za;++W){var me=N.ya[N.aa+W];if(0<W){for($=-1;16>$;++$)r(ae,ce+32*$-4,ae,ce+32*$+12,4);for($=-1;8>$;++$)r(ue,he+32*$-4,ue,he+32*$+4,4),r(Ae,Re+32*$-4,Ae,Re+32*$+4,4)}var ke=_.Gd,Ie=_.Hd+W,Ge=me.ad,ze=me.Hc;if(0<ee&&(r(ae,ce-32,ke[Ie].y,0,16),r(ue,he-32,ke[Ie].f,0,8),r(Ae,Re-32,ke[Ie].ea,0,8)),me.Za){var Ue=ae,Ve=ce-32+16;for(0<ee&&(W>=_.za-1?i(Ue,Ve,ke[Ie].y[15],4):r(Ue,Ve,ke[Ie+1].y,0,4)),$=0;4>$;$++)Ue[Ve+128+$]=Ue[Ve+256+$]=Ue[Ve+384+$]=Ue[Ve+0+$];for($=0;16>$;++$,ze<<=2)Ue=ae,Ve=ce+Ym[$],io[me.Ob[$]](Ue,Ve),Lh(ze,Ge,16*+$,Ue,Ve)}else if(Ue=ns(W,ee,me.Ob[0]),oa[Ue](ae,ce),ze!=0)for($=0;16>$;++$,ze<<=2)Lh(ze,Ge,16*+$,ae,ce+Ym[$]);for($=me.Gc,Ue=ns(W,ee,me.Dd),ga[Ue](ue,he),ga[Ue](Ae,Re),ze=Ge,Ue=ue,Ve=he,255&(me=0|$)&&(170&me?ma(ze,256,Ue,Ve):rr(ze,256,Ue,Ve)),me=Ae,ze=Re,255&($>>=8)&&(170&$?ma(Ge,320,me,ze):rr(Ge,320,me,ze)),ee<_.Ub-1&&(r(ke[Ie].y,0,ae,ce+480,16),r(ke[Ie].f,0,ue,he+224,8),r(ke[Ie].ea,0,Ae,Re+224,8)),$=8*ie*_.B,ke=_.sa,Ie=_.ta+16*W+16*ie*_.R,Ge=_.qa,me=_.ra+8*W+$,ze=_.Ha,Ue=_.Ia+8*W+$,$=0;16>$;++$)r(ke,Ie+$*_.R,ae,ce+32*$,16);for($=0;8>$;++$)r(Ge,me+$*_.B,ue,he+32*$,8),r(ze,Ue+$*_.B,Ae,Re+32*$,8)}}function _l(_,N,$,W,ee,ie,ae,ce,ue){var he=[0],Ae=[0],Re=0,me=ue!=null?ue.kd:0,ke=ue??new et;if(_==null||12>$)return 7;ke.data=_,ke.w=N,ke.ha=$,N=[N],$=[$],ke.gb=[ke.gb];e:{var Ie=N,Ge=$,ze=ke.gb;if(t(_!=null),t(Ge!=null),t(ze!=null),ze[0]=0,12<=Ge[0]&&!n(_,Ie[0],"RIFF")){if(n(_,Ie[0]+8,"WEBP")){ze=3;break e}var Ue=He(_,Ie[0]+4);if(12>Ue||4294967286<Ue){ze=3;break e}if(me&&Ue>Ge[0]-8){ze=7;break e}ze[0]=Ue,Ie[0]+=12,Ge[0]-=12}ze=0}if(ze!=0)return ze;for(Ue=0<ke.gb[0],$=$[0];;){e:{var Ve=_;Ge=N,ze=$;var Qe=he,Je=Ae,Xt=Ie=[0];if((Ft=Re=[Re])[0]=0,8>ze[0])ze=7;else{if(!n(Ve,Ge[0],"VP8X")){if(He(Ve,Ge[0]+4)!=10){ze=3;break e}if(18>ze[0]){ze=7;break e}var Tt=He(Ve,Ge[0]+8),wn=1+$e(Ve,Ge[0]+12);if(2147483648<=wn*(Ve=1+$e(Ve,Ge[0]+15))){ze=3;break e}Xt!=null&&(Xt[0]=Tt),Qe!=null&&(Qe[0]=wn),Je!=null&&(Je[0]=Ve),Ge[0]+=18,ze[0]-=18,Ft[0]=1}ze=0}}if(Re=Re[0],Ie=Ie[0],ze!=0)return ze;if(Ge=!!(2&Ie),!Ue&&Re)return 3;if(ie!=null&&(ie[0]=!!(16&Ie)),ae!=null&&(ae[0]=Ge),ce!=null&&(ce[0]=0),ae=he[0],Ie=Ae[0],Re&&Ge&&ue==null){ze=0;break}if(4>$){ze=7;break}if(Ue&&Re||!Ue&&!Re&&!n(_,N[0],"ALPH")){$=[$],ke.na=[ke.na],ke.P=[ke.P],ke.Sa=[ke.Sa];e:{Tt=_,ze=N,Ue=$;var Ft=ke.gb;Qe=ke.na,Je=ke.P,Xt=ke.Sa,wn=22,t(Tt!=null),t(Ue!=null),Ve=ze[0];var Dn=Ue[0];for(t(Qe!=null),t(Xt!=null),Qe[0]=null,Je[0]=null,Xt[0]=0;;){if(ze[0]=Ve,Ue[0]=Dn,8>Dn){ze=7;break e}var Hr=He(Tt,Ve+4);if(4294967286<Hr){ze=3;break e}var jn=8+Hr+1&-2;if(wn+=jn,0<Ft&&wn>Ft){ze=3;break e}if(!n(Tt,Ve,"VP8 ")||!n(Tt,Ve,"VP8L")){ze=0;break e}if(Dn[0]<jn){ze=7;break e}n(Tt,Ve,"ALPH")||(Qe[0]=Tt,Je[0]=Ve+8,Xt[0]=Hr),Ve+=jn,Dn-=jn}}if($=$[0],ke.na=ke.na[0],ke.P=ke.P[0],ke.Sa=ke.Sa[0],ze!=0)break}$=[$],ke.Ja=[ke.Ja],ke.xa=[ke.xa];e:if(Ft=_,ze=N,Ue=$,Qe=ke.gb[0],Je=ke.Ja,Xt=ke.xa,Tt=ze[0],Ve=!n(Ft,Tt,"VP8 "),wn=!n(Ft,Tt,"VP8L"),t(Ft!=null),t(Ue!=null),t(Je!=null),t(Xt!=null),8>Ue[0])ze=7;else{if(Ve||wn){if(Ft=He(Ft,Tt+4),12<=Qe&&Ft>Qe-12){ze=3;break e}if(me&&Ft>Ue[0]-8){ze=7;break e}Je[0]=Ft,ze[0]+=8,Ue[0]-=8,Xt[0]=wn}else Xt[0]=5<=Ue[0]&&Ft[Tt+0]==47&&!(Ft[Tt+4]>>5),Je[0]=Ue[0];ze=0}if($=$[0],ke.Ja=ke.Ja[0],ke.xa=ke.xa[0],N=N[0],ze!=0)break;if(4294967286<ke.Ja)return 3;if(ce==null||Ge||(ce[0]=ke.xa?2:1),ae=[ae],Ie=[Ie],ke.xa){if(5>$){ze=7;break}ce=ae,me=Ie,Ge=ie,_==null||5>$?_=0:5<=$&&_[N+0]==47&&!(_[N+4]>>5)?(Ue=[0],Ft=[0],Qe=[0],Y(Je=new V,_,N,$),Tr(Je,Ue,Ft,Qe)?(ce!=null&&(ce[0]=Ue[0]),me!=null&&(me[0]=Ft[0]),Ge!=null&&(Ge[0]=Qe[0]),_=1):_=0):_=0}else{if(10>$){ze=7;break}ce=Ie,_==null||10>$||!uc(_,N+3,$-3)?_=0:(me=_[N+0]|_[N+1]<<8|_[N+2]<<16,Ge=16383&(_[N+7]<<8|_[N+6]),_=16383&(_[N+9]<<8|_[N+8]),1&me||3<(me>>1&7)||!(me>>4&1)||me>>5>=ke.Ja||!Ge||!_?_=0:(ae&&(ae[0]=Ge),ce&&(ce[0]=_),_=1))}if(!_||(ae=ae[0],Ie=Ie[0],Re&&(he[0]!=ae||Ae[0]!=Ie)))return 3;ue!=null&&(ue[0]=ke,ue.offset=N-ue.w,t(4294967286>N-ue.w),t(ue.offset==ue.ha-$));break}return ze==0||ze==7&&Re&&ue==null?(ie!=null&&(ie[0]|=ke.na!=null&&0<ke.na.length),W!=null&&(W[0]=ae),ee!=null&&(ee[0]=Ie),0):ze}function Lu(_,N,$){var W=N.width,ee=N.height,ie=0,ae=0,ce=W,ue=ee;if(N.Da=_!=null&&0<_.Da,N.Da&&(ce=_.cd,ue=_.bd,ie=_.v,ae=_.j,11>$||(ie&=-2,ae&=-2),0>ie||0>ae||0>=ce||0>=ue||ie+ce>W||ae+ue>ee))return 0;if(N.v=ie,N.j=ae,N.va=ie+ce,N.o=ae+ue,N.U=ce,N.T=ue,N.da=_!=null&&0<_.da,N.da){if(!xt(ce,ue,$=[_.ib],ie=[_.hb]))return 0;N.ib=$[0],N.hb=ie[0]}return N.ob=_!=null&&_.ob,N.Kb=_==null||!_.Sd,N.da&&(N.ob=N.ib<3*W/4&&N.hb<3*ee/4,N.Kb=0),1}function Iu(_){if(_==null)return 2;if(11>_.S){var N=_.f.RGBA;N.fb+=(_.height-1)*N.A,N.A=-N.A}else N=_.f.kb,_=_.height,N.O+=(_-1)*N.fa,N.fa=-N.fa,N.N+=(_-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(_-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(_-1)*N.lb,N.lb=-N.lb);return 0}function Is(_,N,$,W){if(W==null||0>=_||0>=N)return 2;if($!=null){if($.Da){var ee=$.cd,ie=$.bd,ae=-2&$.v,ce=-2&$.j;if(0>ae||0>ce||0>=ee||0>=ie||ae+ee>_||ce+ie>N)return 2;_=ee,N=ie}if($.da){if(!xt(_,N,ee=[$.ib],ie=[$.hb]))return 2;_=ee[0],N=ie[0]}}W.width=_,W.height=N;e:{var ue=W.width,he=W.height;if(_=W.S,0>=ue||0>=he||!(_>=Mh&&13>_))_=2;else{if(0>=W.Rd&&W.sd==null){ae=ie=ee=N=0;var Ae=(ce=ue*pf[_])*he;if(11>_||(ie=(he+1)/2*(N=(ue+1)/2),_==12&&(ae=(ee=ue)*he)),(he=a(Ae+2*ie+ae))==null){_=1;break e}W.sd=he,11>_?((ue=W.f.RGBA).eb=he,ue.fb=0,ue.A=ce,ue.size=Ae):((ue=W.f.kb).y=he,ue.O=0,ue.fa=ce,ue.Fd=Ae,ue.f=he,ue.N=0+Ae,ue.Ab=N,ue.Cd=ie,ue.ea=he,ue.W=0+Ae+ie,ue.Db=N,ue.Ed=ie,_==12&&(ue.F=he,ue.J=0+Ae+2*ie),ue.Tc=ae,ue.lb=ee)}if(N=1,ee=W.S,ie=W.width,ae=W.height,ee>=Mh&&13>ee)if(11>ee)_=W.f.RGBA,N&=(ce=Math.abs(_.A))*(ae-1)+ie<=_.size,N&=ce>=ie*pf[ee],N&=_.eb!=null;else{_=W.f.kb,ce=(ie+1)/2,Ae=(ae+1)/2,ue=Math.abs(_.fa),he=Math.abs(_.Ab);var Re=Math.abs(_.Db),me=Math.abs(_.lb),ke=me*(ae-1)+ie;N&=ue*(ae-1)+ie<=_.Fd,N&=he*(Ae-1)+ce<=_.Cd,N=(N&=Re*(Ae-1)+ce<=_.Ed)&ue>=ie&he>=ce&Re>=ce,N&=_.y!=null,N&=_.f!=null,N&=_.ea!=null,ee==12&&(N&=me>=ie,N&=ke<=_.Tc,N&=_.F!=null)}else N=0;_=N?0:2}}return _!=0||$!=null&&$.fd&&(_=Iu(W)),_}var no=64,Ma=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],za=24,jl=32,rs=8,Rs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ot("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(_){return _},F.Predictor2=function(_,N,$){return N[$+0]},F.Predictor3=function(_,N,$){return N[$+1]},F.Predictor4=function(_,N,$){return N[$-1]},F.Predictor5=function(_,N,$){return Pe(Pe(_,N[$+1]),N[$+0])},F.Predictor6=function(_,N,$){return Pe(_,N[$-1])},F.Predictor7=function(_,N,$){return Pe(_,N[$+0])},F.Predictor8=function(_,N,$){return Pe(N[$-1],N[$+0])},F.Predictor9=function(_,N,$){return Pe(N[$+0],N[$+1])},F.Predictor10=function(_,N,$){return Pe(Pe(_,N[$-1]),Pe(N[$+0],N[$+1]))},F.Predictor11=function(_,N,$){var W=N[$+0];return 0>=mt(W>>24&255,_>>24&255,(N=N[$-1])>>24&255)+mt(W>>16&255,_>>16&255,N>>16&255)+mt(W>>8&255,_>>8&255,N>>8&255)+mt(255&W,255&_,255&N)?W:_},F.Predictor12=function(_,N,$){var W=N[$+0];return(Pt((_>>24&255)+(W>>24&255)-((N=N[$-1])>>24&255))<<24|Pt((_>>16&255)+(W>>16&255)-(N>>16&255))<<16|Pt((_>>8&255)+(W>>8&255)-(N>>8&255))<<8|Pt((255&_)+(255&W)-(255&N)))>>>0},F.Predictor13=function(_,N,$){var W=N[$-1];return(_t((_=Pe(_,N[$+0]))>>24&255,W>>24&255)<<24|_t(_>>16&255,W>>16&255)<<16|_t(_>>8&255,W>>8&255)<<8|_t(255&_,255&W))>>>0};var Ms=F.PredictorAdd0;F.PredictorAdd1=vt,ot("Predictor2","PredictorAdd2"),ot("Predictor3","PredictorAdd3"),ot("Predictor4","PredictorAdd4"),ot("Predictor5","PredictorAdd5"),ot("Predictor6","PredictorAdd6"),ot("Predictor7","PredictorAdd7"),ot("Predictor8","PredictorAdd8"),ot("Predictor9","PredictorAdd9"),ot("Predictor10","PredictorAdd10"),ot("Predictor11","PredictorAdd11"),ot("Predictor12","PredictorAdd12"),ot("Predictor13","PredictorAdd13");var is=F.PredictorAdd2;ft("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var Jr,Sc=F.ColorIndexInverseTransform,as=F.MapARGB,Po=F.VP8LColorIndexInverseTransformAlpha,Nc=F.MapAlpha,Ac=F.VP8LPredictorsAdd=[];Ac.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var Ru,Mu,zs,Sl,Nl,Cc,Al,Pc,Br,ma,Vn,rr,Ur,si,Eo,rf,zu,Fs,Ih,Fu,Rh,Mm,af,Ec,kc,zm,of,Fm,$m=a(511),qm=a(2041),Bm=a(225),Um=a(767),Hm=0,os=qm,$u=Bm,aa=Um,ro=$m,Mh=0,Cl=1,Jv=2,sf=3,lf=4,cr=5,zh=6,qu=7,Oc=8,cf=9,uf=10,df=[2,3,7],Fh=[3,3,11],Tc=[280,256,256,256,40],Zv=[0,1,1,1,0],cb=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ub=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],e0=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$h=8,Bu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ff=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Dc=null,Wm=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Vm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],t0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],n0=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],db=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],fb=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Gm=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],oa=[],io=[],ga=[],ss=1,Uu=2,Hi=[],va=[];Ls("UpsampleRgbLinePair",wl,3),Ls("UpsampleBgrLinePair",Di,3),Ls("UpsampleRgbaLinePair",ia,4),Ls("UpsampleBgraLinePair",nf,4),Ls("UpsampleArgbLinePair",tf,4),Ls("UpsampleRgba4444LinePair",jc,2),Ls("UpsampleRgb565LinePair",_c,2);var hb=F.UpsampleRgbLinePair,pb=F.UpsampleBgrLinePair,Pl=F.UpsampleRgbaLinePair,Hu=F.UpsampleBgraLinePair,Lc=F.UpsampleArgbLinePair,hf=F.UpsampleRgba4444LinePair,Km=F.UpsampleRgb565LinePair,$s=16,ko=1<<$s-1,er=-227,ir=482,El=6,Li=0,ya=a(256),Ic=a(256),Wu=a(256),xa=a(256),qh=a(ir-er),r0=a(ir-er);Co("YuvToRgbRow",wl,3),Co("YuvToBgrRow",Di,3),Co("YuvToRgbaRow",ia,4),Co("YuvToBgraRow",nf,4),Co("YuvToArgbRow",tf,4),Co("YuvToRgba4444Row",jc,2),Co("YuvToRgb565Row",_c,2);var Ym=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Rc=[0,2,8],i0=[8,7,6,4,4,2,2,2,1,1,1,1],qs=1;this.WebPDecodeRGBA=function(_,N,$,W,ee){var ie=Cl,ae=new Ye,ce=new Et;ae.ba=ce,ce.S=ie,ce.width=[ce.width],ce.height=[ce.height];var ue=ce.width,he=ce.height,Ae=new At;if(Ae==null||_==null)var Re=2;else t(Ae!=null),Re=_l(_,N,$,Ae.width,Ae.height,Ae.Pd,Ae.Qd,Ae.format,null);if(Re!=0?ue=0:(ue!=null&&(ue[0]=Ae.width[0]),he!=null&&(he[0]=Ae.height[0]),ue=1),ue){ce.width=ce.width[0],ce.height=ce.height[0],W!=null&&(W[0]=ce.width),ee!=null&&(ee[0]=ce.height);e:{if(W=new Nu,(ee=new et).data=_,ee.w=N,ee.ha=$,ee.kd=1,N=[0],t(ee!=null),((_=_l(ee.data,ee.w,ee.ha,null,null,null,N,null,ee))==0||_==7)&&N[0]&&(_=4),(N=_)==0){if(t(ae!=null),W.data=ee.data,W.w=ee.w+ee.offset,W.ha=ee.ha-ee.offset,W.put=dt,W.ac=It,W.bc=An,W.ma=ae,ee.xa){if((_=oc())==null){ae=1;break e}if((function(me,ke){var Ie=[0],Ge=[0],ze=[0];t:for(;;){if(me==null)return 0;if(ke==null)return me.a=2,0;if(me.l=ke,me.a=0,Y(me.m,ke.data,ke.w,ke.ha),!Tr(me.m,Ie,Ge,ze)){me.a=3;break t}if(me.xb=Uu,ke.width=Ie[0],ke.height=Ge[0],!jo(Ie[0],Ge[0],1,me,null))break t;return 1}return t(me.a!=0),0})(_,W)){if(W=(N=Is(W.width,W.height,ae.Oa,ae.ba))==0){t:{W=_;n:for(;;){if(W==null){W=0;break t}if(t(W.s.yc!=null),t(W.s.Ya!=null),t(0<W.s.Wb),t(($=W.l)!=null),t((ee=$.ma)!=null),W.xb!=0){if(W.ca=ee.ba,W.tb=ee.tb,t(W.ca!=null),!Lu(ee.Oa,$,sf)){W.a=2;break n}if(!ml(W,$.width)||$.da)break n;if(($.da||Ot(W.ca.S))&&Ao(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&Ao()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!le(W.s.vb,W.s.Wa.Xa)){W.a=1;break n}W.xb=0}if(!Ya(W,W.V,W.Ba,W.c,W.i,$.o,ka))break n;ee.Dc=W.Ma,W=1;break t}t(W.a!=0),W=0}W=!W}W&&(N=_.a)}else N=_.a}else{if((_=new Im)==null){ae=1;break e}if(_.Fa=ee.na,_.P=ee.P,_.qc=ee.Sa,La(_,W)){if((N=Is(W.width,W.height,ae.Oa,ae.ba))==0){if(_.Aa=0,$=ae.Oa,t((ee=_)!=null),$!=null){if(0<(ue=0>(ue=$.Md)?0:100<ue?255:255*ue/100)){for(he=Ae=0;4>he;++he)12>(Re=ee.pb[he]).lc&&(Re.ia=ue*i0[0>Re.lc?0:Re.lc]>>3),Ae|=Re.ia;Ae&&(alert("todo:VP8InitRandom"),ee.ia=1)}ee.Ga=$.Id,100<ee.Ga?ee.Ga=100:0>ee.Ga&&(ee.Ga=0)}(function(me,ke){if(me==null)return 0;if(ke==null)return ai(me,2,"NULL VP8Io parameter in VP8Decode().");if(!me.cb&&!La(me,ke))return 0;if(t(me.cb),ke.ac==null||ke.ac(ke)){ke.ob&&(me.L=0);var Ie=Rc[me.L];if(me.L==2?(me.yb=0,me.zb=0):(me.yb=ke.v-Ie>>4,me.zb=ke.j-Ie>>4,0>me.yb&&(me.yb=0),0>me.zb&&(me.zb=0)),me.Va=ke.o+15+Ie>>4,me.Hb=ke.va+15+Ie>>4,me.Hb>me.za&&(me.Hb=me.za),me.Va>me.Ub&&(me.Va=me.Ub),0<me.L){var Ge=me.ed;for(Ie=0;4>Ie;++Ie){var ze;if(me.Qa.Cb){var Ue=me.Qa.Lb[Ie];me.Qa.Fb||(Ue+=Ge.Tb)}else Ue=Ge.Tb;for(ze=0;1>=ze;++ze){var Ve=me.gd[Ie][ze],Qe=Ue;if(Ge.Pc&&(Qe+=Ge.vd[0],ze&&(Qe+=Ge.od[0])),0<(Qe=0>Qe?0:63<Qe?63:Qe)){var Je=Qe;0<Ge.wb&&(Je=4<Ge.wb?Je>>2:Je>>1)>9-Ge.wb&&(Je=9-Ge.wb),1>Je&&(Je=1),Ve.dd=Je,Ve.tc=2*Qe+Je,Ve.ld=40<=Qe?2:15<=Qe?1:0}else Ve.tc=0;Ve.La=ze}}}Ie=0}else ai(me,6,"Frame setup failed"),Ie=me.a;if(Ie=Ie==0){if(Ie){me.$c=0,0<me.Aa||(me.Ic=qs);t:{Ie=me.Ic,Ge=4*(Je=me.za);var Xt=32*Je,Tt=Je+1,wn=0<me.L?Je*(0<me.Aa?2:1):0,Ft=(me.Aa==2?2:1)*Je;if((Ve=Ge+832+(ze=3*(16*Ie+Rc[me.L])/2*Xt)+(Ue=me.Fa!=null&&0<me.Fa.length?me.Kc.c*me.Kc.i:0))!=Ve)Ie=0;else{if(Ve>me.Vb){if(me.Vb=0,me.Ec=a(Ve),me.Fc=0,me.Ec==null){Ie=ai(me,1,"no memory during frame initialization.");break t}me.Vb=Ve}Ve=me.Ec,Qe=me.Fc,me.Ac=Ve,me.Bc=Qe,Qe+=Ge,me.Gd=s(Xt,Da),me.Hd=0,me.rb=s(Tt+1,gl),me.sb=1,me.wa=wn?s(wn,Ta):null,me.Y=0,me.D.Nb=0,me.D.wa=me.wa,me.D.Y=me.Y,0<me.Aa&&(me.D.Y+=Je),t(!0),me.oc=Ve,me.pc=Qe,Qe+=832,me.ya=s(Ft,Su),me.aa=0,me.D.ya=me.ya,me.D.aa=me.aa,me.Aa==2&&(me.D.aa+=Je),me.R=16*Je,me.B=8*Je,Je=(Xt=Rc[me.L])*me.R,Xt=Xt/2*me.B,me.sa=Ve,me.ta=Qe+Je,me.qa=me.sa,me.ra=me.ta+16*Ie*me.R+Xt,me.Ha=me.qa,me.Ia=me.ra+8*Ie*me.B+Xt,me.$c=0,Qe+=ze,me.mb=Ue?Ve:null,me.nb=Ue?Qe:null,t(Qe+Ue<=me.Fc+me.Vb),dc(me),i(me.Ac,me.Bc,0,Ge),Ie=1}}if(Ie){if(ke.ka=0,ke.y=me.sa,ke.O=me.ta,ke.f=me.qa,ke.N=me.ra,ke.ea=me.Ha,ke.Vd=me.Ia,ke.fa=me.R,ke.Rc=me.B,ke.F=null,ke.J=0,!Hm){for(Ie=-255;255>=Ie;++Ie)$m[255+Ie]=0>Ie?-Ie:Ie;for(Ie=-1020;1020>=Ie;++Ie)qm[1020+Ie]=-128>Ie?-128:127<Ie?127:Ie;for(Ie=-112;112>=Ie;++Ie)Bm[112+Ie]=-16>Ie?-16:15<Ie?15:Ie;for(Ie=-255;510>=Ie;++Ie)Um[255+Ie]=0>Ie?0:255<Ie?255:Ie;Hm=1}Al=hc,Pc=fc,ma=Jo,Vn=Au,rr=Hn,Br=Yd,Ur=Ui,si=to,Eo=te,rf=ge,zu=Tu,Fs=D,Ih=Se,Fu=De,Rh=Ts,Mm=yl,af=ef,Ec=xc,io[0]=Th,io[1]=Xd,io[2]=es,io[3]=Rm,io[4]=Ia,io[5]=Dh,io[6]=Os,io[7]=Eu,io[8]=Qd,io[9]=mc,oa[0]=Zo,oa[1]=Oh,oa[2]=Cu,oa[3]=Pu,oa[4]=ha,oa[5]=Qa,oa[6]=pc,ga[0]=ku,ga[1]=kh,ga[2]=No,ga[3]=gc,ga[4]=Zd,ga[5]=Jd,ga[6]=Ou,Ie=1}else Ie=0}Ie&&(Ie=(function(Dn,Hr){for(Dn.M=0;Dn.M<Dn.Va;++Dn.M){var jn,Dt=Dn.Jc[Dn.M&Dn.Xb],ht=Dn.m,Zr=Dn;for(jn=0;jn<Zr.za;++jn){var hn=ht,On=Zr,yr=On.Ac,Ni=On.Bc+4*jn,li=On.zc,zr=On.ya[On.aa+jn];if(On.Qa.Bb?zr.$b=be(hn,On.Pa.jb[0])?2+be(hn,On.Pa.jb[2]):be(hn,On.Pa.jb[1]):zr.$b=0,On.kc&&(zr.Ad=be(hn,On.Bd)),zr.Za=!be(hn,145)+0,zr.Za){var yi=zr.Ob,Ai=0;for(On=0;4>On;++On){var Dr,Rn=li[0+On];for(Dr=0;4>Dr;++Dr){Rn=db[yr[Ni+Dr]][Rn];for(var Gn=t0[be(hn,Rn[0])];0<Gn;)Gn=t0[2*Gn+be(hn,Rn[Gn])];Rn=-Gn,yr[Ni+Dr]=Rn}r(yi,Ai,yr,Ni,4),Ai+=4,li[0+On]=Rn}}else Rn=be(hn,156)?be(hn,128)?1:3:be(hn,163)?2:0,zr.Ob[0]=Rn,i(yr,Ni,Rn,4),i(li,0,Rn,4);zr.Dd=be(hn,142)?be(hn,114)?be(hn,183)?1:3:2:0}if(Zr.m.Ka)return ai(Dn,7,"Premature end-of-partition0 encountered.");for(;Dn.ja<Dn.za;++Dn.ja){if(Zr=Dt,hn=(ht=Dn).rb[ht.sb-1],yr=ht.rb[ht.sb+ht.ja],jn=ht.ya[ht.aa+ht.ja],Ni=ht.kc?jn.Ad:0)hn.la=yr.la=0,jn.Za||(hn.Na=yr.Na=0),jn.Hc=0,jn.Gc=0,jn.ia=0;else{var Lr,Kn;if(hn=yr,yr=Zr,Ni=ht.Pa.Xc,li=ht.ya[ht.aa+ht.ja],zr=ht.pb[li.$b],On=li.ad,yi=0,Ai=ht.rb[ht.sb-1],Rn=Dr=0,i(On,yi,0,384),li.Za)var Wr=0,Vr=Ni[3];else{Gn=a(16);var ur=hn.Na+Ai.Na;if(ur=Dc(yr,Ni[1],ur,zr.Eb,0,Gn,0),hn.Na=Ai.Na=(0<ur)+0,1<ur)Al(Gn,0,On,yi);else{var Wi=Gn[0]+3>>3;for(Gn=0;256>Gn;Gn+=16)On[yi+Gn]=Wi}Wr=1,Vr=Ni[0]}var ar=15&hn.la,dr=15&Ai.la;for(Gn=0;4>Gn;++Gn){var ci=1&dr;for(Wi=Kn=0;4>Wi;++Wi)ar=ar>>1|(ci=(ur=Dc(yr,Vr,ur=ci+(1&ar),zr.Sc,Wr,On,yi))>Wr)<<7,Kn=Kn<<2|(3<ur?3:1<ur?2:On[yi+0]!=0),yi+=16;ar>>=4,dr=dr>>1|ci<<7,Dr=(Dr<<8|Kn)>>>0}for(Vr=ar,Wr=dr>>4,Lr=0;4>Lr;Lr+=2){for(Kn=0,ar=hn.la>>4+Lr,dr=Ai.la>>4+Lr,Gn=0;2>Gn;++Gn){for(ci=1&dr,Wi=0;2>Wi;++Wi)ur=ci+(1&ar),ar=ar>>1|(ci=0<(ur=Dc(yr,Ni[2],ur,zr.Qc,0,On,yi)))<<3,Kn=Kn<<2|(3<ur?3:1<ur?2:On[yi+0]!=0),yi+=16;ar>>=2,dr=dr>>1|ci<<5}Rn|=Kn<<4*Lr,Vr|=ar<<4<<Lr,Wr|=(240&dr)<<Lr}hn.la=Vr,Ai.la=Wr,li.Hc=Dr,li.Gc=Rn,li.ia=43690&Rn?0:zr.ia,Ni=!(Dr|Rn)}if(0<ht.L&&(ht.wa[ht.Y+ht.ja]=ht.gd[jn.$b][jn.Za],ht.wa[ht.Y+ht.ja].La|=!Ni),Zr.Ka)return ai(Dn,7,"Premature end-of-file encountered.")}if(dc(Dn),ht=Hr,Zr=1,jn=(Dt=Dn).D,hn=0<Dt.L&&Dt.M>=Dt.zb&&Dt.M<=Dt.Va,Dt.Aa==0)t:{if(jn.M=Dt.M,jn.uc=hn,Ra(Dt,jn),Zr=1,jn=(Kn=Dt.D).Nb,hn=(Rn=Rc[Dt.L])*Dt.R,yr=Rn/2*Dt.B,Gn=16*jn*Dt.R,Wi=8*jn*Dt.B,Ni=Dt.sa,li=Dt.ta-hn+Gn,zr=Dt.qa,On=Dt.ra-yr+Wi,yi=Dt.Ha,Ai=Dt.Ia-yr+Wi,dr=(ar=Kn.M)==0,Dr=ar>=Dt.Va-1,Dt.Aa==2&&Ra(Dt,Kn),Kn.uc)for(ci=(ur=Dt).D.M,t(ur.D.uc),Kn=ur.yb;Kn<ur.Hb;++Kn){Wr=Kn,Vr=ci;var Ii=(ba=(ni=ur).D).Nb;Lr=ni.R;var ba=ba.wa[ba.Y+Wr],ei=ni.sa,ti=ni.ta+16*Ii*Lr+16*Wr,Vi=ba.dd,fr=ba.tc;if(fr!=0)if(t(3<=fr),ni.L==1)0<Wr&&Mm(ei,ti,Lr,fr+4),ba.La&&Ec(ei,ti,Lr,fr),0<Vr&&Rh(ei,ti,Lr,fr+4),ba.La&&af(ei,ti,Lr,fr);else{var Gi=ni.B,ao=ni.qa,Oo=ni.ra+8*Ii*Gi+8*Wr,Ci=ni.Ha,ni=ni.Ia+8*Ii*Gi+8*Wr;Ii=ba.ld,0<Wr&&(si(ei,ti,Lr,fr+4,Vi,Ii),rf(ao,Oo,Ci,ni,Gi,fr+4,Vi,Ii)),ba.La&&(Fs(ei,ti,Lr,fr,Vi,Ii),Fu(ao,Oo,Ci,ni,Gi,fr,Vi,Ii)),0<Vr&&(Ur(ei,ti,Lr,fr+4,Vi,Ii),Eo(ao,Oo,Ci,ni,Gi,fr+4,Vi,Ii)),ba.La&&(zu(ei,ti,Lr,fr,Vi,Ii),Ih(ao,Oo,Ci,ni,Gi,fr,Vi,Ii))}}if(Dt.ia&&alert("todo:DitherRow"),ht.put!=null){if(Kn=16*ar,ar=16*(ar+1),dr?(ht.y=Dt.sa,ht.O=Dt.ta+Gn,ht.f=Dt.qa,ht.N=Dt.ra+Wi,ht.ea=Dt.Ha,ht.W=Dt.Ia+Wi):(Kn-=Rn,ht.y=Ni,ht.O=li,ht.f=zr,ht.N=On,ht.ea=yi,ht.W=Ai),Dr||(ar-=Rn),ar>ht.o&&(ar=ht.o),ht.F=null,ht.J=null,Dt.Fa!=null&&0<Dt.Fa.length&&Kn<ar&&(ht.J=vr(Dt,ht,Kn,ar-Kn),ht.F=Dt.mb,ht.F==null&&ht.F.length==0)){Zr=ai(Dt,3,"Could not decode alpha data.");break t}Kn<ht.j&&(Rn=ht.j-Kn,Kn=ht.j,t(!(1&Rn)),ht.O+=Dt.R*Rn,ht.N+=Dt.B*(Rn>>1),ht.W+=Dt.B*(Rn>>1),ht.F!=null&&(ht.J+=ht.width*Rn)),Kn<ar&&(ht.O+=ht.v,ht.N+=ht.v>>1,ht.W+=ht.v>>1,ht.F!=null&&(ht.J+=ht.v),ht.ka=Kn-ht.j,ht.U=ht.va-ht.v,ht.T=ar-Kn,Zr=ht.put(ht))}jn+1!=Dt.Ic||Dr||(r(Dt.sa,Dt.ta-hn,Ni,li+16*Dt.R,hn),r(Dt.qa,Dt.ra-yr,zr,On+8*Dt.B,yr),r(Dt.Ha,Dt.Ia-yr,yi,Ai+8*Dt.B,yr))}if(!Zr)return ai(Dn,6,"Output aborted.")}return 1})(me,ke)),ke.bc!=null&&ke.bc(ke),Ie&=1}return Ie?(me.cb=0,Ie):0})(_,W)||(N=_.a)}}else N=_.a}N==0&&ae.Oa!=null&&ae.Oa.fd&&(N=Iu(ae.ba))}ae=N}ie=ae!=0?null:11>ie?ce.f.RGBA.eb:ce.f.kb.y}else ie=null;return ie};var pf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(F,G){for(var R="",k=0;k<4;k++)R+=String.fromCharCode(F[G++]);return R}function h(F,G){return F[G+0]|F[G+1]<<8}function p(F,G){return(F[G+0]|F[G+1]<<8|F[G+2]<<16)>>>0}function g(F,G){return(F[G+0]|F[G+1]<<8|F[G+2]<<16|F[G+3]<<24)>>>0}new c;var m=[0],b=[0],x=[],y=new c,w=e,A=(function(F,G){var R={},k=0,B=!1,U=0,M=0;if(R.frames=[],!(function(T,V){for(var J=0;J<4;J++)if(T[V+J]!="RIFF".charCodeAt(J))return!0;return!1})(F,G)){for(g(F,G+=4),G+=8;G<F.length;){var X=d(F,G),Q=g(F,G+=4);G+=4;var K=Q+(1&Q);switch(X){case"VP8 ":case"VP8L":R.frames[k]===void 0&&(R.frames[k]={}),(H=R.frames[k]).src_off=B?M:G-8,H.src_size=U+Q+8,k++,B&&(B=!1,U=0,M=0);break;case"VP8X":(H=R.header={}).feature_flags=F[G];var Y=G+4;H.canvas_width=1+p(F,Y),Y+=3,H.canvas_height=1+p(F,Y),Y+=3;break;case"ALPH":B=!0,U=K+8,M=G-8;break;case"ANIM":(H=R.header).bgcolor=g(F,G),Y=G+4,H.loop_count=h(F,Y),Y+=2;break;case"ANMF":var ne,H;(H=R.frames[k]={}).offset_x=2*p(F,G),G+=3,H.offset_y=2*p(F,G),G+=3,H.width=1+p(F,G),G+=3,H.height=1+p(F,G),G+=3,H.duration=p(F,G),G+=3,ne=F[G++],H.dispose=1&ne,H.blend=ne>>1&1}X!="ANMF"&&(G+=K)}return R}})(w,0);A.response=w,A.rgbaoutput=!0,A.dataurl=!1;var C=A.header?A.header:null,P=A.frames?A.frames:null;if(C){C.loop_counter=C.loop_count,m=[C.canvas_height],b=[C.canvas_width];for(var E=0;E<P.length&&P[E].blend!=0;E++);}var I=P[0],z=y.WebPDecodeRGBA(w,I.src_off,I.src_size,b,m);I.rgba=z,I.imgwidth=b[0],I.imgheight=m[0];for(var O=0;O<b[0]*m[0]*4;O++)x[O]=z[O];return this.width=b,this.height=m,this.data=x,this}(function(e){var t,n,r,i,a,s,l,c,d,h=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new c,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new s,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new s,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new h}]);var p=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=T;Object.defineProperty(this,"pdf",{get:function(){return V}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(le){J=!!le}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(le){Z=!!le}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(le){isNaN(le)||(oe=le)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(le){isNaN(le)||(se=le)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(le){var Ke;typeof le=="number"?Ke=[le,le,le,le]:((Ke=new Array(4))[0]=le[0],Ke[1]=le.length>=2?le[1]:Ke[0],Ke[2]=le.length>=3?le[2]:Ke[0],Ke[3]=le.length>=4?le[3]:Ke[1]),d.margin=Ke}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(le){fe=le}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(le){de=le}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(le){be=le}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(le){le instanceof h&&(d=le)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(le){d.path=le}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(le){Ee=le}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(le){var Ke;Ke=g(le),this.ctx.fillStyle=Ke.style,this.ctx.isFillTransparent=Ke.a===0,this.ctx.fillOpacity=Ke.a,this.pdf.setFillColor(Ke.r,Ke.g,Ke.b,{a:Ke.a}),this.pdf.setTextColor(Ke.r,Ke.g,Ke.b,{a:Ke.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(le){var Ke=g(le);this.ctx.strokeStyle=Ke.style,this.ctx.isStrokeTransparent=Ke.a===0,this.ctx.strokeOpacity=Ke.a,Ke.a===0?this.pdf.setDrawColor(255,255,255):(Ke.a,this.pdf.setDrawColor(Ke.r,Ke.g,Ke.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(le){["butt","round","square"].indexOf(le)!==-1&&(this.ctx.lineCap=le,this.pdf.setLineCap(le))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(le){isNaN(le)||(this.ctx.lineWidth=le,this.pdf.setLineWidth(le))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(le){["bevel","round","miter"].indexOf(le)!==-1&&(this.ctx.lineJoin=le,this.pdf.setLineJoin(le))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(le){isNaN(le)||(this.ctx.miterLimit=le,this.pdf.setMiterLimit(le))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(le){this.ctx.textBaseline=le}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(le){["right","end","center","left","start"].indexOf(le)!==-1&&(this.ctx.textAlign=le)}});var _e=null,$e=null,He=null;Object.defineProperty(this,"fontFaces",{get:function(){return He},set:function(le){_e=null,$e=null,He=le}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(le){var Ke;if(this.ctx.font=le,(Ke=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(le))!==null){var pt=Ke[1];Ke[2];var xt=Ke[3],Be=Ke[4];Ke[5];var Nt=Ke[6],ot=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Be)[2];Be=Math.floor(ot==="px"?parseFloat(Be)*this.pdf.internal.scaleFactor:ot==="em"?parseFloat(Be)*this.pdf.getFontSize():parseFloat(Be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Be);var st=(function(ft){var _n,pn,un=[],mn=ft.trim();if(mn==="")return I2;if(mn in FE)return[FE[mn]];for(;mn!=="";){switch(pn=null,_n=(mn=qE(mn)).charAt(0)){case'"':case"'":pn=ane(mn.substring(1),_n);break;default:pn=one(mn)}if(pn===null||(un.push(pn[0]),(mn=qE(pn[1]))!==""&&mn.charAt(0)!==","))return I2;mn=mn.replace(/^,/,"")}return un})(Nt);if(this.fontFaces){var Pe=(function(ft,_n){var pn=ft.getFontList(),un=JSON.stringify(pn);if(_e===null||$e!==un){var mn=(function(Un){var Vt=[];return Object.keys(Un).forEach(function(Nn){Un[Nn].forEach(function(Ot){var xe=null;switch(Ot){case"bold":xe={family:Nn,weight:"bold"};break;case"italic":xe={family:Nn,style:"italic"};break;case"bolditalic":xe={family:Nn,weight:"bold",style:"italic"};break;case"":case"normal":xe={family:Nn}}xe!==null&&(xe.ref={name:Nn,style:Ot},Vt.push(xe))})}),Vt})(pn);_e=(function(Un){for(var Vt={},Nn=0;Nn<Un.length;++Nn){var Ot=L2(Un[Nn]),xe=Ot.family,bt=Ot.stretch,Et=Ot.style,At=Ot.weight;Vt[xe]=Vt[xe]||{},Vt[xe][bt]=Vt[xe][bt]||{},Vt[xe][bt][Et]=Vt[xe][bt][Et]||{},Vt[xe][bt][Et][At]=Ot}return Vt})(mn.concat(_n)),$e=un}return _e})(this.pdf,this.fontFaces),Pt=st.map(function(ft){return{family:ft,stretch:"normal",weight:xt,style:pt}}),_t=(function(ft,_n,pn){for(var un=(pn=pn||{}).defaultFontFamily||"times",mn=Object.assign({},ine,pn.genericFontFamilies||{}),Un=null,Vt=null,Nn=0;Nn<_n.length;++Nn)if(mn[(Un=L2(_n[Nn])).family]&&(Un.family=mn[Un.family]),ft.hasOwnProperty(Un.family)){Vt=ft[Un.family];break}if(!(Vt=Vt||ft[un]))throw new Error("Could not find a font-family for the rule '"+$E(Un)+"' and default family '"+un+"'.");if(Vt=(function(Ot,xe){if(xe[Ot])return xe[Ot];var bt=$S[Ot],Et=bt<=$S.normal?-1:1,At=zE(xe,Q7,bt,Et);if(!At)throw new Error("Could not find a matching font-stretch value for "+Ot);return At})(Un.stretch,Vt),Vt=(function(Ot,xe){if(xe[Ot])return xe[Ot];for(var bt=X7[Ot],Et=0;Et<bt.length;++Et)if(xe[bt[Et]])return xe[bt[Et]];throw new Error("Could not find a matching font-style for "+Ot)})(Un.style,Vt),!(Vt=(function(Ot,xe){if(xe[Ot])return xe[Ot];if(Ot===400&&xe[500])return xe[500];if(Ot===500&&xe[400])return xe[400];var bt=rne[Ot],Et=zE(xe,J7,bt,Ot<400?-1:1);if(!Et)throw new Error("Could not find a matching font-weight for value "+Ot);return Et})(Un.weight,Vt)))throw new Error("Failed to resolve a font for the rule '"+$E(Un)+"'.");return Vt})(Pe,Pt);this.pdf.setFont(_t.ref.name,_t.ref.style)}else{var mt="";(xt==="bold"||parseInt(xt,10)>=700||pt==="bold")&&(mt="bold"),pt==="italic"&&(mt+="italic"),mt.length===0&&(mt="normal");for(var vt="",jt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ut=0;ut<st.length;ut++){if(this.pdf.internal.getFont(st[ut],mt,{noFallback:!0,disableWarning:!0})!==void 0){vt=st[ut];break}if(mt==="bolditalic"&&this.pdf.internal.getFont(st[ut],"bold",{noFallback:!0,disableWarning:!0})!==void 0)vt=st[ut],mt="bold";else if(this.pdf.internal.getFont(st[ut],"normal",{noFallback:!0,disableWarning:!0})!==void 0){vt=st[ut],mt="normal";break}}if(vt===""){for(var St=0;St<st.length;St++)if(jt[st[St]]){vt=jt[st[St]];break}}vt=vt===""?"Times":vt,this.pdf.setFont(vt,mt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(le){this.ctx.globalCompositeOperation=le}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(le){this.ctx.globalAlpha=le}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(le){this.ctx.lineDashOffset=le,H.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(le){this.ctx.lineDash=le,H.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(le){this.ctx.ignoreClearRect=!!le}})};p.prototype.setLineDash=function(T){this.lineDash=T},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){P.call(this,"fill",!1)},p.prototype.stroke=function(){P.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(T,V){if(isNaN(T)||isNaN(V))throw Pr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new s(T,V));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new s(T,V)},p.prototype.closePath=function(){var T=new s(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&mr(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){T=new s(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(T.x,T.y)},p.prototype.lineTo=function(T,V){if(isNaN(T)||isNaN(V))throw Pr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new s(T,V));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new s(J.x,J.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},p.prototype.quadraticCurveTo=function(T,V,J,Z){if(isNaN(J)||isNaN(Z)||isNaN(T)||isNaN(V))throw Pr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new s(J,Z)),se=this.ctx.transform.applyToPoint(new s(T,V));this.path.push({type:"qct",x1:se.x,y1:se.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new s(oe.x,oe.y)},p.prototype.bezierCurveTo=function(T,V,J,Z,oe,se){if(isNaN(oe)||isNaN(se)||isNaN(T)||isNaN(V)||isNaN(J)||isNaN(Z))throw Pr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new s(oe,se)),de=this.ctx.transform.applyToPoint(new s(T,V)),be=this.ctx.transform.applyToPoint(new s(J,Z));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:be.x,y2:be.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new s(fe.x,fe.y)},p.prototype.arc=function(T,V,J,Z,oe,se){if(isNaN(T)||isNaN(V)||isNaN(J)||isNaN(Z)||isNaN(oe))throw Pr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new s(T,V));T=fe.x,V=fe.y;var de=this.ctx.transform.applyToPoint(new s(0,J)),be=this.ctx.transform.applyToPoint(new s(0,0));J=Math.sqrt(Math.pow(de.x-be.x,2)+Math.pow(de.y-be.y,2))}Math.abs(oe-Z)>=2*Math.PI&&(Z=0,oe=2*Math.PI),this.path.push({type:"arc",x:T,y:V,radius:J,startAngle:Z,endAngle:oe,counterclockwise:se})},p.prototype.arcTo=function(T,V,J,Z,oe){throw new Error("arcTo not implemented.")},p.prototype.rect=function(T,V,J,Z){if(isNaN(T)||isNaN(V)||isNaN(J)||isNaN(Z))throw Pr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,V),this.lineTo(T+J,V),this.lineTo(T+J,V+Z),this.lineTo(T,V+Z),this.lineTo(T,V),this.lineTo(T+J,V),this.lineTo(T,V)},p.prototype.fillRect=function(T,V,J,Z){if(isNaN(T)||isNaN(V)||isNaN(J)||isNaN(Z))throw Pr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,V,J,Z),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},p.prototype.strokeRect=function(T,V,J,Z){if(isNaN(T)||isNaN(V)||isNaN(J)||isNaN(Z))throw Pr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(T,V,J,Z),this.stroke())},p.prototype.clearRect=function(T,V,J,Z){if(isNaN(T)||isNaN(V)||isNaN(J)||isNaN(Z))throw Pr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,V,J,Z))},p.prototype.save=function(T){T=typeof T!="boolean"||T;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},p.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(V),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(T){var V,J,Z,oe;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))V=0,J=0,Z=0,oe=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(se!==null)V=parseInt(se[1]),J=parseInt(se[2]),Z=parseInt(se[3]),oe=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)V=parseInt(se[1]),J=parseInt(se[2]),Z=parseInt(se[3]),oe=parseFloat(se[4]);else{if(oe=1,typeof T=="string"&&T.charAt(0)!=="#"){var fe=new U7(T);T=fe.ok?fe.toHex():"#000000"}T.length===4?(V=T.substring(1,2),V+=V,J=T.substring(2,3),J+=J,Z=T.substring(3,4),Z+=Z):(V=T.substring(1,3),J=T.substring(3,5),Z=T.substring(5,7)),V=parseInt(V,16),J=parseInt(J,16),Z=parseInt(Z,16)}}return{r:V,g:J,b:Z,a:oe,style:T}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(T,V,J,Z){if(isNaN(V)||isNaN(J)||typeof T!="string")throw Pr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!m.call(this)){var oe=K(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;k.call(this,{text:T,x:V,y:J,scale:se,angle:oe,align:this.textAlign,maxWidth:Z})}},p.prototype.strokeText=function(T,V,J,Z){if(isNaN(V)||isNaN(J)||typeof T!="string")throw Pr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){Z=isNaN(Z)?void 0:Z;var oe=K(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;k.call(this,{text:T,x:V,y:J,scale:se,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:Z})}},p.prototype.measureText=function(T){if(typeof T!="string")throw Pr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,J=this.pdf.internal.scaleFactor,Z=V.internal.getFontSize(),oe=V.getStringUnitWidth(T)*Z/V.internal.scaleFactor;return new function(se){var fe=(se=se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this}({width:oe*=Math.round(96*J/72*1e4)/1e4})},p.prototype.scale=function(T,V){if(isNaN(T)||isNaN(V))throw Pr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new c(T,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},p.prototype.rotate=function(T){if(isNaN(T))throw Pr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new c(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},p.prototype.translate=function(T,V){if(isNaN(T)||isNaN(V))throw Pr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new c(1,0,0,1,T,V);this.ctx.transform=this.ctx.transform.multiply(J)},p.prototype.transform=function(T,V,J,Z,oe,se){if(isNaN(T)||isNaN(V)||isNaN(J)||isNaN(Z)||isNaN(oe)||isNaN(se))throw Pr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new c(T,V,J,Z,oe,se);this.ctx.transform=this.ctx.transform.multiply(fe)},p.prototype.setTransform=function(T,V,J,Z,oe,se){T=isNaN(T)?1:T,V=isNaN(V)?0:V,J=isNaN(J)?0:J,Z=isNaN(Z)?1:Z,oe=isNaN(oe)?0:oe,se=isNaN(se)?0:se,this.ctx.transform=new c(T,V,J,Z,oe,se)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(T,V,J,Z,oe,se,fe,de,be){var Ee=this.pdf.getImageProperties(T),_e=1,$e=1,He=1,le=1;Z!==void 0&&de!==void 0&&(He=de/Z,le=be/oe,_e=Ee.width/Z*de/Z,$e=Ee.height/oe*be/oe),se===void 0&&(se=V,fe=J,V=0,J=0),Z!==void 0&&de===void 0&&(de=Z,be=oe),Z===void 0&&de===void 0&&(de=Ee.width,be=Ee.height);var Ke=this.ctx.transform.decompose(),pt=K(Ke.rotate.shx),xt=new c,Be=(xt=(xt=(xt=xt.multiply(Ke.translate)).multiply(Ke.skew)).multiply(Ke.scale)).applyToRectangle(new l(se-V*He,fe-J*le,Z*_e,oe*$e));if(this.autoPaging){for(var Nt,ot=y.call(this,Be),st=[],Pe=0;Pe<ot.length;Pe+=1)st.indexOf(ot[Pe])===-1&&st.push(ot[Pe]);C(st);for(var Pt=st[0],_t=st[st.length-1],mt=Pt;mt<_t+1;mt++){this.pdf.setPage(mt);var vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],jt=mt===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ft=mt===1?0:ut+(mt-2)*St;if(this.ctx.clip_path.length!==0){var _n=this.path;Nt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(Nt,this.posX+this.margin[3],-ft+jt+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=_n}var pn=JSON.parse(JSON.stringify(Be));pn=A([pn],this.posX+this.margin[3],-ft+jt+this.ctx.prevPageLastElemOffset)[0];var un=(mt>Pt||mt<_t)&&x.call(this);un&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,St,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",pn.x,pn.y,pn.w,pn.h,null,null,pt),un&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(T,"JPEG",Be.x,Be.y,Be.w,Be.h,null,null,pt)};var y=function(T,V,J){var Z=[];V=V||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":Z.push(Math.floor((T.y+oe)/J)+1);break;case"arc":Z.push(Math.floor((T.y+oe-T.radius)/J)+1),Z.push(Math.floor((T.y+oe+T.radius)/J)+1);break;case"qct":var se=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);Z.push(Math.floor((se.y+oe)/J)+1),Z.push(Math.floor((se.y+se.h+oe)/J)+1);break;case"bct":var fe=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);Z.push(Math.floor((fe.y+oe)/J)+1),Z.push(Math.floor((fe.y+fe.h+oe)/J)+1);break;case"rect":Z.push(Math.floor((T.y+oe)/J)+1),Z.push(Math.floor((T.y+T.h+oe)/J)+1)}for(var de=0;de<Z.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<Z[de];)w.call(this);return Z},w=function(){var T=this.fillStyle,V=this.strokeStyle,J=this.font,Z=this.lineCap,oe=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=V,this.font=J,this.lineCap=Z,this.lineWidth=oe,this.lineJoin=se},A=function(T,V,J){for(var Z=0;Z<T.length;Z++)switch(T[Z].type){case"bct":T[Z].x2+=V,T[Z].y2+=J;case"qct":T[Z].x1+=V,T[Z].y1+=J;default:T[Z].x+=V,T[Z].y+=J}return T},C=function(T){return T.sort(function(V,J){return V-J})},P=function(T,V){var J=this.fillStyle,Z=this.strokeStyle,oe=this.lineCap,se=this.lineWidth,fe=Math.abs(se*this.ctx.transform.scaleX),de=this.lineJoin;if(this.autoPaging){for(var be,Ee,_e=JSON.parse(JSON.stringify(this.path)),$e=JSON.parse(JSON.stringify(this.path)),He=[],le=0;le<$e.length;le++)if($e[le].x!==void 0)for(var Ke=y.call(this,$e[le]),pt=0;pt<Ke.length;pt+=1)He.indexOf(Ke[pt])===-1&&He.push(Ke[pt]);for(var xt=0;xt<He.length;xt++)for(;this.pdf.internal.getNumberOfPages()<He[xt];)w.call(this);C(He);for(var Be=He[0],Nt=He[He.length-1],ot=Be;ot<Nt+1;ot++){this.pdf.setPage(ot),this.fillStyle=J,this.strokeStyle=Z,this.lineCap=oe,this.lineWidth=fe,this.lineJoin=de;var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pe=ot===1?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mt=ot===1?0:Pt+(ot-2)*_t;if(this.ctx.clip_path.length!==0){var vt=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(be,this.posX+this.margin[3],-mt+Pe+this.ctx.prevPageLastElemOffset),E.call(this,T,!0),this.path=vt}if(Ee=JSON.parse(JSON.stringify(_e)),this.path=A(Ee,this.posX+this.margin[3],-mt+Pe+this.ctx.prevPageLastElemOffset),V===!1||ot===0){var jt=(ot>Be||ot<Nt)&&x.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,_t,null).clip().discardPath()),E.call(this,T,V),jt&&this.pdf.restoreGraphicsState()}this.lineWidth=se}this.path=_e}else this.lineWidth=fe,E.call(this,T,V),this.lineWidth=se},E=function(T,V){if((T!=="stroke"||V||!b.call(this))&&(T==="stroke"||V||!m.call(this))){for(var J,Z,oe=[],se=this.path,fe=0;fe<se.length;fe++){var de=se[fe];switch(de.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:de,deltas:[],abs:[]});break;case"lt":var be=oe.length;if(se[fe-1]&&!isNaN(se[fe-1].x)&&(J=[de.x-se[fe-1].x,de.y-se[fe-1].y],be>0)){for(;be>=0;be--)if(oe[be-1].close!==!0&&oe[be-1].begin!==!0){oe[be-1].deltas.push(J),oe[be-1].abs.push(de);break}}break;case"bct":J=[de.x1-se[fe-1].x,de.y1-se[fe-1].y,de.x2-se[fe-1].x,de.y2-se[fe-1].y,de.x-se[fe-1].x,de.y-se[fe-1].y],oe[oe.length-1].deltas.push(J);break;case"qct":var Ee=se[fe-1].x+2/3*(de.x1-se[fe-1].x),_e=se[fe-1].y+2/3*(de.y1-se[fe-1].y),$e=de.x+2/3*(de.x1-de.x),He=de.y+2/3*(de.y1-de.y),le=de.x,Ke=de.y;J=[Ee-se[fe-1].x,_e-se[fe-1].y,$e-se[fe-1].x,He-se[fe-1].y,le-se[fe-1].x,Ke-se[fe-1].y],oe[oe.length-1].deltas.push(J);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(de)}}Z=V?null:T==="stroke"?"stroke":"fill";for(var pt=!1,xt=0;xt<oe.length;xt++)if(oe[xt].arc)for(var Be=oe[xt].abs,Nt=0;Nt<Be.length;Nt++){var ot=Be[Nt];ot.type==="arc"?O.call(this,ot.x,ot.y,ot.radius,ot.startAngle,ot.endAngle,ot.counterclockwise,void 0,V,!pt):B.call(this,ot.x,ot.y),pt=!0}else if(oe[xt].close===!0)this.pdf.internal.out("h"),pt=!1;else if(oe[xt].begin!==!0){var st=oe[xt].start.x,Pe=oe[xt].start.y;U.call(this,oe[xt].deltas,st,Pe),pt=!0}Z&&F.call(this,Z),V&&G.call(this)}},I=function(T){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-J;case"top":return T+V-J;case"hanging":return T+V-2*J;case"middle":return T+V/2-J;default:return T}},z=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(V,J){this.colorStops.push([V,J])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(T,V,J,Z,oe,se,fe,de,be){for(var Ee=X.call(this,J,Z,oe,se),_e=0;_e<Ee.length;_e++){var $e=Ee[_e];_e===0&&(be?R.call(this,$e.x1+T,$e.y1+V):B.call(this,$e.x1+T,$e.y1+V)),M.call(this,T,V,$e.x2,$e.y2,$e.x3,$e.y3,$e.x4,$e.y4)}de?G.call(this):F.call(this,fe)},F=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(T,V){this.pdf.internal.out(n(T)+" "+r(V)+" m")},k=function(T){var V;switch(T.align){case"right":case"end":V="right";break;case"center":V="center";break;default:V="left"}var J,Z,oe,se=this.pdf.getTextDimensions(T.text),fe=I.call(this,T.y),de=z.call(this,fe)-se.h,be=this.ctx.transform.applyToPoint(new s(T.x,fe));if(this.autoPaging){var Ee=this.ctx.transform.decompose(),_e=new c;_e=(_e=(_e=_e.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale);for(var $e=this.ctx.transform.applyToRectangle(new l(T.x,fe,se.w,se.h)),He=_e.applyToRectangle(new l(T.x,de,se.w,se.h)),le=y.call(this,He),Ke=[],pt=0;pt<le.length;pt+=1)Ke.indexOf(le[pt])===-1&&Ke.push(le[pt]);C(Ke);for(var xt=Ke[0],Be=Ke[Ke.length-1],Nt=xt;Nt<Be+1;Nt++){this.pdf.setPage(Nt);var ot=Nt===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pe=this.pdf.internal.pageSize.height-this.margin[2],Pt=Pe-this.margin[0],_t=this.pdf.internal.pageSize.width-this.margin[1],mt=_t-this.margin[3],vt=Nt===1?0:st+(Nt-2)*Pt;if(this.ctx.clip_path.length!==0){var jt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(J,this.posX+this.margin[3],-1*vt+ot),E.call(this,"fill",!0),this.path=jt}var ut=A([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-vt+ot+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*T.scale),oe=this.lineWidth,this.lineWidth=oe*T.scale);var St=this.autoPaging!=="text";if(St||ut.y+ut.h<=Pe){if(St||ut.y>=ot&&ut.x<=_t){var ft=St?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||_t-ut.x)[0],_n=A([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-vt+ot+this.ctx.prevPageLastElemOffset)[0],pn=St&&(Nt>xt||Nt<Be)&&x.call(this);pn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,Pt,null).clip().discardPath()),this.pdf.text(ft,_n.x,_n.y,{angle:T.angle,align:V,renderingMode:T.renderingMode}),pn&&this.pdf.restoreGraphicsState()}}else ut.y<Pe&&(this.ctx.prevPageLastElemOffset+=Pe-ut.y);T.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=oe)}}else T.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*T.scale),oe=this.lineWidth,this.lineWidth=oe*T.scale),this.pdf.text(T.text,be.x+this.posX,be.y+this.posY,{angle:T.angle,align:V,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=oe)},B=function(T,V,J,Z){J=J||0,Z=Z||0,this.pdf.internal.out(n(T+J)+" "+r(V+Z)+" l")},U=function(T,V,J){return this.pdf.lines(T,V,J,null,null)},M=function(T,V,J,Z,oe,se,fe,de){this.pdf.internal.out([t(i(J+T)),t(a(Z+V)),t(i(oe+T)),t(a(se+V)),t(i(fe+T)),t(a(de+V)),"c"].join(" "))},X=function(T,V,J,Z){for(var oe=2*Math.PI,se=Math.PI/2;V>J;)V-=oe;var fe=Math.abs(J-V);fe<oe&&Z&&(fe=oe-fe);for(var de=[],be=Z?-1:1,Ee=V;fe>1e-5;){var _e=Ee+be*Math.min(fe,se);de.push(Q.call(this,T,Ee,_e)),fe-=Math.abs(_e-Ee),Ee=_e}return de},Q=function(T,V,J){var Z=(J-V)/2,oe=T*Math.cos(Z),se=T*Math.sin(Z),fe=oe,de=-se,be=fe*fe+de*de,Ee=be+fe*oe+de*se,_e=4/3*(Math.sqrt(2*be*Ee)-Ee)/(fe*se-de*oe),$e=fe-_e*de,He=de+_e*fe,le=$e,Ke=-He,pt=Z+V,xt=Math.cos(pt),Be=Math.sin(pt);return{x1:T*Math.cos(V),y1:T*Math.sin(V),x2:$e*xt-He*Be,y2:$e*Be+He*xt,x3:le*xt-Ke*Be,y3:le*Be+Ke*xt,x4:T*Math.cos(J),y4:T*Math.sin(J)}},K=function(T){return 180*T/Math.PI},Y=function(T,V,J,Z,oe,se){var fe=T+.5*(J-T),de=V+.5*(Z-V),be=oe+.5*(J-oe),Ee=se+.5*(Z-se),_e=Math.min(T,oe,fe,be),$e=Math.max(T,oe,fe,be),He=Math.min(V,se,de,Ee),le=Math.max(V,se,de,Ee);return new l(_e,He,$e-_e,le-He)},ne=function(T,V,J,Z,oe,se,fe,de){var be,Ee,_e,$e,He,le,Ke,pt,xt,Be,Nt,ot,st,Pe,Pt=J-T,_t=Z-V,mt=oe-J,vt=se-Z,jt=fe-oe,ut=de-se;for(Ee=0;Ee<41;Ee++)xt=(Ke=(_e=T+(be=Ee/40)*Pt)+be*((He=J+be*mt)-_e))+be*(He+be*(oe+be*jt-He)-Ke),Be=(pt=($e=V+be*_t)+be*((le=Z+be*vt)-$e))+be*(le+be*(se+be*ut-le)-pt),Ee==0?(Nt=xt,ot=Be,st=xt,Pe=Be):(Nt=Math.min(Nt,xt),ot=Math.min(ot,Be),st=Math.max(st,xt),Pe=Math.max(Pe,Be));return new l(Math.round(Nt),Math.round(ot),Math.round(st-Nt),Math.round(Pe-ot))},H=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,V,J=(T=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:V}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(Gt.API),(function(e){var t=function(s){var l,c,d,h,p,g,m,b,x,y;for(c=[],d=0,h=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;h>d;d+=4)(p=(s.charCodeAt(d)<<24)+(s.charCodeAt(d+1)<<16)+(s.charCodeAt(d+2)<<8)+s.charCodeAt(d+3))!==0?(g=(p=((p=((p=((p=(p-(y=p%85))/85)-(x=p%85))/85)-(b=p%85))/85)-(m=p%85))/85)%85,c.push(g+33,m+33,b+33,x+33,y+33)):c.push(122);return(function(w,A){for(var C=A;C>0;C--)w.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},n=function(s){var l,c,d,h,p,g=String,m="length",b=255,x="charCodeAt",y="slice",w="replace";for(s[y](-2),s=s[y](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),d=[],h=0,p=(s+=l="uuuuu"[y](s[m]%5||5))[m];p>h;h+=5)c=52200625*(s[x](h)-33)+614125*(s[x](h+1)-33)+7225*(s[x](h+2)-33)+85*(s[x](h+3)-33)+(s[x](h+4)-33),d.push(b&c>>24,b&c>>16,b&c>>8,b&c);return(function(A,C){for(var P=C;P>0;P--)A.pop()})(d,l[m]),g.fromCharCode.apply(g,d)},r=function(s){return s.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var c="",d=0;d<s.length;d+=2)c+=String.fromCharCode("0x"+(s[d]+s[d+1]));return c},a=function(s){for(var l=new Uint8Array(s.length),c=s.length;c--;)l[c]=s.charCodeAt(c);return(l=DS(l)).reduce(function(d,h){return d+String.fromCharCode(h)},"")};e.processDataByFilters=function(s,l){var c=0,d=s||"",h=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=n(d),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=i(d),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=a(d),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:h.reverse().join(" ")}}})(Gt.API),(function(e){e.loadFile=function(t,n,r){return(function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=(function(c,d,h){var p=new XMLHttpRequest,g=0,m=function(b){var x=b.length,y=[],w=String.fromCharCode;for(g=0;g<x;g+=1)y.push(w(255&b.charCodeAt(g)));return y.join("")};if(p.open("GET",c,!d),p.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(p.onload=function(){p.status===200?h(m(this.responseText)):h(void 0)}),p.send(null),d&&p.status===200)return m(p.responseText)})(i,a,s)}catch{}return l})(t,n,r)},e.loadImageFile=e.loadFile})(Gt.API),(function(e){function t(){return(xn.html2canvas?Promise.resolve(xn.html2canvas):g2(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function n(){return(xn.DOMPurify?Promise.resolve(xn.DOMPurify):g2(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var c=mr(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var d=document.createElement(l);for(var h in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[h]=c.style[h];return d},a=function l(c,d){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)d!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(l(p,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h},s=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),h=l.convert(Promise.resolve(),d);return(h=h.setProgress(1,l,1,[l])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,c){return l.__proto__=c||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(n).then(function(d){return this.set({src:i("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=h,h)for(var m=0;m<h.length;++m){var b=h[m],x=b.src.find(function(y){return y.format==="truetype"});x&&d.addFont(x.url,b.ref.name,b.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,d.context2d.save(!0),c(this.prop.container,g)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},s.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(r(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in s.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(l,c){return this.then(function(){var d=l in s.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},s.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function c(d,h){return Math.floor(d*h/72*96)}return this.then(function(){(l=l||Gt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,c,d,h){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,c,d,h){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(h,p){return d.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return d.updateProgress(null,h),g}).then(h,p).then(function(g){return d.updateProgress(1),g})})},s.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then;var h=this;l&&(l=l.bind(h)),c&&(c=c.bind(h));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:s.convert(Object.assign({},h),Promise.prototype),g=d.call(p,l,c);return s.convert(g,h.__proto__)},s.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},s.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},s.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return s.convert(c,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Gt.getPageSize=function(l,c,d){if(mr(l)==="object"){var h=l;l=h.orientation,c=h.unit||c,d=h.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var p,g=(""+d).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var b,x=0,y=0;if(m.hasOwnProperty(g))x=m[g][1]/p,y=m[g][0]/p;else try{x=d[1],y=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",y>x&&(b=y,y=x,x=b);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",x>y&&(b=y,y=x,x=b)}return{width:y,height:x,unit:c,k:p,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(L2):null;var d=new s(c);return c.worker?d:d.from(l).doCallback()}})(Gt.API),Gt.API.addJS=function(e){return UE=e,this.internal.events.subscribe("postPutResources",function(){Z0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Z0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),BE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+UE+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Z0!==void 0&&BE!==void 0&&this.internal.out("/Names <</JavaScript "+Z0+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],l=r.exec(s);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,h=[];for(a=0;a<d;a++){var p=n.internal.newObject();h.push(p);var g=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<h.length;a++)n.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var c=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])})(Gt.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,a,s,l){var c,d=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=(function(p){for(var g,m=256*p.charCodeAt(4)+p.charCodeAt(5),b=p.length,x={width:0,height:0,numcomponents:1},y=4;y<b;y+=2){if(y+=m,t.indexOf(p.charCodeAt(y+1))!==-1){g=256*p.charCodeAt(y+5)+p.charCodeAt(y+6),x={width:256*p.charCodeAt(y+7)+p.charCodeAt(y+8),height:g,numcomponents:p.charCodeAt(y+9)};break}m=256*p.charCodeAt(y+2)+p.charCodeAt(y+3)}return x})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:r,alias:i}}return h}})(Gt.API),Gt.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=Ute(e,{checkCrc:!0}),s=a.width,l=a.height,c=a.channels,d=a.palette,h=a.depth;i=d&&c===1?(function(O){for(var F=O.width,G=O.height,R=O.data,k=O.palette,B=O.depth,U=!1,M=[],X=[],Q=void 0,K=!1,Y=0,ne=0;ne<k.length;ne++){var H=GP(k[ne],4),T=H[0],V=H[1],J=H[2],Z=H[3];M.push(T,V,J),Z!=null&&(Z===0?(Y++,X.length<1&&X.push(ne)):Z<255&&(K=!0))}if(K||Y>1){U=!0,X=void 0;var oe=F*G;Q=new Uint8Array(oe);for(var se=new DataView(R.buffer),fe=0;fe<oe;fe++){var de=R2(se,fe,B),be=GP(k[de],4)[3];Q[fe]=be}}else Y===0&&(X=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:U?8:void 0,colorBytes:R,alphaBytes:Q,needSMask:U,palette:M,mask:X}})(a):c===2||c===4?(function(O){for(var F=O.data,G=O.width,R=O.height,k=O.channels,B=O.depth,U=k===2?"DeviceGray":"DeviceRGB",M=k-1,X=G*R,Q=M,K=X*Q,Y=1*X,ne=Math.ceil(K*B/8),H=Math.ceil(Y*B/8),T=new Uint8Array(ne),V=new Uint8Array(H),J=new DataView(F.buffer),Z=new DataView(T.buffer),oe=new DataView(V.buffer),se=!1,fe=0;fe<X;fe++){for(var de=fe*k,be=0;be<Q;be++)JE(Z,R2(J,de+be,B),fe*Q+be,B);var Ee=R2(J,de+Q,B);Ee<(1<<B)-1&&(se=!0),JE(oe,Ee,1*fe,B)}return{colorSpace:U,colorsPerPixel:M,sMaskBitsPerComponent:se?B:void 0,colorBytes:T,alphaBytes:V,needSMask:se}})(a):(function(O){var F=O.data,G=O.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:G,colorsPerPixel:G==="DeviceGray"?1:3,colorBytes:F instanceof Uint16Array?(function(R){for(var k=R.length,B=new Uint8Array(2*k),U=new DataView(B.buffer,B.byteOffset,B.byteLength),M=0;M<k;M++)U.setUint16(2*M,R[M],!1);return B})(F):F,needSMask:!1}})(a);var p,g,m,b=i,x=b.colorSpace,y=b.colorsPerPixel,w=b.sMaskBitsPerComponent,A=b.colorBytes,C=b.alphaBytes,P=b.needSMask,E=b.palette,I=b.mask,z=null;return r!==Gt.API.image_compression.NONE&&typeof DS=="function"?(z=(function(O){var F;switch(O){case Gt.API.image_compression.FAST:F=11;break;case Gt.API.image_compression.MEDIUM:F=13;break;case Gt.API.image_compression.SLOW:F=14;break;default:F=12}return F})(r),p=this.decode.FLATE_DECODE,g="/Predictor ".concat(z," /Colors ").concat(y," /BitsPerComponent ").concat(h," /Columns ").concat(s),e=GE(A,Math.ceil(s*y*h/8),y,h,r),P&&(m=GE(C,Math.ceil(s*w/8),1,w,r))):(p=void 0,g=void 0,e=A,P&&(m=C)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:n,data:e,index:t,filter:p,decodeParameters:g,transparency:I,palette:E,sMask:m,predictor:z,width:s,height:l,bitsPerComponent:h,sMaskBitsPerComponent:w,colorSpace:x}}},(function(e){e.processGIF89A=function(t,n,r,i){var a=new une(t),s=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:s,height:l},h=new M2(100).encode(d,100);return e.processJPEG.call(this,h,n,r,i)},e.processGIF87A=e.processGIF89A})(Gt.API),Ys.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ys.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Pr.log("bit decode error:"+n)}},Ys.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[s+4*l]=c.blue,this.data[s+4*l+1]=c.green,this.data[s+4*l+2]=c.red,this.data[s+4*l+3]=255}n!==0&&(this.pos+=4-n)}},Ys.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,l=a>>4,c=15&a,d=this.palette[l];if(this.data[s]=d.blue,this.data[s+1]=d.green,this.data[s+2]=d.red,this.data[s+3]=255,2*i+1>=this.width)break;d=this.palette[c],this.data[s+4]=d.blue,this.data[s+4+1]=d.green,this.data[s+4+2]=d.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Ys.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Ys.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,d=a>>15?255:0,h=r*this.width*4+4*i;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=s,this.data[h+3]=d}this.pos+=e}},Ys.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&t)/t*255|0,c=(s>>5&n)/n*255|0,d=(s>>11)/t*255|0,h=i*this.width*4+4*a;this.data[h]=d,this.data[h+1]=c,this.data[h+2]=l,this.data[h+3]=255}this.pos+=e}},Ys.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Ys.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=s}},Ys.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,n,r,i){var a=new Ys(t,!1),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},d=new M2(100).encode(c,100);return e.processJPEG.call(this,d,n,r,i)}})(Gt.API),ek.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,n,r,i){var a=new ek(t),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},d=new M2(100).encode(c,100);return e.processJPEG.call(this,d,n,r,i)}})(Gt.API),Gt.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),l=0,c=0,d=0;d<i;d+=4){var h=r[d],p=r[d+1],g=r[d+2],m=r[d+3];a[l++]=h,a[l++]=p,a[l++]=g,s[c++]=m}var b=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:b,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Gt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},lp=Gt.API,ey=lp.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:i.metadata.Unicode.kerning,h=d.fof?d.fof:1,p=t.doKerning!==!1,g=0,m=e.length,b=0,x=l[0]||c,y=[];for(n=0;n<m;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?y.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(g=p&&mr(d[r])==="object"&&!isNaN(parseInt(d[r][b],10))?d[r][b]/h:0,y.push((l[r]||x)/c+g)),b=r;return y},HE=lp.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return lp.processArabic&&(e=lp.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:ey.apply(this,arguments).reduce(function(a,s){return a+s},0)},WE=function(e,t,n,r){for(var i=[],a=0,s=e.length,l=0;a!==s&&l+t[a]<n;)l+=t[a],a++;i.push(e.slice(0,a));var c=a;for(l=0;a!==s;)l+t[a]>r&&(i.push(e.slice(c,a)),l=0,c=a),l+=t[a],a++;return c!==a&&i.push(e.slice(c,a)),i},VE=function(e,t,n){n||(n={});var r,i,a,s,l,c,d,h=[],p=[h],g=n.textIndent||0,m=0,b=0,x=e.split(" "),y=ey.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?x[0].length+2:n.lineIndent||0){var w=Array(c).join(" "),A=[];x.map(function(P){(P=P.split(/\s*\n/)).length>1?A=A.concat(P.map(function(E,I){return(I&&E.length?`
`:"")+E})):A.push(P[0])}),x=A,c=HE.apply(this,[w,n])}for(a=0,s=x.length;a<s;a++){var C=0;if(r=x[a],c&&r[0]==`
`&&(r=r.substr(1),C=1),g+m+(b=(i=ey.apply(this,[r,n])).reduce(function(P,E){return P+E},0))>t||C){if(b>t){for(l=WE.apply(this,[r,i,t-(g+m),t]),h.push(l.shift()),h=[l.pop()];l.length;)p.push([l.shift()]);b=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(P,E){return P+E},0)}else h=[r];p.push(h),g=b+c,m=y}else h.push(r),g+=m+b,m=y}return d=c?function(P,E){return(E?w:"")+P.join(" ")}:function(P){return P.join(" ")},p.map(d)},lp.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var p=this.internal.getFont(h.fontName,h.fontStyle),g="Unicode";return p.metadata[g]?{widths:p.metadata[g].widths||{0:1},kerning:p.metadata[g].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var l,c,d=[];for(l=0,c=r.length;l<c;l++)d=d.concat(VE.apply(this,[r[l],s,a]));return d},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=t[a],i[t[a]]=n[a];var s=function(g){return"0x"+parseInt(g,10).toString(16)},l=e.__fontmetrics__.compress=function(g){var m,b,x,y,w=["{"];for(var A in g){if(m=g[A],isNaN(parseInt(A,10))?b="'"+A+"'":(A=parseInt(A,10),b=(b=s(A).slice(2)).slice(0,-1)+i[b.slice(-1)]),typeof m=="number")m<0?(x=s(m).slice(3),y="-"):(x=s(m).slice(2),y=""),x=y+x.slice(0,-1)+i[x.slice(-1)];else{if(mr(m)!=="object")throw new Error("Don't know what to do with value type "+mr(m)+".");x=l(m)}w.push(b+x)}return w.push("}"),w.join("")},c=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,b,x,y,w={},A=1,C=w,P=[],E="",I="",z=g.length-1,O=1;O<z;O+=1)(y=g[O])=="'"?m?(x=m.join(""),m=void 0):m=[]:m?m.push(y):y=="{"?(P.push([C,x]),C={},x=void 0):y=="}"?((b=P.pop())[0][b[1]]=C,x=void 0,C=b[0]):y=="-"?A=-1:x===void 0?r.hasOwnProperty(y)?(E+=r[y],x=parseInt(E,16)*A,A=1,E=""):E+=y:r.hasOwnProperty(y)?(I+=r[y],C[x]=parseInt(I,16)*A,A=1,x=void 0,I=""):I+=y;return w},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var m=g.font,b=p.Unicode[m.postScriptName];b&&(m.metadata.Unicode={},m.metadata.Unicode.widths=b.widths,m.metadata.Unicode.kerning=b.kerning);var x=h.Unicode[m.postScriptName];x&&(m.metadata.Unicode.encoding=x,m.encoding=x.codePages[0])}])})(Gt.API),(function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(jy(l)),s.metadata=e.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])})(Gt),Gt.API.addSvgAsImage=function(e,t,n,r,i,a,s,l){if(isNaN(t)||isNaN(n))throw Pr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Pr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(xn.canvg?Promise.resolve(xn.canvg):g2(()=>import("./index.es-BtHtEgIv.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(d,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),t,n,r,i,s,l)})},Gt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},Gt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],d=0,h=0,p=0;function g(b,x){var y,w=!1;for(y=0;y<b.length;y+=1)b[y]===x&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=l.length;for(p=0;p<m;p+=1)n[l[p]].value=n[l[p]].defaultValue,n[l[p]].explicitSet=!1}if(mr(e)==="object"){for(i in e)if(a=e[i],g(l,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&g(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(d=0;d<a.length;d+=1)if(r=!0,a[d].length===1&&typeof a[d][0]=="number")c.push(String(a[d]-1));else if(a[d].length>1){for(h=0;h<a[d].length;h+=1)typeof a[d][h]!="number"&&(r=!1);r===!0&&c.push([a[d][0]-1,a[d][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,x=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?x.push("/"+b+" /"+n[b].value):x.push("/"+b+" "+n[b].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+s.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}})(Gt.API),(function(e){var t=e.API,n=t.pdfEscape16=function(a,s){for(var l,c=s.metadata.Unicode.widths,d=["","0","00","000","0000"],h=[""],p=0,g=a.length;p<g;++p){if(l=s.metadata.characterToGlyph(a.charCodeAt(p)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=a.charCodeAt(p),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(d[4-l.length],l)}return h.join("")},r=function(a){var s,l,c,d,h,p,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,g=(l=Object.keys(a).sort(function(m,b){return m-b})).length;p<g;p++)s=l[p],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(d=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+d+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,d=s.newObject,h=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var p=l.metadata.Unicode.widths,g=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",b=0;b<g.length;b++)m+=String.fromCharCode(g[b]);var x=d();h({data:m,addLength1:!0,objectId:x}),c("endobj");var y=d();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var w=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+mp(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var A=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+mp(l.fontName)),c("/FontDescriptor "+w+" 0 R"),c("/W "+e.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+y+" 0 R"),c("/BaseFont /"+mp(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+A+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,d=s.newObject,h=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var p=l.metadata.rawData,g="",m=0;m<p.length;m++)g+=String.fromCharCode(p[m]);var b=d();h({data:g,addLength1:!0,objectId:b}),c("endobj");var x=d();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var y=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+b+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+mp(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var w=0;w<l.metadata.hmtx.widths.length;w++)l.metadata.hmtx.widths[w]=parseInt(l.metadata.hmtx.widths[w]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+mp(l.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,l=a.text||"",c=a.x,d=a.y,h=a.options||{},p=a.mutex||{},g=p.pdfEscape,m=p.activeFontKey,b=p.fonts,x=m,y="",w=0,A="",C=b[x].encoding;if(b[x].encoding!=="Identity-H")return{text:l,x:c,y:d,options:h,mutex:p};for(A=l,x=m,Array.isArray(l)&&(A=l[0]),w=0;w<A.length;w+=1)b[x].metadata.hasOwnProperty("cmap")&&(s=b[x].metadata.cmap.unicode.codeMap[A[w].charCodeAt(0)]),s||A[w].charCodeAt(0)<256&&b[x].metadata.hasOwnProperty("Unicode")?y+=A[w]:y+="";var P="";return parseInt(x.slice(1))<14||C==="WinAnsiEncoding"?P=g(y,x).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(P=n(y,b[x])),p.isHex=!0,{text:P,x:c,y:d,options:h,mutex:p}};t.events.push(["postProcessText",function(a){var s=a.text||"",l=[],c={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var d=0;for(d=0;d<s.length;d+=1)Array.isArray(s[d])&&s[d].length===3?l.push([i(Object.assign({},c,{text:s[d][0]})).text,s[d][1],s[d][2]]):l.push(i(Object.assign({},c,{text:s[d]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:s})).text}])})(Gt),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(Gt.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,a,s,l,c,d,h,p=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,C=0;this.__bidiEngine__={};var P=function(R){var k=R.charCodeAt(),B=k>>8,U=x[B];return U!==void 0?p[256*U+(255&k)]:B===252||B===253?"AL":w.test(B)?"L":B===8?"R":"N"},E=function(R){for(var k,B=0;B<R.length;B++){if((k=P(R.charAt(B)))==="L")return!1;if(k==="R")return!0}return!1},I=function(R,k,B,U){var M,X,Q,K,Y=k[U];switch(Y){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"N":case"AN":break;case"EN":A&&(Y="AN");break;case"AL":A=!0,Y="R";break;case"WS":case"BN":Y="N";break;case"CS":U<1||U+1>=k.length||(M=B[U-1])!=="EN"&&M!=="AN"||(X=k[U+1])!=="EN"&&X!=="AN"?Y="N":A&&(X="AN"),Y=X===M?X:"N";break;case"ES":Y=(M=U>0?B[U-1]:"B")==="EN"&&U+1<k.length&&k[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&B[U-1]==="EN"){Y="EN";break}if(A){Y="N";break}for(Q=U+1,K=k.length;Q<K&&k[Q]==="ET";)Q++;Y=Q<K&&k[Q]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(K=k.length,Q=U+1;Q<K&&k[Q]==="NSM";)Q++;if(Q<K){var ne=R[U],H=ne>=1425&&ne<=2303||ne===64286;if(M=k[Q],H&&(M==="R"||M==="AL")){Y="R";break}}}Y=U<1||(M=k[U-1])==="B"?"N":B[U-1];break;case"B":A=!1,i=!0,Y=C;break;case"S":a=!0,Y="N"}return Y},z=function(R,k,B){var U=R.split("");return B&&O(U,B,{hiLevel:C}),U.reverse(),k&&k.reverse(),U.join("")},O=function(R,k,B){var U,M,X,Q,K,Y=-1,ne=R.length,H=0,T=[],V=C?m:g,J=[];for(A=!1,i=!1,a=!1,M=0;M<ne;M++)J[M]=P(R[M]);for(X=0;X<ne;X++){if(K=H,T[X]=I(R,J,T,X),U=240&(H=V[K][b[T[X]]]),H&=15,k[X]=Q=V[H][5],U>0)if(U===16){for(M=Y;M<X;M++)k[M]=1;Y=-1}else Y=-1;if(V[H][6])Y===-1&&(Y=X);else if(Y>-1){for(M=Y;M<X;M++)k[M]=Q;Y=-1}J[X]==="B"&&(k[X]=0),B.hiLevel|=Q}a&&(function(Z,oe,se){for(var fe=0;fe<se;fe++)if(Z[fe]==="S"){oe[fe]=C;for(var de=fe-1;de>=0&&Z[de]==="WS";de--)oe[de]=C}})(J,k,ne)},F=function(R,k,B,U,M){if(!(M.hiLevel<R)){if(R===1&&C===1&&!i)return k.reverse(),void(B&&B.reverse());for(var X,Q,K,Y,ne=k.length,H=0;H<ne;){if(U[H]>=R){for(K=H+1;K<ne&&U[K]>=R;)K++;for(Y=H,Q=K-1;Y<Q;Y++,Q--)X=k[Y],k[Y]=k[Q],k[Q]=X,B&&(X=B[Y],B[Y]=B[Q],B[Q]=X);H=K}H++}}},G=function(R,k,B){var U=R.split(""),M={hiLevel:C};return B||(B=[]),O(U,B,M),(function(X,Q,K){if(K.hiLevel!==0&&h)for(var Y,ne=0;ne<X.length;ne++)Q[ne]===1&&(Y=y.indexOf(X[ne]))>=0&&(X[ne]=y[Y+1])})(U,B,M),F(2,U,k,B,M),F(1,U,k,B,M),U.join("")};return this.__bidiEngine__.doBidiReorder=function(R,k,B){if((function(M,X){if(X)for(var Q=0;Q<M.length;Q++)X[Q]=Q;l===void 0&&(l=E(M)),d===void 0&&(d=E(M))})(R,k),s||!c||d)if(s&&c&&l^d)C=l?1:0,R=z(R,k,B);else if(!s&&c&&d)C=l?1:0,R=G(R,k,B),R=z(R,k);else if(!s||l||c||d){if(s&&!c&&l^d)R=z(R,k),l?(C=0,R=G(R,k,B)):(C=1,R=G(R,k,B),R=z(R,k));else if(s&&l&&!c&&d)C=1,R=G(R,k,B),R=z(R,k);else if(!s&&!c&&l^d){var U=h;l?(C=1,R=G(R,k,B),C=0,h=!1,R=G(R,k,B),h=U):(C=0,R=G(R,k,B),R=z(R,k),C=1,h=!1,R=G(R,k,B),h=U,R=z(R,k))}}else C=0,R=G(R,k,B);else C=l?1:0,R=G(R,k,B);return R},this.__bidiEngine__.setOptions=function(R){R&&(s=R.isInputVisual,c=R.isOutputVisual,l=R.isInputRtl,d=R.isOutputRtl,h=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(s=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?s.push([n.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):s.push([n.doBidiReorder(i[l])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(Gt),Gt.API.TTFFont=(function(){function e(t){var n;if(this.rawData=t,n=this.contents=new kd(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Nne(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new dne(this.contents),this.head=new hne(this),this.name=new yne(this),this.cmap=new eF(this),this.toUnicode={},this.hhea=new pne(this),this.maxp=new xne(this),this.hmtx=new bne(this),this.post=new gne(this),this.os2=new mne(this),this.loca=new Sne(this),this.glyf=new wne(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,c,d;for(d=[],s=0,l=(c=this.bbox).length;s<l;s++)t=c[s],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,a,s,l;for(s=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=t.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e})();var hl,kd=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,a,s,l,c;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*s+256*l+c},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,a;for(a=[],r=0,i=t.length;r<i;r++)n=t[r],a.push(this.writeByte(n));return a},e})(),dne=(function(){var e;function t(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,a,s,l,c,d,h,p,g,m,b,x;for(x in m=Object.keys(n).length,c=Math.log(2),p=16*Math.floor(Math.log(m)/c),s=Math.floor(p/c),h=16*m-p,(i=new kd).writeInt(this.scalarType),i.writeShort(m),i.writeShort(p),i.writeShort(s),i.writeShort(h),a=16*m,d=i.pos+a,l=null,b=[],n)for(g=n[x],i.writeString(x),i.writeInt(e(g)),i.writeInt(d),i.writeInt(g.length),b=b.concat(g),x==="head"&&(l=d),d+=g.length;d%4;)b.push(0),d++;return i.write(b),r=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(r),i.data},e=function(n){var r,i,a,s;for(n=tF.call(n);n.length%4;)n.push(0);for(a=new kd(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},t})(),fne={}.hasOwnProperty,ic=function(e,t){for(var n in t)fne.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};hl=(function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var hne=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ic(e,hl),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new kd).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e})(),tk=(function(){function e(t,n){var r,i,a,s,l,c,d,h,p,g,m,b,x,y,w,A,C;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(m=t.readUInt16(),g=m/2,t.pos+=6,a=(function(){var P,E;for(E=[],c=P=0;0<=g?P<g:P>g;c=0<=g?++P:--P)E.push(t.readUInt16());return E})(),t.pos+=2,x=(function(){var P,E;for(E=[],c=P=0;0<=g?P<g:P>g;c=0<=g?++P:--P)E.push(t.readUInt16());return E})(),d=(function(){var P,E;for(E=[],c=P=0;0<=g?P<g:P>g;c=0<=g?++P:--P)E.push(t.readUInt16());return E})(),h=(function(){var P,E;for(E=[],c=P=0;0<=g?P<g:P>g;c=0<=g?++P:--P)E.push(t.readUInt16());return E})(),i=(this.length-t.pos+this.offset)/2,l=(function(){var P,E;for(E=[],c=P=0;0<=i?P<i:P>i;c=0<=i?++P:--P)E.push(t.readUInt16());return E})(),c=w=0,C=a.length;w<C;c=++w)for(y=a[c],r=A=b=x[c];b<=y?A<=y:A>=y;r=b<=y?++A:--A)h[c]===0?s=r+d[c]:(s=l[h[c]/2+(r-b)-(g-c)]||0)!==0&&(s+=d[c]),this.codeMap[r]=65535&s}t.pos=p}return e.encode=function(t,n){var r,i,a,s,l,c,d,h,p,g,m,b,x,y,w,A,C,P,E,I,z,O,F,G,R,k,B,U,M,X,Q,K,Y,ne,H,T,V,J,Z,oe,se,fe,de,be,Ee,_e;switch(U=new kd,s=Object.keys(t).sort(function($e,He){return $e-He}),n){case"macroman":for(x=0,y=(function(){var $e=[];for(b=0;b<256;++b)$e.push(0);return $e})(),A={0:0},a={},M=0,Y=s.length;M<Y;M++)A[de=t[i=s[M]]]==null&&(A[de]=++x),a[i]={old:t[i],new:A[t[i]]},y[i]=A[t[i]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(y),{charMap:a,subtable:U.data,maxGlyphID:x+1};case"unicode":for(k=[],p=[],C=0,A={},r={},w=d=null,X=0,ne=s.length;X<ne;X++)A[E=t[i=s[X]]]==null&&(A[E]=++C),r[i]={old:E,new:A[E]},l=A[E]-i,w!=null&&l===d||(w&&p.push(w),k.push(i),d=l),w=i;for(w&&p.push(w),p.push(65535),k.push(65535),G=2*(F=k.length),O=2*Math.pow(Math.log(F)/Math.LN2,2),g=Math.log(O/2)/Math.LN2,z=2*F-O,c=[],I=[],m=[],b=Q=0,H=k.length;Q<H;b=++Q){if(R=k[b],h=p[b],R===65535){c.push(0),I.push(0);break}if(R-(B=r[R].new)>=32768)for(c.push(0),I.push(2*(m.length+F-b)),i=K=R;R<=h?K<=h:K>=h;i=R<=h?++K:--K)m.push(r[i].new);else c.push(B-R),I.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*F+2*m.length),U.writeUInt16(0),U.writeUInt16(G),U.writeUInt16(O),U.writeUInt16(g),U.writeUInt16(z),se=0,T=p.length;se<T;se++)i=p[se],U.writeUInt16(i);for(U.writeUInt16(0),fe=0,V=k.length;fe<V;fe++)i=k[fe],U.writeUInt16(i);for(be=0,J=c.length;be<J;be++)l=c[be],U.writeUInt16(l);for(Ee=0,Z=I.length;Ee<Z;Ee++)P=I[Ee],U.writeUInt16(P);for(_e=0,oe=m.length;_e<oe;_e++)x=m[_e],U.writeUInt16(x);return{charMap:r,subtable:U.data,maxGlyphID:C+1}}},e})(),eF=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ic(e,hl),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,r,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new tk(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var r,i;return n==null&&(n="macroman"),r=tk.encode(t,n),(i=new kd).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},e})(),pne=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ic(e,hl),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),mne=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ic(e,hl),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(t.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(t.readInt());return r})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(t.readInt());return r})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),gne=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ic(e,hl),e.prototype.tag="post",e.prototype.parse=function(t){var n,r,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)n=t.readByte(),i.push(this.names.push(t.readString(n)));return i;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var s,l,c;for(c=[],a=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;a=0<=l?++s:--s)c.push(t.readUInt32());return c}).call(this)}},e})(),vne=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},yne=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ic(e,hl),e.prototype.tag="name",e.prototype.parse=function(t){var n,r,i,a,s,l,c,d,h,p,g;for(t.pos=this.offset,t.readShort(),n=t.readShort(),l=t.readShort(),r=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},a=h=0,p=r.length;h<p;a=++h)i=r[a],t.pos=i.offset,d=t.readString(i.length),s=new vne(d,i),c[g=i.nameID]==null&&(c[g]=[]),c[i.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e})(),xne=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ic(e,hl),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),bne=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ic(e,hl),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,r,i,a,s,l,c;for(t.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,h;for(h=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)h.push(t.readInt16());return h})(),this.widths=(function(){var d,h,p,g;for(g=[],d=0,h=(p=this.metrics).length;d<h;d++)a=p[d],g.push(a.advance);return g}).call(this),r=this.widths[this.widths.length-1],c=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)c.push(this.widths.push(r));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),tF=[].slice,wne=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ic(e,hl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,r,i,a,s,l,c,d,h,p;return t in this.cache?this.cache[t]:(a=this.file.loca,n=this.file.contents,r=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+r,s=(l=new kd(n.read(i))).readShort(),d=l.readShort(),p=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[t]=s===-1?new jne(l,d,p,c,h):new _ne(l,s,d,p,c,h),this.cache[t]))},e.prototype.encode=function(t,n,r){var i,a,s,l,c;for(s=[],a=[],l=0,c=n.length;l<c;l++)i=t[n[l]],a.push(s.length),i&&(s=s.concat(i.encode(r)));return a.push(s.length),{table:s,offsets:a}},e})(),_ne=(function(){function e(t,n,r,i,a,s){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),jne=(function(){function e(t,n,r,i,a){var s,l;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new kd(tF.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e})(),Sne=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ic(e,hl),e.prototype.tag="loca",e.prototype.parse=function(t){var n,r;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<r.length;++s)if(r[s]=i,a<n.length&&n[a]==s){++a,r[s]=i;var l=this.offsets[s],c=this.offsets[s+1]-l;c>0&&(i+=c)}for(var d=new Array(4*r.length),h=0;h<r.length;++h)d[4*h+3]=255&r[h],d[4*h+2]=(65280&r[h])>>8,d[4*h+1]=(16711680&r[h])>>16,d[4*h]=(4278190080&r[h])>>24;return d},e})(),Nne=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,a,s,l,c;for(i={},s=0,l=t.length;s<l;s++)i[a=t[s]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in c=this.glyphsFor(n))r=c[a],i[a]=r;return i},e.prototype.encode=function(t,n){var r,i,a,s,l,c,d,h,p,g,m,b,x,y,w;for(i in r=eF.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),m={0:0},w=r.charMap)m[(c=w[i]).old]=c.new;for(b in g=r.maxGlyphID,s)b in m||(m[b]=g++);return h=(function(A){var C,P;for(C in P={},A)P[A[C]]=C;return P})(m),p=Object.keys(h).sort(function(A,C){return A-C}),x=(function(){var A,C,P;for(P=[],A=0,C=p.length;A<C;A++)l=p[A],P.push(h[l]);return P})(),a=this.font.glyf.encode(s,x,m),d=this.font.loca.encode(a.offsets,x),y={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e})();Gt.API.PDFObject=(function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,a,s;if(Array.isArray(n))return"["+(function(){var l,c,d;for(d=[],l=0,c=n.length;l<c;l++)r=n[l],d.push(t.convert(r));return d})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)s=n[i],a.push("/"+i+" "+t.convert(s));return a.push(">>"),a.join(`
`)}return""+n},t})();const Kp=async(e,t,n=null)=>{var i;let r=null;if(e.user_id)try{const a=await we.entities.DatiFatturazione.filter({user_id:e.user_id});a[0]&&(r=a[0])}catch(a){console.log("Error fetching billing data for receipt",a)}try{const a=new Gt,s=a.internal.pageSize.width;a.setFontSize(20),a.setTextColor(5,60,94),a.text("neu [ni]",20,20),a.setFontSize(10),a.setTextColor(100),a.text("spazio al lavoro APS",20,25),a.text("Via Alloro 64, 90133 Palermo",20,30),a.text("C.F. 97334130823",20,35),a.text("info@neunoi.it",20,40);const l=e.numero_ricevuta?`${e.numero_ricevuta} / ${new Date(e.data_ordine).getFullYear()}`:e.id;a.setFontSize(12),a.setTextColor(0),a.text(`RICEVUTA #${l}`,s-20,20,{align:"right"}),a.setFontSize(10),a.text(`Data: ${new Date(e.data_ordine).toLocaleDateString("it-IT")}`,s-20,26,{align:"right"});const c=e.stato_pagamento==="pagato",d=e.stato==="annullato";if(d&&(a.setFontSize(40),a.setTextColor(230,230,230),a.text("ANNULLATA",s/2,80,{align:"center",angle:45})),a.setFontSize(10),d?(a.setTextColor(150,150,150),a.setFont("helvetica","bold"),a.text("STATO: ANNULLATA / STORNO",s-20,32,{align:"right"})):(c?a.setTextColor(31,122,140):a.setTextColor(219,34,42),a.setFont("helvetica","bold"),a.text(`STATO: ${c?"PAGATA":"DA PAGARE"}`,s-20,32,{align:"right"})),a.setFont("helvetica","normal"),a.setFontSize(11),a.setTextColor(5,60,94),a.text("Intestato a:",20,55),a.setFontSize(10),a.setTextColor(0),r){a.text(r.ragione_sociale||e.profilo_nome_completo||"",20,62);let w=67;a.text(r.indirizzo||"",20,w),w+=5,a.text(`${r.cap||""} ${r.citta||""} ${r.provincia?`(${r.provincia})`:""}`,20,w),w+=5,a.text(r.paese||"",20,w),w+=5,r.partita_iva&&(a.text(`P.IVA / VAT: ${r.partita_iva}`,20,w),w+=5),r.codice_fiscale&&(a.text(`C.F.: ${r.codice_fiscale}`,20,w),w+=5),r.codice_univoco&&(a.text(`Codice SDI: ${r.codice_univoco}`,20,w),w+=5)}else a.text(e.profilo_nome_completo||"Cliente",20,62),a.text(`Email: ${e.profilo_email||""}`,20,67);a.setLineWidth(.5),a.setDrawColor(200),a.line(20,90,s-20,90);let h=100;a.setFontSize(10),a.setFont("helvetica","bold"),a.text("Descrizione",20,h),a.text("Importo",s-20,h,{align:"right"}),h+=10,a.setFont("helvetica","normal"),(()=>{try{const w=typeof e.prodotti=="string"?JSON.parse(e.prodotti||"[]"):e.prodotti;return Array.isArray(w)?w:[{nome_prodotto:"Servizio Coworking"}]}catch{return[{nome_prodotto:"Servizio Coworking"}]}})().forEach(w=>{const A=w.tipo_abbonamento_nome||w.nome_prodotto||w.nome||"Servizio",C=w.quantita>1?` (x${w.quantita})`:"";a.text(`${A}${C}`,20,h);const P=w.prezzo_totale!==void 0?w.prezzo_totale:w.prezzo||e.totale;a.text(` ${P.toFixed(2)}`,s-20,h,{align:"right"}),h+=8}),h+=10,a.line(20,h,s-20,h),h+=10,a.setFontSize(12),a.setFont("helvetica","bold"),a.text("TOTALE",s-60,h),a.text(`EUR ${((i=e.totale)==null?void 0:i.toFixed(2))||"0.00"}`,s-20,h,{align:"right"}),a.setFontSize(8),a.setFont("helvetica","italic"),a.setTextColor(150),a.text("Documento non fiscale emesso per servizi associativi / coworking.",s/2,280,{align:"center"});const g=(r==null?void 0:r.ragione_sociale)||e.profilo_nome_completo||"Cliente",m=new Date(e.data_ordine||Date.now()).toISOString().split("T")[0],b=g.toString().replace(/[^a-z0-9]/gi,"_").toLowerCase(),y=`Ricevuta_${e.numero_ricevuta?`${e.numero_ricevuta}_${new Date(e.data_ordine).getFullYear()}`:e.id}_${b}.pdf`;a.save(y)}catch(a){console.error(" Errore generazione PDF:",a),alert("Errore durante la generazione della ricevuta: "+a.message)}};function Ane(){const[e,t]=j.useState(""),[n,r]=j.useState(new Date().getFullYear().toString()),[i,a]=j.useState(!1),[s,l]=j.useState(null),c=Or(),{data:d=[],isLoading:h}=Wt({queryKey:["ordini"],queryFn:()=>we.entities.OrdineCoworking.list("-data_ordine"),initialData:[]}),p=Array.from(new Set(d.map(w=>new Date(w.data_ordine).getFullYear().toString()))).sort((w,A)=>A-w),g=vn({mutationFn:w=>we.entities.OrdineCoworking.delete(w),onSuccess:()=>{c.invalidateQueries({queryKey:["ordini"]}),We.success("Ordine eliminato con successo"),a(!1),l(null)},onError:w=>{We.error("Errore durante l'eliminazione: "+w.message)}}),m=d.filter(w=>{var E,I,z,O;const A=(((E=w.profilo_nome_completo)==null?void 0:E.toLowerCase().includes(e.toLowerCase()))??!1)||(((I=w.id)==null?void 0:I.toString().includes(e))??!1)||(((z=w.numero_ricevuta)==null?void 0:z.toString().includes(e))??!1)||(((O=w.profilo_email)==null?void 0:O.toLowerCase().includes(e.toLowerCase()))??!1),C=new Date(w.data_ordine).getFullYear().toString();return A&&(n==="all"||C===n)}).sort((w,A)=>(A.id||0)-(w.id||0)),b=async w=>{let A=null;if(w.profilo_coworker_id)try{A=await we.entities.ProfiloCoworker.get(w.profilo_coworker_id)}catch{}Kp(w,null,A)},x=async()=>{if(m.length===0){We.info("Nessuna ricevuta da scaricare");return}We.info(`Download di ${m.length} ricevute iniziato...`);for(let w=0;w<m.length;w++){const A=m[w];setTimeout(()=>{b(A)},w*1e3)}},y=w=>{l(w),a(!0)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs(Zt,{className:"flex items-center gap-2 text-[#053c5e]",children:[o.jsx(n1,{className:"w-5 h-5 text-[#1f7a8c]"}),"Archivio Ricevute"]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 p-1 rounded-md border",children:[o.jsx("span",{className:"text-xs font-semibold px-2 text-slate-500 uppercase",children:"Anno:"}),o.jsxs("select",{value:n,onChange:w=>r(w.target.value),className:"bg-transparent border-none text-sm font-medium focus:ring-0 cursor-pointer pr-8",children:[o.jsx("option",{value:"all",children:"Tutti"}),p.map(w=>o.jsx("option",{value:w,children:w},w))]})]}),o.jsxs(Oe,{variant:"outline",size:"sm",onClick:x,className:"border-[#1f7a8c] text-[#1f7a8c] hover:bg-[#1f7a8c] hover:text-white",disabled:m.length===0,children:[o.jsx(po,{className:"w-4 h-4 mr-2"}),"Scarica Tutte (",m.length,")"]}),o.jsxs("div",{className:"relative w-full sm:w-64",children:[o.jsx(vu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),o.jsx(tt,{placeholder:"Cerca per nome, email o n. ordine...",value:e,onChange:w=>t(w.target.value),className:"pl-9"})]})]})]})}),o.jsx(wt,{children:o.jsx("div",{className:"rounded-md border",children:o.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-[#053c5e] text-white font-medium sticky top-0",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:"N. Ricevuta"}),o.jsx("th",{className:"p-3",children:"Data"}),o.jsx("th",{className:"p-3",children:"Cliente"}),o.jsx("th",{className:"p-3",children:"Importo"}),o.jsx("th",{className:"p-3",children:"Stato"}),o.jsx("th",{className:"p-3 text-right",children:"Azioni"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:h?o.jsx("tr",{children:o.jsx("td",{colSpan:"6",className:"p-4 text-center",children:"Caricamento..."})}):m.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:"6",className:"p-4 text-center text-slate-500",children:"Nessuna ricevuta trovata"})}):m.map(w=>o.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[o.jsx("td",{className:"p-3 font-mono font-bold text-[#053c5e]",children:w.numero_ricevuta?`${w.numero_ricevuta}/${new Date(w.data_ordine).getFullYear()}`:`#${w.id}`}),o.jsx("td",{className:"p-3",children:new Date(w.data_ordine).toLocaleDateString("it-IT")}),o.jsxs("td",{className:"p-3",children:[o.jsx("div",{className:"font-semibold text-[#1f7a8c]",children:w.profilo_nome_completo}),o.jsx("div",{className:"text-xs text-slate-500",children:w.profilo_email})]}),o.jsxs("td",{className:"p-3 font-bold text-lg",children:["EUR ",(w.totale||0).toFixed(2)]}),o.jsx("td",{className:"p-3",children:w.stato==="annullato"?o.jsx(kn,{className:"bg-red-50 text-red-700 border-red-200",children:"ANNULLATA"}):o.jsx(kn,{className:w.stato_pagamento==="pagato"?"bg-green-50 text-green-700 border-green-200":"bg-orange-50 text-orange-700 border-orange-200",children:w.stato_pagamento==="pagato"?"PAGATA":"DA PAGARE"})}),o.jsx("td",{className:"p-3 text-right",children:o.jsxs("div",{className:"flex justify-end gap-1",children:[o.jsx(Oe,{variant:"ghost",size:"sm",className:"text-[#1f7a8c] hover:bg-slate-100",onClick:()=>b(w),title:"Scarica PDF",children:o.jsx(po,{className:"w-4 h-4"})}),o.jsx(Oe,{variant:"ghost",size:"sm",className:"text-red-600 hover:bg-red-50 hover:text-red-700",onClick:()=>y(w),title:"Elimina ordine",children:o.jsx(Vo,{className:"w-4 h-4"})})]})})]},w.id))})]})})})})]}),o.jsx(bh,{open:i,onOpenChange:a,children:o.jsxs(Id,{children:[o.jsxs(Rd,{children:[o.jsx(zd,{children:"Sei sicuro di voler eliminare questo ordine?"}),o.jsxs(Fd,{children:["Questa azione eliminer definitivamente l'ordine ",s!=null&&s.numero_ricevuta?`${s.numero_ricevuta}/${new Date(s.data_ordine).getFullYear()}`:`#${s==null?void 0:s.id}`,". Questa operazione non pu essere annullata e i dati fiscali andranno persi."]})]}),o.jsxs(Md,{children:[o.jsx(qd,{children:"Annulla"}),o.jsx($d,{onClick:()=>g.mutate(s.id),className:"bg-red-600 hover:bg-red-700 text-white",children:"Conferma Eliminazione"})]})]})})]})}function Cne(){const[e,t]=j.useState(""),{data:n=[],isLoading:r}=Wt({queryKey:["admin_ingressi"],queryFn:()=>we.entities.IngressoCoworking.list("-data_ingresso"),initialData:[]}),i=()=>{if(n.length===0){We.error("Nessun ingresso da esportare");return}const s=["ID","Data","Nome Utente","Tipo Ingresso","Durata","Ingressi Consumati"],l=n.map(g=>[g.id,new Date(g.data_ingresso).toLocaleString("it-IT"),g.profilo_nome_completo||"N/D",g.tipo_ingresso||g.tipo||"carnet",g.durata||"giornata_intera",g.ingressi_consumati||1]),c=[s.join(","),...l.map(g=>g.join(","))].join(`
`),d=new Blob([c],{type:"text/csv;charset=utf-8;"}),h=URL.createObjectURL(d),p=document.createElement("a");p.setAttribute("href",h),p.setAttribute("download",`ingressi_neunoi_${new Date().toISOString().split("T")[0]}.csv`),p.style.visibility="hidden",document.body.appendChild(p),p.click(),document.body.removeChild(p),We.success("Esportazione completata")},a=n.filter(s=>{var l,c;return(((l=s.profilo_nome_completo)==null?void 0:l.toLowerCase().includes(e.toLowerCase()))??!1)||(((c=s.tipo_ingresso)==null?void 0:c.toLowerCase().includes(e.toLowerCase()))??!1)});return o.jsxs(yt,{className:"border-none shadow-none bg-transparent",children:[o.jsx(Jt,{className:"px-0",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs(Zt,{className:"text-[#053c5e] flex items-center gap-2",children:[o.jsx(cu,{className:"w-5 h-5"}),"Registro Ingressi"]}),o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[o.jsxs("div",{className:"relative flex-1 sm:w-64",children:[o.jsx(vu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),o.jsx(tt,{placeholder:"Cerca nome o tipo...",value:e,onChange:s=>t(s.target.value),className:"pl-9"})]}),o.jsxs(Oe,{onClick:i,className:"bg-[#1f7a8c] hover:bg-[#053c5e]",children:[o.jsx(po,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})]})}),o.jsx(wt,{className:"px-0",children:r?o.jsx("div",{className:"text-center py-12 text-slate-500",children:"Caricamento..."}):o.jsx(Sd,{className:"h-[500px]",children:o.jsxs("div",{className:"space-y-2",children:[a.map(s=>{var l;return o.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg hover:bg-slate-50 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-[#053c5e]",children:s.profilo_nome_completo}),o.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1",children:[o.jsx(na,{className:"w-3 h-3"}),new Date(s.data_ingresso).toLocaleString("it-IT")]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs px-2 py-1 bg-slate-100 rounded uppercase font-semibold text-slate-600",children:s.tipo_ingresso||s.tipo||"carnet"}),o.jsx("span",{className:"text-xs px-2 py-1 bg-[#bfdbf7] rounded uppercase font-semibold text-[#053c5e]",children:((l=s.durata)==null?void 0:l.replace("_"," "))||"giornata intera"})]})]},s.id)}),a.length===0&&o.jsx("div",{className:"text-center py-12 text-slate-400",children:"Nessun ingresso trovato"})]})})})]})}function Pne(){const e=Or(),[t,n]=j.useState({}),{data:r=[],isLoading:i}=Wt({queryKey:["sistema_settings"],queryFn:async()=>{const c=await we.entities.SistemaSetting.list(),d={};return c.forEach(h=>{d[h.chiave]=h.valore}),n(d),c}}),a=vn({mutationFn:async({chiave:c,valore:d})=>{const h=r.find(p=>p.chiave===c);h?await we.entities.SistemaSetting.update(h.id,{valore:d}):await we.entities.SistemaSetting.create({chiave:c,valore:d})},onSuccess:()=>{e.invalidateQueries({queryKey:["sistema_settings"]}),We.success("Impostazione salvata con successo")},onError:c=>{We.error("Errore durante il salvataggio: "+c.message)}});if(i)return o.jsx("div",{children:"Caricamento impostazioni..."});const s=(c,d)=>{n(h=>({...h,[c]:d}))},l=c=>{a.mutate({chiave:c,valore:t[c]})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsxs(Zt,{className:"flex items-center gap-2",children:[o.jsx(rl,{className:"w-5 h-5 text-[#1f7a8c]"}),"Template Mail Check-in"]})}),o.jsxs(wt,{className:"space-y-4",children:[o.jsxs("div",{className:"bg-blue-50 p-4 border-l-4 border-blue-400 rounded-r-lg flex gap-3",children:[o.jsx(eV,{className:"w-5 h-5 text-blue-500 shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-blue-700",children:[o.jsx("p",{className:"font-semibold mb-1",children:"Istruzioni:"}),o.jsx("p",{children:"Questa mail viene inviata automaticamente ogni volta che un utente o un ospite effettua il check-in."}),o.jsxs("p",{className:"mt-1",children:["Puoi usare il segnaposto ",o.jsx("strong",{children:"{nome}"})," per inserire il nome dell'utente."]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{children:"Testo della Mail"}),o.jsx(ta,{value:t.testo_mail_checkin||"",onChange:c=>s("testo_mail_checkin",c.target.value),rows:8,placeholder:"Inserisci il testo della mail...",className:"font-sans text-base"})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(Oe,{onClick:()=>l("testo_mail_checkin"),disabled:a.isPending,className:"bg-[#053c5e] hover:bg-[#1f7a8c]",children:[o.jsx(nh,{className:"w-4 h-4 mr-2"}),"Salva Template"]})})]})]}),o.jsxs(yt,{className:"opacity-60 grayscale cursor-not-allowed",children:[o.jsx(Jt,{children:o.jsxs(Zt,{className:"flex items-center gap-2",children:[o.jsx(bV,{className:"w-5 h-5"}),"Altre Notifiche Automatiche (Prossimamente)"]})}),o.jsx(wt,{children:o.jsx("p",{className:"text-sm",children:"In futuro potrai gestire qui anche i template per le ricevute, le notifiche di scadenza abbonamento e i promemoria task."})})]}),o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsxs(Zt,{className:"flex items-center gap-2",children:[o.jsx(pW,{className:"w-5 h-5 text-purple-600"}),"Diagnostica di Sistema"]})}),o.jsx(wt,{className:"space-y-4",children:o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Test Connessione Email"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Verifica se il server riesce a connettersi al provider SMTP."})]}),o.jsx(Oe,{onClick:async()=>{var c;try{We.loading("Test connessione in corso...");const d=await we.admin.testEmailConnection();We.dismiss(),(c=d.connection_result)!=null&&c.success?We.success(" Connessione SMTP Riuscita!"):(We.error(" Connessione Fallita"),console.error("SMTP Error:",d),alert(JSON.stringify(d,null,2)))}catch(d){We.dismiss(),We.error("Errore chiamata API: "+d.message)}},variant:"outline",children:"Esegui Test"})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Backup Database"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Scarica una copia completa del database attuale (SQL o SQLite)."})]}),o.jsxs(Oe,{onClick:async()=>{try{We.loading("Generazione backup in corso...",{duration:0}),await we.admin.downloadBackup(),We.dismiss(),We.success("Backup scaricato con successo")}catch(c){We.dismiss(),We.error("Errore download: "+c.message)}},variant:"outline",className:"border-blue-200 hover:bg-blue-50 text-blue-800",children:[o.jsx(nh,{className:"w-4 h-4 mr-2"}),"Scarica Backup"]})]}),o.jsxs("div",{className:"p-4 bg-slate-50 border rounded-lg",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Informazioni Sistema"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs font-mono",children:[o.jsx("div",{className:"text-slate-500 text-right",children:"Database Attivo:"}),o.jsx("div",{className:"font-bold text-purple-700 uppercase",id:"diag-dialect",children:"Caricamento..."}),o.jsx("div",{className:"text-slate-500 text-right",children:"Host Database:"}),o.jsx("div",{id:"diag-host",children:"..."}),o.jsx("div",{className:"text-slate-500 text-right",children:"Database Name:"}),o.jsx("div",{id:"diag-name",children:"..."})]}),o.jsx(Oe,{className:"mt-4 w-full h-8 text-xs",variant:"ghost",onClick:async()=>{try{const c=await we.admin.testEmailConnection();c&&(document.getElementById("diag-dialect").innerText=c.db_dialect||"N/A",document.getElementById("diag-host").innerText=c.db_host||"N/A",document.getElementById("diag-name").innerText=c.db_name||"N/A")}catch(c){console.error("Diag failed",c)}},children:"Carica Info Sistema"})]})]})})]})]})}function nF(){var Ot;const{user:e}=tc(),[t,n]=j.useState([]),[r,i]=j.useState(!0),[a,s]=j.useState(""),[l,c]=j.useState(null),[d,h]=j.useState({full_name:"",email:"",roles:[]}),[p,g]=j.useState([]),[m,b]=j.useState(!1),[x,y]=j.useState({utente_id:"",importo:"",causale:""}),[w,A]=j.useState(null),[C,P]=j.useState(!1),[E,I]=j.useState(null),[z,O]=j.useState({titolo:"",descrizione:"",valore_neu:""}),[F,G]=j.useState([]),[R,k]=j.useState(null),[B,U]=j.useState(!1),[M,X]=j.useState(null),[Q,K]=j.useState({nome:"",descrizione:""}),[Y,ne]=j.useState(!1),[H,T]=j.useState(null),[V,J]=j.useState({user_id:"",ambito_id:"",azione_id:"",ore:"",neu_guadagnati:"",note:"",anno_associativo:""}),[Z,oe]=j.useState({id:null,type:null,title:""}),[se,fe]=j.useState("all"),[de,be]=j.useState("all"),[Ee,_e]=j.useState(""),$e=Or(),He=[{value:"super_admin",label:"Super Admin",description:"Accesso completo + gestione NEU"},{value:"admin",label:"Admin",description:"Gestione generale"},{value:"gestore_turni",label:"Gestore Turni",description:"Gestisce turni host"},{value:"socio",label:"Socio/a",description:"Membro associazione"},{value:"coworker",label:"Coworker",description:"Abbonato coworking"},{value:"host",label:"Host",description:"Account postazione"},{value:"associazione",label:"Associazione",description:"Dipendente - non riceve NEU"}],{data:le=[]}=Wt({queryKey:["all_transazioni"],queryFn:()=>we.entities.TransazioneNEU.list("-data_transazione")}),{data:Ke=[]}=Wt({queryKey:["azioni_admin"],queryFn:()=>we.entities.AzioneVolontariato.list("-createdAt")}),{data:pt=[]}=Wt({queryKey:["dichiarazioni_admin"],queryFn:()=>we.entities.DichiarazioneVolontariato.list({sort:"-data_dichiarazione",include:"all"})}),{data:xt=[]}=Wt({queryKey:["ambiti_admin"],queryFn:()=>we.entities.AmbitoVolontariato.list("-createdAt")});j.useEffect(()=>{Be(),Nt()},[]);const Be=async()=>{try{const xe=await we.entities.User.list();n(Array.isArray(xe)?xe:[])}catch(xe){console.error("Errore caricamento utenti:",xe)}finally{i(!1)}},Nt=async()=>{try{const xe=await we.entities.ProfiloSocio.list();G(Array.isArray(xe)?xe:[])}catch(xe){console.error("Errore caricamento profili:",xe)}};vn({mutationFn:async xe=>{k(xe.id);const bt=Array.isArray(xe.roles)?xe.roles:xe.role?[xe.role]:[],Et=await we.entities.ProfiloSocio.filter({user_id:xe.id}),At=await we.entities.DichiarazioneVolontariato.filter({user_id:xe.id,confermato:!0}),ct=Array.isArray(At)?At.reduce((pe,Ne)=>pe+(Ne.ore||0),0):0;await we.entities.User.update(xe.id,{ore_volontariato_anno:ct}),Array.isArray(Et)&&Et.length===0&&await we.entities.ProfiloSocio.create({user_id:xe.id,full_name:xe.full_name,email:xe.email,ruoli:bt,attivo:!0})},onSuccess:()=>{Nt(),k(null),We.success(" Profilo sincronizzato!")},onError:()=>{k(null),We.error("Errore nella sincronizzazione")}});const ot=xe=>{c(xe);const bt=Array.isArray(xe==null?void 0:xe.roles)?xe.roles:xe!=null&&xe.role?[xe.role]:[];g(bt),h({full_name:xe.full_name||"",email:xe.email||"",roles:bt})},st=xe=>{g(bt=>bt.includes(xe)?bt.filter(Et=>Et!==xe):[...bt,xe])},Pe=async()=>{try{await we.entities.User.update(l.id,{...d,roles:p}),await Be(),c(null),We.success(" Utente aggiornato!")}catch(xe){console.error("Errore aggiornamento utente:",xe),We.error("Errore durante l'aggiornamento: "+(xe.message||"Controlla che l'email non sia gi in uso"))}},Pt=(Array.isArray(t)?t:[]).filter(xe=>{var pe,Ne;const bt=(((pe=xe.full_name)==null?void 0:pe.toLowerCase().includes(a.toLowerCase()))??!1)||(((Ne=xe.email)==null?void 0:Ne.toLowerCase().includes(a.toLowerCase()))??!1),Et=Array.isArray(xe.roles)?xe.roles:xe.role?[xe.role]:[],At=se==="all"||Et.includes(se),ct=de==="all"||xe.status===de;return bt&&At&&ct}),_t=(Array.isArray(t)?t:[]).filter(xe=>xe.status==="in_attesa").length,mt=xe=>{if(!xe)return"Associazione";if(!Array.isArray(t))return"...";const bt=t.find(Et=>Et.id===xe);return(bt==null?void 0:bt.full_name)||"Utente sconosciuto"},vt=(Array.isArray(pt)?pt:[]).filter(xe=>{var ct,pe;const bt=(mt(xe.user_id)||"").toLowerCase(),Et=xe.azione_id?(((ct=Ke==null?void 0:Ke.find(Ne=>Ne.id===xe.azione_id))==null?void 0:ct.titolo)||"").toLowerCase():(((pe=xt==null?void 0:xt.find(Ne=>Ne.id===xe.ambito_id))==null?void 0:pe.nome)||"").toLowerCase(),At=(Ee||"").toLowerCase();return bt.includes(At)||Et.includes(At)}).sort((xe,bt)=>{const Et=new Date(xe.data_dichiarazione||xe.createdAt),At=new Date(bt.data_dichiarazione||bt.createdAt);return!isNaN(At)&&!isNaN(Et)&&At-Et!==0?At-Et:new Date(bt.createdAt)-new Date(xe.createdAt)}),jt=async()=>{if(!x.utente_id||!x.importo||!x.causale){We.error("Compila tutti i campi");return}const xe=parseFloat(x.importo);try{await we.entities.TransazioneNEU.create({da_utente_id:xe<0?x.utente_id:null,a_utente_id:xe>0?x.utente_id:null,importo:Math.abs(xe),tipo:"correzione_admin",causale:x.causale,data_transazione:new Date().toISOString(),approvata:!0}),await Be(),$e.invalidateQueries({queryKey:["all_transazioni"]}),y({utente_id:"",importo:"",causale:""}),We.success(" NEU assegnati!"),b(!1)}catch{We.error("Errore durante l'assegnazione")}},ut=vn({mutationFn:async xe=>{const bt=await we.auth.me();await we.entities.TransazioneNEU.create({da_utente_id:xe.a_utente_id,a_utente_id:xe.da_utente_id,importo:xe.importo,tipo:"correzione_admin",causale:`ANNULLAMENTO: ${xe.causale} (da ${bt.full_name})`,data_transazione:new Date().toISOString(),approvata:!0})},onSuccess:()=>{$e.invalidateQueries({queryKey:["all_transazioni"]}),Be(),A(null),We.success(" Annullata!")}}),St=xe=>{switch(xe){case"approvato":return o.jsx(kn,{className:"bg-green-100 text-green-700",children:"Approvato"});case"in_attesa":return o.jsx(kn,{className:"bg-yellow-100 text-yellow-700",children:"In Attesa"});case"sospeso":return o.jsx(kn,{className:"bg-red-100 text-red-700",children:"Sospeso"});default:return null}},ft=async(xe,bt)=>{try{await we.entities.User.update(xe,{status:bt}),Be(),We.success(` Stato utente aggiornato a ${bt}`)}catch{We.error("Errore aggiornamento stato")}},_n=xe=>({turno_host:"bg-green-100 text-green-800",compito_specifico:"bg-blue-100 text-blue-800",voto_annuale:"bg-purple-100 text-purple-800",trasferimento_soci:"bg-orange-100 text-orange-800",pagamento_associazione:"bg-red-100 text-red-800",correzione_admin:"bg-slate-100 text-slate-800",volontariato:"bg-cyan-100 text-cyan-800"})[xe]||"bg-slate-100 text-slate-800",pn=vn({mutationFn:async xe=>{E?await we.entities.AzioneVolontariato.update(E.id,xe):await we.entities.AzioneVolontariato.create({...xe,attivo:!0})},onSuccess:()=>{$e.invalidateQueries({queryKey:["azioni_admin"]}),P(!1),I(null),O({titolo:"",descrizione:"",valore_neu:""}),We.success("Azione salvata")}}),un=vn({mutationFn:async xe=>await we.entities.AzioneVolontariato.delete(xe),onSuccess:()=>{$e.invalidateQueries({queryKey:["azioni_admin"]}),We.success("Azione eliminata")}}),mn=vn({mutationFn:async xe=>{await we.entities.DichiarazioneVolontariato.delete(xe)},onSuccess:()=>{$e.invalidateQueries({queryKey:["dichiarazioni_admin"]}),Be(),We.success("Dichiarazione eliminata e calcoli aggiornati")}}),Un=vn({mutationFn:async xe=>await we.entities.User.delete(xe),onSuccess:()=>{Be(),We.success("Utente eliminato!")},onError:xe=>{We.error("Errore durante l'eliminazione: "+xe.message)}}),Vt=vn({mutationFn:async xe=>await we.auth.adminTriggerReset(xe),onSuccess:xe=>{We.success(xe.message||" Email di reset inviata!")},onError:xe=>{We.error("Errore invio email: "+xe.message)}});if(r)return o.jsx("div",{className:"text-center py-12",children:"Caricamento..."});const Nn=(Array.isArray(pt)?pt:[]).reduce((xe,bt)=>{var At;const Et=bt.azione_id?((At=Ke==null?void 0:Ke.find(ct=>ct.id===bt.azione_id))==null?void 0:At.titolo)||"Azione #"+bt.azione_id:"Sconosciuto";return xe[Et]=(xe[Et]||0)+(bt.neu_guadagnati||0),xe},{});return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"bg-[#053c5e] text-white p-8",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold",children:"Amministrazione"}),o.jsx("p",{className:"text-lg opacity-90 mt-2",children:"Gestisci utenti, NEU e volontariato"})]}),o.jsx(Fr,{to:Mn("RiepilogoSoci"),children:o.jsxs(Oe,{className:"bg-[#1f7a8c] hover:bg-white hover:text-[#1f7a8c] border-2 border-[#1f7a8c] transition-colors font-bold",children:[o.jsx(yo,{className:"w-5 h-5 mr-2"}),"Riepilogo Soci"]})}),(((Ot=e==null?void 0:e.roles)==null?void 0:Ot.includes("super_admin"))||(e==null?void 0:e.role)==="super_admin")&&o.jsx(Fr,{to:Mn("ImportaDati"),children:o.jsxs(Oe,{className:"bg-[#db222a] hover:bg-white hover:text-[#db222a] border-2 border-[#db222a] transition-colors font-bold",children:[o.jsx(_4,{className:"w-5 h-5 mr-2"}),"Importa Dati"]})})]})}),o.jsxs(ol,{defaultValue:"neu",className:"w-full",children:[o.jsxs(Ss,{className:"h-auto grid w-full grid-cols-1 md:grid-cols-4 bg-[#bfdbf7]",children:[o.jsx(Pn,{value:"neu",children:"Gestione NEU"}),o.jsxs(Pn,{value:"utenti",className:"relative",children:["Utenti",_t>0&&o.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-[10px] text-white",children:_t})]}),o.jsx(Pn,{value:"volontariato",children:"Volontariato"}),o.jsx(Pn,{value:"coworking",children:"Coworking"}),o.jsx(Pn,{value:"impostazioni",children:"Impostazioni Sistema"})]}),o.jsxs(En,{value:"neu",className:"mt-6 space-y-6",children:[o.jsx(yt,{children:o.jsx(Jt,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(Zt,{children:"Assegna NEU"}),o.jsx(Oe,{onClick:()=>b(!0),className:"bg-[#053c5e]",children:"Assegna NEU"})]})})}),o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsxs(Zt,{children:["Storico Transazioni (",(Array.isArray(le)?le:[]).length,")"]})}),o.jsx(wt,{children:o.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:(Array.isArray(le)?le:[]).map(xe=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-slate-50",children:[o.jsxs("div",{children:[o.jsx(kn,{className:_n(xe.tipo),children:(xe.tipo||"altro").replace(/_/g," ").toUpperCase()}),o.jsx("p",{className:"font-semibold",children:xe.causale}),o.jsxs("div",{className:"text-xs text-slate-500",children:["Da: ",mt(xe.da_utente_id),"  A: ",mt(xe.a_utente_id),"  ",xe.data_transazione?new Date(xe.data_transazione).toLocaleString("it-IT"):"N/D"]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"text-xl font-bold",children:[xe.importo," NEU"]}),!xe.causale.startsWith("ANNULLAMENTO")&&xe.tipo!=="correzione_admin"&&o.jsx(Oe,{size:"sm",variant:"ghost",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>oe({id:xe.id,type:"transazione",title:`transazione di ${xe.importo} NEU`,data:xe}),children:o.jsx(go,{className:"w-4 h-4"})})]})]},xe.id))})})]})]}),o.jsx(En,{value:"utenti",className:"mt-6",children:o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs(Zt,{children:["Gestione Utenti (",(Array.isArray(t)?t:[]).length,")"]}),o.jsxs("div",{className:"flex flex-wrap gap-2 w-full md:w-auto",children:[o.jsxs(an,{value:de,onValueChange:be,children:[o.jsx(tn,{className:"w-40",children:o.jsx(on,{placeholder:"Stato"})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"all",children:"Tutti gli stati"}),o.jsx(Ze,{value:"approvato",children:"Approvati"}),o.jsx(Ze,{value:"in_attesa",children:"In Attesa"}),o.jsx(Ze,{value:"sospeso",children:"Sospesi"})]})]}),o.jsxs(an,{value:se,onValueChange:fe,children:[o.jsx(tn,{className:"w-40",children:o.jsx(on,{placeholder:"Ruolo"})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"all",children:"Tutti i ruoli"}),He.map(xe=>o.jsx(Ze,{value:xe.value,children:xe.label},xe.value))]})]}),o.jsx(tt,{placeholder:"Cerca...",value:a,onChange:xe=>s(xe.target.value),className:"w-48"})]})]})}),o.jsx(wt,{children:o.jsx("div",{className:"space-y-2",children:Pt.map(xe=>{var bt;return o.jsxs("div",{className:"flex justify-between items-center p-4 border rounded-lg hover:bg-slate-50 transition-colors",children:[o.jsxs("div",{className:"flex gap-4 items-center",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-[#bfdbf7] flex items-center justify-center font-bold text-[#053c5e]",children:((bt=xe.full_name)==null?void 0:bt.charAt(0))||"U"}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-bold flex items-center gap-2",children:[xe.full_name,xe.roles&&xe.roles.includes("admin")&&o.jsx(kn,{className:"bg-red-100 text-red-700 border-red-200",children:"Admin"}),St(xe.status)]}),o.jsxs("div",{className:"text-sm text-slate-500",children:[xe.email,"  ID: ",xe.id]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[xe.status==="in_attesa"&&o.jsxs(Oe,{className:"bg-green-600 hover:bg-green-700 text-white",size:"sm",onClick:()=>ft(xe.id,"approvato"),children:[o.jsx(Kf,{className:"w-4 h-4 mr-2"})," Approva"]}),xe.status==="approvato"&&o.jsx(Oe,{variant:"outline",size:"sm",className:"text-red-600 border-red-200 hover:bg-red-50",onClick:()=>ft(xe.id,"sospeso"),children:"Sospendi"}),xe.status==="sospeso"&&o.jsx(Oe,{variant:"outline",size:"sm",className:"text-green-600 border-green-200 hover:bg-green-50",onClick:()=>ft(xe.id,"approvato"),children:"Riabilita"}),o.jsxs(Oe,{variant:"outline",size:"sm",onClick:()=>ot(xe),children:[o.jsx(Cs,{className:"w-4 h-4 mr-2"})," Ruoli"]}),o.jsxs(Oe,{variant:"ghost",size:"sm",className:"text-[#053c5e] hover:bg-blue-50",onClick:()=>{window.confirm(`Inviare un'email di reset password a ${xe.email}?`)&&Vt.mutate(xe.id)},children:[o.jsx(BI,{className:"w-4 h-4 mr-2"})," Reset Pass"]}),o.jsxs(Oe,{variant:"ghost",size:"sm",className:"text-red-500 hover:bg-red-50",onClick:()=>{window.confirm(`Sei sicuro di voler eliminare DEFINITIVAMENTE l'utente ${xe.full_name}? Questa azione non  reversibile.`)&&Un.mutate(xe.id)},children:[o.jsx(Vo,{className:"w-4 h-4 mr-2"})," Elimina"]})]})]},xe.id)})})})]})}),o.jsxs(En,{value:"volontariato",className:"mt-6 space-y-6",children:[o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsx(Zt,{children:"Rimborso NEU per Azione"})}),o.jsx(wt,{children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(Nn).map(([xe,bt])=>o.jsxs("div",{className:"bg-slate-50 p-4 border-l-4 border-[#053c5e]",children:[o.jsx("div",{className:"text-sm font-semibold",children:xe}),o.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[bt," NEU"]})]},xe))})})]}),o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs(Zt,{children:["Azioni & Rimborsi (",(Array.isArray(Ke)?Ke:[]).filter(xe=>xe.attivo).length,")"]}),o.jsx(Oe,{onClick:()=>{I(null),O({titolo:"",descrizione:"",valore_neu:""}),P(!0)},children:"Nuova Azione"})]})}),o.jsx(wt,{children:o.jsx("div",{className:"space-y-2",children:(Array.isArray(Ke)?Ke:[]).filter(xe=>xe.attivo).map(xe=>o.jsxs("div",{className:"flex justify-between items-center p-4 border rounded-lg",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"font-bold",children:[xe.titolo," ",o.jsxs(kn,{className:"ml-2",children:[xe.valore_neu," NEU"]})]}),o.jsx("div",{className:"text-sm text-slate-500",children:xe.descrizione})]}),o.jsx(Oe,{size:"sm",variant:"outline",onClick:()=>{oe({id:xe.id,type:"azione",title:xe.titolo})},children:"Elimina"})]},xe.id))})})]}),o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsxs(Zt,{children:["Storico Dichiarazioni (",vt.length,")"]})}),o.jsx(wt,{children:o.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:vt.map(xe=>{var bt;return o.jsxs("div",{className:"flex justify-between items-center p-4 border rounded-lg",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"font-bold",children:[mt(xe.user_id)," ",o.jsx("span",{className:"text-slate-400 mx-2",children:""})," ",xe.azione_id?((bt=Ke==null?void 0:Ke.find(Et=>Et.id===xe.azione_id))==null?void 0:bt.titolo)||"Azione":"Volontariato"]}),o.jsx("div",{className:"text-xs text-slate-500",children:xe.createdAt?new Date(xe.createdAt).toLocaleString("it-IT"):""})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"text-xl font-bold",children:["+",xe.neu_guadagnati," NEU"]}),o.jsx(Oe,{size:"sm",variant:"ghost",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>oe({id:xe.id,type:"dichiarazione",title:`dichiarazione di ${mt(xe.user_id)}`,data:xe}),children:o.jsx(Vo,{className:"w-4 h-4"})})]})]},xe.id)})})})]})]}),o.jsx(En,{value:"coworking",className:"mt-6",children:o.jsxs(ol,{defaultValue:"profili",children:[o.jsxs(Ss,{className:"grid w-full grid-cols-5",children:[o.jsx(Pn,{value:"profili",children:"Profili"}),o.jsx(Pn,{value:"servizi",children:"Servizi"}),o.jsx(Pn,{value:"sale",children:"Sale"}),o.jsx(Pn,{value:"ingressi",children:"Ingressi"}),o.jsx(Pn,{value:"ricevute",children:"Ricevute"})]}),o.jsx(En,{value:"profili",children:o.jsx(IZ,{})}),o.jsx(En,{value:"servizi",children:o.jsx(kz,{})}),o.jsx(En,{value:"sale",children:o.jsx(Oz,{})}),o.jsx(En,{value:"ingressi",children:o.jsx(Cne,{})}),o.jsx(En,{value:"ricevute",children:o.jsx(Ane,{})})]})}),o.jsx(En,{value:"impostazioni",className:"mt-6",children:o.jsx(Pne,{})})]}),o.jsx(Er,{open:m,onOpenChange:b,children:o.jsxs(wr,{children:[o.jsx(_r,{children:o.jsx(jr,{children:"Assegna NEU (Correzione)"})}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Utente"}),o.jsxs(an,{value:x.utente_id,onValueChange:xe=>y({...x,utente_id:xe}),children:[o.jsx(tn,{children:o.jsx(on,{placeholder:"Seleziona utente"})}),o.jsx(nn,{className:"max-h-[200px]",children:t.map(xe=>o.jsx(Ze,{value:String(xe.id),children:xe.full_name},xe.id))})]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Importo NEU"}),o.jsx(tt,{type:"number",placeholder:"Es. 10 o -10",value:x.importo,onChange:xe=>y({...x,importo:xe.target.value})}),o.jsx("p",{className:"text-xs text-slate-500",children:"Usa numeri negativi per sottrarre."})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Causale"}),o.jsx(tt,{placeholder:"Motivo della correzione",value:x.causale,onChange:xe=>y({...x,causale:xe.target.value})})]})]}),o.jsx(Oe,{onClick:jt,className:"bg-[#053c5e] w-full",children:"Conferma Assegnazione"})]})}),o.jsx(Er,{open:C,onOpenChange:P,children:o.jsxs(wr,{children:[o.jsx(_r,{children:o.jsx(jr,{children:E?"Modifica Azione":"Nuova Azione"})}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsx(tt,{placeholder:"Titolo",value:z.titolo,onChange:xe=>O({...z,titolo:xe.target.value})}),o.jsx(tt,{type:"number",placeholder:"Valore NEU",value:z.valore_neu,onChange:xe=>O({...z,valore_neu:xe.target.value})}),o.jsx(ta,{placeholder:"Descrizione",value:z.descrizione,onChange:xe=>O({...z,descrizione:xe.target.value})})]}),o.jsx(Oe,{onClick:()=>pn.mutate(z),className:"bg-[#053c5e]",children:"Salva"})]})}),o.jsx(bh,{open:!!Z.id,onOpenChange:()=>oe({id:null,type:null,title:""}),children:o.jsxs(Id,{children:[o.jsxs(Rd,{children:[o.jsx(zd,{children:"Conferma Eliminazione"}),o.jsxs(Fd,{children:["Eliminare definitivamente ",Z.title,"?"]})]}),o.jsxs(Md,{children:[o.jsx(qd,{children:"No"}),o.jsx($d,{onClick:()=>{Z.type==="azione"?un.mutate(Z.id):Z.type==="dichiarazione"?mn.mutate(Z.id):Z.type==="transazione"&&ut.mutate(Z.data),oe({id:null,type:null,title:""})},className:"bg-red-600",children:"S, Conferma"})]})]})}),o.jsx(Er,{open:!!l,onOpenChange:xe=>!xe&&c(null),children:o.jsxs(wr,{className:"sm:max-w-[500px]",children:[o.jsx(_r,{children:o.jsxs(jr,{children:["Modifica Utente - ",l==null?void 0:l.full_name]})}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{children:"Nome Completo"}),o.jsx(tt,{value:d.full_name,onChange:xe=>h({...d,full_name:xe.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{children:"Email"}),o.jsx(tt,{value:d.email,onChange:xe=>h({...d,email:xe.target.value}),type:"email"})]}),o.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[o.jsx(Le,{className:"text-sm font-bold block mb-2",children:"Permessi e Ruoli"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mt-2",children:He.map(xe=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ws,{id:xe.value,checked:p.includes(xe.value),onCheckedChange:()=>st(xe.value)}),o.jsx(Le,{htmlFor:xe.value,className:"text-sm cursor-pointer",children:xe.label})]},xe.value))})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx(Oe,{variant:"outline",onClick:()=>c(null),children:"Annulla"}),o.jsx(Oe,{onClick:Pe,className:"bg-[#053c5e]",children:"Salva Modifiche"})]})]})})]})}function rF(){const[e,t]=j.useState(!1),[n,r]=j.useState(!1),[i,a]=j.useState({first_name:"",last_name:"",genere:"",email:"",telefono:"",data_nascita:"",citta_residenza:"",paese_residenza:"",privacy_accettata:!1,newsletter:!1}),s=async l=>{if(l.preventDefault(),!i.first_name||!i.last_name||!i.email){We.error("Nome, cognome ed email sono obbligatori");return}if(!i.genere||!i.data_nascita||!i.citta_residenza||!i.paese_residenza){We.error("Tutti i campi obbligatori devono essere compilati");return}if(!i.privacy_accettata){We.error("Devi accettare la privacy policy per continuare");return}t(!0);try{let c=null;try{c=await we.auth.me()}catch{}if((await we.entities.ProfiloCoworker.filter({email:i.email})).length>0){We.error("Esiste gi un profilo registrato con questa email."),t(!1);return}await we.entities.ProfiloCoworker.create({first_name:i.first_name,last_name:i.last_name,email:i.email,genere:i.genere,telefono:i.telefono,data_nascita:i.data_nascita,citta_residenza:i.citta_residenza,paese_residenza:i.paese_residenza,privacy_accettata:i.privacy_accettata,data_accettazione_privacy:new Date().toISOString(),data_compilazione:new Date().toISOString(),newsletter:i.newsletter,user_id:(c==null?void 0:c.id)||null,stato:c?"iscritto":"check_in_completato"}),r(!0),setTimeout(()=>{a({first_name:"",last_name:"",genere:"",email:"",telefono:"",data_nascita:"",citta_residenza:"",paese_residenza:"",privacy_accettata:!1,newsletter:!1}),r(!1)},3e3)}catch(c){console.error("Errore salvataggio:",c),We.error(c.message||"Errore durante il check-in")}finally{t(!1)}};return n?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#bfdbf7] to-white flex items-center justify-center px-4",children:o.jsxs("div",{className:"text-center max-w-2xl",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx(lu,{className:"w-24 h-24 text-green-500 mx-auto mb-4 animate-bounce"}),o.jsx("h1",{className:"text-4xl font-bold text-[#053c5e] mb-4",children:"Grazie!"}),o.jsx("p",{className:"text-xl text-[#1f7a8c] mb-2",children:"Benvenuto/a al coworking neu [ni]"}),o.jsx("p",{className:"text-slate-600",children:"Il tuo check-in  stato completato con successo"})]}),o.jsx("img",{src:"/logo-white.png",alt:"neu [ni]",className:"h-16 mx-auto opacity-50"})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#bfdbf7] to-white py-12 px-4",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("img",{src:"/logo-white.png",alt:"neu [ni]",className:"h-16 mx-auto mb-4"}),o.jsx("h1",{className:"text-3xl font-bold text-[#053c5e] mb-2",children:"Check-in Form"}),o.jsx("p",{className:"text-slate-600",children:"Benvenuto/a in neu [ni] - Compila il form per il check-in"})]}),o.jsx(yt,{children:o.jsx(wt,{className:"pt-6",children:o.jsxs("form",{onSubmit:s,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Nome / First Name *"}),o.jsx(tt,{value:i.first_name,onChange:l=>a({...i,first_name:l.target.value}),placeholder:"Mario",required:!0})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Cognome / Last Name *"}),o.jsx(tt,{value:i.last_name,onChange:l=>a({...i,last_name:l.target.value}),placeholder:"Rossi",required:!0})]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Genere / Gender *"}),o.jsxs(an,{value:i.genere,onValueChange:l=>a({...i,genere:l}),children:[o.jsx(tn,{children:o.jsx(on,{placeholder:"Seleziona genere"})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"maschio",children:"Maschio / Male"}),o.jsx(Ze,{value:"femmina",children:"Femmina / Female"}),o.jsx(Ze,{value:"altro",children:"Altro / Other"}),o.jsx(Ze,{value:"ente giuridico",children:"Ente Giuridico / Legal Entity"}),o.jsx(Ze,{value:"preferisco_non_rispondere",children:"Preferisco non rispondere / Prefer not to say"})]})]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Mail *"}),o.jsx(tt,{type:"email",value:i.email,onChange:l=>a({...i,email:l.target.value}),placeholder:"mario.rossi@example.com",required:!0})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Tel"}),o.jsx(tt,{type:"tel",value:i.telefono,onChange:l=>a({...i,telefono:l.target.value}),placeholder:"+39 123 456 7890"})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Data di nascita / Date of birth *"}),o.jsx(tt,{type:"date",value:i.data_nascita,onChange:l=>a({...i,data_nascita:l.target.value}),required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Citt di residenza / City of residence *"}),o.jsx(tt,{value:i.citta_residenza,onChange:l=>a({...i,citta_residenza:l.target.value}),placeholder:"Es: Palermo",required:!0})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Stato / Country *"}),o.jsx(tt,{value:i.paese_residenza,onChange:l=>a({...i,paese_residenza:l.target.value}),placeholder:"Es: Italy",required:!0})]})]}),o.jsxs("div",{className:"border-t pt-4 space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(ws,{id:"privacy",checked:i.privacy_accettata,onCheckedChange:l=>a({...i,privacy_accettata:l})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{htmlFor:"privacy",className:"text-sm font-medium cursor-pointer",children:"Autorizzazione al trattamento dati / Data processing authorization *"}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:o.jsx("a",{href:"https://neunoi.org/privacy-policy",target:"_blank",rel:"noopener noreferrer",className:"text-[#1f7a8c] hover:underline",children:"https://neunoi.org/privacy-policy"})})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(ws,{id:"newsletter",checked:i.newsletter,onCheckedChange:l=>a({...i,newsletter:l})}),o.jsx("label",{htmlFor:"newsletter",className:"text-sm cursor-pointer",children:"Desidero ricevere informazioni sulle iniziative e gli eventi dell'associazione / I would like to receive information about the association's initiatives and events"})]})]}),o.jsx(Oe,{type:"submit",className:"w-full bg-[#053c5e] hover:bg-[#1f7a8c] text-white",disabled:e,children:e?"Salvataggio...":o.jsxs(o.Fragment,{children:[o.jsx(lu,{className:"w-4 h-4 mr-2"}),"Completa Check-in"]})})]})})}),o.jsx("p",{className:"text-center text-xs text-slate-500 mt-4",children:"I campi contrassegnati con * sono obbligatori"})]})})}function Ene({user:e}){const[t,n]=j.useState(!1),[r,i]=j.useState(null),[a,s]=j.useState({ragione_sociale:"",indirizzo:"",citta:"",provincia:"",cap:"",paese:"Italia",codice_fiscale:"",partita_iva:"",pec:"",codice_univoco:"",is_estero:!1}),l=Or();j.useEffect(()=>{c()},[e]);const c=async()=>{if(!e)return;const p=await we.entities.DatiFatturazione.filter({user_id:e.id});p[0]&&(i(p[0]),s({...p[0],paese:p[0].paese||"Italia",is_estero:!!p[0].is_estero}))},d=vn({mutationFn:async p=>{const{id:g,createdAt:m,updatedAt:b,user_id:x,...y}=p;y.is_estero||(y.paese="Italia"),r?await we.entities.DatiFatturazione.update(r.id,y):await we.entities.DatiFatturazione.create({...y,user_id:e.id})},onSuccess:()=>{c(),n(!1),l.invalidateQueries({queryKey:["dati_fatturazione"]}),We.success("Dati di fatturazione salvati")},onError:()=>{We.error("Errore nel salvataggio")}}),h=p=>{p.preventDefault(),d.mutate(a)};return o.jsxs(yt,{className:"border-t-4 border-t-[#1f7a8c]",children:[o.jsx(Jt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Zt,{className:"flex items-center gap-2",children:[o.jsx(Yf,{className:"w-5 h-5 text-[#1f7a8c]"}),"Dati di Fatturazione"]}),!t&&o.jsxs(Oe,{variant:"outline",size:"sm",onClick:()=>n(!0),className:"border-[#1f7a8c] text-[#1f7a8c] hover:bg-[#1f7a8c] hover:text-white",children:[o.jsx(Cs,{className:"w-4 h-4 mr-2"}),r?"Modifica":"Inserisci"]})]})}),o.jsx(wt,{children:!t&&!r?o.jsxs("div",{className:"text-center py-8 bg-slate-50 rounded-lg border-2 border-dashed border-slate-200",children:[o.jsx("p",{className:"text-[#1f7a8c] font-medium mb-4 italic",children:"Profilo di fatturazione non ancora configurato"}),o.jsx(Oe,{onClick:()=>n(!0),className:"bg-[#053c5e] hover:bg-[#1f7a8c]",children:"Configura Ora"})]}):t?o.jsxs("form",{onSubmit:h,className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4 p-3 bg-slate-50 rounded",children:[o.jsx(ws,{id:"is_estero",checked:a.is_estero,onCheckedChange:p=>s({...a,is_estero:!!p,paese:p?"":"Italia"})}),o.jsx(Le,{htmlFor:"is_estero",className:"text-sm font-medium leading-none cursor-pointer",children:"Questa  un'azienda estera (extra-Italia)"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(Le,{children:"Ragione Sociale / Nome e Cognome *"}),o.jsx(tt,{value:a.ragione_sociale,onChange:p=>s({...a,ragione_sociale:p.target.value}),placeholder:"E.g. Rossi srl o Mario Rossi",required:!0})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(Le,{children:"Indirizzo (Via e Civico) *"}),o.jsx(tt,{value:a.indirizzo,onChange:p=>s({...a,indirizzo:p.target.value}),required:!0})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Citt *"}),o.jsx(tt,{value:a.citta,onChange:p=>s({...a,citta:p.target.value}),required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"CAP *"}),o.jsx(tt,{value:a.cap,onChange:p=>s({...a,cap:p.target.value}),required:!0})]}),o.jsxs("div",{children:[o.jsx(Le,{children:a.is_estero?"Stato/Prov":"Prov"}),o.jsx(tt,{value:a.provincia,onChange:p=>s({...a,provincia:p.target.value}),maxLength:a.is_estero?50:2,placeholder:a.is_estero?"":"PA"})]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Paese *"}),a.is_estero?o.jsx(tt,{value:a.paese,onChange:p=>s({...a,paese:p.target.value}),placeholder:"E.g. France, Germany, USA",required:!0}):o.jsx(tt,{value:"Italia",disabled:!0,className:"bg-slate-50"})]}),o.jsxs("div",{children:[o.jsx(Le,{children:a.is_estero?"VAT Number / Tax ID":"Partita IVA"}),o.jsx(tt,{value:a.partita_iva,onChange:p=>s({...a,partita_iva:p.target.value})})]}),!a.is_estero&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Codice Fiscale"}),o.jsx(tt,{value:a.codice_fiscale,onChange:p=>s({...a,codice_fiscale:p.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"PEC (E-mail)"}),o.jsx(tt,{value:a.pec,onChange:p=>s({...a,pec:p.target.value})})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Codice SDI"}),o.jsx(tt,{value:a.codice_univoco,onChange:p=>s({...a,codice_univoco:p.target.value}),maxLength:7})]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsx(Oe,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Annulla"}),o.jsxs(Oe,{type:"submit",className:"bg-[#053c5e] hover:bg-[#1f7a8c] min-w-[120px]",children:[o.jsx(nh,{className:"w-4 h-4 mr-2"}),"Salva Dati"]})]})]}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx(Le,{className:"text-[#053c5e] opacity-70",children:"Ragione Sociale / Nome"}),o.jsx("div",{className:"font-semibold text-lg",children:r.ragione_sociale})]}),o.jsxs("div",{children:[o.jsx(Le,{className:"text-[#053c5e] opacity-70",children:"Sede Legale"}),o.jsxs("div",{children:[r.indirizzo,o.jsx("br",{}),r.cap," ",r.citta," ",r.provincia&&`(${r.provincia})`,o.jsxs("div",{className:"flex items-center gap-1 mt-1 font-medium text-slate-600",children:[o.jsx(FI,{className:"w-3 h-3"}),r.paese]})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[r.partita_iva&&o.jsxs("div",{children:[o.jsx(Le,{className:"text-[#053c5e] opacity-70",children:"P. IVA / VAT"}),o.jsx("div",{className:"font-mono",children:r.partita_iva})]}),r.codice_fiscale&&o.jsxs("div",{children:[o.jsx(Le,{className:"text-[#053c5e] opacity-70",children:"Codice Fiscale"}),o.jsx("div",{className:"font-mono",children:r.codice_fiscale})]}),!r.is_estero&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.pec&&o.jsxs("div",{children:[o.jsx(Le,{className:"text-[#053c5e] opacity-70",children:"PEC"}),o.jsx("div",{className:"text-sm",children:r.pec})]}),r.codice_univoco&&o.jsxs("div",{children:[o.jsx(Le,{className:"text-[#053c5e] opacity-70",children:"SDI"}),o.jsx("div",{className:"font-mono",children:r.codice_univoco})]})]}),r.is_estero&&o.jsx(Badge,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:"Azienda Estera"})]})]})})]})}const kne=zv("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),dh=j.forwardRef(({className:e,variant:t,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:Lt(kne({variant:t}),e),...n}));dh.displayName="Alert";const One=j.forwardRef(({className:e,...t},n)=>o.jsx("h5",{ref:n,className:Lt("mb-1 font-medium leading-none tracking-tight",e),...t}));One.displayName="AlertTitle";const fh=j.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Lt("text-sm [&_p]:leading-relaxed",e),...t}));fh.displayName="AlertDescription";var fA="Radio",[Tne,iF]=Ps(fA),[Dne,Lne]=Tne(fA),aF=j.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:a,disabled:s,value:l="on",onCheck:c,form:d,...h}=e,[p,g]=j.useState(null),m=zn(t,y=>g(y)),b=j.useRef(!1),x=p?d||!!p.closest("form"):!0;return o.jsxs(Dne,{scope:n,checked:i,disabled:s,children:[o.jsx(rn.button,{type:"button",role:"radio","aria-checked":i,"data-state":cF(i),"data-disabled":s?"":void 0,disabled:s,value:l,...h,ref:m,onClick:cn(e.onClick,y=>{i||c==null||c(),x&&(b.current=y.isPropagationStopped(),b.current||y.stopPropagation())})}),x&&o.jsx(lF,{control:p,bubbles:!b.current,name:r,value:l,checked:i,required:a,disabled:s,form:d,style:{transform:"translateX(-100%)"}})]})});aF.displayName=fA;var oF="RadioIndicator",sF=j.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,a=Lne(oF,n);return o.jsx(Ko,{present:r||a.checked,children:o.jsx(rn.span,{"data-state":cF(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})})});sF.displayName=oF;var Ine="RadioBubbleInput",lF=j.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...i},a)=>{const s=j.useRef(null),l=zn(s,a),c=T4(n),d=D4(t);return j.useEffect(()=>{const h=s.current;if(!h)return;const p=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==n&&m){const b=new Event("click",{bubbles:r});m.call(h,n),h.dispatchEvent(b)}},[c,n,r]),o.jsx(rn.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});lF.displayName=Ine;function cF(e){return e?"checked":"unchecked"}var Rne=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],A1="RadioGroup",[Mne]=Ps(A1,[r1,iF]),uF=r1(),dF=iF(),[zne,Fne]=Mne(A1),fF=j.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:a,required:s=!1,disabled:l=!1,orientation:c,dir:d,loop:h=!0,onValueChange:p,...g}=e,m=uF(n),b=Rv(d),[x,y]=Cd({prop:a,defaultProp:i??null,onChange:p,caller:A1});return o.jsx(zne,{scope:n,name:r,required:s,disabled:l,value:x,onValueChange:y,children:o.jsx(wR,{asChild:!0,...m,orientation:c,dir:b,loop:h,children:o.jsx(rn.div,{role:"radiogroup","aria-required":s,"aria-orientation":c,"data-disabled":l?"":void 0,dir:b,...g,ref:t})})})});fF.displayName=A1;var hF="RadioGroupItem",pF=j.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,a=Fne(hF,n),s=a.disabled||r,l=uF(n),c=dF(n),d=j.useRef(null),h=zn(t,d),p=a.value===i.value,g=j.useRef(!1);return j.useEffect(()=>{const m=x=>{Rne.includes(x.key)&&(g.current=!0)},b=()=>g.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",b)}},[]),o.jsx(_R,{asChild:!0,...l,focusable:!s,active:p,children:o.jsx(aF,{disabled:s,required:a.required,checked:p,...c,...i,name:a.name,ref:h,onCheck:()=>a.onValueChange(i.value),onKeyDown:cn(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:cn(i.onFocus,()=>{var m;g.current&&((m=d.current)==null||m.click())})})})});pF.displayName=hF;var $ne="RadioGroupIndicator",mF=j.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=dF(n);return o.jsx(sF,{...i,...r,ref:t})});mF.displayName=$ne;var gF=fF,vF=pF,qne=mF;const C1=j.forwardRef(({className:e,...t},n)=>o.jsx(gF,{className:Lt("grid gap-2",e),...t,ref:n}));C1.displayName=gF.displayName;const hh=j.forwardRef(({className:e,...t},n)=>o.jsx(vF,{ref:n,className:Lt("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(qne,{className:"flex items-center justify-center",children:o.jsx(LW,{className:"h-3.5 w-3.5 fill-primary"})})}));hh.displayName=vF.displayName;function Bne({user:e,abbonamenti:t=[]}){const[n,r]=j.useState({sala_id:"",data:"",ora_inizio:"",ora_fine:"",tipo_utilizzo:"call"}),[i,a]=j.useState({sovrapposizione:!1,crediti:null}),s=Or(),{data:l=[]}=Wt({queryKey:["sale"],queryFn:()=>we.entities.SalaRiunioni.filter({attiva:!0}),initialData:[]}),{data:c=[]}=Wt({queryKey:["prenotazioni_esistenti",n.sala_id,n.data],queryFn:()=>!n.sala_id||!n.data?[]:we.entities.PrenotazioneSala.filter({sala_id:n.sala_id,stato:"confermata"}),enabled:!!n.sala_id&&!!n.data,initialData:[]});j.useEffect(()=>{d()},[n.sala_id,n.data,n.ora_inizio,n.ora_fine,n.tipo_utilizzo]);const d=()=>{if(!n.sala_id||!n.data||!n.ora_inizio||!n.ora_fine){a({sovrapposizione:!1,crediti:null});return}const m=new Date(`${n.data}T${n.ora_inizio}`),b=new Date(`${n.data}T${n.ora_fine}`),x=(b-m)/(1e3*60*60),y=n.tipo_utilizzo==="call"?x*.5:x,w=c.some(C=>{const P=new Date(C.data_inizio),E=new Date(C.data_fine),I=new Date(n.data),z=new Date(C.data_inizio);return I.setHours(0,0,0,0),z.setHours(0,0,0,0),I.getTime()!==z.getTime()?!1:m<E&&b>P});let A=null;if(t.length>0){const C=new Date;C.setHours(0,0,0,0);const P=t.reduce((I,z)=>{const O=new Date(z.data_inizio);O.setHours(0,0,0,0);const F=new Date(z.data_scadenza);return F.setHours(23,59,59,999),O>C||F<C?I:I+((z.ore_sale_totali||0)-(z.ore_sale_usate||0))},0),E=y-P;E>0&&(E<=2?A={disponibili:P,necessari:y,eccedenza:E,permesso:!0}:A={disponibili:P,necessari:y,eccedenza:E,permesso:!1})}a({sovrapposizione:w,crediti:A})},h=vn({mutationFn:async m=>{const b=l.find(R=>R.id===Number(m.sala_id));if(!b)throw new Error("Sala non trovata");if(b.solo_staff&&!(Array.isArray(e==null?void 0:e.roles)?e.roles:typeof(e==null?void 0:e.roles)=="string"?[e.roles]:[]).some(B=>["host","admin","super_admin"].includes(B)))throw new Error("Non hai i permessi per prenotare questa sala");const x=new Date(`${m.data}T${m.ora_inizio}`),y=new Date(`${m.data}T${m.ora_fine}`),w=(y-x)/(1e3*60*60);if(w<.5)throw new Error("La durata minima per una prenotazione  di 30 minuti");if(!(Array.isArray(e==null?void 0:e.roles)?e.roles:typeof(e==null?void 0:e.roles)=="string"?[e.roles]:[]).some(R=>["host","admin","super_admin"].includes(R))){const R=x.getDay();if(R===0||R===6)throw new Error("Le sale sono prenotabili solo dal luned al venerd");const k=x.getHours(),B=y.getHours()+y.getMinutes()/60;if(k<9||B>18.5)throw new Error("Orario disponibile: 9:00 - 18:30")}if(c.some(R=>{const k=new Date(R.data_inizio),B=new Date(R.data_fine),U=new Date(m.data),M=new Date(R.data_inizio);return U.setHours(0,0,0,0),M.setHours(0,0,0,0),U.getTime()!==M.getTime()?!1:x<B&&y>k}))throw new Error("Attenzione: la tua prenotazione si sovrappone ad una gi presente");const E=m.tipo_utilizzo==="call"?w*.5:w,z=(await we.entities.AbbonamentoUtente.filter({user_id:e.id})).filter(R=>{if(!R.attivo)return!1;const k=new Date;k.setHours(0,0,0,0);const B=new Date(R.data_inizio);B.setHours(0,0,0,0);const U=new Date(R.data_scadenza);return U.setHours(23,59,59,999),B<=k&&U>=k}),O=z.reduce((R,k)=>R+((k.ore_sale_totali||0)-(k.ore_sale_usate||0)),0),F=E-O;if(F>2)throw new Error(`Eccedenza massima consentita: 2h credito. Ore in eccesso: ${Math.round(F*100)/100}h`);await we.entities.PrenotazioneSala.create({sala_id:m.sala_id,sala_nome:b.nome,user_id:e.id,utente_nome:e.full_name,data_inizio:x.toISOString(),data_fine:y.toISOString(),tipo_utilizzo:m.tipo_utilizzo,ore_credito_consumate:E,stato:"confermata"});let G=E;for(const R of z){if(G<=0)break;const k=(R.ore_sale_totali||0)-(R.ore_sale_usate||0);if(k>0){const B=Math.min(G,k);await we.entities.AbbonamentoUtente.update(R.id,{ore_sale_usate:(R.ore_sale_usate||0)+B}),G-=B}}},onSuccess:()=>{s.invalidateQueries({queryKey:["abbonamenti"]}),s.invalidateQueries({queryKey:["prenotazioni"]}),r({sala_id:"",data:"",ora_inizio:"",ora_fine:"",tipo_utilizzo:"call"}),a({sovrapposizione:!1,crediti:null}),We.success("Prenotazione confermata!")},onError:m=>{We.error(m.message)}}),p=m=>{if(m.preventDefault(),t.length===0){We.error("Devi avere un abbonamento attivo per prenotare");return}h.mutate(n)},g=l.find(m=>m.id===n.sala_id);return o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsxs(Zt,{className:"flex items-center gap-2",children:[o.jsx(na,{className:"w-5 h-5 text-[#1f7a8c]"}),"Prenota una Sala Riunioni"]})}),o.jsx(wt,{children:t.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(th,{className:"w-12 h-12 text-orange-500 mx-auto mb-4"}),o.jsx("p",{className:"text-[#1f7a8c]",children:"Attiva un abbonamento per prenotare le sale"})]}):o.jsxs("form",{onSubmit:p,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Sala"}),o.jsxs(an,{value:String(n.sala_id),onValueChange:m=>r({...n,sala_id:m}),children:[o.jsx(tn,{children:o.jsx(on,{placeholder:"Seleziona sala"})}),o.jsx(nn,{children:l.filter(m=>{var y;const x=(Array.isArray(e==null?void 0:e.roles)?e.roles:typeof(e==null?void 0:e.roles)=="string"?[e.roles]:[]).some(w=>["host","admin","super_admin"].includes(w));return(y=m.nome)!=null&&y.toLowerCase().includes("eventi")||m.solo_staff?x:!0}).map(m=>o.jsxs(Ze,{value:String(m.id),children:[m.nome," (max ",m.capienza," ",m.capienza===1?"persona":"persone",")"]},m.id))})]})]}),g&&o.jsxs("div",{className:"bg-[#bfdbf7] p-3 rounded-lg text-sm text-[#053c5e]",children:[o.jsx("strong",{children:"Capienza massima:"})," ",g.capienza," ",g.capienza===1?"persona":"persone",g.descrizione&&o.jsx("div",{className:"mt-1",children:g.descrizione})]}),o.jsxs("div",{children:[o.jsx(Le,{className:"mb-3 block",children:"Tipo Utilizzo"}),o.jsxs(C1,{value:n.tipo_utilizzo,onValueChange:m=>r({...n,tipo_utilizzo:m}),className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(hh,{value:"call",id:"call",className:"peer sr-only"}),o.jsxs(Le,{htmlFor:"call",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-slate-50 hover:text-accent-foreground peer-data-[state=checked]:border-[#1f7a8c] [&:has([data-state=checked])]:border-[#1f7a8c] cursor-pointer",children:[o.jsx(cu,{className:"mb-2 h-6 w-6 text-[#1f7a8c]"}),o.jsx("span",{className:"font-bold",children:"Call"}),o.jsx("span",{className:"text-[10px] text-slate-500 uppercase mt-1",children:"1 persona"}),o.jsx("span",{className:"text-[10px] bg-blue-100 text-blue-700 px-1 rounded mt-1",children:"0.5x crediti"})]})]}),o.jsxs("div",{children:[o.jsx(hh,{value:"riunione",id:"riunione",className:"peer sr-only"}),o.jsxs(Le,{htmlFor:"riunione",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-slate-50 hover:text-accent-foreground peer-data-[state=checked]:border-[#1f7a8c] [&:has([data-state=checked])]:border-[#1f7a8c] cursor-pointer",children:[o.jsx(yo,{className:"mb-2 h-6 w-6 text-[#053c5e]"}),o.jsx("span",{className:"font-bold",children:"Riunione"}),o.jsx("span",{className:"text-[10px] text-slate-500 uppercase mt-1",children:"Pi persone"}),o.jsx("span",{className:"text-[10px] bg-purple-100 text-purple-700 px-1 rounded mt-1",children:"1x crediti"})]})]})]}),o.jsx("p",{className:"text-xs text-slate-500 mt-2 italic",children:"Scegli 'Call' se sarai da solo in sala per usufruire della tariffa ridotta."})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Data"}),o.jsx("input",{type:"date",className:"w-full p-2 border rounded-md",value:n.data,onClick:m=>{var b,x;return(x=(b=m.target).showPicker)==null?void 0:x.call(b)},onChange:m=>r({...n,data:m.target.value}),min:new Date().toISOString().split("T")[0],required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Ora Inizio"}),o.jsxs(an,{value:n.ora_inizio,onValueChange:m=>r({...n,ora_inizio:m}),children:[o.jsx(tn,{children:o.jsx(on,{placeholder:"--:--"})}),o.jsx(nn,{className:"max-h-[200px]",children:Array.from({length:39},(m,b)=>{const x=b*15,y=9+Math.floor(x/60),w=x%60;if(y>18||y===18&&w>30)return null;const A=`${y.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}`;return o.jsx(Ze,{value:A,children:A},A)})})]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Ora Fine"}),o.jsxs(an,{value:n.ora_fine,onValueChange:m=>r({...n,ora_fine:m}),children:[o.jsx(tn,{children:o.jsx(on,{placeholder:"--:--"})}),o.jsx(nn,{className:"max-h-[200px]",children:Array.from({length:40},(m,b)=>{const x=(b+1)*15,y=9+Math.floor(x/60),w=x%60,A=`${y.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}`;return y<9||y>19?null:o.jsx(Ze,{value:A,children:A},A)})})]})]})]}),o.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg text-xs text-slate-600",children:[o.jsx(vo,{className:"w-4 h-4 inline mr-1"}),"Orario: Lun-Ven, 9:00 - 18:30"]}),i.sovrapposizione&&o.jsxs(dh,{className:"border-red-500 bg-red-50",children:[o.jsx(Ad,{className:"h-4 w-4 text-red-600"}),o.jsxs(fh,{className:"text-red-800",children:[o.jsx("strong",{children:"Attenzione:"})," la tua prenotazione si sovrappone ad una gi presente. Non sar possibile confermarla."]})]}),i.crediti&&o.jsxs(dh,{className:i.crediti.permesso?"border-orange-500 bg-orange-50":"border-red-500 bg-red-50",children:[o.jsx(Ad,{className:`h-4 w-4 ${i.crediti.permesso?"text-orange-600":"text-red-600"}`}),o.jsxs(fh,{className:i.crediti.permesso?"text-orange-800":"text-red-800",children:[o.jsx("strong",{children:"Attenzione:"})," stai superando le ore disponibili di ",Math.round(i.crediti.eccedenza*100)/100,"h credito.",o.jsx("br",{}),o.jsxs("span",{className:"text-sm",children:["Disponibili: ",i.crediti.disponibili,"h | Necessari: ",Math.round(i.crediti.necessari*100)/100,"h"]}),o.jsx("br",{}),i.crediti.permesso?o.jsx("span",{className:"text-sm font-semibold",children:"Le ore extra verranno fatturate secondo il listino prezzi."}):o.jsx("span",{className:"text-sm font-semibold",children:"Eccedenza massima consentita: 2h credito. Riduci la durata della prenotazione."})]})]}),o.jsx(Oe,{type:"submit",className:"w-full bg-[#053c5e] hover:bg-[#1f7a8c]",disabled:h.isPending||i.sovrapposizione||i.crediti&&!i.crediti.permesso,children:h.isPending?"Prenotazione...":"Conferma Prenotazione"})]})})]})}function hA({sale:e,prenotazioni:t,onNuovaPrenotazione:n}){const[r,i]=j.useState(window.innerWidth<768),[a,s]=j.useState(!1),[l,c]=j.useState(new Date),[d,h]=j.useState(()=>{const F=new Date,G=F.getDay(),R=G===0?-6:1-G,k=new Date(F);return k.setDate(F.getDate()+R),k.setHours(0,0,0,0),k}),[p,g]=j.useState([]);j.useEffect(()=>{p.length===0&&e.length>0&&g(e.map(F=>F.id))},[e]),j.useEffect(()=>{const F=()=>{const G=window.innerWidth<768;i(G),G&&s(!1)};return window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[]);const m=9,b=19,x=60,y=Array.from({length:b-m+1},(F,G)=>m+G),w=Array.from({length:5},(F,G)=>{const R=new Date(d);return R.setDate(R.getDate()+G),R}),A=e.filter(F=>p.includes(F.id)),C=F=>{const G=new Date(d);G.setDate(G.getDate()+F*7),h(G)},P=F=>{const G=new Date(l);G.setDate(G.getDate()+F),c(G)},E=F=>{g(G=>G.includes(F)?G.filter(R=>R!==F):[...G,F])},I=()=>{g(p.length===e.length?[]:e.map(F=>F.id))},z=()=>{const F=new Date(d);return F.setDate(F.getDate()+4),`${d.toLocaleDateString("it-IT",{day:"numeric",month:"short"})} - ${F.toLocaleDateString("it-IT",{day:"numeric",month:"short",year:"numeric"})}`},O=(F,G)=>{const R=F.getHours(),k=F.getMinutes(),B=G.getHours(),U=G.getMinutes(),M=(R-m)*60+k,X=B*60+U-(R*60+k),Q=M/60*x,K=X/60*x;return{top:`${Q}px`,height:`${K}px`,minHeight:"20px"}};return o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(na,{className:"w-5 h-5 text-[#1f7a8c]"}),o.jsx(Zt,{children:"Calendario Sale"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[!r&&o.jsxs("div",{className:"flex gap-1 border border-slate-300 rounded-md p-1",children:[o.jsx(Oe,{size:"sm",variant:a?"ghost":"default",onClick:()=>s(!1),className:a?"":"bg-[#053c5e] hover:bg-[#1f7a8c]",children:"Giorno"}),o.jsx(Oe,{size:"sm",variant:a?"default":"ghost",onClick:()=>s(!0),className:a?"bg-[#053c5e] hover:bg-[#1f7a8c]":"",children:"Settimana"})]}),n&&o.jsxs(Oe,{onClick:()=>n(null,null),className:"bg-[#053c5e] hover:bg-[#1f7a8c]",children:[o.jsx(xs,{className:"w-4 h-4 mr-2"})," Crea"]}),o.jsx(Oe,{variant:"outline",size:"sm",onClick:()=>a?C(-1):P(-1),children:o.jsx(e1,{className:"w-4 h-4"})}),o.jsx("div",{className:"text-sm font-semibold text-[#053c5e] min-w-[200px] text-center",children:a?z():l.toLocaleDateString("it-IT",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),o.jsx(Oe,{variant:"outline",size:"sm",onClick:()=>a?C(1):P(1),children:o.jsx(t1,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(ws,{id:"tutte",checked:p.length===e.length,onCheckedChange:I}),o.jsx("label",{htmlFor:"tutte",className:"text-sm font-semibold cursor-pointer",children:"Tutte le sale"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(F=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ws,{id:F.id,checked:p.includes(F.id),onCheckedChange:()=>E(F.id)}),o.jsxs("label",{htmlFor:F.id,className:"text-sm cursor-pointer flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:F.colore||"#1f7a8c"}}),F.nome]})]},F.id))})]})]})}),o.jsx(wt,{children:A.length===0?o.jsx("p",{className:"text-center text-slate-500 py-8",children:"Seleziona almeno una sala"}):o.jsxs("div",{className:"border rounded-lg overflow-hidden flex flex-col h-[650px] relative",children:[o.jsxs("div",{className:"flex border-b bg-slate-100 z-10 sticky top-0",children:[o.jsx("div",{className:"w-16 flex-shrink-0 border-r bg-white"}),o.jsx("div",{className:"flex-1 flex overflow-hidden",children:a?w.map(F=>o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-2 border-r last:border-r-0 min-w-[100px] bg-[#053c5e] text-white",children:[o.jsx("span",{className:"text-xs uppercase opacity-80",children:F.toLocaleDateString("it-IT",{weekday:"short"})}),o.jsx("span",{className:"font-bold",children:F.getDate()})]},F.toISOString())):A.map(F=>o.jsxs("div",{className:"flex-1 flex items-center justify-center p-3 border-r last:border-r-0 min-w-[120px] bg-[#053c5e] text-white font-bold",children:[o.jsx("div",{className:"w-3 h-3 rounded mr-2",style:{backgroundColor:F.colore||"#1f7a8c"}}),F.nome]},F.id))})]}),o.jsx("div",{className:"flex-1 overflow-y-auto relative",children:o.jsxs("div",{className:"flex relative",style:{height:`${(b-m)*x}px`},children:[" ",o.jsx("div",{className:"w-16 flex-shrink-0 border-r bg-white sticky left-0 z-10",children:y.map((F,G)=>o.jsxs("div",{className:"absolute w-full text-right pr-2 text-xs text-slate-500 -mt-2",style:{top:`${G*x}px`},children:[F,":00"]},F))}),o.jsxs("div",{className:"flex-1 relative bg-white",children:[y.map((F,G)=>o.jsx("div",{className:"absolute w-full border-t border-slate-200",style:{top:`${G*x}px`}},G)),o.jsx("div",{className:"absolute inset-0 flex",children:a?w.map(F=>o.jsx("div",{className:"flex-1 border-r last:border-r-0 relative min-w-[100px]",children:A.map(G=>t.filter(k=>{if(k.sala_id!==G.id||k.stato!=="confermata")return!1;const B=new Date(k.data_inizio);return B.getDate()===F.getDate()&&B.getMonth()===F.getMonth()&&B.getFullYear()===F.getFullYear()}).map(k=>{const B=new Date(k.data_inizio),U=new Date(k.data_fine),M=O(B,U);return o.jsxs("div",{className:"absolute left-0.5 right-0.5 rounded px-1 py-0.5 text-[10px] overflow-hidden hover:z-20 hover:shadow-lg transition-all border shadow-sm",style:{...M,backgroundColor:G.colore?`${G.colore}20`:"#e2e8f0",borderColor:G.colore||"#cbd5e1",borderLeftWidth:"3px"},title:`${k.utente_nome} - ${k.tipo_utilizzo}`,children:[o.jsx("div",{className:"font-bold text-[#053c5e] truncate",children:k.utente_nome}),o.jsxs("div",{className:"text-xs truncate",children:[B.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",U.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]},k.id)}))},F.toISOString())):A.map(F=>o.jsx("div",{className:"flex-1 border-r last:border-r-0 relative min-w-[120px]",children:t.filter(G=>G.sala_id===F.id&&G.stato==="confermata").filter(G=>{const R=new Date(G.data_inizio);return R.getDate()===l.getDate()&&R.getMonth()===l.getMonth()&&R.getFullYear()===l.getFullYear()}).map(G=>{const R=new Date(G.data_inizio),k=new Date(G.data_fine),B=O(R,k);return o.jsxs("div",{className:"absolute left-1 right-1 rounded p-2 text-xs overflow-hidden hover:z-20 hover:shadow-xl transition-all border shadow-sm cursor-pointer group",style:{...B,backgroundColor:F.colore?`${F.colore}20`:"#e2e8f0",borderColor:F.colore||"#cbd5e1",borderLeftWidth:"4px"},children:[o.jsx("div",{className:"font-bold text-[#053c5e] truncate group-hover:whitespace-normal",children:G.utente_nome}),o.jsxs("div",{className:"text-slate-600 mb-1",children:[R.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",k.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),o.jsx(kn,{variant:"outline",className:"bg-white/50 border-slate-400 text-[10px] h-5",children:G.tipo_utilizzo})]},G.id)})},F.id))})]})]})})]})})]})}function Une({open:e,onOpenChange:t,prenotazione:n,user:r,abbonamenti:i=[]}){const[a,s]=j.useState({sala_id:"",data:"",ora_inizio:"",ora_fine:"",tipo_utilizzo:""}),[l,c]=j.useState({sovrapposizione:!1,crediti:null}),d=Or(),{data:h=[]}=Wt({queryKey:["sale"],queryFn:()=>we.entities.SalaRiunioni.filter({attiva:!0}),initialData:[]}),{data:p=[]}=Wt({queryKey:["prenotazioni_esistenti",a.sala_id,a.data],queryFn:()=>!a.sala_id||!a.data?[]:we.entities.PrenotazioneSala.filter({sala_id:a.sala_id,stato:"confermata"}),enabled:!!a.sala_id&&!!a.data,initialData:[]});j.useEffect(()=>{if(n){const b=new Date(n.data_inizio),x=new Date(n.data_fine);s({sala_id:String(n.sala_id),data:b.toISOString().split("T")[0],ora_inizio:b.toTimeString().slice(0,5),ora_fine:x.toTimeString().slice(0,5),tipo_utilizzo:n.tipo_utilizzo||"call"})}},[n]),j.useEffect(()=>{g()},[a.sala_id,a.data,a.ora_inizio,a.ora_fine,a.tipo_utilizzo]);const g=()=>{if(!a.sala_id||!a.data||!a.ora_inizio||!a.ora_fine){c({sovrapposizione:!1,crediti:null});return}const b=new Date(`${a.data}T${a.ora_inizio}`),x=new Date(`${a.data}T${a.ora_fine}`),y=(x-b)/(1e3*60*60),w=a.tipo_utilizzo==="call"?y*.5:y,A=(n==null?void 0:n.ore_credito_consumate)||0,C=w-A,P=p.some(I=>{if(I.id===n.id)return!1;const z=new Date(I.data_inizio),O=new Date(I.data_fine),F=new Date(a.data),G=new Date(I.data_inizio);return F.setHours(0,0,0,0),G.setHours(0,0,0,0),F.getTime()!==G.getTime()?!1:b<O&&x>z});let E=null;if(C>0){const I=i.reduce((O,F)=>{const G=new Date;G.setHours(0,0,0,0);const R=new Date(F.data_inizio);R.setHours(0,0,0,0);const k=new Date(F.data_scadenza);return k.setHours(23,59,59,999),R>G||k<G?O:O+((F.ore_sale_totali||0)-(F.ore_sale_usate||0))},0),z=C-I;z>0&&(E={disponibili:I,necessari:C,eccedenza:z,permesso:z<=2})}c({sovrapposizione:P,crediti:E})},m=vn({mutationFn:async b=>{var z;const x=h.find(O=>String(O.id)===b.sala_id);if(!x)throw new Error("Sala non trovata");const y=new Date(`${b.data}T${b.ora_inizio}`),w=new Date(`${b.data}T${b.ora_fine}`),A=(w-y)/(1e3*60*60);if(A<.5)throw new Error("La durata minima per una prenotazione  di 30 minuti");const C=b.tipo_utilizzo==="call"?A*.5:A,P=n.ore_credito_consumate||0,E=C-P;if(!((z=r.roles)==null?void 0:z.some(O=>["host","admin","super_admin"].includes(O)))){const O=y.getDay();if(O===0||O===6)throw new Error("Sale disponibili solo Lun-Ven");const F=y.getHours(),G=w.getHours()+w.getMinutes()/60;if(F<9||G>18.5)throw new Error("Orario disponibile: 9:00 - 18:30")}if(E!==0){const F=await we.entities.AbbonamentoUtente.filter({user_id:r.id,attivo:!0});if(E>0){let G=E;const R=new Date;R.setHours(0,0,0,0);for(const k of F){if(G<=0)break;const B=new Date(k.data_inizio);B.setHours(0,0,0,0);const U=new Date(k.data_scadenza);if(U.setHours(23,59,59,999),B>R||U<R)continue;const M=(k.ore_sale_totali||0)-(k.ore_sale_usate||0);if(M>0){const X=Math.min(G,M);await we.entities.AbbonamentoUtente.update(k.id,{ore_sale_usate:(k.ore_sale_usate||0)+X}),G-=X}}if(G>2)throw new Error("Crediti insufficienti (max 2h extra)")}else{let G=Math.abs(E);for(const R of[...F].reverse()){if(G<=0)break;const k=R.ore_sale_usate||0;if(k>0){const B=Math.min(G,k);await we.entities.AbbonamentoUtente.update(R.id,{ore_sale_usate:k-B}),G-=B}}}}await we.entities.PrenotazioneSala.update(n.id,{sala_id:Number(b.sala_id),sala_nome:x.nome,data_inizio:y.toISOString(),data_fine:w.toISOString(),tipo_utilizzo:b.tipo_utilizzo,ore_credito_consumate:C})},onSuccess:()=>{d.invalidateQueries({queryKey:["abbonamenti"]}),d.invalidateQueries({queryKey:["prenotazioni"]}),We.success("Prenotazione aggiornata"),t(!1)},onError:b=>{We.error(b.message)}});return o.jsx(Er,{open:e,onOpenChange:t,children:o.jsxs(wr,{className:"sm:max-w-[425px]",children:[o.jsx(_r,{children:o.jsx(jr,{children:"Modifica Prenotazione"})}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Sala"}),o.jsxs(an,{value:a.sala_id,onValueChange:b=>s({...a,sala_id:b}),children:[o.jsx(tn,{children:o.jsx(on,{})}),o.jsx(nn,{children:h.filter(b=>{var y,w;const x=(y=r.roles)==null?void 0:y.some(A=>["host","admin","super_admin"].includes(A));return(w=b.nome)!=null&&w.toLowerCase().includes("eventi")||b.solo_staff?x:!0}).map(b=>o.jsx(Ze,{value:String(b.id),children:b.nome},b.id))})]})]}),o.jsxs("div",{children:[o.jsx(Le,{className:"mb-3 block",children:"Tipo Utilizzo"}),o.jsxs(C1,{value:a.tipo_utilizzo,onValueChange:b=>s({...a,tipo_utilizzo:b}),className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(hh,{value:"call",id:"edit-call",className:"peer sr-only"}),o.jsxs(Le,{htmlFor:"edit-call",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-slate-50 hover:text-accent-foreground peer-data-[state=checked]:border-[#1f7a8c] [&:has([data-state=checked])]:border-[#1f7a8c] cursor-pointer",children:[o.jsx(cu,{className:"mb-2 h-6 w-6 text-[#1f7a8c]"}),o.jsx("span",{className:"font-bold",children:"Call"}),o.jsx("span",{className:"text-[10px] text-slate-500 uppercase mt-1 text-center",children:"1 persona"}),o.jsx("span",{className:"text-[10px] bg-blue-100 text-blue-700 px-1 rounded mt-1",children:"0.5x crediti"})]})]}),o.jsxs("div",{children:[o.jsx(hh,{value:"riunione",id:"edit-riunione",className:"peer sr-only"}),o.jsxs(Le,{htmlFor:"edit-riunione",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-slate-50 hover:text-accent-foreground peer-data-[state=checked]:border-[#1f7a8c] [&:has([data-state=checked])]:border-[#1f7a8c] cursor-pointer",children:[o.jsx(yo,{className:"mb-2 h-6 w-6 text-[#053c5e]"}),o.jsx("span",{className:"font-bold",children:"Riunione"}),o.jsx("span",{className:"text-[10px] text-slate-500 uppercase mt-1 text-center",children:"Pi persone"}),o.jsx("span",{className:"text-[10px] bg-purple-100 text-purple-700 px-1 rounded mt-1",children:"1x crediti"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Data"}),o.jsx("input",{type:"date",className:"w-full p-2 border rounded-md",value:a.data,onChange:b=>s({...a,data:b.target.value}),min:new Date().toISOString().split("T")[0]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Ora Inizio"}),o.jsx("input",{type:"time",className:"w-full p-2 border rounded-md",value:a.ora_inizio,onChange:b=>s({...a,ora_inizio:b.target.value})})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Ora Fine"}),o.jsx("input",{type:"time",className:"w-full p-2 border rounded-md",value:a.ora_fine,onChange:b=>s({...a,ora_fine:b.target.value})})]})]}),o.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg text-xs text-slate-600",children:[o.jsx(vo,{className:"w-4 h-4 inline mr-1"}),"Orario: Lun-Ven, 9:00 - 18:30"]}),l.sovrapposizione&&o.jsxs(dh,{className:"border-red-500 bg-red-50",children:[o.jsx(Ad,{className:"h-4 w-4 text-red-600"}),o.jsx(fh,{className:"text-red-800",children:"La sala  gi occupata in questo orario."})]}),l.crediti&&o.jsxs(dh,{className:l.crediti.permesso?"border-orange-500 bg-orange-50":"border-red-500 bg-red-50",children:[o.jsx(Ad,{className:`h-4 w-4 ${l.crediti.permesso?"text-orange-600":"text-red-600"}`}),o.jsxs(fh,{className:l.crediti.permesso?"text-orange-800":"text-red-800",children:[o.jsx("strong",{children:"Attenzione:"})," stai superando le ore disponibili di ",Math.round(l.crediti.eccedenza*100)/100,"h credito.",!l.crediti.permesso&&o.jsx("div",{className:"font-bold",children:"Eccedenza massima 2h."})]})]})]}),o.jsxs(nA,{children:[o.jsx(Oe,{variant:"outline",onClick:()=>t(!1),children:"Annulla"}),o.jsx(Oe,{onClick:()=>m.mutate(a),disabled:m.isPending||l.sovrapposizione||l.crediti&&!l.crediti.permesso,children:m.isPending?"Salvataggio...":"Salva Modifiche"})]})]})})}function Si(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ql(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function pA(e,t){const n=Si(e);return isNaN(t)?Ql(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function yF(e,t){const n=Si(e);if(isNaN(t))return Ql(e,NaN);if(!t)return n;const r=n.getDate(),i=Ql(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const xF=6048e5,Hne=864e5;let Wne={};function qv(){return Wne}function fu(e,t){var l,c,d,h;const n=qv(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=Si(e),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Xy(e){return fu(e,{weekStartsOn:1})}function bF(e){const t=Si(e),n=t.getFullYear(),r=Ql(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Xy(r),a=Ql(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const s=Xy(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function Qy(e){const t=Si(e);return t.setHours(0,0,0,0),t}function nk(e){const t=Si(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Vne(e,t){const n=Qy(e),r=Qy(t),i=+n-nk(n),a=+r-nk(r);return Math.round((i-a)/Hne)}function Gne(e){const t=bF(e),n=Ql(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Xy(n)}function wF(e,t){const n=t*7;return pA(e,n)}function z2(e,t){const n=Qy(e),r=Qy(t);return+n==+r}function Kne(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Yne(e){if(!Kne(e)&&typeof e!="number")return!1;const t=Si(e);return!isNaN(Number(t))}function Xne(e){const t=Si(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function rk(e,t){const n=Si(e.start),r=Si(e.end);let i=+n>+r;const a=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0);let l=1;const c=[];for(;+s<=a;)c.push(Si(s)),s.setDate(s.getDate()+l),s.setHours(0,0,0,0);return i?c.reverse():c}function Qne(e){const t=Si(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Jne(e){const t=Si(e),n=Ql(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function ik(e,t){var l,c,d,h;const n=qv(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=Si(e),a=i.getDay(),s=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const Zne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ere=(e,t,n)=>{let r;const i=Zne[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ep(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const tre={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nre={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rre={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ire={date:Ep({formats:tre,defaultWidth:"full"}),time:Ep({formats:nre,defaultWidth:"full"}),dateTime:Ep({formats:rre,defaultWidth:"full"})},are={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ore=(e,t,n,r)=>are[e];function $l(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):s;i=e.formattingValues[l]||e.formattingValues[s]}else{const s=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[s]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const sre={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ure={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hre=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},pre={ordinalNumber:hre,era:$l({values:sre,defaultWidth:"wide"}),quarter:$l({values:lre,defaultWidth:"wide",argumentCallback:e=>e-1}),month:$l({values:cre,defaultWidth:"wide"}),day:$l({values:ure,defaultWidth:"wide"}),dayPeriod:$l({values:dre,defaultWidth:"wide",formattingValues:fre,defaultFormattingWidth:"wide"})};function ql(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const s=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?gre(l,p=>p.test(s)):mre(l,p=>p.test(s));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const h=t.slice(s.length);return{value:d,rest:h}}}function mre(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function gre(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function _F(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let s=e.valueCallback?e.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const l=t.slice(i.length);return{value:s,rest:l}}}const vre=/^(\d+)(th|st|nd|rd)?/i,yre=/\d+/i,xre={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bre={any:[/^b/i,/^(a|c)/i]},wre={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_re={any:[/1/i,/2/i,/3/i,/4/i]},jre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Sre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Nre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Are={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Cre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Pre={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ere={ordinalNumber:_F({matchPattern:vre,parsePattern:yre,valueCallback:e=>parseInt(e,10)}),era:ql({matchPatterns:xre,defaultMatchWidth:"wide",parsePatterns:bre,defaultParseWidth:"any"}),quarter:ql({matchPatterns:wre,defaultMatchWidth:"wide",parsePatterns:_re,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ql({matchPatterns:jre,defaultMatchWidth:"wide",parsePatterns:Sre,defaultParseWidth:"any"}),day:ql({matchPatterns:Nre,defaultMatchWidth:"wide",parsePatterns:Are,defaultParseWidth:"any"}),dayPeriod:ql({matchPatterns:Cre,defaultMatchWidth:"any",parsePatterns:Pre,defaultParseWidth:"any"})},kre={code:"en-US",formatDistance:ere,formatLong:ire,formatRelative:ore,localize:pre,match:Ere,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ore(e){const t=Si(e);return Vne(t,Jne(t))+1}function Tre(e){const t=Si(e),n=+Xy(t)-+Gne(t);return Math.round(n/xF)+1}function jF(e,t){var h,p,g,m;const n=Si(e),r=n.getFullYear(),i=qv(),a=(t==null?void 0:t.firstWeekContainsDate)??((p=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(g=i.locale)==null?void 0:g.options)==null?void 0:m.firstWeekContainsDate)??1,s=Ql(e,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const l=fu(s,t),c=Ql(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const d=fu(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function Dre(e,t){var l,c,d,h;const n=qv(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=jF(e,t),a=Ql(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),fu(a,t)}function Lre(e,t){const n=Si(e),r=+fu(n,t)-+Dre(n,t);return Math.round(r/xF)+1}function pr(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const od={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return pr(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):pr(n+1,2)},d(e,t){return pr(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return pr(e.getHours()%12||12,t.length)},H(e,t){return pr(e.getHours(),t.length)},m(e,t){return pr(e.getMinutes(),t.length)},s(e,t){return pr(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return pr(i,t.length)}},cp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ak={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return od.y(e,t)},Y:function(e,t,n,r){const i=jF(e,r),a=i>0?i:1-i;if(t==="YY"){const s=a%100;return pr(s,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):pr(a,t.length)},R:function(e,t){const n=bF(e);return pr(n,t.length)},u:function(e,t){const n=e.getFullYear();return pr(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return pr(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return pr(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return od.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return pr(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=Lre(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):pr(i,t.length)},I:function(e,t,n){const r=Tre(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):pr(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):od.d(e,t)},D:function(e,t,n){const r=Ore(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):pr(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return pr(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return pr(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return pr(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=cp.noon:r===0?i=cp.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=cp.evening:r>=12?i=cp.afternoon:r>=4?i=cp.morning:i=cp.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return od.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):od.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):pr(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):pr(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):od.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):od.s(e,t)},S:function(e,t){return od.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return sk(r);case"XXXX":case"XX":return Cf(r);case"XXXXX":case"XXX":default:return Cf(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return sk(r);case"xxxx":case"xx":return Cf(r);case"xxxxx":case"xxx":default:return Cf(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ok(r,":");case"OOOO":default:return"GMT"+Cf(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ok(r,":");case"zzzz":default:return"GMT"+Cf(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return pr(r,t.length)},T:function(e,t,n){const r=e.getTime();return pr(r,t.length)}};function ok(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+pr(a,2)}function sk(e,t){return e%60===0?(e>0?"-":"+")+pr(Math.abs(e)/60,2):Cf(e,t)}function Cf(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=pr(Math.trunc(r/60),2),a=pr(r%60,2);return n+i+t+a}const lk=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},SF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Ire=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return lk(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",lk(r,t)).replace("{{time}}",SF(i,t))},Rre={p:SF,P:Ire},Mre=/^D+$/,zre=/^Y+$/,Fre=["D","DD","YY","YYYY"];function $re(e){return Mre.test(e)}function qre(e){return zre.test(e)}function Bre(e,t,n){const r=Ure(e,t,n);if(console.warn(r),Fre.includes(e))throw new RangeError(r)}function Ure(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Hre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Vre=/^'([^]*?)'?$/,Gre=/''/g,Kre=/[a-zA-Z]/;function Sf(e,t,n){var h,p,g,m,b,x,y,w;const r=qv(),i=(n==null?void 0:n.locale)??r.locale??kre,a=(n==null?void 0:n.firstWeekContainsDate)??((p=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(g=r.locale)==null?void 0:g.options)==null?void 0:m.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((x=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((w=(y=r.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??0,l=Si(e);if(!Yne(l))throw new RangeError("Invalid time value");let c=t.match(Wre).map(A=>{const C=A[0];if(C==="p"||C==="P"){const P=Rre[C];return P(A,i.formatLong)}return A}).join("").match(Hre).map(A=>{if(A==="''")return{isToken:!1,value:"'"};const C=A[0];if(C==="'")return{isToken:!1,value:Yre(A)};if(ak[C])return{isToken:!0,value:A};if(C.match(Kre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:A}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return c.map(A=>{if(!A.isToken)return A.value;const C=A.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&qre(C)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&$re(C))&&Bre(C,t,String(e));const P=ak[C[0]];return P(l,C,i.localize,d)}).join("")}function Yre(e){const t=e.match(Vre);return t?t[1].replace(Gre,"'"):e}function ck(e,t,n){const r=fu(e,n),i=fu(t,n);return+r==+i}function Xre(e,t){const n=Si(e),r=Si(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Qre(e,t){return pA(e,-1)}function Jre(e,t){return yF(e,-1)}function Zre(e,t){return wF(e,-1)}const eie={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"pi di un anno",other:"pi di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},tie=(e,t,n)=>{let r;const i=eie[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"tra "+r:r+" fa":r},nie={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},rie={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},iie={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},aie={date:Ep({formats:nie,defaultWidth:"full"}),time:Ep({formats:rie,defaultWidth:"full"}),dateTime:Ep({formats:iie,defaultWidth:"full"})},mA=["domenica","luned","marted","mercoled","gioved","venerd","sabato"];function oie(e){switch(e){case 0:return"'domenica scorsa alle' p";default:return"'"+mA[e]+" scorso alle' p"}}function uk(e){return"'"+mA[e]+" alle' p"}function sie(e){switch(e){case 0:return"'domenica prossima alle' p";default:return"'"+mA[e]+" prossimo alle' p"}}const lie={lastWeek:(e,t,n)=>{const r=e.getDay();return ck(e,t,n)?uk(r):oie(r)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:(e,t,n)=>{const r=e.getDay();return ck(e,t,n)?uk(r):sie(r)},other:"P"},cie=(e,t,n,r)=>{const i=lie[e];return typeof i=="function"?i(t,n,r):i},uie={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},die={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},fie={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},hie={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned","marted","mercoled","gioved","venerd","sabato"]},pie={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},mie={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},gie=(e,t)=>{const n=Number(e);return String(n)},vie={ordinalNumber:gie,era:$l({values:uie,defaultWidth:"wide"}),quarter:$l({values:die,defaultWidth:"wide",argumentCallback:e=>e-1}),month:$l({values:fie,defaultWidth:"wide"}),day:$l({values:hie,defaultWidth:"wide"}),dayPeriod:$l({values:pie,defaultWidth:"wide",formattingValues:mie,defaultFormattingWidth:"wide"})},yie=/^(\d+)()?/i,xie=/\d+/i,bie={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},wie={any:[/^a/i,/^(d|e)/i]},_ie={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234]()? trimestre/i},jie={any:[/1/i,/2/i,/3/i,/4/i]},Sie={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},Nie={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},Aie={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|]|marted[i|]|mercoled[i|]|gioved[i|]|venerd[i|]|sabato)/i},Cie={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},Pie={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},Eie={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},kie={ordinalNumber:_F({matchPattern:yie,parsePattern:xie,valueCallback:e=>parseInt(e,10)}),era:ql({matchPatterns:bie,defaultMatchWidth:"wide",parsePatterns:wie,defaultParseWidth:"any"}),quarter:ql({matchPatterns:_ie,defaultMatchWidth:"wide",parsePatterns:jie,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ql({matchPatterns:Sie,defaultMatchWidth:"wide",parsePatterns:Nie,defaultParseWidth:"any"}),day:ql({matchPatterns:Aie,defaultMatchWidth:"wide",parsePatterns:Cie,defaultParseWidth:"any"}),dayPeriod:ql({matchPatterns:Pie,defaultMatchWidth:"any",parsePatterns:Eie,defaultParseWidth:"any"})},Uc={code:"it",formatDistance:tie,formatLong:aie,formatRelative:cie,localize:vie,match:kie,options:{weekStartsOn:1,firstWeekContainsDate:4}};function Dg({turni:e,onSelectTurno:t,vista:n}){const[r,i]=j.useState(new Date),a={2024:["2024-01-01","2024-01-06","2024-04-01","2024-04-25","2024-05-01","2024-06-02","2024-08-15","2024-11-01","2024-12-08","2024-12-25","2024-12-26"],2025:["2025-01-01","2025-01-06","2025-04-20","2025-04-21","2025-04-25","2025-05-01","2025-06-02","2025-08-15","2025-11-01","2025-12-08","2025-12-25","2025-12-26"]},s=m=>{var y;const b=m.getFullYear(),x=Sf(m,"yyyy-MM-dd");return((y=a[b])==null?void 0:y.includes(x))||!1},l=m=>e.filter(b=>z2(new Date(b.data_inizio),m)).sort((b,x)=>new Date(b.data_inizio)-new Date(x.data_inizio)),c=()=>{const m=l(r);return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"text-center py-6 bg-[#053c5e] text-white",children:o.jsx("h3",{className:"text-2xl font-bold",children:Sf(r,"EEEE d MMMM yyyy",{locale:Uc})})}),m.length===0?o.jsx("div",{className:"text-center py-12 bg-[#bfdbf7] text-[#053c5e]",children:"Nessun turno per questo giorno"}):o.jsx("div",{className:"space-y-3",children:m.map(b=>o.jsx("div",{className:"bg-white p-4 border-l-4 border-[#1f7a8c] cursor-pointer hover:bg-[#bfdbf7] transition-colors",onClick:()=>t(b),children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-lg text-[#053c5e]",children:b.utente_nome}),o.jsxs("div",{className:"text-sm text-[#053c5e] mt-1 font-semibold",children:[new Date(b.data_inizio).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})," -",new Date(b.data_fine).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})]}),o.jsxs("div",{className:"text-xs text-[#1f7a8c] mt-1",children:[b.ore_lavorate,"h"]})]}),o.jsxs("div",{className:"flex items-center gap-1 text-[#db222a] font-bold text-xl",children:[o.jsx(Yl,{className:"w-5 h-5"}),b.neu_guadagnati]})]})},b.id))})]})},d=()=>{const m=fu(r,{locale:Uc}),b=ik(r,{locale:Uc}),x=rk({start:m,end:b});return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"text-center py-4 bg-[#053c5e] text-white",children:o.jsxs("h3",{className:"text-xl font-bold",children:[Sf(m,"d MMM",{locale:Uc})," - ",Sf(b,"d MMM yyyy",{locale:Uc})]})}),o.jsx("div",{className:"grid grid-cols-7 gap-2",children:x.map(y=>{const w=l(y),A=z2(y,new Date),C=s(y);return o.jsxs("div",{className:`border-2 p-2 min-h-[140px] ${A?"bg-[#bfdbf7] border-[#db222a]":C?"bg-red-50 border-[#db222a]":"bg-white border-[#1f7a8c]"}`,children:[o.jsx("div",{className:`text-center font-bold mb-2 ${A||C?"text-[#db222a]":"text-[#053c5e]"}`,children:Sf(y,"EEE d",{locale:Uc})}),o.jsx("div",{className:"space-y-1",children:w.map(P=>o.jsxs("div",{className:"text-xs p-1 bg-[#053c5e] text-white cursor-pointer hover:bg-[#1f7a8c]",onClick:()=>t(P),children:[o.jsx("div",{className:"font-semibold truncate",children:P.utente_nome}),o.jsxs("div",{className:"text-[10px] opacity-90",children:[new Date(P.data_inizio).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})," - ",new Date(P.data_fine).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})]})]},P.id))})]},y.toString())})})]})},h=()=>{const m=Qne(r),b=Xne(r),x=fu(m,{locale:Uc}),y=ik(b,{locale:Uc}),w=rk({start:x,end:y});return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"text-center py-4 bg-[#053c5e] text-white",children:o.jsx("h3",{className:"text-xl font-bold",children:Sf(r,"MMMM yyyy",{locale:Uc})})}),o.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Lun","Mar","Mer","Gio","Ven","Sab","Dom"].map(A=>o.jsx("div",{className:"text-center font-bold text-sm text-[#053c5e] py-2 bg-[#bfdbf7]",children:A},A)),w.map(A=>{const C=l(A),P=z2(A,new Date),E=Xre(A,r),I=s(A);return o.jsxs("div",{className:`border p-1 min-h-[80px] ${P?"bg-[#bfdbf7] border-[#db222a] border-2":I&&E?"bg-red-50 border-[#db222a]":E?"bg-white border-[#1f7a8c]":"bg-slate-100 border-slate-300"}`,children:[o.jsx("div",{className:`text-center text-sm font-bold mb-1 ${P||I&&E?"text-[#db222a]":E?"text-[#053c5e]":"text-slate-400"}`,children:Sf(A,"d")}),C.length>0&&o.jsx("div",{className:"text-center",children:o.jsxs("div",{className:"text-[10px] px-1 py-0.5 cursor-pointer bg-[#db222a] hover:bg-[#053c5e] text-white font-semibold",onClick:()=>t(C[0]),children:[C.length," ",C.length===1?"turno":"turni"]})})]},A.toString())})]})]})},p=()=>{n==="giorno"&&i(Qre(r)),n==="settimana"&&i(Zre(r)),n==="mese"&&i(Jre(r))},g=()=>{n==="giorno"&&i(pA(r,1)),n==="settimana"&&i(wF(r,1)),n==="mese"&&i(yF(r,1))};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Oe,{className:"bg-[#1f7a8c] hover:bg-[#053c5e] text-white",onClick:p,children:o.jsx(e1,{className:"w-4 h-4"})}),o.jsx(Oe,{className:"bg-[#053c5e] hover:bg-[#1f7a8c] text-white",onClick:()=>i(new Date),children:"Oggi"}),o.jsx(Oe,{className:"bg-[#1f7a8c] hover:bg-[#053c5e] text-white",onClick:g,children:o.jsx(t1,{className:"w-4 h-4"})})]}),n==="giorno"&&c(),n==="settimana"&&d(),n==="mese"&&h()]})}function NF(){var ne;const{user:e,isLoading:t}=tc(),[n,r]=j.useState(!1),[i,a]=j.useState(!1),[s,l]=j.useState(!1),[c,d]=j.useState(null),[h,p]=j.useState(!1),[g,m]=j.useState(null),[b,x]=j.useState(!1),[y,w]=j.useState("mezza_giornata"),[A,C]=j.useState(!1),[P,E]=j.useState(!1),I=Or(),{data:z=[]}=Wt({queryKey:["turni_host_public"],queryFn:()=>we.entities.TurnoHost.list("-data_inizio"),initialData:[],enabled:P}),{data:O}=Wt({queryKey:["profilo_coworker_receipt",e==null?void 0:e.id],queryFn:async()=>e&&(await we.entities.ProfiloCoworker.filter({user_id:e.id}))[0]||null,enabled:!!e}),F=t,{data:G=[]}=Wt({queryKey:["abbonamenti","miei"],queryFn:async()=>{const H=await we.entities.AbbonamentoUtente.filter({user_id:e==null?void 0:e.id,stato:"attivo"}),T=new Date;return T.setHours(0,0,0,0),H.filter(V=>{const J=new Date(V.data_scadenza);J.setHours(23,59,59,999);const Z=J>=T,oe=V.ingressi_totali>0&&(V.ingressi_usati||0)>=V.ingressi_totali;return Z&&!oe})},enabled:!!e,initialData:[]}),R=G.filter(H=>{const T=new Date;T.setHours(0,0,0,0);const V=new Date(H.data_inizio);V.setHours(0,0,0,0);const J=new Date(H.data_scadenza);return J.setHours(23,59,59,999),V<=T&&J>=T}),{data:k=[]}=Wt({queryKey:["prenotazioni","mie"],queryFn:()=>we.entities.PrenotazioneSala.filter({user_id:e==null?void 0:e.id},"-id"),enabled:!!e,initialData:[]}),{data:B=[]}=Wt({queryKey:["prenotazioni","tutte"],queryFn:()=>we.entities.PrenotazioneSala.filter({stato:"confermata"}),initialData:[]}),{data:U=[]}=Wt({queryKey:["sale_coworker"],queryFn:()=>we.entities.SalaRiunioni.filter({attiva:!0}),initialData:[]}),{data:M=[]}=Wt({queryKey:["ingressi","miei"],queryFn:()=>{const H=[{user_id:e.id}];return O!=null&&O.id&&H.push({profilo_coworker_id:O.id}),we.entities.IngressoCoworking.filter({_or:H},"-id")},enabled:!!e,initialData:[]}),{data:X=[]}=Wt({queryKey:["ordini","miei"],queryFn:()=>we.entities.OrdineCoworking.filter({user_id:e==null?void 0:e.id},"-id"),enabled:!!e,initialData:[]}),Q=vn({mutationFn:async H=>{const T=H.ore_credito_consumate||0;if(T>0){const V=await we.entities.AbbonamentoUtente.filter({user_id:e.id,stato:"attivo"});let J=T;for(const Z of[...V].reverse()){if(J<=0)break;const oe=Z.ore_sale_usate||0;if(oe>0){const se=Math.min(J,oe);await we.entities.AbbonamentoUtente.update(Z.id,{ore_sale_usate:oe-se}),J-=se}}}await we.entities.PrenotazioneSala.update(H.id,{stato:"annullata"})},onSuccess:()=>{I.invalidateQueries({queryKey:["abbonamenti"]}),I.invalidateQueries({queryKey:["prenotazioni"]}),We.success("Prenotazione annullata"),l(!1),d(null)}}),K=vn({mutationFn:async H=>{const T=y==="mezza_giornata"?1:2,V=new Date;V.setHours(12,0,0,0),await we.entities.IngressoCoworking.create({user_id:e.id,profilo_coworker_id:H.profilo_coworker_id,profilo_nome_completo:H.profilo_nome_completo,abbonamento_id:H.id,data_ingresso:V.toISOString(),durata:y,ingressi_consumati:T,tipo_ingresso:"carnet",registrato_da:e.id}),await we.entities.AbbonamentoUtente.update(H.id,{ingressi_usati:(H.ingressi_usati||0)+T}),await we.entities.TaskNotifica.create({tipo:"task_manuale",titolo:`Self Check-in: ${H.profilo_nome_completo}`,descrizione:`L'utente ha registrato un ingresso (${y==="mezza_giornata"?"Mezza Giornata":"Giornata Intera"}) da portale.`,creato_da_id:e.id,creato_da_nome:e.full_name||H.profilo_nome_completo,destinatario_tipo:"host",data_inizio:new Date().toISOString().split("T")[0],priorita:"normale",stato:"attivo"})},onSuccess:()=>{I.invalidateQueries({queryKey:["abbonamenti"]}),I.invalidateQueries({queryKey:["ingressi"]}),I.invalidateQueries({queryKey:["task"]}),x(!1),We.success("Ingresso registrato con successo")},onError:H=>{We.error("Errore durante la registrazione: "+(H.message||"errore sconosciuto"))}});if(F)return o.jsx("div",{className:"text-center py-12",children:"Caricamento..."});const Y=R.reduce((H,T)=>H+((T.ore_sale_totali||0)-(T.ore_sale_usate||0)),0);return R.reduce((H,T)=>H+((T.ingressi_totali||0)-(T.ingressi_usati||0)),0),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-[#053c5e] text-white p-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold",children:"Coworking"}),o.jsx("p",{className:"text-lg opacity-90 mt-2",children:"Gestisci il tuo abbonamento e prenota le sale"})]}),(((ne=e==null?void 0:e.roles)==null?void 0:ne.includes("socio"))||(e==null?void 0:e.role)==="socio")&&o.jsx(Oe,{className:"bg-[#1f7a8c] hover:bg-[#db222a] text-white",onClick:()=>E(!0),children:"Chi  host?"})]}),R.some(H=>H.ingressi_totali>0)&&o.jsxs(Oe,{className:"bg-[#db222a] hover:bg-[#1f7a8c] text-white font-bold px-6 shadow-lg mt-6",onClick:()=>{const H=R.find(T=>T.ingressi_totali>0);m(H),x(!0)},children:[o.jsx(lu,{className:"w-5 h-5 mr-2"}),"REGISTRA INGRESSO"]})]}),G.length>0?o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsxs(Zt,{className:"flex items-center gap-2",children:[o.jsx(Yf,{className:"w-5 h-5 text-[#1f7a8c]"}),G.length===1?"Il tuo Abbonamento":`I tuoi Abbonamenti (${G.length})`]})}),o.jsx(wt,{children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[G.map(H=>{const T=new Date;T.setHours(0,0,0,0);const V=fe=>{if(!fe)return new Date;if(fe instanceof Date)return new Date(fe.getFullYear(),fe.getMonth(),fe.getDate());const de=fe.toString().split("T")[0],[be,Ee,_e]=de.split("-").map(Number);return isNaN(be)||isNaN(Ee)||isNaN(_e)?new Date:new Date(be,Ee-1,_e)},J=V(H.data_inizio),Z=V(H.data_scadenza),oe=J>T,se=Math.max(0,Math.ceil((Z-T)/(1e3*60*60*24)));return o.jsxs("div",{className:`${oe?"bg-orange-50 border-orange-200 border":"bg-[#1f7a8c] text-white"} p-4 rounded-none relative`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsx("div",{className:`text-sm ${oe?"text-orange-700":"opacity-90"}`,children:oe?"Abbonamento Futuro":"Abbonamento Attivo"}),oe&&o.jsx(kn,{variant:"outline",className:"border-orange-500 text-orange-600 bg-white",children:"Programmato"})]}),o.jsx("div",{className:`text-2xl font-bold ${oe?"text-orange-900":""}`,children:H.tipo_abbonamento_nome}),o.jsxs("div",{className:`text-xs mt-2 ${oe?"text-orange-700":"opacity-90"}`,children:[oe?o.jsxs("span",{children:["Inizia il ",J.toLocaleDateString("it-IT")]}):o.jsxs("span",{children:["Scade il ",Z.toLocaleDateString("it-IT")," (",se," ",se===1?"giorno":"giorni",")"]}),!oe&&o.jsxs("span",{className:"block italic mt-1 text-[10px]",children:["Attivo dal ",J.toLocaleDateString("it-IT")]})]}),H.ingressi_totali>0&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20",children:[o.jsxs("div",{className:"flex justify-between items-end mb-2",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm opacity-90",children:"Ingressi Rimanenti"}),o.jsxs("div",{className:"text-3xl font-bold",children:[(H.ingressi_totali||0)-(H.ingressi_usati||0),o.jsxs("span",{className:"text-sm font-normal opacity-70 ml-1",children:["/ ",H.ingressi_totali]})]})]}),o.jsxs(Oe,{variant:"secondary",size:"sm",className:"bg-white/20 hover:bg-white/30 text-white border-0 h-8",onClick:()=>{m(H),p(!0)},children:[o.jsx("span",{className:"text-xs mr-2",children:"Dettagli"}),o.jsx(zI,{className:"w-3 h-3"})]})]}),o.jsx("div",{className:"w-full bg-black/20 h-1.5 rounded-full overflow-hidden",children:o.jsx("div",{className:"bg-white h-full rounded-full",style:{width:`${Math.max(0,Math.min(100,((H.ingressi_totali||0)-(H.ingressi_usati||0))/(H.ingressi_totali||1)*100))}%`}})})]})]},H.id)}),Y>0&&o.jsxs("div",{className:"bg-[#bfdbf7] text-white p-4 rounded-none flex flex-col justify-center",children:[o.jsx("div",{className:"text-slate-700 mb-1 text-sm opacity-90",children:"Ore Carnet Sala Disponibili"}),o.jsxs("div",{className:"text-[#1f7a8c] text-3xl font-bold",children:[Y,"h"]}),o.jsxs("div",{className:"text-slate-700 mt-2 text-xs opacity-90",children:[" ",Math.floor(Y*2),"h call o ",Y,"h riunione"]})]})]})})})]}):o.jsx(yt,{children:o.jsxs(wt,{className:"py-12 text-center",children:[o.jsx(th,{className:"w-12 h-12 text-orange-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-[#053c5e] mb-2",children:"Nessun Abbonamento Attivo"}),o.jsx("p",{className:"text-[#1f7a8c]",children:"Contatta la reception per attivare un abbonamento coworking"})]})}),o.jsxs(ol,{defaultValue:"calendario",className:"w-full",children:[o.jsxs(Ss,{className:"h-auto grid w-full grid-cols-1 md:grid-cols-3 bg-[#bfdbf7]",children:[o.jsxs(Pn,{value:"calendario",className:"data-[state=active]:bg-[#053c5e] data-[state=active]:text-white",children:[o.jsx(YW,{className:"w-4 h-4 mr-2"}),"Calendario"]}),o.jsxs(Pn,{value:"prenotazioni",className:"data-[state=active]:bg-[#053c5e] data-[state=active]:text-white",children:[o.jsx(vo,{className:"w-4 h-4 mr-2"}),"Le Mie Prenotazioni"]}),o.jsxs(Pn,{value:"storico",className:"data-[state=active]:bg-[#053c5e] data-[state=active]:text-white",children:[o.jsx(Ty,{className:"w-4 h-4 mr-2"}),"Storico"]})]}),o.jsxs(En,{value:"calendario",className:"mt-6 space-y-4",children:[o.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[o.jsxs(Oe,{onClick:()=>r(!n),className:"bg-[#db222a] text-white px-6 py-4 text-xl font-bold rounded-none h-auto w-full hover:bg-[#1f7a8c] justify-between shadow-lg",children:[o.jsxs("span",{className:"flex items-center gap-3",children:[o.jsx(na,{className:"w-6 h-6"}),"PRENOTA SALA"]}),n?o.jsx(x4,{className:"w-6 h-6"}):o.jsx(Zx,{className:"w-6 h-6"})]}),n&&o.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-200",children:o.jsx(Bne,{user:e,abbonamenti:G})})]}),o.jsx(hA,{sale:U.filter(H=>{var J;const V=(Array.isArray(e==null?void 0:e.roles)?e.roles:[]).some(Z=>["host","admin","super_admin"].includes(Z));return(J=H.nome)!=null&&J.toLowerCase().includes("eventi")||H.solo_staff?V:!0}),prenotazioni:B.filter(H=>{var J;const T=U.find(Z=>Z.id===H.sala_id),V=Array.isArray(e==null?void 0:e.roles)?e.roles:[];return T&&((J=T.nome)!=null&&J.toLowerCase().includes("eventi")||T.solo_staff)?V.some(Z=>["host","admin","super_admin"].includes(Z)):!0})})]}),o.jsx(En,{value:"prenotazioni",className:"mt-6",children:o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsx(Zt,{children:"Le Tue Prenotazioni Attive"})}),o.jsx(wt,{children:o.jsx("div",{className:"space-y-3",children:k.filter(H=>H.stato!=="annullata"&&new Date(H.data_fine)>new Date).length===0?o.jsx("p",{className:"text-center text-slate-500 py-8",children:"Nessuna prenotazione attiva o futura"}):k.filter(H=>H.stato!=="annullata"&&new Date(H.data_fine)>new Date).map(H=>o.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-bold text-[#053c5e]",children:H.sala_nome}),o.jsxs("div",{className:"text-sm text-[#1f7a8c] mt-1",children:[new Date(H.data_inizio).toLocaleString("it-IT",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})," - ",new Date(H.data_fine).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})]}),o.jsx(kn,{className:H.tipo_utilizzo==="call"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800",children:H.tipo_utilizzo==="call"?"Call":"Riunione"})]}),H.stato==="confermata"&&new Date(H.data_inizio)>new Date&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Oe,{size:"sm",variant:"outline",onClick:()=>{d(H),a(!0)},children:o.jsx(Cs,{className:"w-4 h-4"})}),o.jsx(Oe,{size:"sm",variant:"outline",className:"text-red-500 hover:text-red-700",onClick:()=>{d(H),l(!0)},children:o.jsx(Vo,{className:"w-4 h-4"})})]})]},H.id))})})]})}),o.jsx(En,{value:"storico",className:"mt-6",children:o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"pt-2",children:[o.jsxs("h3",{className:"text-2xl font-bold text-[#053c5e] mb-6 flex items-center gap-2",children:[o.jsx(PV,{className:"w-6 h-6"}),"Storico Attivit"]}),o.jsxs(ol,{defaultValue:"storico_acquisti",className:"w-full",children:[o.jsxs(Ss,{className:"bg-slate-100",children:[o.jsx(Pn,{value:"storico_acquisti",children:"Acquisti"}),o.jsx(Pn,{value:"storico_ingressi",children:"Ingressi"}),o.jsx(Pn,{value:"storico_prenotazioni",children:"Prenotazioni Passate"})]}),o.jsx(En,{value:"storico_acquisti",className:"mt-4",children:o.jsx(yt,{children:o.jsx(wt,{className:"pt-6",children:X.length===0?o.jsx("p",{className:"text-center text-slate-500",children:"Nessun acquisto registrato"}):o.jsx("div",{className:"space-y-4",children:X.map(H=>{var T;return o.jsxs("div",{className:"flex justify-between items-start border-b border-slate-100 pb-4 last:border-0 last:pb-0",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-[#053c5e]",children:new Date(H.data_ordine).toLocaleDateString()}),o.jsx("div",{className:"text-sm text-slate-600",children:(()=>{try{const V=JSON.parse(H.prodotti||"[]");return Array.isArray(V)&&V.length>0?V.map(J=>J.nome_prodotto||J.nome||"Prodotto").join(", "):"Abbonamento"}catch{return H.prodotti||"Abbonamento"}})()}),H.stato==="annullato"?o.jsx(kn,{className:"bg-red-100 text-red-800 border-red-200 mt-1",children:"Annullato (Storno)"}):o.jsx(kn,{variant:"outline",className:"mt-1",children:H.stato_pagamento==="pagato"?"Pagato":"Non Pagato"})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-bold",children:["",(T=H.totale)==null?void 0:T.toFixed(2),o.jsx("div",{className:"text-xs font-normal text-slate-500",children:H.metodo_pagamento})]}),o.jsxs(Oe,{variant:"ghost",size:"sm",onClick:()=>Kp(H,e,O),className:"mt-1 h-6 text-xs text-[#1f7a8c] hover:text-[#053c5e] px-0",children:[o.jsx(po,{className:"w-3 h-3 mr-1"}),"Ricevuta"]})]})]},H.id)})})})})}),o.jsx(En,{value:"storico_ingressi",className:"mt-4",children:o.jsx(yt,{children:o.jsx(wt,{className:"pt-6",children:M.length===0?o.jsx("p",{className:"text-center text-slate-500",children:"Nessun ingresso registrato"}):o.jsx("div",{className:"space-y-4",children:M.map(H=>o.jsxs("div",{className:"flex justify-between items-center border-b border-slate-100 pb-2 last:border-0 last:pb-0",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-slate-100 p-2 rounded-full",children:o.jsx(lu,{className:"w-4 h-4 text-green-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-[#053c5e]",children:new Date(H.data_ingresso).toLocaleDateString()}),o.jsx("div",{className:"text-xs text-slate-500",children:H.durata==="mezza_giornata"?"Mezza Giornata (1 Token)":"Giornata Intera (2 Token)"})]})]}),o.jsxs("div",{className:"text-sm font-semibold text-[#1f7a8c]",children:["-",H.ingressi_consumati]})]},H.id))})})})}),o.jsx(En,{value:"storico_prenotazioni",className:"mt-4",children:o.jsx(yt,{children:o.jsx(wt,{className:"pt-6",children:k.filter(H=>new Date(H.data_fine)<new Date||H.stato==="annullata").length===0?o.jsx("p",{className:"text-center text-slate-500",children:"Nessuna prenotazione passata"}):o.jsx("div",{className:"space-y-4",children:k.filter(H=>new Date(H.data_fine)<new Date||H.stato==="annullata").map(H=>o.jsxs("div",{className:"flex justify-between items-center border-b border-slate-100 pb-4 last:border-0 last:pb-0",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-slate-700",children:H.sala_nome}),o.jsx("div",{className:"text-sm text-slate-500",children:new Date(H.data_inizio).toLocaleDateString()})]}),o.jsx("div",{className:"text-right",children:o.jsx(kn,{className:H.stato==="annullata"?"bg-red-100 text-red-800":"bg-slate-100 text-slate-800",children:H.stato})})]},H.id))})})})})]})]})})})]}),o.jsx(Er,{open:h,onOpenChange:p,children:o.jsxs(wr,{children:[o.jsxs(_r,{children:[o.jsx(jr,{children:"Dettaglio Ingressi"}),o.jsxs(il,{children:["Abbonamento: ",g==null?void 0:g.tipo_abbonamento_nome]})]}),o.jsxs("div",{className:"max-h-[300px] overflow-y-auto space-y-2 mt-2 pr-2",children:[g&&M.filter(H=>H.abbonamento_id===g.id).length===0&&o.jsx("p",{className:"text-center text-slate-500 py-4",children:"Nessun ingresso registrato su questo carnet."}),g&&M.filter(H=>H.abbonamento_id===g.id).map(H=>{var T;return o.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-3 rounded border border-slate-100",children:[o.jsx("span",{className:"font-medium text-[#053c5e]",children:new Date(H.data_ingresso).toLocaleDateString()}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-slate-500 capitalize",children:(T=H.durata)==null?void 0:T.replace("_"," ")}),o.jsxs(kn,{variant:"secondary",children:["-",H.ingressi_consumati]})]})]},H.id)})]})]})}),o.jsx(Une,{open:i,onOpenChange:a,prenotazione:c,user:e,abbonamenti:G}),o.jsx(bh,{open:s,onOpenChange:l,children:o.jsxs(Id,{children:[o.jsxs(Rd,{children:[o.jsx(zd,{children:"Annulla Prenotazione"}),o.jsx(Fd,{children:"Sei sicuro di voler annullare questa prenotazione? Le ore credito verranno riaccreditate sul tuo abbonamento. Questa azione non pu essere annullata."})]}),o.jsxs(Md,{children:[o.jsx(qd,{children:"Mantieni Prenotazione"}),o.jsx($d,{className:"bg-red-600 hover:bg-red-700",onClick:()=>Q.mutate(c),children:"Conferma Annullamento"})]})]})}),o.jsx(Er,{open:b,onOpenChange:x,children:o.jsxs(wr,{children:[o.jsxs(_r,{children:[o.jsx(jr,{children:"Registra Ingresso"}),o.jsxs(il,{children:["Stai registrando un ingresso sul tuo carnet: ",o.jsx("span",{className:"font-bold",children:g==null?void 0:g.tipo_abbonamento_nome})]})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{children:"Seleziona Durata"}),o.jsxs(an,{value:y,onValueChange:w,children:[o.jsx(tn,{children:o.jsx(on,{})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"mezza_giornata",children:"Mezza Giornata (1 ingresso)"}),o.jsx(Ze,{value:"giornata_intera",children:"Giornata Intera (2 ingressi)"})]})]})]}),o.jsxs(dh,{className:"bg-blue-50 border-blue-200",children:[o.jsx(th,{className:"h-4 w-4 text-blue-600"}),o.jsx(fh,{className:"text-blue-700 text-xs",children:"Questa operazione scaler immediatamente gli ingressi dal tuo carnet. L'host ricever una notifica del tuo check-in."})]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Oe,{variant:"outline",onClick:()=>x(!1),children:"Annulla"}),o.jsxs(Oe,{className:"bg-[#db222a] hover:bg-[#1f7a8c] text-white",onClick:()=>K.mutate(g),disabled:K.isPending,children:[o.jsx(j4,{className:"w-4 h-4 mr-2"}),K.isPending?"Registrazione...":"Conferma Ingresso"]})]})]})}),o.jsx(Er,{open:P,onOpenChange:E,children:o.jsxs(wr,{className:"max-w-4xl h-[90vh] flex flex-col",children:[o.jsx(_r,{children:o.jsx(jr,{children:"Turni Host"})}),o.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:o.jsx(Dg,{turni:z,onSelectTurno:()=>{},vista:"giorno",readOnly:!0})})]})})]})}function AF(){const{isAdmin:e}=tc(),t=Or(),[n,r]=j.useState(!1),[i,a]=j.useState(!1),[s,l]=j.useState(!1),[c,d]=j.useState(null),[h,p]=j.useState(null),[g,m]=j.useState("mezza_giornata"),[b,x]=j.useState(new Date().toISOString().split("T")[0]),[y,w]=j.useState(""),[A,C]=j.useState("all"),[P,E]=j.useState(!1),[I,z]=j.useState(null),[O,F]=j.useState("non_pagato"),[G,R]=j.useState({profilo_coworker_id:"",tipo_abbonamento_id:"",data_inizio:new Date().toISOString().split("T")[0]}),[k,B]=j.useState(!1),[U,M]=j.useState(!1),[X,Q]=j.useState(null),[K,Y]=j.useState(null),[ne,H]=j.useState(!1),[T,V]=j.useState(null),[J,Z]=j.useState({data_ingresso:"",durata:""}),{data:oe=[]}=Wt({queryKey:["profili"],queryFn:()=>we.entities.ProfiloCoworker.list("-created_date"),initialData:[]}),{data:se=[]}=Wt({queryKey:["tipi_abbonamento"],queryFn:()=>we.entities.TipoAbbonamento.filter({attivo:!0}),initialData:[]}),{data:fe=[]}=Wt({queryKey:["abbonamenti"],queryFn:()=>we.entities.AbbonamentoUtente.list("-data_inizio"),initialData:[]}),{data:de=[],isLoading:be}=Wt({queryKey:["ingressi",K==null?void 0:K.id],queryFn:()=>we.entities.IngressoCoworking.filter({abbonamento_id:K==null?void 0:K.id},"-data_ingresso"),enabled:!!K,initialData:[]}),{data:Ee=[],isLoading:_e}=Wt({queryKey:["ordini","profilo",X==null?void 0:X.profilo_coworker_id],queryFn:()=>we.entities.OrdineCoworking.filter({profilo_coworker_id:X==null?void 0:X.profilo_coworker_id},"-data_ordine"),enabled:!!X,initialData:[]}),$e=vn({mutationFn:async Pe=>{await we.coworking.sendReceipt(Pe.id)},onSuccess:()=>We.success("Ricevuta inviata per email"),onError:()=>We.error("Errore durante l'invio")});vn({mutationFn:async Pe=>{const Pt=se.find(jt=>jt.id===Pe.tipo_abbonamento_id),_t=oe.find(jt=>jt.id===Pe.profilo_coworker_id),mt=new Date(Pe.data_inizio);let vt=new Date(mt);Pt.durata_mesi?vt.setMonth(vt.getMonth()+Pt.durata_mesi):Pt.durata_giorni&&vt.setDate(vt.getDate()+Pt.durata_giorni),await we.entities.AbbonamentoUtente.create({user_id:_t.user_id,profilo_coworker_id:Pe.profilo_coworker_id,profilo_nome_completo:`${_t.first_name} ${_t.last_name}`,tipo_abbonamento_id:Pe.tipo_abbonamento_id,tipo_abbonamento_nome:Pt.nome,data_inizio:mt.toISOString().split("T")[0],data_scadenza:vt.toISOString().split("T")[0],ingressi_totali:Pt.numero_ingressi||0,ingressi_usati:0,ore_sale_totali:(Pt.ore_sale_incluse||0)+(Pt.crediti_sala||0),ore_sale_usate:0,stato:"attivo"})},onSuccess:()=>{t.invalidateQueries({queryKey:["abbonamenti"]}),r(!1),R({profilo_coworker_id:"",tipo_abbonamento_id:"",data_inizio:new Date().toISOString().split("T")[0]}),We.success("Abbonamento creato")}});const He=vn({mutationFn:async({id:Pe,oldEntry:Pt,newData:_t,abbonamento:mt})=>{const vt=Pt.ingressi_consumati,jt=_t.durata==="mezza_giornata"?1:2,ut=jt-vt,St=new Date(_t.data_ingresso);if(St.setHours(12,0,0,0),await we.entities.IngressoCoworking.update(Pe,{data_ingresso:St.toISOString(),durata:_t.durata,ingressi_consumati:jt}),ut!==0){const ft=mt.ingressi_usati||0;await we.entities.AbbonamentoUtente.update(mt.id,{ingressi_usati:ft+ut})}},onSuccess:()=>{t.invalidateQueries({queryKey:["ingressi"]}),t.invalidateQueries({queryKey:["abbonamenti"]}),H(!1),V(null),We.success("Ingresso aggiornato")}}),le=vn({mutationFn:async({abbonamento:Pe,durata:Pt,dataIngresso:_t})=>{const mt=Pt==="mezza_giornata"?1:2,vt=new Date(_t);vt.setHours(12,0,0,0),await we.entities.IngressoCoworking.create({profilo_coworker_id:Pe.profilo_coworker_id,profilo_nome_completo:Pe.profilo_nome_completo,abbonamento_id:Pe.id,data_ingresso:vt.toISOString(),durata:Pt,ingressi_consumati:mt,tipo_ingresso:"carnet",registrato_da:(await we.auth.me()).id}),await we.entities.AbbonamentoUtente.update(Pe.id,{ingressi_usati:(Pe.ingressi_usati||0)+mt})},onSuccess:()=>{t.invalidateQueries({queryKey:["abbonamenti"]}),t.invalidateQueries({queryKey:["ingressi"]}),t.invalidateQueries({queryKey:["attivita_giorno"]}),a(!1),p(null),x(new Date().toISOString().split("T")[0]),We.success("Ingresso registrato")},onError:Pe=>{We.error("Errore registrazione ingresso: "+(Pe.message||"errore sconosciuto"))}}),Ke=vn({mutationFn:async Pe=>{await we.entities.AbbonamentoUtente.update(Pe.id,{stato:"annullato",attivo:!1}),Pe.riferimento_ordine_id&&await we.entities.OrdineCoworking.update(Pe.riferimento_ordine_id,{stato:"annullato"})},onSuccess:()=>{t.invalidateQueries({queryKey:["abbonamenti"]}),t.invalidateQueries({queryKey:["ordini"]}),l(!1),d(null),We.success("Abbonamento annullato (storno registrato)")}}),pt=vn({mutationFn:async({abbonamento:Pe,metodoPagamento:Pt})=>{const _t=oe.find(pn=>String(pn.id)===String(Pe.profilo_coworker_id)),mt=(_t==null?void 0:_t.email)||Pe.profilo_email,vt=oe.find(pn=>{var un;return((un=pn.email)==null?void 0:un.toLowerCase())===(mt==null?void 0:mt.toLowerCase())})||_t,jt=se.find(pn=>String(pn.id)===String(Pe.tipo_abbonamento_id));if(!vt)throw new Error("Profilo socio non trovato. Impossibile procedere con il rinnovo.");if(!jt)throw new Error("Tipo abbonamento non trovato.");const ut=[{tipo_abbonamento_id:Pe.tipo_abbonamento_id,tipo_abbonamento_nome:Pe.tipo_abbonamento_nome,quantita:1,prezzo_unitario:jt.prezzo,prezzo_totale:jt.prezzo}],St=await we.entities.OrdineCoworking.create({user_id:vt.user_id,profilo_coworker_id:vt.id,profilo_nome_completo:vt.first_name?`${vt.first_name} ${vt.last_name}`:Pe.profilo_nome_completo,profilo_email:vt.email,data_ordine:new Date().toISOString().split("T")[0],prodotti:JSON.stringify(ut),totale:jt.prezzo,metodo_pagamento:Pt,stato_pagamento:Pt==="non_pagato"?"non_pagato":"pagato",note:`Rinnovo abbonamento (${Pe.tipo_abbonamento_nome})`,registrato_da:(await we.auth.me()).id}),ft=new Date(Pe.data_scadenza);ft.setDate(ft.getDate()+1),ft.setHours(12,0,0,0);let _n=new Date(ft);return jt.durata_mesi?_n.setMonth(_n.getMonth()+jt.durata_mesi):jt.durata_giorni&&_n.setDate(_n.getDate()+jt.durata_giorni),_n.setHours(12,0,0,0),await we.entities.AbbonamentoUtente.create({user_id:vt.user_id,profilo_coworker_id:vt.id,profilo_nome_completo:vt.first_name?`${vt.first_name} ${vt.last_name}`:Pe.profilo_nome_completo,tipo_abbonamento_id:Pe.tipo_abbonamento_id,tipo_abbonamento_nome:Pe.tipo_abbonamento_nome,data_inizio:ft.toISOString().split("T")[0],data_scadenza:_n.toISOString().split("T")[0],ingressi_totali:jt.numero_ingressi||0,ingressi_usati:0,ore_sale_totali:(jt.ore_sale_incluse||0)+(jt.crediti_sala||0),ore_sale_usate:0,stato:"attivo",riferimento_ordine_id:St.id}),{...St,prodotti:ut}},onSuccess:Pe=>{t.invalidateQueries({queryKey:["abbonamenti"]}),t.invalidateQueries({queryKey:["ordini"]}),t.invalidateQueries({queryKey:["task"]}),t.invalidateQueries({queryKey:["attivita_giorno"]}),E(!1),z(null),F("non_pagato"),We.success("Abbonamento rinnovato e ordine creato"),setTimeout(()=>{const Pt=oe.find(_t=>String(_t.id)===String(Pe.profilo_coworker_id));Kp(Pe,null,Pt)},500)},onError:Pe=>{console.error("Renewal Error:",Pe),We.error("Errore durante il rinnovo: "+(Pe.message||"Errore tecnico"))}}),xt=Pe=>{d(Pe),l(!0)},Be=Pe=>{p(Pe),m("mezza_giornata"),x(new Date().toISOString().split("T")[0]),a(!0)},Nt=Pe=>{const Pt=new Date,_t=new Date(Pe.data_scadenza),mt=Math.ceil((_t-Pt)/(1e3*60*60*24));return mt<=0?"bg-red-100 text-red-800":mt<=3?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800"},ot=fe.filter(Pe=>{var ut,St;const Pt=new Date,_t=new Date(Pe.data_scadenza),mt=!y||((ut=Pe.profilo_nome_completo)==null?void 0:ut.toLowerCase().includes(y.toLowerCase()))||((St=Pe.tipo_abbonamento_nome)==null?void 0:St.toLowerCase().includes(y.toLowerCase())),vt=Pe.ingressi_totali>0,jt=A==="all"||A==="carnet"&&vt||A==="abbonamento"&&!vt;return Pe.stato==="attivo"&&_t>=Pt&&mt&&jt}),st=fe.filter(Pe=>{var ut,St;const Pt=new Date,_t=new Date(Pe.data_scadenza),mt=!y||((ut=Pe.profilo_nome_completo)==null?void 0:ut.toLowerCase().includes(y.toLowerCase()))||((St=Pe.tipo_abbonamento_nome)==null?void 0:St.toLowerCase().includes(y.toLowerCase())),vt=Pe.ingressi_totali>0,jt=A==="all"||A==="carnet"&&vt||A==="abbonamento"&&!vt;return(Pe.stato==="scaduto"||_t<Pt)&&mt&&jt});return o.jsxs(o.Fragment,{children:[o.jsxs(yt,{children:[o.jsxs(Jt,{children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs(Zt,{children:["Abbonamenti Attivi (",ot.length,")"]})}),o.jsxs("div",{className:"relative",children:[o.jsx(vu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),o.jsx(tt,{placeholder:"Cerca per nome o tipo abbonamento...",value:y,onChange:Pe=>w(Pe.target.value),className:"pl-9"})]}),o.jsx("div",{className:"flex gap-2",children:o.jsxs(an,{value:A,onValueChange:C,children:[o.jsx(tn,{className:"w-[180px]",children:o.jsx(on,{placeholder:"Filtra tipo"})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"all",children:"Tutti"}),o.jsx(Ze,{value:"carnet",children:"Solo Carnet"}),o.jsx(Ze,{value:"abbonamento",children:"Solo Abbonamenti"})]})]})})]}),o.jsx(wt,{children:o.jsxs("div",{className:"space-y-2",children:[ot.map(Pe=>o.jsx("div",{className:"p-4 border border-slate-200 rounded-lg",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:"font-bold text-[#053c5e]",children:Pe.profilo_nome_completo}),o.jsx(kn,{className:"bg-[#1f7a8c] text-white",children:Pe.tipo_abbonamento_nome}),o.jsx(kn,{className:Nt(Pe),children:(()=>{const _t=(jt=>{if(!jt)return new Date;if(jt instanceof Date)return new Date(jt.getFullYear(),jt.getMonth(),jt.getDate());const ut=jt.toString().split("T")[0],[St,ft,_n]=ut.split("-").map(Number);return isNaN(St)||isNaN(ft)||isNaN(_n)?new Date:new Date(St,ft-1,_n)})(Pe.data_scadenza),mt=new Date;mt.setHours(0,0,0,0);const vt=Math.ceil((_t-mt)/(1e3*60*60*24));return vt<=0?"Scaduto":`${vt}g`})()})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-500",children:"Scadenza"}),o.jsx("div",{className:"font-semibold",children:new Date(Pe.data_scadenza).toLocaleDateString("it-IT")})]}),Pe.ingressi_totali>0&&o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-500",children:"Ingressi"}),o.jsxs("div",{className:"font-semibold",children:[Pe.ingressi_usati,"/",Pe.ingressi_totali]})]}),Pe.ore_sale_totali>0&&o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-500",children:"Ore Sale"}),o.jsxs("div",{className:"font-semibold",children:[Pe.ore_sale_usate,"/",Pe.ore_sale_totali,"h"]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[Pe.ingressi_totali>0&&Pe.ingressi_usati<Pe.ingressi_totali&&o.jsxs(Oe,{size:"sm",onClick:()=>Be(Pe),className:"bg-[#1f7a8c] hover:bg-[#053c5e]",children:[o.jsx(Kf,{className:"w-4 h-4 mr-1"}),"Registra Ingresso"]}),o.jsxs(Oe,{size:"sm",variant:"outline",onClick:()=>{z(Pe),E(!0)},className:"border-[#053c5e] text-[#053c5e] hover:bg-[#053c5e] hover:text-white",children:[o.jsx(tS,{className:"w-4 h-4 mr-1"}),"Rinnova"]}),Pe.ingressi_totali>0&&o.jsxs(Oe,{size:"sm",variant:"outline",className:"border-slate-300 text-slate-600 hover:bg-slate-50",onClick:()=>{Y(Pe),B(!0)},children:[o.jsx(na,{className:"w-4 h-4 mr-1"}),"Storico"]}),o.jsxs(Oe,{size:"sm",variant:"outline",className:"border-slate-300 text-slate-600 hover:bg-slate-50",onClick:()=>{Q(Pe),M(!0)},children:[o.jsx(po,{className:"w-4 h-4 mr-1"}),"Ricevute"]}),o.jsx(Oe,{size:"sm",variant:"outline",className:"border-red-300 text-red-600 hover:bg-red-50",onClick:()=>xt(Pe),title:"Annulla Abbonamento (Storno)",children:o.jsx(Jj,{className:"w-4 h-4"})})]})]})},Pe.id)),ot.length===0&&o.jsx("p",{className:"text-center text-slate-500 py-8",children:"Nessun abbonamento attivo"})]})})]}),st.length>0&&o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsxs(Zt,{children:["Storico Abbonamenti (",st.length,")"]})}),o.jsx(wt,{children:o.jsx("div",{className:"space-y-2",children:st.map(Pe=>o.jsx("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:"font-bold text-slate-600",children:Pe.profilo_nome_completo}),o.jsx(kn,{className:"bg-slate-400 text-white",children:Pe.tipo_abbonamento_nome}),o.jsx(kn,{className:"bg-red-100 text-red-800",children:"Scaduto"})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm text-slate-600",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-500",children:"Scadenza"}),o.jsx("div",{className:"font-semibold",children:new Date(Pe.data_scadenza).toLocaleDateString("it-IT")})]}),Pe.ingressi_totali>0&&o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-500",children:"Ingressi"}),o.jsxs("div",{className:"font-semibold",children:[Pe.ingressi_usati,"/",Pe.ingressi_totali]})]}),Pe.ore_sale_totali>0&&o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-500",children:"Ore Sale"}),o.jsxs("div",{className:"font-semibold",children:[Pe.ore_sale_usate,"/",Pe.ore_sale_totali,"h"]})]})]})]}),o.jsx(Oe,{size:"sm",variant:"outline",className:"border-red-300 text-red-600 hover:bg-red-50",onClick:()=>xt(Pe),title:"Annulla Abbonamento (Storno)",children:o.jsx(Jj,{className:"w-4 h-4"})})]})},Pe.id))})})]}),o.jsx(bh,{open:s,onOpenChange:l,children:o.jsxs(Id,{children:[o.jsxs(Rd,{children:[o.jsx(zd,{children:"Conferma Annullamento (Storno)"}),o.jsx(Fd,{children:c&&o.jsxs(o.Fragment,{children:["Sei sicuro di voler annullare l'abbonamento di ",o.jsx("strong",{children:c.profilo_nome_completo}),"?",o.jsx("br",{}),o.jsxs("span",{className:"text-sm text-slate-600",children:["Tipo: ",c.tipo_abbonamento_nome]}),o.jsx("br",{}),o.jsx("span",{className:"text-red-600 font-semibold",children:"L'abbonamento verr disattivato e il relativo ordine verr marcato come ANNULLATO (Storno) nell'archivio ricevute."})]})})]}),o.jsxs(Md,{children:[o.jsx(qd,{children:"Annulla"}),o.jsx($d,{onClick:()=>Ke.mutate(c),className:"bg-red-600 hover:bg-red-700",children:"Conferma Annullamento"})]})]})}),o.jsx(Er,{open:P,onOpenChange:E,children:o.jsxs(wr,{children:[o.jsx(_r,{children:o.jsx(jr,{children:"Rinnova Abbonamento"})}),I&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-[#bfdbf7] p-4 rounded-lg",children:[o.jsx("div",{className:"font-bold text-[#053c5e] mb-2",children:I.profilo_nome_completo}),o.jsxs("div",{className:"text-sm",children:["Abbonamento: ",I.tipo_abbonamento_nome]}),o.jsxs("div",{className:"text-sm",children:["Data inizio nuovo: ",new Date(new Date(I.data_scadenza).getTime()+864e5).toLocaleDateString("it-IT")]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Metodo di Pagamento *"}),o.jsxs(an,{value:O,onValueChange:F,children:[o.jsx(tn,{children:o.jsx(on,{})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"non_pagato",children:"Non Pagato"}),o.jsx(Ze,{value:"contanti",children:"Contanti"}),o.jsx(Ze,{value:"carta",children:"Carta di Credito/Bancomat"}),o.jsx(Ze,{value:"bonifico",children:"Bonifico"}),o.jsx(Ze,{value:"neu",children:"NEU"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Oe,{variant:"outline",onClick:()=>E(!1),children:"Annulla"}),o.jsxs(Oe,{onClick:()=>pt.mutate({abbonamento:I,metodoPagamento:O}),className:"bg-[#053c5e] hover:bg-[#1f7a8c]",disabled:pt.isPending,children:[o.jsx(tS,{className:"w-4 h-4 mr-2"}),"Conferma Rinnovo"]})]})]})]})}),o.jsx(Er,{open:i,onOpenChange:a,children:o.jsxs(wr,{children:[o.jsx(_r,{children:o.jsx(jr,{children:"Registra Ingresso"})}),h&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-[#bfdbf7] p-4 rounded-lg",children:[o.jsx("div",{className:"font-bold text-[#053c5e] mb-2",children:h.profilo_nome_completo}),o.jsxs("div",{className:"text-sm",children:["Abbonamento: ",h.tipo_abbonamento_nome]}),o.jsxs("div",{className:"text-sm",children:["Ingressi rimanenti: ",h.ingressi_totali-h.ingressi_usati]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Data Ingresso *"}),o.jsx(tt,{type:"date",value:b,onChange:Pe=>x(Pe.target.value),required:!0}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Puoi registrare ingressi anche in date passate"})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Durata Ingresso *"}),o.jsxs(an,{value:g,onValueChange:m,children:[o.jsx(tn,{children:o.jsx(on,{})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"mezza_giornata",children:"Mezza Giornata (1 ingresso)"}),o.jsx(Ze,{value:"giornata_intera",children:"Giornata Intera (2 ingressi)"})]})]}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"La misura minima  mezza giornata"})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Oe,{variant:"outline",onClick:()=>a(!1),children:"Annulla"}),o.jsx(Oe,{onClick:()=>le.mutate({abbonamento:h,durata:g,dataIngresso:b}),className:"bg-[#053c5e] hover:bg-[#1f7a8c]",disabled:le.isPending,children:"Conferma Ingresso"})]})]})]})}),o.jsx(Er,{open:k,onOpenChange:B,children:o.jsxs(wr,{className:"max-w-3xl",children:[o.jsx(_r,{children:o.jsxs(jr,{children:["Storico Ingressi - ",K==null?void 0:K.profilo_nome_completo]})}),o.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:be?o.jsx("p",{children:"Caricamento..."}):de.length===0?o.jsx("p",{className:"text-center py-4 text-slate-500",children:"Nessun ingresso registrato"}):o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-slate-100 text-slate-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:"Data"}),o.jsx("th",{className:"p-3",children:"Durata"}),o.jsx("th",{className:"p-3",children:"Consumo"}),o.jsx("th",{className:"p-3 text-right",children:"Azioni"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-100",children:de.map(Pe=>o.jsxs("tr",{className:"hover:bg-slate-50",children:[o.jsx("td",{className:"p-3",children:new Date(Pe.data_ingresso).toLocaleDateString()}),o.jsx("td",{className:"p-3 capitalize",children:Pe.durata.replace("_"," ")}),o.jsx("td",{className:"p-3",children:o.jsxs(kn,{variant:"outline",children:["-",Pe.ingressi_consumati]})}),o.jsx("td",{className:"p-3 text-right",children:e&&o.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>{V(Pe),Z({data_ingresso:Pe.data_ingresso.split("T")[0],durata:Pe.durata}),H(!0)},children:"Modifica"})})]},Pe.id))})]})})]})}),o.jsx(Er,{open:U,onOpenChange:M,children:o.jsxs(wr,{className:"max-w-3xl",children:[o.jsx(_r,{children:o.jsxs(jr,{children:["Ordini e Ricevute - ",X==null?void 0:X.profilo_nome_completo]})}),o.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:_e?o.jsx("p",{children:"Caricamento..."}):Ee.length===0?o.jsx("p",{className:"text-center py-4 text-slate-500",children:"Nessun ordine trovato"}):o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-slate-100 text-slate-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:"Data"}),o.jsx("th",{className:"p-3",children:"Dettagli"}),o.jsx("th",{className:"p-3",children:"Importo"}),o.jsx("th",{className:"p-3",children:"Stato"}),o.jsx("th",{className:"p-3 text-right",children:"Azioni"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-100",children:Ee.map(Pe=>o.jsxs("tr",{className:"hover:bg-slate-50",children:[o.jsx("td",{className:"p-3",children:new Date(Pe.data_ordine).toLocaleDateString()}),o.jsx("td",{className:"p-3 max-w-[200px] truncate",children:(typeof Pe.prodotti=="string"?JSON.parse(Pe.prodotti||"[]"):Pe.prodotti).map(Pt=>Pt.tipo_abbonamento_nome||Pt.nome_prodotto||"Prodotto").join(", ")}),o.jsxs("td",{className:"p-3 font-semibold",children:["",Pe.totale.toFixed(2)]}),o.jsx("td",{className:"p-3",children:o.jsx(kn,{variant:Pe.stato_pagamento==="pagato"?"secondary":"outline",className:Pe.stato_pagamento==="pagato"?"bg-green-100 text-green-800":"",children:Pe.stato_pagamento==="pagato"?"Pagato":"Non Pagato"})}),o.jsxs("td",{className:"p-3 text-right flex justify-end gap-2",children:[o.jsx(Oe,{variant:"ghost",size:"sm",className:"text-[#1f7a8c] hover:bg-slate-100",title:"Scarica PDF",onClick:()=>{const Pt=oe.find(_t=>_t.id===Pe.profilo_coworker_id);Kp(Pe,null,Pt)},children:o.jsx(po,{className:"w-4 h-4"})}),o.jsx(Oe,{variant:"ghost",size:"sm",className:"text-[#1f7a8c] hover:bg-slate-100",title:"Invia Email",onClick:()=>$e.mutate(Pe),disabled:$e.isPending,children:o.jsx(rl,{className:"w-4 h-4"})})]})]},Pe.id))})]})})]})}),o.jsx(Er,{open:ne,onOpenChange:H,children:o.jsxs(wr,{children:[o.jsx(_r,{children:o.jsx(jr,{children:"Modifica Ingresso"})}),T&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Data Ingresso"}),o.jsx(tt,{type:"date",value:J.data_ingresso,onChange:Pe=>Z({...J,data_ingresso:Pe.target.value})})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Durata"}),o.jsxs(an,{value:J.durata,onValueChange:Pe=>Z({...J,durata:Pe}),children:[o.jsx(tn,{children:o.jsx(on,{})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"mezza_giornata",children:"Mezza Giornata (1)"}),o.jsx(Ze,{value:"giornata_intera",children:"Giornata Intera (2)"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx(Oe,{variant:"outline",onClick:()=>H(!1),children:"Annulla"}),o.jsx(Oe,{className:"bg-[#053c5e] hover:bg-[#1f7a8c]",onClick:()=>He.mutate({id:T.id,oldEntry:T,newData:J,abbonamento:K}),children:"Salva Modifiche"})]})]})]})})]})}function Oie(){const[e,t]=j.useState("giorno"),[n,r]=j.useState(new Date),[i,a]=j.useState("tutte"),[s,l]=j.useState(!1),[c,d]=j.useState(null),[h,p]=j.useState({sala_id:"",data:"",ora_inizio:"",ora_fine:""}),[g,m]=j.useState(!1),[b,x]=j.useState({sala_id:"",data:"",ora_inizio:"",ora_fine:"",tipo_utilizzo:"call",utente_esterno:!1,utente_id:"",nome_esterno:"",note:""}),[y,w]=j.useState([]),A=Or(),{data:C=[]}=Wt({queryKey:["sale_calendario"],queryFn:()=>we.entities.SalaRiunioni.filter({attiva:!0}),initialData:[]}),{data:P=[]}=Wt({queryKey:["prenotazioni_calendario"],queryFn:()=>we.entities.PrenotazioneSala.filter({stato:"confermata"}),initialData:[]});j.useEffect(()=>{(async()=>{const Q=(await we.entities.User.list()).filter(K=>{var Y,ne;return((Y=K.roles)==null?void 0:Y.includes("coworker"))||K.role==="coworker"||((ne=K.roles)==null?void 0:ne.includes("socio"))||K.role==="socio"});w(Q)})()},[]);const E=vn({mutationFn:async({id:M,data:X})=>{const Q=new Date(`${X.data}T${X.ora_inizio}`),K=new Date(`${X.data}T${X.ora_fine}`),Y=C.find(ne=>ne.id===X.sala_id);await we.entities.PrenotazioneSala.update(M,{sala_id:X.sala_id,sala_nome:Y.nome,data_inizio:Q.toISOString(),data_fine:K.toISOString()})},onSuccess:()=>{A.invalidateQueries({queryKey:["prenotazioni_calendario"]}),l(!1),We.success("Prenotazione modificata")}}),I=vn({mutationFn:M=>we.entities.PrenotazioneSala.update(M,{stato:"annullata"}),onSuccess:()=>{A.invalidateQueries({queryKey:["prenotazioni_calendario"]}),We.success("Prenotazione annullata")}}),z=vn({mutationFn:async M=>{const X=new Date(`${M.data}T${M.ora_inizio}`),Q=new Date(`${M.data}T${M.ora_fine}`),K=C.find(J=>J.id===M.sala_id);if(P.some(J=>{if(J.sala_id!==M.sala_id)return!1;const Z=new Date(J.data_inizio),oe=new Date(J.data_fine);return X<oe&&Q>Z}))throw new Error("La sala  gi prenotata in questo orario");const ne=(Q-X)/(1e3*60*60),H=M.tipo_utilizzo==="call"?ne*.5:ne;let T,V;if(M.utente_esterno)T=null,V=M.nome_esterno;else{const J=y.find(oe=>oe.id===M.utente_id);T=M.utente_id,V=J.full_name;const Z=await we.entities.AbbonamentoUtente.filter({utente_id:M.utente_id,stato:"attivo"});if(Z.length>0){const oe=Z[0],se=(oe.ore_sale_totali||0)-(oe.ore_sale_usate||0);H<=se&&await we.entities.AbbonamentoUtente.update(oe.id,{ore_sale_usate:(oe.ore_sale_usate||0)+H})}}await we.entities.PrenotazioneSala.create({sala_id:M.sala_id,sala_nome:K.nome,utente_id:T,utente_nome:V,data_inizio:X.toISOString(),data_fine:Q.toISOString(),tipo_utilizzo:M.tipo_utilizzo,ore_credito_consumate:H,stato:"confermata",note:M.note})},onSuccess:()=>{A.invalidateQueries({queryKey:["prenotazioni_calendario"]}),m(!1),O(),We.success("Prenotazione creata")},onError:M=>{We.error(M.message||"Errore nella creazione")}}),O=()=>{x({sala_id:"",data:"",ora_inizio:"",ora_fine:"",tipo_utilizzo:"call",utente_esterno:!1,utente_id:"",nome_esterno:"",note:""})},F=(M,X)=>{M&&X&&x({...b,sala_id:M,data:new Date().toISOString().split("T")[0],ora_inizio:`${X.toString().padStart(2,"0")}:00`,ora_fine:`${(X+1).toString().padStart(2,"0")}:00`}),m(!0)},G=M=>{const X=new Date(M.data_inizio);d(M),p({sala_id:M.sala_id,data:X.toISOString().split("T")[0],ora_inizio:X.toTimeString().slice(0,5),ora_fine:new Date(M.data_fine).toTimeString().slice(0,5)}),l(!0)},R=()=>{let M=P;if(i!=="tutte"&&(M=M.filter(X=>X.sala_id===i)),e==="giorno"){const X=new Date(n);X.setHours(0,0,0,0);const Q=new Date(n);Q.setHours(23,59,59,999),M=M.filter(K=>{const Y=new Date(K.data_inizio);return Y>=X&&Y<=Q})}else if(e==="settimana"){const X=new Date(n);X.setDate(X.getDate()-X.getDay()+1),X.setHours(0,0,0,0);const Q=new Date(X);Q.setDate(Q.getDate()+6),Q.setHours(23,59,59,999),M=M.filter(K=>{const Y=new Date(K.data_inizio);return Y>=X&&Y<=Q})}else if(e==="mese"){const X=new Date(n.getFullYear(),n.getMonth(),1),Q=new Date(n.getFullYear(),n.getMonth()+1,0,23,59,59);M=M.filter(K=>{const Y=new Date(K.data_inizio);return Y>=X&&Y<=Q})}return M.sort((X,Q)=>new Date(X.data_inizio)-new Date(Q.data_inizio))},k=M=>{const X=new Date(n);e==="giorno"?X.setDate(X.getDate()+M):e==="settimana"?X.setDate(X.getDate()+M*7):X.setMonth(X.getMonth()+M),r(X)},B=()=>{if(e==="giorno")return n.toLocaleDateString("it-IT",{weekday:"long",day:"numeric",month:"long",year:"numeric"});if(e==="settimana"){const M=new Date(n);M.setDate(M.getDate()-M.getDay()+1);const X=new Date(M);return X.setDate(X.getDate()+6),`${M.toLocaleDateString("it-IT",{day:"numeric",month:"short"})} - ${X.toLocaleDateString("it-IT",{day:"numeric",month:"short",year:"numeric"})}`}else return n.toLocaleDateString("it-IT",{month:"long",year:"numeric"})},U=R();return o.jsx(o.Fragment,{children:o.jsxs(ol,{defaultValue:"griglia",className:"w-full",children:[o.jsxs(Ss,{className:"grid w-full grid-cols-2 bg-[#bfdbf7]",children:[o.jsx(Pn,{value:"griglia",className:"data-[state=active]:bg-[#053c5e] data-[state=active]:text-white",children:"Vista Griglia Oraria"}),o.jsx(Pn,{value:"lista",className:"data-[state=active]:bg-[#053c5e] data-[state=active]:text-white",children:"Vista Lista"})]}),o.jsx(En,{value:"griglia",className:"mt-6",children:o.jsx(hA,{sale:C,prenotazioni:P,onNuovaPrenotazione:F})}),o.jsxs(En,{value:"lista",className:"mt-6",children:[o.jsxs(yt,{children:[o.jsxs(Jt,{children:[o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(na,{className:"w-5 h-5 text-[#1f7a8c]"}),o.jsx(Zt,{children:"Calendario Sale"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs(Oe,{onClick:()=>m(!0),className:"bg-[#053c5e] hover:bg-[#1f7a8c]",children:[o.jsx(xs,{className:"w-4 h-4 mr-2"}),"Nuova Prenotazione"]}),o.jsxs(an,{value:i,onValueChange:a,children:[o.jsx(tn,{className:"w-48",children:o.jsx(on,{})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"tutte",children:"Tutte le sale"}),C.map(M=>o.jsx(Ze,{value:M.id,children:M.nome},M.id))]})]}),o.jsxs(an,{value:e,onValueChange:t,children:[o.jsx(tn,{className:"w-32",children:o.jsx(on,{})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"giorno",children:"Giorno"}),o.jsx(Ze,{value:"settimana",children:"Settimana"}),o.jsx(Ze,{value:"mese",children:"Mese"})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between mt-4",children:[o.jsx(Oe,{variant:"outline",size:"sm",onClick:()=>k(-1),children:o.jsx(e1,{className:"w-4 h-4"})}),o.jsx("div",{className:"text-lg font-semibold text-[#053c5e] capitalize",children:B()}),o.jsx(Oe,{variant:"outline",size:"sm",onClick:()=>k(1),children:o.jsx(t1,{className:"w-4 h-4"})})]})]}),o.jsx(wt,{children:o.jsx("div",{className:"space-y-2",children:U.length===0?o.jsx("p",{className:"text-center text-slate-500 py-8",children:"Nessuna prenotazione"}):U.map(M=>{const X=C.find(Q=>Q.id===M.sala_id);return o.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg hover:bg-slate-50",children:[o.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[o.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:(X==null?void 0:X.colore)||"#1f7a8c"}}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"font-bold text-[#053c5e]",children:M.sala_nome}),o.jsx(kn,{className:M.tipo_utilizzo==="call"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800",children:M.tipo_utilizzo==="call"?"Call":"Riunione"})]}),o.jsx("div",{className:"text-sm text-slate-600",children:M.utente_nome}),o.jsxs("div",{className:"text-sm text-[#1f7a8c]",children:[new Date(M.data_inizio).toLocaleString("it-IT",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})," - ",new Date(M.data_fine).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Oe,{size:"sm",variant:"outline",onClick:()=>G(M),children:o.jsx(Cs,{className:"w-4 h-4"})}),o.jsx(Oe,{size:"sm",variant:"outline",className:"border-red-300 text-red-600",onClick:()=>I.mutate(M.id),children:o.jsx(Vo,{className:"w-4 h-4"})})]})]},M.id)})})})]}),o.jsx(Er,{open:g,onOpenChange:m,children:o.jsxs(wr,{className:"max-w-2xl",children:[o.jsx(_r,{children:o.jsx(jr,{children:"Nuova Prenotazione Sala"})}),o.jsxs("form",{onSubmit:M=>{M.preventDefault(),z.mutate(b)},className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Sala *"}),o.jsxs(an,{value:b.sala_id,onValueChange:M=>x({...b,sala_id:M}),required:!0,children:[o.jsx(tn,{children:o.jsx(on,{placeholder:"Seleziona sala"})}),o.jsx(nn,{children:C.map(M=>o.jsx(Ze,{value:M.id,children:M.nome},M.id))})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ws,{id:"esterno",checked:b.utente_esterno,onCheckedChange:M=>x({...b,utente_esterno:M})}),o.jsx(Le,{htmlFor:"esterno",className:"cursor-pointer",children:"Utente esterno (non registrato)"})]}),b.utente_esterno?o.jsxs("div",{children:[o.jsx(Le,{children:"Nome e Cognome *"}),o.jsx(tt,{value:b.nome_esterno,onChange:M=>x({...b,nome_esterno:M.target.value}),placeholder:"Es: Mario Rossi",required:!0}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Per affitto sale a non-coworker o ingressi giornalieri"})]}):o.jsxs("div",{children:[o.jsx(Le,{children:"Utente Registrato *"}),o.jsxs(an,{value:b.utente_id,onValueChange:M=>x({...b,utente_id:M}),required:!0,children:[o.jsx(tn,{children:o.jsx(on,{placeholder:"Seleziona utente"})}),o.jsx(nn,{children:y.map(M=>o.jsx(Ze,{value:M.id,children:M.full_name},M.id))})]}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"I crediti verranno scalati automaticamente se disponibili"})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Data *"}),o.jsx(tt,{type:"date",value:b.data,onChange:M=>x({...b,data:M.target.value}),required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Ora Inizio *"}),o.jsx(tt,{type:"time",value:b.ora_inizio,onChange:M=>x({...b,ora_inizio:M.target.value}),required:!0})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Ora Fine *"}),o.jsx(tt,{type:"time",value:b.ora_fine,onChange:M=>x({...b,ora_fine:M.target.value}),required:!0})]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Tipo Utilizzo *"}),o.jsxs(an,{value:b.tipo_utilizzo,onValueChange:M=>x({...b,tipo_utilizzo:M}),children:[o.jsx(tn,{children:o.jsx(on,{})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"call",children:"Call (1h sala = 0.5h credito)"}),o.jsx(Ze,{value:"riunione",children:"Riunione (1h sala = 1h credito)"})]})]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Note"}),o.jsx(ta,{value:b.note,onChange:M=>x({...b,note:M.target.value}),placeholder:"Note aggiuntive...",rows:2})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Oe,{type:"button",variant:"outline",onClick:()=>{m(!1),O()},children:"Annulla"}),o.jsx(Oe,{type:"submit",className:"bg-[#053c5e] hover:bg-[#1f7a8c]",disabled:z.isPending,children:z.isPending?"Creazione...":"Crea Prenotazione"})]})]})]})}),o.jsx(Er,{open:s,onOpenChange:l,children:o.jsxs(wr,{children:[o.jsx(_r,{children:o.jsx(jr,{children:"Modifica Prenotazione"})}),c&&o.jsxs("form",{onSubmit:M=>{M.preventDefault(),E.mutate({id:c.id,data:h})},className:"space-y-4",children:[o.jsxs("div",{className:"bg-[#bfdbf7] p-3 rounded-lg text-sm",children:[o.jsx("strong",{children:"Utente:"})," ",c.utente_nome]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Sala"}),o.jsxs(an,{value:h.sala_id,onValueChange:M=>p({...h,sala_id:M}),children:[o.jsx(tn,{children:o.jsx(on,{})}),o.jsx(nn,{children:C.map(M=>o.jsx(Ze,{value:M.id,children:M.nome},M.id))})]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Data"}),o.jsx(tt,{type:"date",value:h.data,onChange:M=>p({...h,data:M.target.value}),required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Ora Inizio"}),o.jsx(tt,{type:"time",value:h.ora_inizio,onChange:M=>p({...h,ora_inizio:M.target.value}),required:!0})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Ora Fine"}),o.jsx(tt,{type:"time",value:h.ora_fine,onChange:M=>p({...h,ora_fine:M.target.value}),required:!0})]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Oe,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Annulla"}),o.jsx(Oe,{type:"submit",className:"bg-[#053c5e] hover:bg-[#1f7a8c]",children:"Salva"})]})]})]})})]})]})})}function CF(){const{user:e,isLoading:t}=tc();if(t)return o.jsx("div",{className:"text-center py-12",children:"Caricamento..."});const r=Array.isArray(e==null?void 0:e.roles)?e.roles:typeof(e==null?void 0:e.roles)=="string"?[e.roles]:[],i=r.some(a=>["admin","super_admin"].includes(a));return r.some(a=>["host","admin","super_admin"].includes(a)),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-[#053c5e] text-white p-8",children:[o.jsx("h1",{className:"text-4xl font-bold",children:"Gestione Coworking"}),o.jsx("p",{className:"text-lg opacity-90 mt-2",children:"Amministra servizi, abbonamenti e sale"})]}),o.jsxs(ol,{defaultValue:"abbonamenti",className:"w-full",children:[o.jsxs(Ss,{className:"grid w-full grid-cols-4 bg-[#bfdbf7]",children:[o.jsxs(Pn,{value:"abbonamenti",className:"data-[state=active]:bg-[#053c5e] data-[state=active]:text-white",children:[o.jsx(Yf,{className:"w-4 h-4 mr-2"}),"Abbonamenti"]}),o.jsxs(Pn,{value:"calendario",className:"data-[state=active]:bg-[#053c5e] data-[state=active]:text-white",children:[o.jsx(na,{className:"w-4 h-4 mr-2"}),"Calendario Sale"]}),i&&o.jsxs(o.Fragment,{children:[o.jsxs(Pn,{value:"servizi",className:"data-[state=active]:bg-[#053c5e] data-[state=active]:text-white",children:[o.jsx(qI,{className:"w-4 h-4 mr-2"}),"Servizi/Prezzi"]}),o.jsxs(Pn,{value:"sale",className:"data-[state=active]:bg-[#053c5e] data-[state=active]:text-white",children:[o.jsx(MI,{className:"w-4 h-4 mr-2"}),"Sale"]})]})]}),o.jsx(En,{value:"abbonamenti",className:"mt-6",children:o.jsx(AF,{})}),o.jsx(En,{value:"calendario",className:"mt-6",children:o.jsx(Oie,{})}),i&&o.jsxs(o.Fragment,{children:[o.jsx(En,{value:"servizi",className:"mt-6",children:o.jsx(kz,{})}),o.jsx(En,{value:"sale",className:"mt-6",children:o.jsx(Oz,{})})]})]})]})}function qS(){const{user:e,isLoading:t}=tc(),n=t,{data:r=[]}=Wt({queryKey:["turni"],queryFn:()=>we.entities.TurnoHost.list("-data_inizio"),initialData:[]});if(n)return o.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[#053c5e]",children:o.jsx("div",{className:"text-lg text-white",children:"Caricamento..."})});if(!e)return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"flex justify-end p-6",children:o.jsxs(Oe,{onClick:()=>we.auth.redirectToLogin(Mn("Home")),className:"bg-[#053c5e] text-white hover:bg-[#1f7a8c] font-semibold",children:[o.jsx(GC,{className:"w-4 h-4 mr-2"}),"Accedi"]})}),o.jsx("div",{className:"container mx-auto px-4 py-20 text-center",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("div",{className:"mb-12",children:o.jsx("img",{src:"/logo-red.png",alt:"neu [ni]",className:"w-[250px] mx-auto"})}),o.jsx("p",{className:"text-xl md:text-2xl text-[#053c5e] font-semibold mb-8",children:"Spazio al lavoro - Coworking e comunit a Palermo"}),o.jsx("p",{className:"text-lg text-[#053c5e]/80 max-w-2xl mx-auto mb-12",children:"Un'associazione di promozione sociale che unisce coworking, condivisione e collaborazione. Partecipa alla nostra comunit basata sul sistema NEU, la moneta complementare per valorizzare il contributo di ogni socio."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs(Oe,{onClick:()=>window.location.href=Mn("CheckIn"),className:"bg-[#1f7a8c] hover:bg-[#053c5e] text-white text-lg px-8 py-6 font-bold",children:[o.jsx(b4,{className:"w-5 h-5 mr-2"}),"Fai il Check-in"]}),o.jsxs(Oe,{onClick:()=>we.auth.redirectToLogin(Mn("Home")),className:"bg-[#db222a] hover:bg-[#053c5e] text-white text-lg px-8 py-6 font-bold",children:[o.jsx(GC,{className:"w-5 h-5 mr-2"}),"Iscriviti"]})]})]})})]}),o.jsx("div",{className:"bg-white py-20",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsx("h2",{className:"text-4xl font-bold text-[#053c5e] text-center mb-12",children:"Cosa offriamo"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[o.jsxs("div",{className:"bg-[#bfdbf7] p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-[#053c5e] flex items-center justify-center mx-auto mb-4",children:o.jsx(Yl,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-2xl font-bold text-[#053c5e] mb-4",children:"Sistema NEU"}),o.jsx("p",{className:"text-[#053c5e]",children:"Una moneta complementare che valorizza il tuo contributo all'associazione. Guadagna NEU con turni host e compiti, usali per servizi coworking."})]}),o.jsxs("div",{className:"bg-[#1f7a8c] p-8 text-center text-white",children:[o.jsx("div",{className:"w-16 h-16 bg-white flex items-center justify-center mx-auto mb-4",children:o.jsx(yo,{className:"w-8 h-8 text-[#1f7a8c]"})}),o.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Comunit"}),o.jsx("p",{children:"Entra a far parte di una comunit di professionisti, freelancer e creativi. Condividi conoscenze, collabora su progetti e cresci insieme a noi."})]}),o.jsxs("div",{className:"bg-[#db222a] p-8 text-center text-white",children:[o.jsx("div",{className:"w-16 h-16 bg-white flex items-center justify-center mx-auto mb-4",children:o.jsx(vo,{className:"w-8 h-8 text-[#db222a]"})}),o.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Spazi Flessibili"}),o.jsx("p",{children:"Postazioni coworking, sale riunioni e spazi eventi. Lavora quando e come vuoi, in un ambiente stimolante e professionale."})]})]})]})}),o.jsx("div",{className:"bg-[#bfdbf7] py-20",children:o.jsxs("div",{className:"container mx-auto px-4 text-center",children:[o.jsx("h2",{className:"text-4xl font-bold text-[#053c5e] mb-6",children:"Dove siamo"}),o.jsx("p",{className:"text-xl text-[#053c5e] mb-4",children:o.jsx("strong",{children:"neu [ni] spazio al lavoro APS"})}),o.jsx("p",{className:"text-lg text-[#053c5e] mb-8",children:"via Alloro 64, 90133 Palermo"}),o.jsx("div",{className:"flex justify-center",children:o.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3151.782800588661!2d13.364468676236688!3d38.11571437189999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1319e5f54316834d%3A0xe677f98889445195!2svia%20Alloro%2C%2064%2C%2090133%20Palermo%20PA!5e0!3m2!1sit!2sit!4v1714820000000!5m2!1sit!2sit",width:"800",height:"450",className:"w-full max-w-3xl h-[300px] md:h-[450px] border-0 rounded-lg shadow-lg",allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})})]});const i=s=>{var l;return e?((l=e.roles)==null?void 0:l.includes(s))||e.role===s:!1},a=i("socio")||i("admin")||i("super_admin");return i("coworker"),o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"bg-white p-8 text-[#053c5e] relative border-b-4 border-[#db222a] border-opacity-20 shadow-sm",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-4xl font-bold mb-2",children:["Ciao",e?` ${e.full_name.split(" ")[0]}`:"","!"]}),o.jsx("p",{className:"text-lg text-[#053c5e] opacity-80 font-medium",children:a?"neu [ni] - spazio al lavoro & comunit":"Benvenuto nel coworking di neu [ni]"})]}),a&&o.jsx(Fr,{to:Mn("Riepiloghi"),className:"w-full sm:w-auto",children:o.jsxs(Oe,{variant:"outline",className:"w-full sm:w-auto border-[#1f7a8c] text-[#1f7a8c] hover:bg-[#1f7a8c] hover:text-white font-semibold",children:[o.jsx(na,{className:"w-4 h-4 mr-2"}),"Statistiche e Riepiloghi"]})})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"md:col-span-2 space-y-6",children:[o.jsxs(yt,{className:"border-none shadow-sm bg-slate-50",children:[o.jsx(Jt,{children:o.jsx(Zt,{className:"text-[#053c5e]",children:a?"La tua attivit in associazione":"Il tuo spazio di lavoro"})}),o.jsx(wt,{className:"prose prose-slate max-w-none text-[#053c5e]",children:a?o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{children:"Questa  la tua area personale. Qui puoi monitorare il tuo contributo alla comunit, gestire i tuoi NEU e dichiarare le tue ore di volontariato."}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 not-prose",children:[o.jsxs("div",{className:"bg-[#db222a] text-white p-4",children:[o.jsx("div",{className:"text-xs uppercase opacity-80 mb-1",children:"Saldo NEU"}),o.jsx("div",{className:"text-3xl font-bold",children:Math.round(((e==null?void 0:e.saldo_neu)||0)*100)/100})]}),o.jsxs("div",{className:"bg-[#1f7a8c] text-white p-4",children:[o.jsx("div",{className:"text-xs uppercase opacity-80 mb-1",children:"Ore Volontariato Anno"}),o.jsxs("div",{className:"text-3xl font-bold",children:[(e==null?void 0:e.ore_volontariato_anno)||0," / 60"]})]})]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{children:"Siamo felici di averti con noi! In questo portale puoi gestire in autonomia le tue prenotazioni delle sale riunioni e monitorare i tuoi ingressi carnet o il tuo abbonamento mensile."}),o.jsx("p",{children:"Il nostro spazio  aperto dal luned al venerd, dalle 9:00 alle 18:30. Ricorda di fare sempre il check-in all'ingresso tramite il tablet in postazione host o il tuo smartphone."})]})})]}),o.jsxs("div",{className:"bg-white p-6 border-l-4 border-[#1f7a8c] shadow-sm",children:[o.jsx("h2",{className:"text-2xl font-bold text-[#053c5e] mb-4",children:"Informazioni utili"}),o.jsx("div",{className:"space-y-6",children:a?o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-bold text-[#053c5e] mb-2 flex items-center gap-2",children:[o.jsx(Yl,{className:"w-4 h-4 text-[#db222a]"}),"Sistema NEU"]}),o.jsxs("p",{className:"text-sm text-[#053c5e]",children:["I NEU sono la moneta complementare dell'associazione. Si guadagnano facendo turni host e compiti specifici, e si possono usare per pagare i servizi dell'associazione o scambiare con altri soci.",o.jsx("span",{className:"font-semibold text-[#db222a]",children:" Attenzione:"})," i NEU guadagnati dal 1 ottobre al 30 settembre scadono il 31 dicembre dell'anno successivo."]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-bold text-[#053c5e] mb-2 flex items-center gap-2",children:[o.jsx(vo,{className:"w-4 h-4 text-[#1f7a8c]"}),"Volontariato"]}),o.jsx("p",{className:"text-sm text-[#053c5e]",children:"Ogni socio/a  tenuto/a a svolgere almeno 60 ore di volontariato all'anno associativo. Le ore possono essere dichiarate nella sezione dedicata del portale."})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-bold text-[#053c5e] mb-2 flex items-center gap-2",children:[o.jsx(Qx,{className:"w-4 h-4 text-[#1f7a8c]"}),"Prenotazione Sale"]}),o.jsx("p",{className:"text-sm text-[#053c5e]",children:"Puoi prenotare la Sala Riunioni Alloro o la Postazione Call direttamente dalla sezione Coworking. Assicurati di avere crediti ore sufficienti nel tuo abbonamento."})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-bold text-[#053c5e] mb-2 flex items-center gap-2",children:[o.jsx(yo,{className:"w-4 h-4 text-[#053c5e]"}),"La Community"]}),o.jsx("p",{className:"text-sm text-[#053c5e]",children:"Neu [ni]  pi di un semplice ufficio.  una comunit vibrante. Se hai bisogno di supporto, non esitare a chiedere all'Host di turno!"})]})]})})]})]}),o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-slate-100 p-6 rounded-lg shadow-sm border border-slate-200",children:[o.jsxs("h4",{className:"font-bold text-[#053c5e] mb-4 flex items-center gap-2",children:[o.jsx(rl,{className:"w-4 h-4"}),"Contatti Associazione"]}),o.jsxs("div",{className:"space-y-3 text-sm text-slate-600",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-semibold text-[#053c5e]",children:"Email:"}),o.jsx("br",{}),"coworking@neunoi.it"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-semibold text-[#053c5e]",children:"Tel:"}),o.jsx("br",{}),"+39 091 5739129"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-semibold text-[#053c5e]",children:"Sede:"}),o.jsx("br",{}),"Via Alloro 64, 90133 Palermo"]})]})]})})]})]})}function Tie(e){const t=Die(e),n=j.forwardRef((r,i)=>{const{children:a,...s}=r,l=j.Children.toArray(a),c=l.find(Iie);if(c){const d=c.props.children,h=l.map(p=>p===c?j.Children.count(d)>1?j.Children.only(null):j.isValidElement(d)?d.props.children:null:p);return o.jsx(t,{...s,ref:i,children:j.isValidElement(d)?j.cloneElement(d,void 0,h):null})}return o.jsx(t,{...s,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function Die(e){const t=j.forwardRef((n,r)=>{const{children:i,...a}=n;if(j.isValidElement(i)){const s=Mie(i),l=Rie(a,i.props);return i.type!==j.Fragment&&(l.ref=r?js(r,s):s),j.cloneElement(i,l)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Lie=Symbol("radix.slottable");function Iie(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Lie}function Rie(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function Mie(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var P1="Popover",[PF]=Ps(P1,[f1]),Bv=f1(),[zie,Bd]=PF(P1),EF=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:s=!1}=e,l=Bv(t),c=j.useRef(null),[d,h]=j.useState(!1),[p,g]=Cd({prop:r,defaultProp:i??!1,onChange:a,caller:P1});return o.jsx(vM,{...l,children:o.jsx(zie,{scope:t,contentId:Ka(),triggerRef:c,open:p,onOpenChange:g,onOpenToggle:j.useCallback(()=>g(m=>!m),[g]),hasCustomAnchor:d,onCustomAnchorAdd:j.useCallback(()=>h(!0),[]),onCustomAnchorRemove:j.useCallback(()=>h(!1),[]),modal:s,children:n})})};EF.displayName=P1;var kF="PopoverAnchor",Fie=j.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Bd(kF,n),a=Bv(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:l}=i;return j.useEffect(()=>(s(),()=>l()),[s,l]),o.jsx(W4,{...a,...r,ref:t})});Fie.displayName=kF;var OF="PopoverTrigger",TF=j.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Bd(OF,n),a=Bv(n),s=zn(t,i.triggerRef),l=o.jsx(rn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":MF(i.open),...r,ref:s,onClick:cn(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:o.jsx(W4,{asChild:!0,...a,children:l})});TF.displayName=OF;var gA="PopoverPortal",[$ie,qie]=PF(gA,{forceMount:void 0}),DF=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,a=Bd(gA,t);return o.jsx($ie,{scope:t,forceMount:n,children:o.jsx(Ko,{present:n||a.open,children:o.jsx(h1,{asChild:!0,container:i,children:r})})})};DF.displayName=gA;var Yp="PopoverContent",LF=j.forwardRef((e,t)=>{const n=qie(Yp,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,a=Bd(Yp,e.__scopePopover);return o.jsx(Ko,{present:r||a.open,children:a.modal?o.jsx(Uie,{...i,ref:t}):o.jsx(Hie,{...i,ref:t})})});LF.displayName=Yp;var Bie=Tie("PopoverContent.RemoveScroll"),Uie=j.forwardRef((e,t)=>{const n=Bd(Yp,e.__scopePopover),r=j.useRef(null),i=zn(t,r),a=j.useRef(!1);return j.useEffect(()=>{const s=r.current;if(s)return V4(s)},[]),o.jsx(m1,{as:Bie,allowPinchZoom:!0,children:o.jsx(IF,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:cn(e.onCloseAutoFocus,s=>{var l;s.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:cn(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:cn(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),Hie=j.forwardRef((e,t)=>{const n=Bd(Yp,e.__scopePopover),r=j.useRef(!1),i=j.useRef(!1);return o.jsx(IF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,l;(s=e.onCloseAutoFocus)==null||s.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),IF=j.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,...p}=e,g=Bd(Yp,n),m=Bv(n);return R4(),o.jsx(s1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:o.jsx(o1,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>g.onOpenChange(!1),children:o.jsx(yM,{"data-state":MF(g.open),role:"dialog",id:g.contentId,...m,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),RF="PopoverClose",Wie=j.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Bd(RF,n);return o.jsx(rn.button,{type:"button",...r,ref:t,onClick:cn(e.onClick,()=>i.onOpenChange(!1))})});Wie.displayName=RF;var Vie="PopoverArrow",Gie=j.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Bv(n);return o.jsx(xM,{...i,...r,ref:t})});Gie.displayName=Vie;function MF(e){return e?"open":"closed"}var Kie=EF,Yie=TF,Xie=DF,zF=LF;const FF=Kie,$F=Yie,vA=j.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>o.jsx(Xie,{children:o.jsx(zF,{ref:i,align:t,sideOffset:n,className:Lt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));vA.displayName=zF.displayName;var dk=1,Qie=.9,Jie=.8,Zie=.17,F2=.1,$2=.999,eae=.9999,tae=.99,nae=/[\\\/_+.#"@\[\(\{&]/,rae=/[\\\/_+.#"@\[\(\{&]/g,iae=/[\s-]/,qF=/[\s-]/g;function BS(e,t,n,r,i,a,s){if(a===t.length)return i===e.length?dk:tae;var l=`${i},${a}`;if(s[l]!==void 0)return s[l];for(var c=r.charAt(a),d=n.indexOf(c,i),h=0,p,g,m,b;d>=0;)p=BS(e,t,n,r,d+1,a+1,s),p>h&&(d===i?p*=dk:nae.test(e.charAt(d-1))?(p*=Jie,m=e.slice(i,d-1).match(rae),m&&i>0&&(p*=Math.pow($2,m.length))):iae.test(e.charAt(d-1))?(p*=Qie,b=e.slice(i,d-1).match(qF),b&&i>0&&(p*=Math.pow($2,b.length))):(p*=Zie,i>0&&(p*=Math.pow($2,d-i))),e.charAt(d)!==t.charAt(a)&&(p*=eae)),(p<F2&&n.charAt(d-1)===r.charAt(a+1)||r.charAt(a+1)===r.charAt(a)&&n.charAt(d-1)!==r.charAt(a))&&(g=BS(e,t,n,r,d+1,a+2,s),g*F2>p&&(p=g*F2)),p>h&&(h=p),d=n.indexOf(c,d+1);return s[l]=h,h}function fk(e){return e.toLowerCase().replace(qF," ")}function aae(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,BS(e,t,fk(e),fk(t),0,0,{})}var fg='[cmdk-group=""]',q2='[cmdk-group-items=""]',oae='[cmdk-group-heading=""]',BF='[cmdk-item=""]',hk=`${BF}:not([aria-disabled="true"])`,US="cmdk-item-select",gp="data-value",sae=(e,t,n)=>aae(e,t,n),UF=j.createContext(void 0),Uv=()=>j.useContext(UF),HF=j.createContext(void 0),yA=()=>j.useContext(HF),WF=j.createContext(void 0),VF=j.forwardRef((e,t)=>{let n=vp(()=>{var T,V;return{search:"",value:(V=(T=e.value)!=null?T:e.defaultValue)!=null?V:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=vp(()=>new Set),i=vp(()=>new Map),a=vp(()=>new Map),s=vp(()=>new Set),l=GF(e),{label:c,children:d,value:h,onValueChange:p,filter:g,shouldFilter:m,loop:b,disablePointerSelection:x=!1,vimBindings:y=!0,...w}=e,A=Ka(),C=Ka(),P=Ka(),E=j.useRef(null),I=yae();ph(()=>{if(h!==void 0){let T=h.trim();n.current.value=T,z.emit()}},[h]),ph(()=>{I(6,B)},[]);let z=j.useMemo(()=>({subscribe:T=>(s.current.add(T),()=>s.current.delete(T)),snapshot:()=>n.current,setState:(T,V,J)=>{var Z,oe,se,fe;if(!Object.is(n.current[T],V)){if(n.current[T]=V,T==="search")k(),G(),I(1,R);else if(T==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let de=document.getElementById(P);de?de.focus():(Z=document.getElementById(A))==null||Z.focus()}if(I(7,()=>{var de;n.current.selectedItemId=(de=U())==null?void 0:de.id,z.emit()}),J||I(5,B),((oe=l.current)==null?void 0:oe.value)!==void 0){let de=V??"";(fe=(se=l.current).onValueChange)==null||fe.call(se,de);return}}z.emit()}},emit:()=>{s.current.forEach(T=>T())}}),[]),O=j.useMemo(()=>({value:(T,V,J)=>{var Z;V!==((Z=a.current.get(T))==null?void 0:Z.value)&&(a.current.set(T,{value:V,keywords:J}),n.current.filtered.items.set(T,F(V,J)),I(2,()=>{G(),z.emit()}))},item:(T,V)=>(r.current.add(T),V&&(i.current.has(V)?i.current.get(V).add(T):i.current.set(V,new Set([T]))),I(3,()=>{k(),G(),n.current.value||R(),z.emit()}),()=>{a.current.delete(T),r.current.delete(T),n.current.filtered.items.delete(T);let J=U();I(4,()=>{k(),(J==null?void 0:J.getAttribute("id"))===T&&R(),z.emit()})}),group:T=>(i.current.has(T)||i.current.set(T,new Set),()=>{a.current.delete(T),i.current.delete(T)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:A,inputId:P,labelId:C,listInnerRef:E}),[]);function F(T,V){var J,Z;let oe=(Z=(J=l.current)==null?void 0:J.filter)!=null?Z:sae;return T?oe(T,n.current.search,V):0}function G(){if(!n.current.search||l.current.shouldFilter===!1)return;let T=n.current.filtered.items,V=[];n.current.filtered.groups.forEach(Z=>{let oe=i.current.get(Z),se=0;oe.forEach(fe=>{let de=T.get(fe);se=Math.max(de,se)}),V.push([Z,se])});let J=E.current;M().sort((Z,oe)=>{var se,fe;let de=Z.getAttribute("id"),be=oe.getAttribute("id");return((se=T.get(be))!=null?se:0)-((fe=T.get(de))!=null?fe:0)}).forEach(Z=>{let oe=Z.closest(q2);oe?oe.appendChild(Z.parentElement===oe?Z:Z.closest(`${q2} > *`)):J.appendChild(Z.parentElement===J?Z:Z.closest(`${q2} > *`))}),V.sort((Z,oe)=>oe[1]-Z[1]).forEach(Z=>{var oe;let se=(oe=E.current)==null?void 0:oe.querySelector(`${fg}[${gp}="${encodeURIComponent(Z[0])}"]`);se==null||se.parentElement.appendChild(se)})}function R(){let T=M().find(J=>J.getAttribute("aria-disabled")!=="true"),V=T==null?void 0:T.getAttribute(gp);z.setState("value",V||void 0)}function k(){var T,V,J,Z;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let oe=0;for(let se of r.current){let fe=(V=(T=a.current.get(se))==null?void 0:T.value)!=null?V:"",de=(Z=(J=a.current.get(se))==null?void 0:J.keywords)!=null?Z:[],be=F(fe,de);n.current.filtered.items.set(se,be),be>0&&oe++}for(let[se,fe]of i.current)for(let de of fe)if(n.current.filtered.items.get(de)>0){n.current.filtered.groups.add(se);break}n.current.filtered.count=oe}function B(){var T,V,J;let Z=U();Z&&(((T=Z.parentElement)==null?void 0:T.firstChild)===Z&&((J=(V=Z.closest(fg))==null?void 0:V.querySelector(oae))==null||J.scrollIntoView({block:"nearest"})),Z.scrollIntoView({block:"nearest"}))}function U(){var T;return(T=E.current)==null?void 0:T.querySelector(`${BF}[aria-selected="true"]`)}function M(){var T;return Array.from(((T=E.current)==null?void 0:T.querySelectorAll(hk))||[])}function X(T){let V=M()[T];V&&z.setState("value",V.getAttribute(gp))}function Q(T){var V;let J=U(),Z=M(),oe=Z.findIndex(fe=>fe===J),se=Z[oe+T];(V=l.current)!=null&&V.loop&&(se=oe+T<0?Z[Z.length-1]:oe+T===Z.length?Z[0]:Z[oe+T]),se&&z.setState("value",se.getAttribute(gp))}function K(T){let V=U(),J=V==null?void 0:V.closest(fg),Z;for(;J&&!Z;)J=T>0?gae(J,fg):vae(J,fg),Z=J==null?void 0:J.querySelector(hk);Z?z.setState("value",Z.getAttribute(gp)):Q(T)}let Y=()=>X(M().length-1),ne=T=>{T.preventDefault(),T.metaKey?Y():T.altKey?K(1):Q(1)},H=T=>{T.preventDefault(),T.metaKey?X(0):T.altKey?K(-1):Q(-1)};return j.createElement(rn.div,{ref:t,tabIndex:-1,...w,"cmdk-root":"",onKeyDown:T=>{var V;(V=w.onKeyDown)==null||V.call(w,T);let J=T.nativeEvent.isComposing||T.keyCode===229;if(!(T.defaultPrevented||J))switch(T.key){case"n":case"j":{y&&T.ctrlKey&&ne(T);break}case"ArrowDown":{ne(T);break}case"p":case"k":{y&&T.ctrlKey&&H(T);break}case"ArrowUp":{H(T);break}case"Home":{T.preventDefault(),X(0);break}case"End":{T.preventDefault(),Y();break}case"Enter":{T.preventDefault();let Z=U();if(Z){let oe=new Event(US);Z.dispatchEvent(oe)}}}}},j.createElement("label",{"cmdk-label":"",htmlFor:O.inputId,id:O.labelId,style:bae},c),E1(e,T=>j.createElement(HF.Provider,{value:z},j.createElement(UF.Provider,{value:O},T))))}),lae=j.forwardRef((e,t)=>{var n,r;let i=Ka(),a=j.useRef(null),s=j.useContext(WF),l=Uv(),c=GF(e),d=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:s==null?void 0:s.forceMount;ph(()=>{if(!d)return l.item(i,s==null?void 0:s.id)},[d]);let h=KF(i,a,[e.value,e.children,a],e.keywords),p=yA(),g=Od(I=>I.value&&I.value===h.current),m=Od(I=>d||l.filter()===!1?!0:I.search?I.filtered.items.get(i)>0:!0);j.useEffect(()=>{let I=a.current;if(!(!I||e.disabled))return I.addEventListener(US,b),()=>I.removeEventListener(US,b)},[m,e.onSelect,e.disabled]);function b(){var I,z;x(),(z=(I=c.current).onSelect)==null||z.call(I,h.current)}function x(){p.setState("value",h.current,!0)}if(!m)return null;let{disabled:y,value:w,onSelect:A,forceMount:C,keywords:P,...E}=e;return j.createElement(rn.div,{ref:js(a,t),...E,id:i,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!g,"data-disabled":!!y,"data-selected":!!g,onPointerMove:y||l.getDisablePointerSelection()?void 0:x,onClick:y?void 0:b},e.children)}),cae=j.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:i,...a}=e,s=Ka(),l=j.useRef(null),c=j.useRef(null),d=Ka(),h=Uv(),p=Od(m=>i||h.filter()===!1?!0:m.search?m.filtered.groups.has(s):!0);ph(()=>h.group(s),[]),KF(s,l,[e.value,e.heading,c]);let g=j.useMemo(()=>({id:s,forceMount:i}),[i]);return j.createElement(rn.div,{ref:js(l,t),...a,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},n&&j.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},n),E1(e,m=>j.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?d:void 0},j.createElement(WF.Provider,{value:g},m))))}),uae=j.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,i=j.useRef(null),a=Od(s=>!s.search);return!n&&!a?null:j.createElement(rn.div,{ref:js(i,t),...r,"cmdk-separator":"",role:"separator"})}),dae=j.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,i=e.value!=null,a=yA(),s=Od(d=>d.search),l=Od(d=>d.selectedItemId),c=Uv();return j.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),j.createElement(rn.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:i?e.value:s,onChange:d=>{i||a.setState("search",d.target.value),n==null||n(d.target.value)}})}),fae=j.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...i}=e,a=j.useRef(null),s=j.useRef(null),l=Od(d=>d.selectedItemId),c=Uv();return j.useEffect(()=>{if(s.current&&a.current){let d=s.current,h=a.current,p,g=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{let m=d.offsetHeight;h.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return g.observe(d),()=>{cancelAnimationFrame(p),g.unobserve(d)}}},[]),j.createElement(rn.div,{ref:js(a,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":r,id:c.listId},E1(e,d=>j.createElement("div",{ref:js(s,c.listInnerRef),"cmdk-list-sizer":""},d)))}),hae=j.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:a,container:s,...l}=e;return j.createElement(Q4,{open:n,onOpenChange:r},j.createElement(J4,{container:s},j.createElement(b1,{"cmdk-overlay":"",className:i}),j.createElement(w1,{"aria-label":e.label,"cmdk-dialog":"",className:a},j.createElement(VF,{ref:t,...l}))))}),pae=j.forwardRef((e,t)=>Od(n=>n.filtered.count===0)?j.createElement(rn.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),mae=j.forwardRef((e,t)=>{let{progress:n,children:r,label:i="Loading...",...a}=e;return j.createElement(rn.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},E1(e,s=>j.createElement("div",{"aria-hidden":!0},s)))}),bo=Object.assign(VF,{List:fae,Item:lae,Input:dae,Group:cae,Separator:uae,Dialog:hae,Empty:pae,Loading:mae});function gae(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function vae(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function GF(e){let t=j.useRef(e);return ph(()=>{t.current=e}),t}var ph=typeof window>"u"?j.useEffect:j.useLayoutEffect;function vp(e){let t=j.useRef();return t.current===void 0&&(t.current=e()),t}function Od(e){let t=yA(),n=()=>e(t.snapshot());return j.useSyncExternalStore(t.subscribe,n,n)}function KF(e,t,n,r=[]){let i=j.useRef(),a=Uv();return ph(()=>{var s;let l=(()=>{var d;for(let h of n){if(typeof h=="string")return h.trim();if(typeof h=="object"&&"current"in h)return h.current?(d=h.current.textContent)==null?void 0:d.trim():i.current}})(),c=r.map(d=>d.trim());a.value(e,l,c),(s=t.current)==null||s.setAttribute(gp,l),i.current=l}),i}var yae=()=>{let[e,t]=j.useState(),n=vp(()=>new Map);return ph(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,i)=>{n.current.set(r,i),t({})}};function xae(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function E1({asChild:e,children:t},n){return e&&j.isValidElement(t)?j.cloneElement(xae(t),{ref:t.ref},n(t.props.children)):n(t)}var bae={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const xA=j.forwardRef(({className:e,...t},n)=>o.jsx(bo,{ref:n,className:Lt("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));xA.displayName=bo.displayName;const bA=j.forwardRef(({className:e,...t},n)=>o.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[o.jsx(vu,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o.jsx(bo.Input,{ref:n,className:Lt("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));bA.displayName=bo.Input.displayName;const wA=j.forwardRef(({className:e,...t},n)=>o.jsx(bo.List,{ref:n,className:Lt("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));wA.displayName=bo.List.displayName;const _A=j.forwardRef((e,t)=>o.jsx(bo.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));_A.displayName=bo.Empty.displayName;const jA=j.forwardRef(({className:e,...t},n)=>o.jsx(bo.Group,{ref:n,className:Lt("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));jA.displayName=bo.Group.displayName;const wae=j.forwardRef(({className:e,...t},n)=>o.jsx(bo.Separator,{ref:n,className:Lt("-mx-1 h-px bg-border",e),...t}));wae.displayName=bo.Separator.displayName;const SA=j.forwardRef(({className:e,...t},n)=>o.jsx(bo.Item,{ref:n,className:Lt("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));SA.displayName=bo.Item.displayName;function _ae(){const[e,t]=j.useState(!1),[n,r]=j.useState(""),[i,a]=j.useState({profilo_email:"",data_ordine:new Date().toISOString().split("T")[0],metodo_pagamento:"non_pagato",note:"",sconto_tipo:"percentuale",sconto_valore:0}),[s,l]=j.useState([{tipo_abbonamento_id:"",quantita:1,prezzo_custom:""}]),[c,d]=j.useState(!1),[h,p]=j.useState(!1),[g,m]=j.useState(null),b=Or(),{data:x=[]}=Wt({queryKey:["profili"],queryFn:()=>we.entities.ProfiloCoworker.list("-created_date"),initialData:[]}),{data:y=[]}=Wt({queryKey:["tipi_abbonamento"],queryFn:()=>we.entities.TipoAbbonamento.filter({attivo:!0}),initialData:[]}),{data:w=[]}=Wt({queryKey:["ordini","tutti"],queryFn:()=>we.entities.OrdineCoworking.list("-data_ordine"),select:k=>(k||[]).map(B=>({...B,prodotti:typeof B.prodotti=="string"?JSON.parse(B.prodotti):B.prodotti||[]})),initialData:[]}),A=vn({mutationFn:k=>we.entities.OrdineCoworking.delete(k),onSuccess:()=>{b.invalidateQueries({queryKey:["ordini"]}),b.invalidateQueries({queryKey:["abbonamenti"]}),We.success("Ordine eliminato"),p(!1),m(null)},onError:k=>We.error("Errore: "+k.message)}),C=vn({mutationFn:async k=>{if(!k.profilo_email)throw new Error("Seleziona un coworker");if(!k.prodotti||k.prodotti.length===0||!k.prodotti[0].tipo_abbonamento_id)throw new Error("Aggiungi almeno un prodotto all'ordine");const B=(x||[]).find(Y=>Y.email===k.profilo_email);if(!B)throw new Error("Profilo coworker non trovato");const U=k.prodotti.map(Y=>{const ne=y.find(T=>String(T.id)===String(Y.tipo_abbonamento_id));if(!ne)throw new Error("Tipo abbonamento non trovato");const H=Y.prezzo_custom?parseFloat(Y.prezzo_custom)||0:ne.prezzo||0;return{tipo_abbonamento_id:Y.tipo_abbonamento_id,tipo_abbonamento_nome:ne.nome,quantita:Y.quantita,prezzo_unitario:H,prezzo_totale:H*Y.quantita}}),M=U.reduce((Y,ne)=>Y+ne.prezzo_totale,0);let X=0;k.sconto_valore>0&&(k.sconto_tipo==="percentuale"?X=M*(parseFloat(k.sconto_valore)/100):X=parseFloat(k.sconto_valore),U.push({tipo_abbonamento_nome:`Sconto (${k.sconto_tipo==="percentuale"?k.sconto_valore+"%":""+k.sconto_valore})`,quantita:1,prezzo_unitario:-X,prezzo_totale:-X}));const Q=Math.max(0,M-X),K=await we.entities.OrdineCoworking.create({user_id:B.user_id,profilo_coworker_id:B.id,profilo_nome_completo:`${B.first_name} ${B.last_name}`,profilo_email:B.email,data_ordine:k.data_ordine,prodotti:JSON.stringify(U),totale:Q,metodo_pagamento:k.metodo_pagamento,stato_pagamento:k.metodo_pagamento==="non_pagato"?"non_pagato":"pagato",note:k.note||"",registrato_da:(await we.auth.me()).id});for(const Y of U){const ne=y.find(H=>String(H.id)===String(Y.tipo_abbonamento_id));if(ne)for(let H=0;H<Y.quantita;H++){const T=new Date(k.data_ordine);let V=new Date(T);ne.durata_mesi?V.setMonth(V.getMonth()+ne.durata_mesi):ne.durata_giorni&&V.setDate(V.getDate()+ne.durata_giorni),await we.entities.AbbonamentoUtente.create({user_id:B.user_id,profilo_coworker_id:B.id,profilo_nome_completo:`${B.first_name} ${B.last_name}`,tipo_abbonamento_id:Y.tipo_abbonamento_id,tipo_abbonamento_nome:ne.nome,data_inizio:T.toISOString().split("T")[0],data_scadenza:V.toISOString().split("T")[0],ingressi_totali:ne.numero_ingressi||0,ingressi_usati:0,ore_sale_totali:ne.ore_sale_incluse||0,ore_sale_usate:0,stato:"attivo",riferimento_ordine_id:K.id})}}return K},onSuccess:async k=>{if(b.invalidateQueries({queryKey:["ordini"]}),b.invalidateQueries({queryKey:["abbonamenti"]}),b.invalidateQueries({queryKey:["attivita_giorno"]}),t(!1),P(),We.success("Ordine creato con successo"),setTimeout(()=>{Kp(k)},500),k.stato_pagamento==="pagato")try{await we.coworking.sendReceipt(k.id),We.success("Ricevuta inviata via email")}catch(B){console.error("Errore invio email:",B),We.info("Ordine creato, ma errore nell'invio automatico della mail (forse SMTP non configurato)")}},onError:k=>{We.error(k.message||"Errore durante la creazione dell'ordine")}}),P=()=>{a({profilo_email:"",data_ordine:new Date().toISOString().split("T")[0],metodo_pagamento:"non_pagato",note:"",sconto_tipo:"percentuale",sconto_valore:0}),l([{tipo_abbonamento_id:"",quantita:1,prezzo_custom:""}]),d(!1)},E=()=>{l([...s,{tipo_abbonamento_id:"",quantita:1,prezzo_custom:""}])},I=k=>{l(s.filter((B,U)=>U!==k))},z=(k,B,U)=>{const M=[...s];M[k][B]=U,l(M)},O=k=>({non_pagato:"Non Pagato",contanti:"Contanti",carta:"Carta di Credito/Bancomat",bonifico:"Bonifico",neu:"NEU"})[k]||k,F=k=>({non_pagato:"bg-orange-100 text-orange-800",contanti:"bg-blue-100 text-blue-800",carta:"bg-purple-100 text-purple-800",bonifico:"bg-green-100 text-green-800",neu:"bg-[#1f7a8c] text-white"})[k]||"bg-slate-100 text-slate-800",G=()=>{const k=s.reduce((U,M)=>{const X=y.find(K=>String(K.id)===String(M.tipo_abbonamento_id));if(!X)return U;const Q=(X.prezzo_libero||!0)&&M.prezzo_custom?parseFloat(M.prezzo_custom)||0:X.prezzo||0;return U+Q*M.quantita},0);let B=0;return i.sconto_valore>0&&(i.sconto_tipo==="percentuale"?B=k*(parseFloat(i.sconto_valore)/100):B=parseFloat(i.sconto_valore)),Math.max(0,k-B)},R=w.filter(k=>{var M,X,Q;if(!k)return!1;const B=(n||"").toLowerCase();return(((M=k.profilo_nome_completo)==null?void 0:M.toLowerCase().includes(B))??!1)||(((X=k.profilo_email)==null?void 0:X.toLowerCase().includes(B))??!1)||((Q=k.id)==null?void 0:Q.toString().includes(n))}).sort((k,B)=>(B.id||0)-(k.id||0));return o.jsxs(o.Fragment,{children:[o.jsxs(yt,{children:[o.jsxs(Jt,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs(Zt,{children:["Ordini e Ricevute (",(w==null?void 0:w.length)||0,")"]}),o.jsxs(Oe,{onClick:()=>t(!0),className:"bg-[#053c5e] hover:bg-[#1f7a8c]",children:[o.jsx(xs,{className:"w-4 h-4 mr-2"}),"Nuovo Ordine"]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(vu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),o.jsx(tt,{placeholder:"Cerca per coworker o prodotto...",value:n,onChange:k=>r(k.target.value),className:"pl-9"})]})]}),o.jsx(wt,{children:o.jsxs("div",{className:"space-y-3",children:[R.map(k=>o.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:"font-bold text-[#053c5e]",children:k.profilo_nome_completo}),o.jsx(kn,{className:F(k.metodo_pagamento),children:O(k.metodo_pagamento)})]}),o.jsxs("div",{className:"text-sm text-slate-600",children:[new Date(k.data_ordine).toLocaleDateString("it-IT",{day:"2-digit",month:"long",year:"numeric"}),o.jsxs("span",{className:"ml-2 py-0.5 px-1.5 bg-slate-100 rounded text-[10px] font-mono text-slate-400",children:["#",k.numero_ricevuta?`${k.numero_ricevuta}/${new Date(k.data_ordine).getFullYear()}`:k.id]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-2xl font-bold text-[#053c5e]",children:["",(k.totale||0).toFixed(2)]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[o.jsxs(Oe,{size:"sm",variant:"outline",onClick:()=>Kp(k),className:"border-[#1f7a8c] text-[#1f7a8c] hover:bg-[#1f7a8c] hover:text-white",children:[o.jsx(po,{className:"w-4 h-4 mr-1"}),"Scarica"]}),o.jsx(Oe,{size:"sm",variant:"outline",className:"border-red-300 text-red-600 hover:bg-red-50",onClick:()=>{m(k),p(!0)},children:o.jsx(Vo,{className:"w-4 h-4"})})]})]})]}),o.jsx("div",{className:"bg-slate-50 p-3 rounded space-y-1",children:Array.isArray(k.prodotti)&&k.prodotti.map((B,U)=>o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{children:[(B==null?void 0:B.tipo_abbonamento_nome)||"Prodotto"," x",(B==null?void 0:B.quantita)||0]}),o.jsxs("span",{className:"font-semibold",children:["",((B==null?void 0:B.prezzo_totale)||0).toFixed(2)]})]},U))}),k.note&&o.jsx("p",{className:"text-sm text-slate-600 mt-2 italic",children:k.note})]},k.id)),o.jsx(bh,{open:h,onOpenChange:p,children:o.jsxs(Id,{children:[o.jsxs(Rd,{children:[o.jsx(zd,{children:"Sei sicuro di voler eliminare questo ordine?"}),o.jsxs(Fd,{children:["Questa azione eliminer definitivamente l'ordine #",g==null?void 0:g.id," di ",g==null?void 0:g.profilo_nome_completo,". L'operazione non pu essere annullata."]})]}),o.jsxs(Md,{children:[o.jsx(qd,{children:"Annulla"}),o.jsx($d,{onClick:()=>A.mutate(g.id),className:"bg-red-600 hover:bg-red-700 text-white",children:"Elimina"})]})]})}),R.length===0&&o.jsx("p",{className:"text-center text-slate-500 py-8",children:"Nessun ordine registrato"})]})})]}),o.jsx(Er,{open:e,onOpenChange:t,children:o.jsxs(wr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(_r,{children:o.jsx(jr,{children:"Nuovo Ordine"})}),o.jsxs("form",{onSubmit:k=>{k.preventDefault(),C.mutate({...i,prodotti:s})},className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(Le,{children:"Coworker *"}),o.jsxs(FF,{open:c,onOpenChange:d,children:[o.jsx($F,{asChild:!0,children:o.jsxs(Oe,{variant:"outline",role:"combobox","aria-expanded":c,className:"w-full justify-between",children:[i.profilo_email?(()=>{const k=(x||[]).find(B=>B.email===i.profilo_email);return k?`${k.first_name} ${k.last_name}`:"Seleziona coworker..."})():"Seleziona coworker...",o.jsx(RI,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(vA,{className:"w-full p-0",align:"start",children:o.jsxs(xA,{children:[o.jsx(bA,{placeholder:"Cerca coworker..."}),o.jsxs(wA,{children:[o.jsx(_A,{children:"Nessun coworker trovato."}),o.jsx(jA,{children:(x||[]).map(k=>o.jsxs(SA,{value:`${k.first_name||""} ${k.last_name||""} ${k.email||""}`,onSelect:()=>{a({...i,profilo_email:k.email}),d(!1)},children:[o.jsx(Jx,{className:Lt("mr-2 h-4 w-4",i.profilo_email===k.email?"opacity-100":"opacity-0")}),k.first_name," ",k.last_name,k.email&&o.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:[" ",k.email]})]},k.id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Data Ordine *"}),o.jsx(tt,{type:"date",value:i.data_ordine,onChange:k=>a({...i,data_ordine:k.target.value}),required:!0})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx(Le,{className:"text-lg",children:"Prodotti"}),o.jsxs(Oe,{type:"button",size:"sm",onClick:E,variant:"outline",children:[o.jsx(xs,{className:"w-4 h-4 mr-1"}),"Aggiungi Prodotto"]})]}),o.jsx("div",{className:"space-y-3",children:s.map((k,B)=>{const U=(y||[]).find(M=>String(M.id)===String(k.tipo_abbonamento_id));return o.jsx("div",{className:"p-3 bg-slate-50 rounded-lg space-y-3",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsxs("div",{className:"flex-1 space-y-3",children:[o.jsxs(an,{value:String(k.tipo_abbonamento_id),onValueChange:M=>z(B,"tipo_abbonamento_id",M),children:[o.jsx(tn,{children:o.jsx(on,{placeholder:"Seleziona prodotto"})}),o.jsx(nn,{children:(y||[]).map(M=>o.jsxs(Ze,{value:String(M.id),children:[M.nome," - ",M.prezzo]},M.id))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx(Le,{className:"text-xs",children:"Quantit"}),o.jsx(tt,{type:"number",min:"1",value:k.quantita,onChange:M=>z(B,"quantita",parseInt(M.target.value)||1)})]}),o.jsxs("div",{children:[o.jsx(Le,{className:"text-xs",children:"Prezzo Unitario ()"}),o.jsx(tt,{type:"number",step:"0.01",min:"0",placeholder:U?`Predefinito: ${U.prezzo}`:"Inserisci prezzo",value:k.prezzo_custom,onChange:M=>z(B,"prezzo_custom",M.target.value)})]})]})]}),s.length>1&&o.jsx(Oe,{type:"button",size:"sm",variant:"outline",onClick:()=>I(B),className:"border-red-300 text-red-600 hover:bg-red-50",children:o.jsx(Vo,{className:"w-4 h-4"})})]})},B)})})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Metodo di Pagamento *"}),o.jsxs(an,{value:i.metodo_pagamento,onValueChange:k=>a({...i,metodo_pagamento:k}),children:[o.jsx(tn,{children:o.jsx(on,{})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"non_pagato",children:"Non Pagato"}),o.jsx(Ze,{value:"contanti",children:"Contanti"}),o.jsx(Ze,{value:"carta",children:"Carta di Credito/Bancomat"}),o.jsx(Ze,{value:"bonifico",children:"Bonifico"}),o.jsx(Ze,{value:"neu",children:"NEU"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 border-t pt-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Tipo Sconto"}),o.jsxs(an,{value:i.sconto_tipo,onValueChange:k=>a({...i,sconto_tipo:k}),children:[o.jsx(tn,{children:o.jsx(on,{})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"percentuale",children:"Sconto %"}),o.jsx(Ze,{value:"fisso",children:"Sconto Fisso ()"})]})]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Valore Sconto"}),o.jsx(tt,{type:"number",min:"0",step:"0.01",value:i.sconto_valore,onChange:k=>a({...i,sconto_valore:k.target.value})})]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Note (opzionale)"}),o.jsx(ta,{value:i.note,onChange:k=>a({...i,note:k.target.value}),placeholder:"Note aggiuntive sull'ordine...",rows:2})]}),o.jsx("div",{className:"bg-[#053c5e] text-white p-4 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between text-xl font-bold",children:[o.jsx("span",{children:"TOTALE:"}),o.jsxs("span",{children:["",G().toFixed(2)]})]})}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx(Oe,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annulla"}),o.jsxs(Oe,{type:"submit",className:"bg-[#053c5e] hover:bg-[#1f7a8c]",disabled:C.isPending,children:[o.jsx(UI,{className:"w-4 h-4 mr-2"}),"Crea Ordine"]})]})]})]})})]})}function jae(){var K;const[e,t]=j.useState("giorno"),[n,r]=j.useState(new Date),[i,a]=j.useState("tutte"),[s,l]=j.useState(!1),[c,d]=j.useState(null),[h,p]=j.useState({sala_id:"",data:"",ora_inizio:"",ora_fine:""}),[g,m]=j.useState(!1),[b,x]=j.useState({sala_id:"",data:"",ora_inizio:"",ora_fine:"",tipo_utilizzo:"call",utente_esterno:!1,utente_id:"",utente_email:"",nome_esterno:"",note:""}),[y,w]=j.useState([]),[A,C]=j.useState(!1),[P,E]=j.useState({credits:0,cost:0,balance:0}),I=Or(),{data:z=[]}=Wt({queryKey:["sale_calendario"],queryFn:()=>we.entities.SalaRiunioni.filter({attiva:!0}),initialData:[]}),{data:O=[]}=Wt({queryKey:["prenotazioni","host"],queryFn:()=>we.entities.PrenotazioneSala.filter({stato:"confermata"}),initialData:[]});j.useEffect(()=>{(async()=>{try{const[ne,H,T]=await Promise.all([we.entities.User.list(),we.entities.ProfiloCoworker.list(),we.entities.ProfiloSocio.list()]),V=new Map;ne.forEach(Z=>V.set(Z.id?String(Z.id):null,Z));const J=new Map;H.forEach(Z=>{const oe=Z.user_id?String(Z.user_id):`p-cow-${Z.id}`,se=Z.user_id?V.get(String(Z.user_id)):null;J.set(oe,{id:oe,user_id:Z.user_id,profilo_coworker_id:Z.id,full_name:`${Z.first_name||""} ${Z.last_name||""}`.trim()||(se==null?void 0:se.full_name)||(se==null?void 0:se.username)||Z.email||"Coworker senza nome",email:Z.email||(se==null?void 0:se.email)||"",tag:"COWORKER"})}),T.forEach(Z=>{const oe=Z.user_id?String(Z.user_id):`p-soc-${Z.id}`;if(J.has(oe))return;const se=Z.user_id?V.get(String(Z.user_id)):null;J.set(oe,{id:oe,user_id:Z.user_id,profilo_coworker_id:null,full_name:`${Z.first_name||""} ${Z.last_name||""}`.trim()||(se==null?void 0:se.full_name)||(se==null?void 0:se.username)||"Socio senza nome",email:(se==null?void 0:se.email)||"",tag:"SOCIO"})}),ne.forEach(Z=>{const oe=String(Z.id);J.has(oe)||J.set(oe,{id:oe,user_id:Z.id,profilo_coworker_id:null,full_name:Z.full_name||Z.username,email:Z.email,tag:"UTENTE"})}),w(Array.from(J.values()).sort((Z,oe)=>(Z.full_name||"").localeCompare(oe.full_name||"")))}catch(ne){console.error("Errore caricamento lista utenti:",ne),we.entities.User.list().then(H=>w(H.sort((T,V)=>(T.full_name||"").localeCompare(V.full_name||""))))}})()},[]),j.useEffect(()=>{(async()=>{if(b.utente_esterno||!b.utente_id||!b.data||!b.ora_inizio||!b.ora_fine){E({credits:0,cost:0,balance:0});return}const ne=y.find(fe=>fe.id===b.utente_id);if(!ne)return;const H=new Date(`${b.data}T${b.ora_inizio}`),V=(new Date(`${b.data}T${b.ora_fine}`)-H)/(1e3*60*60),J=b.tipo_utilizzo==="call"?V*.5:V,se=(await we.entities.AbbonamentoUtente.list()).filter(fe=>fe.stato==="attivo"&&(ne.user_id&&String(fe.user_id)===String(ne.user_id)||ne.profilo_coworker_id&&String(fe.profilo_coworker_id)===String(ne.profilo_coworker_id))).reduce((fe,de)=>{const be=new Date;return new Date(de.data_scadenza)<be?fe:fe+((de.ore_sale_totali||0)-(de.ore_sale_usate||0))},0);E({credits:se,cost:J,balance:se-J})})()},[b.utente_id,b.data,b.ora_inizio,b.ora_fine,b.tipo_utilizzo,b.utente_esterno,y]);const F=vn({mutationFn:async({id:Y,data:ne})=>{const H=O.find(de=>de.id===Y);if(!H)throw new Error("Prenotazione non trovata");const T=new Date(`${ne.data}T${ne.ora_inizio}`),V=new Date(`${ne.data}T${ne.ora_fine}`),J=z.find(de=>String(de.id)===String(ne.sala_id));if(!J)throw new Error("Sala non trovata");const Z=(V-T)/(1e3*60*60),oe=H.tipo_utilizzo==="call"?Z*.5:Z,se=H.ore_credito_consumate||0,fe=oe-se;if(fe!==0&&H.user_id){const de=await we.entities.AbbonamentoUtente.filter({user_id:H.user_id,stato:"attivo"});if(fe>0){let be=fe;const Ee=new Date;Ee.setHours(0,0,0,0);for(const _e of de){if(be<=0)break;if(new Date(_e.data_scadenza)<Ee)continue;const He=(_e.ore_sale_totali||0)-(_e.ore_sale_usate||0);if(He>0){const le=Math.min(be,He);await we.entities.AbbonamentoUtente.update(_e.id,{ore_sale_usate:(_e.ore_sale_usate||0)+le}),be-=le}}}else{let be=Math.abs(fe);for(const Ee of[...de].reverse()){if(be<=0)break;const _e=Ee.ore_sale_usate||0;if(_e>0){const $e=Math.min(be,_e);await we.entities.AbbonamentoUtente.update(Ee.id,{ore_sale_usate:_e-$e}),be-=$e}}}}await we.entities.PrenotazioneSala.update(Y,{sala_id:Number(ne.sala_id),sala_nome:J.nome,data_inizio:T.toISOString(),data_fine:V.toISOString(),ore_credito_consumate:oe})},onSuccess:()=>{I.invalidateQueries({queryKey:["prenotazioni"]}),l(!1),We.success("Prenotazione modificata")}}),G=vn({mutationFn:async Y=>{const ne=O.find(H=>H.id===Y);if(ne&&ne.user_id&&(ne.ore_credito_consumate||0)>0){const H=await we.entities.AbbonamentoUtente.filter({user_id:ne.user_id,stato:"attivo"});let T=ne.ore_credito_consumate;for(const V of[...H].reverse()){if(T<=0)break;const J=V.ore_sale_usate||0;if(J>0){const Z=Math.min(T,J);await we.entities.AbbonamentoUtente.update(V.id,{ore_sale_usate:J-Z}),T-=Z}}}await we.entities.PrenotazioneSala.update(Y,{stato:"annullata"})},onSuccess:()=>{I.invalidateQueries({queryKey:["prenotazioni"]}),I.invalidateQueries({queryKey:["abbonamenti"]}),We.success("Prenotazione annullata e crediti rimborsati")}}),R=vn({mutationFn:async Y=>{const ne=new Date(`${Y.data}T${Y.ora_inizio}`),H=new Date(`${Y.data}T${Y.ora_fine}`),T=z.find(fe=>String(fe.id)===String(Y.sala_id));if(!T)throw new Error("Seleziona una sala valida");if(O.some(fe=>{if(fe.sala_id!==Y.sala_id)return!1;const de=new Date(fe.data_inizio),be=new Date(fe.data_fine);return ne<be&&H>de}))throw new Error("La sala  gi prenotata in questo orario");const J=(H-ne)/(1e3*60*60),Z=Y.tipo_utilizzo==="call"?J*.5:J;let oe,se;if(Y.utente_esterno)oe=null,se=Y.nome_esterno;else{const fe=y.find($e=>$e.id===Y.utente_id);if(!fe)throw new Error("Utente non trovato nella lista. Riprova a selezionarlo.");oe=fe.user_id,se=fe.full_name;const de={};fe.user_id&&(de.user_id=fe.user_id),fe.profilo_coworker_id&&(de.profilo_coworker_id=fe.profilo_coworker_id);const Ee=(await we.entities.AbbonamentoUtente.filter(de)).filter($e=>{if(!$e.attivo||$e.stato!=="attivo")return!1;const He=new Date;He.setHours(0,0,0,0);const le=new Date($e.data_inizio),Ke=new Date($e.data_scadenza);return le.setHours(0,0,0,0),Ke.setHours(23,59,59,999),le<=He&&Ke>=He});Ee.reduce(($e,He)=>$e+((He.ore_sale_totali||0)-(He.ore_sale_usate||0)),0);let _e=Z;for(const $e of Ee){if(_e<=0)break;const He=($e.ore_sale_totali||0)-($e.ore_sale_usate||0);if(He>0){const le=Math.min(_e,He);await we.entities.AbbonamentoUtente.update($e.id,{ore_sale_usate:($e.ore_sale_usate||0)+le}),_e-=le}}}await we.entities.PrenotazioneSala.create({sala_id:Y.sala_id,sala_nome:T.nome,user_id:oe,utente_nome:se,data_inizio:ne.toISOString(),data_fine:H.toISOString(),tipo_utilizzo:Y.tipo_utilizzo,ore_credito_consumate:Z,stato:"confermata",note:Y.note})},onSuccess:()=>{I.invalidateQueries({queryKey:["prenotazioni"]}),I.invalidateQueries({queryKey:["abbonamenti"]}),m(!1),k(),We.success("Prenotazione creata")},onError:Y=>{We.error(Y.message||"Errore nella creazione")}}),k=()=>{x({sala_id:"",data:"",ora_inizio:"",ora_fine:"",tipo_utilizzo:"call",utente_esterno:!1,utente_id:"",utente_email:"",nome_esterno:"",note:""})},B=Y=>{const ne=new Date(Y.data_inizio);d(Y),p({sala_id:Y.sala_id,data:ne.toISOString().split("T")[0],ora_inizio:ne.toTimeString().slice(0,5),ora_fine:new Date(Y.data_fine).toTimeString().slice(0,5)}),l(!0)},U=()=>{let Y=O;if(i!=="tutte"&&(Y=Y.filter(ne=>ne.sala_id===i)),e==="giorno"){const ne=new Date(n);ne.setHours(0,0,0,0);const H=new Date(n);H.setHours(23,59,59,999),Y=Y.filter(T=>{const V=new Date(T.data_inizio);return V>=ne&&V<=H})}else if(e==="settimana"){const ne=new Date(n);ne.setDate(ne.getDate()-ne.getDay()+1),ne.setHours(0,0,0,0);const H=new Date(ne);H.setDate(H.getDate()+6),H.setHours(23,59,59,999),Y=Y.filter(T=>{const V=new Date(T.data_inizio);return V>=ne&&V<=H})}else if(e==="mese"){const ne=new Date(n.getFullYear(),n.getMonth(),1),H=new Date(n.getFullYear(),n.getMonth()+1,0,23,59,59);Y=Y.filter(T=>{const V=new Date(T.data_inizio);return V>=ne&&V<=H})}return Y.sort((ne,H)=>new Date(ne.data_inizio)-new Date(H.data_inizio))},M=Y=>{const ne=new Date(n);e==="giorno"?ne.setDate(ne.getDate()+Y):e==="settimana"?ne.setDate(ne.getDate()+Y*7):ne.setMonth(ne.getMonth()+Y),r(ne)},X=()=>{if(e==="giorno")return n.toLocaleDateString("it-IT",{weekday:"long",day:"numeric",month:"long",year:"numeric"});if(e==="settimana"){const Y=new Date(n);Y.setDate(Y.getDate()-Y.getDay()+1);const ne=new Date(Y);return ne.setDate(ne.getDate()+6),`${Y.toLocaleDateString("it-IT",{day:"numeric",month:"short"})} - ${ne.toLocaleDateString("it-IT",{day:"numeric",month:"short",year:"numeric"})}`}else return n.toLocaleDateString("it-IT",{month:"long",year:"numeric"})},Q=U();return o.jsx(o.Fragment,{children:o.jsxs(ol,{defaultValue:"griglia",className:"w-full",children:[o.jsxs(Ss,{className:"grid w-full grid-cols-2 bg-[#bfdbf7]",children:[o.jsx(Pn,{value:"griglia",className:"data-[state=active]:bg-[#053c5e] data-[state=active]:text-white",children:"Vista Griglia Oraria"}),o.jsx(Pn,{value:"lista",className:"data-[state=active]:bg-[#053c5e] data-[state=active]:text-white",children:"Vista Lista"})]}),o.jsxs(En,{value:"griglia",className:"mt-6 space-y-4",children:[o.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[o.jsxs(Oe,{onClick:()=>m(!g),className:"w-full bg-[#db222a] hover:bg-[#b01b22] justify-between text-xl font-bold py-6 h-auto rounded-none shadow-md",children:[o.jsxs("span",{className:"flex items-center gap-3",children:[o.jsx(na,{className:"w-6 h-6"}),"NUOVA PRENOTAZIONE"]}),g?o.jsx(x4,{className:"w-6 h-6"}):o.jsx(Zx,{className:"w-6 h-6"})]}),g&&o.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-200",children:o.jsxs("form",{onSubmit:Y=>{Y.preventDefault(),R.mutate(b)},className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Sala *"}),o.jsxs(an,{value:String(b.sala_id),onValueChange:Y=>x({...b,sala_id:Y}),required:!0,children:[o.jsx(tn,{children:o.jsx(on,{placeholder:"Seleziona sala"})}),o.jsx(nn,{children:z.map(Y=>o.jsx(Ze,{value:String(Y.id),children:Y.nome},Y.id))})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ws,{id:"esterno",checked:b.utente_esterno,onCheckedChange:Y=>x({...b,utente_esterno:Y})}),o.jsx(Le,{htmlFor:"esterno",className:"cursor-pointer",children:"Utente esterno (non registrato)"})]}),b.utente_esterno?o.jsxs("div",{children:[o.jsx(Le,{children:"Nome e Cognome *"}),o.jsx(tt,{value:b.nome_esterno,onChange:Y=>x({...b,nome_esterno:Y.target.value}),placeholder:"Es: Mario Rossi",required:!0})]}):o.jsxs("div",{children:[o.jsx(Le,{className:"mb-2 block",children:"Utente Registrato *"}),o.jsxs(FF,{open:A,onOpenChange:C,children:[o.jsx($F,{asChild:!0,children:o.jsxs(Oe,{variant:"outline",role:"combobox","aria-expanded":A,className:"w-full justify-between bg-white h-10",children:[o.jsx("span",{className:"truncate",children:b.utente_id?(K=y.find(Y=>Y.id===b.utente_id))==null?void 0:K.full_name:"Seleziona un utente..."}),o.jsx(RI,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(vA,{className:"w-[var(--radix-popover-trigger-width)] p-0",align:"start",children:o.jsxs(xA,{children:[o.jsx(bA,{placeholder:"Cerca per nome o email..."}),o.jsxs(wA,{children:[o.jsx(_A,{children:"Nessun utente trovato."}),o.jsx(jA,{children:y.map(Y=>o.jsxs(SA,{value:Y.full_name+" "+(Y.email||"")+" "+Y.tag,onSelect:()=>{x({...b,utente_id:Y.id,utente_email:Y.email}),C(!1)},children:[o.jsx(Jx,{className:Lt("mr-2 h-4 w-4",b.utente_id===Y.id?"opacity-100":"opacity-0")}),o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-sm",children:Y.full_name}),o.jsx(kn,{variant:"outline",className:"text-[9px] px-1 py-0 h-3 underline decoration-slate-300",children:Y.tag})]}),o.jsx("span",{className:"text-[10px] text-slate-500",children:Y.email})]})]},Y.id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Data *"}),o.jsx(tt,{type:"date",value:b.data,onClick:Y=>{var ne,H;return(H=(ne=Y.target).showPicker)==null?void 0:H.call(ne)},onChange:Y=>x({...b,data:Y.target.value}),required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Ora Inizio *"}),o.jsxs(an,{value:b.ora_inizio,onValueChange:Y=>x({...b,ora_inizio:Y}),required:!0,children:[o.jsx(tn,{children:o.jsx(on,{placeholder:"--:--"})}),o.jsx(nn,{className:"max-h-[200px]",children:Array.from({length:48},(Y,ne)=>{const H=ne*15,T=9+Math.floor(H/60),V=H%60;if(T>20)return null;const J=`${T.toString().padStart(2,"0")}:${V.toString().padStart(2,"0")}`;return o.jsx(Ze,{value:J,children:J},J)})})]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Ora Fine *"}),o.jsxs(an,{value:b.ora_fine,onValueChange:Y=>x({...b,ora_fine:Y}),required:!0,children:[o.jsx(tn,{children:o.jsx(on,{placeholder:"--:--"})}),o.jsx(nn,{className:"max-h-[200px]",children:Array.from({length:48},(Y,ne)=>{const H=(ne+1)*15,T=9+Math.floor(H/60),V=H%60;if(T>21)return null;const J=`${T.toString().padStart(2,"0")}:${V.toString().padStart(2,"0")}`;return o.jsx(Ze,{value:J,children:J},J)})})]})]})]}),o.jsxs("div",{children:[o.jsx(Le,{className:"mb-3 block text-[#053c5e] font-semibold",children:"Tipo Utilizzo *"}),o.jsxs(C1,{value:b.tipo_utilizzo,onValueChange:Y=>x({...b,tipo_utilizzo:Y}),className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(hh,{value:"call",id:"host-call",className:"peer sr-only"}),o.jsxs(Le,{htmlFor:"host-call",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-white p-4 hover:bg-slate-50 hover:text-accent-foreground peer-data-[state=checked]:border-[#1f7a8c] [&:has([data-state=checked])]:border-[#1f7a8c] cursor-pointer",children:[o.jsx(cu,{className:"mb-2 h-6 w-6 text-[#1f7a8c]"}),o.jsx("span",{className:"font-bold",children:"Call"}),o.jsx("span",{className:"text-[10px] text-slate-500 uppercase mt-1",children:"1 persona"}),o.jsx("span",{className:"text-[10px] bg-blue-100 text-blue-700 px-1 rounded mt-1",children:"0.5x crediti"})]})]}),o.jsxs("div",{children:[o.jsx(hh,{value:"riunione",id:"host-riunione",className:"peer sr-only"}),o.jsxs(Le,{htmlFor:"host-riunione",className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-white p-4 hover:bg-slate-50 hover:text-accent-foreground peer-data-[state=checked]:border-[#1f7a8c] [&:has([data-state=checked])]:border-[#1f7a8c] cursor-pointer",children:[o.jsx(yo,{className:"mb-2 h-6 w-6 text-[#053c5e]"}),o.jsx("span",{className:"font-bold",children:"Riunione"}),o.jsx("span",{className:"text-[10px] text-slate-500 uppercase mt-1",children:"Pi persone"}),o.jsx("span",{className:"text-[10px] bg-purple-100 text-purple-700 px-1 rounded mt-1",children:"1x crediti"})]})]})]})]}),P.cost>0&&o.jsxs("div",{className:Lt("p-3 rounded-lg border text-sm flex items-start gap-3",P.balance<0?"bg-red-50 border-red-200 text-red-800":"bg-blue-50 border-blue-200 text-blue-800"),children:[P.balance<0?o.jsx(Ad,{className:"w-5 h-5 shrink-0 text-red-600"}):o.jsx(cu,{className:"w-5 h-5 shrink-0 text-blue-600"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"font-bold flex justify-between",children:[o.jsx("span",{children:"Riepilogo Crediti:"}),o.jsxs("span",{children:[P.cost,"h necessarie"]})]}),o.jsxs("div",{className:"mt-1 flex justify-between text-xs",children:[o.jsxs("span",{children:["Disponibili: ",Math.max(0,Math.round(P.credits*100)/100),"h"]}),o.jsx("span",{className:"font-bold",children:P.balance<0?`ECCEDENZA: ${Math.abs(Math.round(P.balance*100)/100)}h`:`Residui: ${Math.round(P.balance*100)/100}h`})]}),P.balance<0&&o.jsx("p",{className:"text-[10px] mt-2 italic font-medium",children:"Attenzione: l'utente non ha abbastanza crediti. La prenotazione verr creata ma i crediti non saranno sufficienti a coprirla interamente."})]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Note"}),o.jsx(ta,{value:b.note,onChange:Y=>x({...b,note:Y.target.value}),placeholder:"Note aggiuntive...",rows:2})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Oe,{type:"button",variant:"outline",onClick:()=>{m(!1),k()},children:"Annulla"}),o.jsx(Oe,{type:"submit",className:"bg-[#053c5e] hover:bg-[#1f7a8c]",disabled:R.isPending,children:R.isPending?"Creazione...":"Crea Prenotazione"})]})]})})]}),o.jsx(hA,{sale:z,prenotazioni:O})]}),o.jsxs(En,{value:"lista",className:"mt-6",children:[o.jsxs(yt,{children:[o.jsxs(Jt,{children:[o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(na,{className:"w-5 h-5 text-[#1f7a8c]"}),o.jsx(Zt,{children:"Calendario Sale"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs(an,{value:i,onValueChange:a,children:[o.jsx(tn,{className:"w-48",children:o.jsx(on,{})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"tutte",children:"Tutte le sale"}),z.map(Y=>o.jsx(Ze,{value:Y.id,children:Y.nome},Y.id))]})]}),o.jsxs(an,{value:e,onValueChange:t,children:[o.jsx(tn,{className:"w-32",children:o.jsx(on,{})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"giorno",children:"Giorno"}),o.jsx(Ze,{value:"settimana",children:"Settimana"}),o.jsx(Ze,{value:"mese",children:"Mese"})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between mt-4",children:[o.jsx(Oe,{variant:"outline",size:"sm",onClick:()=>M(-1),children:o.jsx(e1,{className:"w-4 h-4"})}),o.jsx("div",{className:"text-lg font-semibold text-[#053c5e] capitalize",children:X()}),o.jsx(Oe,{variant:"outline",size:"sm",onClick:()=>M(1),children:o.jsx(t1,{className:"w-4 h-4"})})]})]}),o.jsx(wt,{children:o.jsx("div",{className:"space-y-2",children:Q.length===0?o.jsx("p",{className:"text-center text-slate-500 py-8",children:"Nessuna prenotazione"}):Q.map(Y=>{const ne=z.find(H=>H.id===Y.sala_id);return o.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg hover:bg-slate-50",children:[o.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[o.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:(ne==null?void 0:ne.colore)||"#1f7a8c"}}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"font-bold text-[#053c5e]",children:Y.sala_nome}),o.jsx(kn,{className:Y.tipo_utilizzo==="call"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800",children:Y.tipo_utilizzo==="call"?"Call":"Riunione"})]}),o.jsx("div",{className:"text-sm text-slate-600",children:Y.utente_nome}),o.jsxs("div",{className:"text-sm text-[#1f7a8c]",children:[new Date(Y.data_inizio).toLocaleString("it-IT",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})," - ",new Date(Y.data_fine).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Oe,{size:"sm",variant:"outline",onClick:()=>B(Y),children:o.jsx(Cs,{className:"w-4 h-4"})}),o.jsx(Oe,{size:"sm",variant:"outline",className:"border-red-300 text-red-600",onClick:()=>G.mutate(Y.id),children:o.jsx(Vo,{className:"w-4 h-4"})})]})]},Y.id)})})})]}),o.jsx(Er,{open:s,onOpenChange:l,children:o.jsxs(wr,{children:[o.jsx(_r,{children:o.jsx(jr,{children:"Modifica Prenotazione"})}),c&&o.jsxs("form",{onSubmit:Y=>{Y.preventDefault(),F.mutate({id:c.id,data:h})},className:"space-y-4",children:[o.jsxs("div",{className:"bg-[#bfdbf7] p-3 rounded-lg text-sm",children:[o.jsx("strong",{children:"Utente:"})," ",c.utente_nome]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Sala"}),o.jsxs(an,{value:h.sala_id,onValueChange:Y=>p({...h,sala_id:Y}),children:[o.jsx(tn,{children:o.jsx(on,{})}),o.jsx(nn,{children:z.map(Y=>o.jsx(Ze,{value:Y.id,children:Y.nome},Y.id))})]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Data"}),o.jsx(tt,{type:"date",value:h.data,onChange:Y=>p({...h,data:Y.target.value}),required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Ora Inizio"}),o.jsxs(an,{value:h.ora_inizio,onValueChange:Y=>p({...h,ora_inizio:Y}),required:!0,children:[o.jsx(tn,{children:o.jsx(on,{placeholder:"--:--"})}),o.jsx(nn,{className:"max-h-[200px]",children:Array.from({length:48},(Y,ne)=>{const H=ne*15,T=9+Math.floor(H/60),V=H%60;if(T>20)return null;const J=`${T.toString().padStart(2,"0")}:${V.toString().padStart(2,"0")}`;return o.jsx(Ze,{value:J,children:J},J)})})]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Ora Fine"}),o.jsxs(an,{value:h.ora_fine,onValueChange:Y=>p({...h,ora_fine:Y}),required:!0,children:[o.jsx(tn,{children:o.jsx(on,{placeholder:"--:--"})}),o.jsx(nn,{className:"max-h-[200px]",children:Array.from({length:48},(Y,ne)=>{const H=(ne+1)*15,T=9+Math.floor(H/60),V=H%60;if(T>21)return null;const J=`${T.toString().padStart(2,"0")}:${V.toString().padStart(2,"0")}`;return o.jsx(Ze,{value:J,children:J},J)})})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Oe,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Annulla"}),o.jsx(Oe,{type:"submit",className:"bg-[#053c5e] hover:bg-[#1f7a8c]",children:"Salva"})]})]})]})})]})]})})}function Sae(){const{user:e}=tc(),t=Or(),[n,r]=j.useState(!1),[i,a]=j.useState(null),[s,l]=j.useState(null),[c,d]=j.useState("contanti"),{data:h=[]}=Wt({queryKey:["abbonamenti"],queryFn:()=>we.entities.AbbonamentoUtente.list("-data_scadenza"),initialData:[]}),{data:p=[]}=Wt({queryKey:["task","host","attivi"],queryFn:async()=>await we.entities.TaskNotifica.filter({destinatario_tipo:"host",stato:"attivo",tipo:"task_manuale"}),initialData:[]}),{data:g=[]}=Wt({queryKey:["task","abbonamenti","archiviati"],queryFn:async()=>await we.entities.TaskNotifica.filter({tipo:{_in:["abbonamento_scadenza","abbonamento_scaduto"]},stato:"completato"}),initialData:[]}),{data:m=[],refetch:b}=Wt({queryKey:["ordini","non_pagati"],queryFn:async()=>{const M=await we.entities.OrdineCoworking.filter({stato_pagamento:"non_pagato"});return Array.isArray(M)?M.filter(X=>X.stato!=="annullato"):[]},initialData:[]}),x=()=>{t.invalidateQueries({queryKey:["task"]}),t.invalidateQueries({queryKey:["ordini"]}),t.invalidateQueries({queryKey:["abbonamenti"]}),t.invalidateQueries({queryKey:["attivita_giorno"]}),We.info("Notifiche aggiornate")},{data:y=[]}=Wt({queryKey:["task","host","archiviati"],queryFn:async()=>await we.entities.TaskNotifica.filter({destinatario_tipo:"host",stato:{_in:["completato","abbandonato"]}}),initialData:[]}),w=new Date;w.setHours(0,0,0,0);const{data:A=[],refetch:C}=Wt({queryKey:["attivita_giorno",w.toISOString().split("T")[0]],queryFn:async()=>{const M={createdAt:{_gte:w.toISOString()}},X=await we.entities.IngressoCoworking.filter(M),Q=await we.entities.OrdineCoworking.filter(M);return[...X.map(Y=>({id:`ing_${Y.id}`,tipo:"ingresso_carnet",coworker:Y.profilo_nome_completo,dettaglio:Y.durata==="mezza_giornata"?"Mezza Giornata":"Giornata Intera",data:new Date(Y.createdAt),raw:Y})),...Q.map(Y=>({id:`ord_${Y.id}`,tipo:"nuovo_acquisto",coworker:Y.profilo_nome_completo,dettaglio:(()=>{try{const ne=typeof Y.prodotti=="string"?JSON.parse(Y.prodotti):Y.prodotti;return Array.isArray(ne)?ne.map(H=>H.tipo_abbonamento_nome||H.nome_prodotto).join(", "):"Acquisto"}catch{return"Acquisto"}})(),data:new Date(Y.createdAt),raw:Y}))].sort((Y,ne)=>ne.data-Y.data)},initialData:[]}),[P,E]=j.useState("tutte"),I=vn({mutationFn:async({taskId:M,stato:X})=>{await we.entities.TaskNotifica.update(M,{stato:X,completato_da_id:e==null?void 0:e.id,completato_da_nome:e==null?void 0:e.full_name,data_completamento:new Date().toISOString()})},onSuccess:()=>{t.invalidateQueries({queryKey:["task"]}),We.success("Task aggiornato")}}),z=vn({mutationFn:async({orderId:M,taskId:X,metodo:Q})=>{if(await we.entities.OrdineCoworking.update(M,{stato_pagamento:"pagato",metodo_pagamento:Q}),typeof X=="string"){if(X.startsWith("abb_")){const K=X.replace("abb_","");await O.mutateAsync({abbonamentoId:K,tipo:"pagamento_registrato"})}else if(X.startsWith("ord_")){const K=X.replace("ord_","");await O.mutateAsync({ordineId:K,tipo:"pagamento_registrato"})}}else X&&await we.entities.TaskNotifica.update(X,{stato:"completato",completato_da_id:e==null?void 0:e.id,completato_da_nome:e==null?void 0:e.full_name,data_completamento:new Date().toISOString()});await we.coworking.sendReceipt(M)},onSuccess:()=>{t.invalidateQueries({queryKey:["task"]}),t.invalidateQueries({queryKey:["ordini"]}),r(!1),We.success("Pagamento registrato e ricevuta inviata")},onError:()=>We.error("Errore durante la registrazione del pagamento")}),O=vn({mutationFn:async({abbonamentoId:M,ordineId:X,tipo:Q})=>{await we.entities.TaskNotifica.create({tipo:Q,titolo:"Notifica archiviata",descrizione:X?`Pagamento ordine #${X} gestito`:"Abbonamento gestito",riferimento_abbonamento_id:M?Number(M):null,riferimento_ordine_id:X?Number(X):null,data_inizio:new Date().toISOString().split("T")[0],stato:"completato",completato_da_id:e==null?void 0:e.id,completato_da_nome:e==null?void 0:e.full_name,data_completamento:new Date().toISOString(),destinatario_tipo:"host"})},onSuccess:()=>{t.invalidateQueries({queryKey:["task"]}),We.success("Notifica archiviata")},onError:M=>{console.error(" Errore durante l'archiviazione:",M),We.error("Impossibile archiviare la notifica")}}),F=new Set(y.filter(M=>M.riferimento_abbonamento_id||M.riferimento_ordine_id).map(M=>M.riferimento_abbonamento_id?`abb_${M.riferimento_abbonamento_id}`:`ord_${M.riferimento_ordine_id}`)),G=m.filter(M=>!F.has(`ord_${M.id}`)).map(M=>({id:`ord_${M.id}`,riferimento_ordine_id:M.id,tipo:"pagamento_mancante",titolo:`Pagamento Mancante - ${M.profilo_nome_completo||"Socio"}`,descrizione:`L'ordine #${M.id} di ${M.totale} risuona come "Non Pagato".`,priorita:"alta",data:new Date(M.data_ordine)})),R=h.filter(M=>{const X=`abb_${M.id}`;if(F.has(X))return!1;const Q=new Date,K=new Date(M.data_inizio),Y=new Date(M.data_scadenza),ne=Math.round((Y-K)/(1e3*60*60*24)),H=M.ingressi_totali>0&&M.ingressi_usati>=M.ingressi_totali,T=M.ore_sale_totali>0&&M.ore_sale_usate>=M.ore_sale_totali,V=Q>Y&&ne>=7;return H||T||V}).map(M=>{const X=new Date,Q=new Date(M.data_inizio),K=new Date(M.data_scadenza),Y=Math.round((K-Q)/(1e3*60*60*24)),ne=M.ingressi_totali>0&&M.ingressi_usati>=M.ingressi_totali,H=M.ore_sale_totali>0&&M.ore_sale_usate>=M.ore_sale_totali,T=X>K&&Y>=7;let V=[];ne&&V.push(`ingressi esauriti (${M.ingressi_usati}/${M.ingressi_totali})`),H&&V.push(`ore sale esaurite (${M.ore_sale_usate}/${M.ore_sale_totali}h)`),T&&V.push(`scaduto il ${new Date(M.data_scadenza).toLocaleDateString("it-IT")}`);const J=M.profilo_nome_completo||"Socio";return{id:`abb_${M.id}`,abbonamento_id:M.id,tipo:"servizio_finito",titolo:`Servizio Concluso - ${J}`,descrizione:`L'abbonamento "${M.tipo_abbonamento_nome}"  terminato per: ${V.join(", ")}.`,priorita:"media",data:K,abbonamento:M}}),k=M=>{const X={alta:"bg-red-100 text-red-800 border-red-300",media:"bg-orange-100 text-orange-800 border-orange-300",bassa:"bg-blue-100 text-blue-800 border-blue-300"};return X[M]||X.media},B=M=>M==="pagamento_mancante"?o.jsx(Yf,{className:"w-5 h-5 text-red-600"}):M==="servizio_finito"?o.jsx(Ad,{className:"w-5 h-5 text-orange-600"}):o.jsx(Oy,{className:"w-5 h-5 text-[#1f7a8c]"}),U=[...G,...R,...p].sort((M,X)=>{const Q={alta:3,media:2,bassa:1};return(Q[X.priorita]||0)-(Q[M.priorita]||0)});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsxs(Zt,{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(Oy,{className:"w-5 h-5 text-[#1f7a8c]"}),"Notifiche e Task Attivi"]}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx(Oe,{size:"sm",variant:"ghost",onClick:x,title:"Aggiorna lista",className:"h-8 w-8 p-0",children:o.jsx(tS,{className:"w-4 h-4"})}),U.length>0&&o.jsxs(kn,{variant:"destructive",children:[U.length," attivi"]})]})]})}),o.jsx(wt,{children:o.jsx(Sd,{className:"h-[600px] pr-4",children:o.jsx("div",{className:"space-y-3",children:U.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(lu,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),o.jsx("p",{className:"text-[#053c5e] font-semibold",children:"Nessuna notifica attiva"}),o.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Ottimo lavoro! "})]}):U.map(M=>o.jsx("div",{className:`p-4 border-l-4 rounded-lg ${k(M.priorita)}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[B(M.tipo),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h3",{className:"font-semibold text-[#053c5e]",children:M.titolo}),o.jsx(kn,{className:k(M.priorita),children:M.priorita})]}),o.jsx("p",{className:"text-sm text-slate-700 mb-2",children:M.descrizione}),o.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500",children:[M.creato_da_nome&&o.jsxs("span",{children:["Da: ",o.jsx("strong",{children:M.creato_da_nome})]}),(M.data_inizio||M.data)&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(na,{className:"w-3 h-3"}),M.tipo==="servizio_finito"?"Scadenza: ":"",new Date(M.data_inizio||M.data).toLocaleDateString("it-IT")]}),M.data_fine&&o.jsxs("span",{children:[" ",new Date(M.data_fine).toLocaleDateString("it-IT")]})]})]})]}),o.jsx("div",{className:"flex items-center gap-2 ml-3",children:M.riferimento_ordine_id?o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs(Oe,{size:"sm",onClick:()=>{a(M.riferimento_ordine_id),l(M.id),r(!0)},className:"bg-[#053c5e] hover:bg-[#1f7a8c] h-8",title:"Registra Pagamento",children:[o.jsx(Yf,{className:"w-3.5 h-3.5 mr-1"}),"Paga"]}),o.jsxs(Oe,{size:"sm",variant:"outline",onClick:()=>O.mutate({ordineId:M.riferimento_ordine_id,tipo:M.tipo}),className:"h-8 border-green-200 text-green-700 hover:bg-green-50",title:"Segna come gestito",children:[o.jsx(Kf,{className:"w-3.5 h-3.5 mr-1"}),"OK"]})]}):M.tipo==="task_manuale"?o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx(Oe,{size:"sm",onClick:()=>I.mutate({taskId:M.id,stato:"completato"}),className:"bg-green-600 hover:bg-green-700 h-8",children:o.jsx(Kf,{className:"w-3.5 h-3.5"})}),o.jsx(Oe,{size:"sm",variant:"outline",onClick:()=>I.mutate({taskId:M.id,stato:"abbandonato"}),className:"h-8 border-red-200 text-red-600 hover:bg-red-50",children:o.jsx(go,{className:"w-3.5 h-3.5"})})]}):o.jsxs(Oe,{size:"sm",onClick:()=>O.mutate({abbonamentoId:M.abbonamento_id,tipo:M.tipo}),className:"bg-green-600 hover:bg-green-700",title:"Segna come gestito",children:[o.jsx(Kf,{className:"w-4 h-4 mr-1"}),"Gestita"]})})]})},M.id))})})})]}),o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Zt,{className:"flex items-center gap-2",children:[o.jsx(Ty,{className:"w-5 h-5 text-[#1f7a8c]"}),"Attivit del Giorno"]}),o.jsxs(an,{value:P,onValueChange:E,children:[o.jsx(tn,{className:"w-[150px] h-8",children:o.jsx(on,{placeholder:"Filtra"})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"tutte",children:"Tutte"}),o.jsx(Ze,{value:"ingresso_carnet",children:"Ingressi"}),o.jsx(Ze,{value:"nuovo_acquisto",children:"Acquisti"})]})]})]})}),o.jsx(wt,{children:o.jsx(Sd,{className:"h-[600px] pr-4",children:o.jsx("div",{className:"space-y-3",children:A.filter(M=>P==="tutte"||M.tipo===P).length===0?o.jsxs("div",{className:"text-center py-12 text-slate-500",children:[o.jsx(Ty,{className:"w-12 h-12 opacity-20 mx-auto mb-4"}),o.jsx("p",{children:"Nessuna attivit registrata oggi"})]}):A.filter(M=>P==="tutte"||M.tipo===P).map(M=>o.jsxs("div",{className:"p-3 border rounded-lg bg-white shadow-sm flex items-start gap-4",children:[o.jsx("div",{className:`p-2 rounded-full ${M.tipo==="ingresso_carnet"?"bg-blue-50 text-blue-600":"bg-green-50 text-green-600"}`,children:M.tipo==="ingresso_carnet"?o.jsx(j4,{className:"w-4 h-4"}):o.jsx(Yf,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[o.jsx("h4",{className:"font-bold text-[#053c5e] truncate",children:M.coworker}),o.jsx("span",{className:"text-[10px] text-slate-400 font-mono",children:M.data.toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})})]}),o.jsxs("div",{className:"text-sm text-slate-600 flex items-center justify-between",children:[o.jsx("span",{className:"truncate",children:M.dettaglio}),o.jsx(kn,{variant:"outline",className:"text-[9px] uppercase tracking-wider h-4",children:M.tipo==="ingresso_carnet"?"Ingresso Carnet":"Acquisto"})]})]})]},M.id))})})})]})]}),y.length>0&&o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsxs(Zt,{className:"flex items-center gap-2",children:[o.jsx(lu,{className:"w-5 h-5 text-slate-500"}),"Storico Task (",y.length,")"]})}),o.jsx(wt,{children:o.jsx(Sd,{className:"h-[400px] pr-4",children:o.jsx("div",{className:"space-y-2",children:y.map(M=>o.jsx("div",{className:"p-3 border border-slate-200 rounded-lg bg-slate-50",children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"font-semibold text-slate-700",children:M.titolo}),o.jsx(kn,{className:M.stato==="completato"?"bg-green-100 text-green-800":"bg-slate-300 text-slate-800",children:M.stato==="completato"?" Completato":" Abbandonato"})]}),o.jsx("p",{className:"text-sm text-slate-600",children:M.descrizione}),o.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:[M.completato_da_nome&&o.jsxs("span",{children:["Gestito da: ",M.completato_da_nome,"  "]}),M.data_completamento&&o.jsx("span",{children:new Date(M.data_completamento).toLocaleString("it-IT")})]})]})})},M.id))})})})]}),o.jsx(Er,{open:n,onOpenChange:r,children:o.jsxs(wr,{children:[o.jsx(_r,{children:o.jsx(jr,{children:"Registra Pagamento"})}),o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200",children:[o.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Stai registrando il pagamento per l'ordine:"}),o.jsxs("p",{className:"font-bold text-[#053c5e]",children:["#",i]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Metodo di Pagamento *"}),o.jsxs(an,{value:c,onValueChange:d,children:[o.jsx(tn,{children:o.jsx(on,{})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"contanti",children:"Contanti"}),o.jsx(Ze,{value:"carta",children:"Carta di Credito/Bancomat"}),o.jsx(Ze,{value:"bonifico",children:"Bonifico"}),o.jsx(Ze,{value:"neu",children:"NEU"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx(Oe,{variant:"outline",onClick:()=>r(!1),children:"Annulla"}),o.jsxs(Oe,{onClick:()=>z.mutate({orderId:i,taskId:s,metodo:c}),className:"bg-green-600 hover:bg-green-700",disabled:z.isPending,children:[o.jsx(nh,{className:"w-4 h-4 mr-2"}),"Conferma Pagamento"]})]})]})]})})]})}function YF({trigger:e}){const[t,n]=j.useState(!1),[r,i]=j.useState(null),[a,s]=j.useState([]),[l,c]=j.useState({titolo:"",descrizione:"",destinatario_tipo:"host",destinatario_id:[],priorita:"media",data_inizio:new Date().toISOString().split("T")[0],durata_giorni:"7"}),d=Or();j.useEffect(()=>{(async()=>{try{const x=await we.auth.me();i(x);let y=[];try{y=await we.entities.User.list(),console.log(" Caricati utenti da User:",y.length)}catch{console.log(" Non posso accedere a User.list, uso ProfiloSocio"),y=(await we.entities.ProfiloSocio.list()).map(C=>{var P;return{id:C.user_id,full_name:C.full_name,email:C.email,roles:C.ruoli,role:(P=C.ruoli)==null?void 0:P[0]}}),console.log(" Caricati profili:",y.length)}s(y)}catch(x){console.error(" Errore caricamento:",x),We.error("Errore nel caricamento degli utenti")}})()},[]);const h=vn({mutationFn:async b=>{const x=new Date(b.data_inizio),y=new Date(x);if(y.setDate(y.getDate()+parseInt(b.durata_giorni)),b.destinatario_tipo==="socio"&&b.destinatario_id){const w=Array.isArray(b.destinatario_id)?b.destinatario_id:[b.destinatario_id];console.log(" Creazione task per destinatari:",w),console.log(" Utenti disponibili:",a.map(C=>({id:C.id,name:C.full_name})));const A=w.map(C=>{const P=a.find(E=>E.id===C);return console.log(" Destinatario trovato per ID",C,":",P),we.entities.TaskNotifica.create({tipo:"task_manuale",titolo:b.titolo,descrizione:b.descrizione,creato_da_id:r.id,creato_da_nome:r.full_name,destinatario_id:C,destinatario_nome:(P==null?void 0:P.full_name)||"Socio",destinatario_tipo:"socio",data_inizio:x.toISOString().split("T")[0],data_fine:y.toISOString().split("T")[0],priorita:b.priorita,stato:"attivo"})});await Promise.all(A)}else b.destinatario_tipo==="collettivo"?await we.entities.TaskNotifica.create({tipo:"task_manuale",titolo:b.titolo,descrizione:b.descrizione,creato_da_id:r.id,creato_da_nome:r.full_name,destinatario_id:null,destinatario_nome:"Tutti i Soci",destinatario_tipo:"collettivo",data_inizio:x.toISOString().split("T")[0],data_fine:y.toISOString().split("T")[0],priorita:b.priorita,is_collettivo:!0,stato:"attivo"}):await we.entities.TaskNotifica.create({tipo:"task_manuale",titolo:b.titolo,descrizione:b.descrizione,creato_da_id:r.id,creato_da_nome:r.full_name,destinatario_id:null,destinatario_nome:"Host",destinatario_tipo:"host",data_inizio:x.toISOString().split("T")[0],data_fine:y.toISOString().split("T")[0],priorita:b.priorita,stato:"attivo"})},onSuccess:()=>{d.invalidateQueries({queryKey:["task"]}),n(!1),p(),We.success("Task creato con successo")},onError:b=>{console.error("Errore creazione task:",b),We.error("Errore nella creazione del task")}}),p=()=>{c({titolo:"",descrizione:"",destinatario_tipo:"host",destinatario_id:[],priorita:"media",data_inizio:new Date().toISOString().split("T")[0],durata_giorni:"7"})},g=b=>{if(b.preventDefault(),!l.titolo||!l.descrizione){We.error("Compila tutti i campi obbligatori");return}if(l.destinatario_tipo==="socio"&&(!l.destinatario_id||Array.isArray(l.destinatario_id)&&l.destinatario_id.length===0)){We.error("Seleziona almeno un destinatario");return}h.mutate(l)},m=a.filter(b=>{var x,y,w;return((x=b.roles)==null?void 0:x.includes("socio"))||b.role==="socio"||((y=b.roles)==null?void 0:y.includes("host"))||b.role==="host"||((w=b.roles)==null?void 0:w.includes("admin"))||b.role==="admin"});return console.log(" Soci filtrati:",m.length,m.map(b=>({name:b.full_name,id:b.id}))),o.jsxs(o.Fragment,{children:[o.jsx("div",{onClick:()=>n(!0),children:e||o.jsxs(Oe,{className:"bg-[#db222a] hover:bg-[#b01b22] text-white border border-white/20 shadow-lg w-full sm:w-auto transition-all active:scale-95",children:[o.jsx(xs,{className:"w-4 h-4 mr-2"}),"Nuovo Task"]})}),o.jsx(Er,{open:t,onOpenChange:n,children:o.jsxs(wr,{className:"max-w-2xl max-h-[90vh]",children:[o.jsx(_r,{children:o.jsx(jr,{children:"Crea Nuovo Task"})}),o.jsx(Sd,{className:"max-h-[calc(90vh-120px)] pr-4",children:o.jsxs("form",{onSubmit:g,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Titolo *"}),o.jsx(tt,{value:l.titolo,onChange:b=>c({...l,titolo:b.target.value}),placeholder:"Es: Contattare Mario Rossi per rinnovo",required:!0})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Descrizione *"}),o.jsx(ta,{value:l.descrizione,onChange:b=>c({...l,descrizione:b.target.value}),placeholder:"Descrivi cosa deve essere fatto...",rows:4,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Destinatario *"}),o.jsxs(an,{value:l.destinatario_tipo,onValueChange:b=>c({...l,destinatario_tipo:b,destinatario_id:[]}),children:[o.jsx(tn,{children:o.jsx(on,{})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"host",children:"Host (chiunque sia in turno)"}),o.jsx(Ze,{value:"socio",children:"Socio/a Specifico/a"}),o.jsx(Ze,{value:"collettivo",children:"Tutti i Soci (Task Collettivo)"})]})]})]}),l.destinatario_tipo==="socio"&&o.jsxs("div",{children:[o.jsx(Le,{children:"Seleziona Socio/a * (tieni Ctrl/Cmd per selezione multipla)"}),o.jsx("select",{multiple:!0,className:"w-full p-2 border rounded-md min-h-[120px]",value:Array.isArray(l.destinatario_id)?l.destinatario_id:l.destinatario_id?[l.destinatario_id]:[],onChange:b=>{const x=Array.from(b.target.selectedOptions,y=>y.value);c({...l,destinatario_id:x})},children:m.map(b=>o.jsx("option",{value:b.id,children:b.full_name},b.id))})]}),(l.destinatario_tipo==="host"||l.destinatario_tipo==="collettivo")&&o.jsxs("div",{children:[o.jsx(Le,{children:"Priorit"}),o.jsxs(an,{value:l.priorita,onValueChange:b=>c({...l,priorita:b}),children:[o.jsx(tn,{children:o.jsx(on,{})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"bassa",children:"Bassa"}),o.jsx(Ze,{value:"media",children:"Media"}),o.jsx(Ze,{value:"alta",children:"Alta"})]})]})]})]}),l.destinatario_tipo==="socio"&&o.jsxs("div",{children:[o.jsx(Le,{children:"Priorit"}),o.jsxs(an,{value:l.priorita,onValueChange:b=>c({...l,priorita:b}),children:[o.jsx(tn,{children:o.jsx(on,{})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"bassa",children:"Bassa"}),o.jsx(Ze,{value:"media",children:"Media"}),o.jsx(Ze,{value:"alta",children:"Alta"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Data Inizio Visibilit"}),o.jsx(tt,{type:"date",value:l.data_inizio,onChange:b=>c({...l,data_inizio:b.target.value})}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Quando il task diventer visibile"})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Durata (giorni)"}),o.jsx(tt,{type:"number",value:l.durata_giorni,onChange:b=>c({...l,durata_giorni:b.target.value}),min:"1"}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Per quanti giorni resta visibile"})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[o.jsx(Oe,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Annulla"}),o.jsx(Oe,{type:"submit",className:"bg-[#053c5e] hover:bg-[#1f7a8c]",disabled:h.isPending,children:h.isPending?"Creazione...":"Crea Task"})]})]})})]})})]})}function Nae({open:e,onOpenChange:t}){var x;const[n,r]=j.useState(""),[i,a]=j.useState(null),[s,l]=j.useState(null),[c,d]=j.useState("mezza_giornata"),h=Or(),{data:p=[],isLoading:g}=Wt({queryKey:["coworkers_search",n],queryFn:async()=>{if(n.length<2)try{const y=new Date;y.setHours(0,0,0,0);const w=await we.entities.AbbonamentoUtente.filter({stato:"attivo"}),A=new Set;for(const E of w)E.ingressi_totali>0&&E.ingressi_usati>=E.ingressi_totali||E.data_scadenza&&new Date(E.data_scadenza)<y||E.profilo_coworker_id&&A.add(E.profilo_coworker_id);if(A.size===0)return[];const C=Array.from(A).slice(0,50),P=await we.entities.ProfiloCoworker.filter({id:{_in:C}});return P.sort((E,I)=>{const z=(E.first_name+" "+E.last_name).toLowerCase(),O=(I.first_name+" "+I.last_name).toLowerCase();return z.localeCompare(O)}),P}catch(y){return console.error("Error fetching default list",y),[]}try{return await we.entities.ProfiloCoworker.filter({_or:[{email:{_like:`%${n}%`}},{first_name:{_like:`%${n}%`}},{last_name:{_like:`%${n}%`}}]})}catch(y){return console.error("Search error",y),[]}},enabled:!0}),{data:m=[]}=Wt({queryKey:["abbonamenti_profilo",i==null?void 0:i.id],queryFn:async()=>{if(!i)return[];const y=await we.entities.AbbonamentoUtente.filter({profilo_coworker_id:i.id,stato:"attivo"}),w=new Date;return w.setHours(0,0,0,0),y.filter(A=>new Date(A.data_scadenza)>=w&&A.ingressi_totali>0)},enabled:!!i}),b=vn({mutationFn:async()=>{const y=c==="mezza_giornata"?1:2,w=new Date;w.setHours(12,0,0,0);const A=await we.auth.me();await we.entities.IngressoCoworking.create({user_id:i.user_id,profilo_coworker_id:i.id,profilo_nome_completo:`${i.first_name} ${i.last_name}`,abbonamento_id:s.id,data_ingresso:w.toISOString(),durata:c,ingressi_consumati:y,tipo_ingresso:"carnet",registrato_da:A.id}),await we.entities.AbbonamentoUtente.update(s.id,{ingressi_usati:(s.ingressi_usati||0)+y})},onSuccess:()=>{h.invalidateQueries({queryKey:["abbonamenti"]}),h.invalidateQueries({queryKey:["ingressi"]}),h.invalidateQueries({queryKey:["attivita_giorno"]}),We.success("Ingresso registrato correttamente"),t(!1)},onError:y=>{We.error("Errore: "+(y.message||"impossibile registrare ingresso"))}});return o.jsx(Er,{open:e,onOpenChange:t,children:o.jsxs(wr,{className:"sm:max-w-[500px]",children:[o.jsx(_r,{children:o.jsx(jr,{children:"Registra Ingresso Coworker"})}),o.jsx("div",{className:"space-y-4 py-4",children:i?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"font-bold text-[#053c5e]",children:[i.first_name," ",i.last_name]}),o.jsx("div",{className:"text-sm text-slate-500",children:i.email})]}),o.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>{a(null),l(null)},children:"Cambia"})]}),m.length===0?o.jsxs("div",{className:"text-center py-4 text-orange-600 bg-orange-50 rounded border border-orange-100 p-4 flex flex-col items-center gap-2",children:[o.jsx(th,{className:"w-8 h-8"}),o.jsx("p",{className:"font-bold",children:"Nessun carnet attivo trovato per questo coworker."})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{children:"Seleziona Carnet"}),o.jsxs(an,{value:(x=s==null?void 0:s.id)==null?void 0:x.toString(),onValueChange:y=>l(m.find(w=>w.id.toString()===y)),children:[o.jsx(tn,{children:o.jsx(on,{placeholder:"Scegli un carnet"})}),o.jsx(nn,{children:m.map(y=>o.jsxs(Ze,{value:y.id.toString(),children:[y.tipo_abbonamento_nome," (",y.ingressi_totali-y.ingressi_usati," rimasti)"]},y.id))})]})]}),s&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{children:"Durata"}),o.jsxs(an,{value:c,onValueChange:d,children:[o.jsx(tn,{children:o.jsx(on,{})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"mezza_giornata",children:"Mezza Giornata (1 ingresso)"}),o.jsx(Ze,{value:"giornata_intera",children:"Giornata Intera (2 ingressi)"})]})]})]}),o.jsxs(Oe,{className:"w-full bg-[#db222a] hover:bg-[#1f7a8c] h-12 text-lg font-bold",disabled:b.isPending,onClick:()=>b.mutate(),children:[o.jsx(j4,{className:"w-5 h-5 mr-2"}),b.isPending?"Registrazione...":"REGISTRA INGRESSO"]})]})]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(vu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),o.jsx(tt,{placeholder:"Cerca coworker per nome o email...",value:n,onChange:y=>r(y.target.value),className:"pl-10"})]}),o.jsxs("div",{className:"max-h-[200px] overflow-y-auto border rounded-md",children:[g&&o.jsx("p",{className:"p-4 text-center text-sm text-slate-500",children:"Caricamento..."}),!g&&n.length>=2&&p.length===0&&o.jsx("p",{className:"p-4 text-center text-sm text-slate-500",children:"Nessun utente trovato"}),p.map(y=>o.jsxs("div",{className:"p-3 hover:bg-slate-50 cursor-pointer border-b last:border-0",onClick:()=>a(y),children:[o.jsxs("div",{className:"font-bold",children:[y.first_name," ",y.last_name]}),o.jsx("div",{className:"text-xs text-slate-500",children:y.email})]},y.id))]})]})})]})})}function Aae(){const[e,t]=j.useState(""),[n,r]=j.useState(null),[i,a]=j.useState(""),[s,l]=j.useState(""),[c,d]=j.useState([]),[h,p]=j.useState(!1),{data:g=[]}=Wt({queryKey:["profili"],queryFn:()=>we.entities.ProfiloCoworker.list(),initialData:[]}),m=g.filter(w=>{var A;return`${w.first_name} ${w.last_name}`.toLowerCase().includes(e.toLowerCase())||((A=w.email)==null?void 0:A.toLowerCase().includes(e.toLowerCase()))}),b=w=>{Array.from(w.target.files).forEach(C=>{const P=new FileReader;P.onloadend=()=>{d(E=>[...E,{name:C.name,type:C.type,base64:P.result.split(",")[1]}])},P.readAsDataURL(C)})},x=w=>{d(A=>A.filter((C,P)=>P!==w))},y=async w=>{if(w.preventDefault(),!n){We.error("Seleziona un coworker");return}if(!i||!s){We.error("Oggetto e messaggio sono obbligatori");return}p(!0);try{await we.integrations.Core.SendEmail({to:n.email,subject:i,body:s,from_name:"neu [ni] Staff",base64_attachments:c.map(A=>({filename:A.name,content:A.base64}))}),We.success("Comunicazione inviata con successo"),a(""),l(""),d([]),r(null)}catch(A){console.error("Errore invio:",A),We.error("Errore durante l'invio della comunicazione")}finally{p(!1)}};return o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs(yt,{className:"lg:col-span-1",children:[o.jsxs(Jt,{children:[o.jsxs(Zt,{className:"text-sm font-bold flex items-center gap-2",children:[o.jsx(vu,{className:"w-4 h-4"}),"Cerca Coworker"]}),o.jsx(tt,{placeholder:"Nome o email...",value:e,onChange:w=>t(w.target.value),className:"mt-2"})]}),o.jsx(wt,{className:"p-0",children:o.jsx(Sd,{className:"h-[500px]",children:o.jsx("div",{className:"divide-y divide-slate-100",children:m.map(w=>o.jsxs("button",{onClick:()=>r(w),className:`w-full text-left p-4 hover:bg-slate-50 transition-colors flex items-center gap-3 ${(n==null?void 0:n.id)===w.id?"bg-slate-100 border-l-4 border-[#1f7a8c]":""}`,children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-[#bfdbf7] flex items-center justify-center text-[#053c5e]",children:o.jsx(cu,{className:"w-5 h-5"})}),o.jsxs("div",{className:"overflow-hidden",children:[o.jsxs("p",{className:"font-bold text-sm truncate",children:[w.first_name," ",w.last_name]}),o.jsx("p",{className:"text-xs text-slate-500 truncate",children:w.email})]})]},w.id))})})})]}),o.jsxs(yt,{className:"lg:col-span-2",children:[o.jsx(Jt,{children:o.jsxs(Zt,{className:"flex items-center gap-2",children:[o.jsx(rl,{className:"w-5 h-5 text-[#1f7a8c]"}),"Invia Comunicazione"]})}),o.jsx(wt,{children:n?o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border border-slate-100 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Destinatario:"}),o.jsxs("p",{className:"font-bold text-[#053c5e]",children:[n.first_name," ",n.last_name," (",n.email,")"]})]}),o.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>r(null),children:o.jsx(go,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{children:"Oggetto *"}),o.jsx(tt,{value:i,onChange:w=>a(w.target.value),placeholder:"Es: Informazioni abbonamento...",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{children:"Messaggio *"}),o.jsx(ta,{value:s,onChange:w=>l(w.target.value),placeholder:"Scrivi qui il tuo messaggio...",rows:8,required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{children:"Allegati"}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:c.map((w,A)=>o.jsxs("div",{className:"flex items-center gap-2 bg-[#bfdbf7] text-[#053c5e] px-2 py-1 rounded text-xs",children:[o.jsx(KC,{className:"w-3 h-3"}),o.jsx("span",{className:"max-w-[150px] truncate",children:w.name}),o.jsx("button",{type:"button",onClick:()=>x(A),className:"hover:text-red-600",children:o.jsx(go,{className:"w-3 h-3"})})]},A))}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(tt,{type:"file",onChange:b,className:"hidden",id:"file-upload",multiple:!0}),o.jsxs(Le,{htmlFor:"file-upload",className:"cursor-pointer flex items-center gap-2 bg-slate-100 hover:bg-slate-200 text-slate-600 px-4 py-2 rounded-md transition-colors border border-dashed border-slate-300",children:[o.jsx(KC,{className:"w-4 h-4"}),"Allega File"]})]})]}),o.jsx("div",{className:"pt-4 flex justify-end",children:o.jsx(Oe,{type:"submit",className:"bg-[#053c5e] hover:bg-[#1f7a8c] min-w-[150px]",disabled:h,children:h?"Invio in corso...":o.jsxs(o.Fragment,{children:[o.jsx($I,{className:"w-4 h-4 mr-2"}),"Invia Email"]})})})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-slate-400",children:[o.jsx(rl,{className:"w-12 h-12 mb-4 opacity-20"}),o.jsx("p",{children:"Seleziona un coworker dalla lista per iniziare"})]})})]})]})}function XF(){const[e,t]=j.useState(null),[n,r]=j.useState(!0),[i,a]=j.useState(!1),{data:s=[]}=Wt({queryKey:["turni_host_public_host_page"],queryFn:()=>we.entities.TurnoHost.list("-data_inizio"),initialData:[]});j.useEffect(()=>{l()},[]);const l=async()=>{try{const c=await we.auth.me();t(c)}catch(c){console.error("Errore:",c)}finally{r(!1)}};return n?o.jsx("div",{className:"text-center py-12",children:"Caricamento..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"bg-[#053c5e] text-white p-6 md:p-8",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"Postazione Host"}),o.jsx("p",{className:"text-base md:text-lg opacity-90 mt-2",children:"Gestisci notifiche, abbonamenti e calendari delle sale"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 w-full md:w-auto",children:[o.jsxs(Oe,{onClick:()=>a(!0),className:"bg-[#db222a] hover:bg-[#1f7a8c] text-white flex-1 md:flex-none",children:[o.jsx(qg,{className:"w-4 h-4 mr-2"}),"Ingresso Carnet"]}),o.jsxs(Oe,{onClick:()=>window.location.href=Mn("CheckIn"),className:"bg-[#1f7a8c] hover:bg-white hover:text-[#053c5e] flex-1 md:flex-none",children:[o.jsx(b4,{className:"w-4 h-4 mr-2"}),"Check-in"]}),o.jsx(YF,{})]})]})}),o.jsxs(ol,{defaultValue:"notifiche",className:"w-full",children:[o.jsx("div",{className:"overflow-x-auto pb-2",children:o.jsxs(Ss,{className:"flex w-max min-w-full bg-[#bfdbf7] p-1 h-auto",children:[o.jsxs(Pn,{value:"notifiche",className:"flex-1 px-4 py-2 data-[state=active]:bg-[#053c5e] data-[state=active]:text-white whitespace-nowrap",children:[o.jsx(Oy,{className:"w-4 h-4 mr-2"}),"Notifiche"]}),o.jsxs(Pn,{value:"coworkers",className:"flex-1 px-4 py-2 data-[state=active]:bg-[#053c5e] data-[state=active]:text-white whitespace-nowrap",children:[o.jsx(yo,{className:"w-4 h-4 mr-2"}),"Coworkers"]}),o.jsxs(Pn,{value:"ordini",className:"flex-1 px-4 py-2 data-[state=active]:bg-[#053c5e] data-[state=active]:text-white whitespace-nowrap",children:[o.jsx(UI,{className:"w-4 h-4 mr-2"}),"Acquisti"]}),o.jsxs(Pn,{value:"abbonamenti",className:"flex-1 px-4 py-2 data-[state=active]:bg-[#053c5e] data-[state=active]:text-white whitespace-nowrap",children:[o.jsx(Yf,{className:"w-4 h-4 mr-2"}),"Abbonamenti"]}),o.jsxs(Pn,{value:"calendario",className:"flex-1 px-4 py-2 data-[state=active]:bg-[#053c5e] data-[state=active]:text-white whitespace-nowrap",children:[o.jsx(na,{className:"w-4 h-4 mr-2"}),"Calendario Sale"]}),o.jsxs(Pn,{value:"turni_host",className:"flex-1 px-4 py-2 data-[state=active]:bg-[#053c5e] data-[state=active]:text-white whitespace-nowrap",children:[o.jsx(na,{className:"w-4 h-4 mr-2"}),"Calendario Host"]})]})}),o.jsx(En,{value:"notifiche",className:"mt-6",children:o.jsx(Sae,{})}),o.jsx(En,{value:"coworkers",className:"mt-6",children:o.jsx(Aae,{})}),o.jsx(En,{value:"ordini",className:"mt-6",children:o.jsx(_ae,{})}),o.jsx(En,{value:"abbonamenti",className:"mt-6",children:o.jsx(AF,{})}),o.jsx(En,{value:"calendario",className:"mt-6",children:o.jsx(jae,{})}),o.jsx(En,{value:"turni_host",className:"mt-6",children:o.jsx(Dg,{turni:s,onSelectTurno:()=>{},vista:"giorno",readOnly:!0})})]}),o.jsx(Nae,{open:i,onOpenChange:a})]})}const Cae=[{value:"User",label:"Utenti (User)"},{value:"ProfiloSocio",label:"Profili Soci"},{value:"TurnoHost",label:"Turni Host"},{value:"TransazioneNEU",label:"Transazioni NEU"},{value:"SalaRiunioni",label:"Sale Riunioni"},{value:"PrenotazioneSala",label:"Prenotazioni Sale"},{value:"IngressoCoworking",label:"Ingressi Coworking"},{value:"ProfiloCoworker",label:"Profili Coworker"},{value:"OrdineCoworking",label:"Ordini Coworking"},{value:"DatiFatturazione",label:"Dati Fatturazione"},{value:"TipoAbbonamento",label:"Tipi Abbonamento"},{value:"AbbonamentoUtente",label:"Abbonamenti Utenti"},{value:"AmbitoVolontariato",label:"Ambiti Volontariato"},{value:"AzioneVolontariato",label:"Azioni Volontariato (NEU)"},{value:"DichiarazioneVolontariato",label:"Dichiarazioni Volontariato"},{value:"NotificaAbbonamento",label:"Notifiche Abbonamenti"},{value:"TaskNotifica",label:"Task Notifiche"}],pk={User:["full_name","email","password_hash","role:super_admin|admin|socio|host|coworker","roles","saldo_neu","saldo_neu_scadenza","telefono","data_iscrizione:YYYY-MM-DD","note"],ProfiloSocio:["user_id","full_name","data_nascita:YYYY-MM-DD","luogo_nascita","codice_fiscale","indirizzo_residenza","citta_residenza","paese_residenza","cap_residenza","telefono","email","professione","competenze","interessi","bio","telegram_username","instagram_username","linkedin_url","website_url","avatar_url","stato_iscrizione:attivo|pending","data_iscrizione:YYYY-MM-DD","data_scadenza_iscrizione:YYYY-MM-DD"],TurnoHost:["utente_nome","data_inizio:YYYY-MM-DD HH:mm","data_fine:YYYY-MM-DD HH:mm","note"],TransazioneNEU:["da_utente_nome","a_utente_nome","importo","tipo:turno_host|volontariato|trasferimento_soci|pagamento_associazione|voto_annuale|correzione_admin","causale","data_transazione:YYYY-MM-DD HH:mm"],SalaRiunioni:["nome","capienza","tariffa_oraria","attiva:true|false"],PrenotazioneSala:["sala_id","user_id","data_inizio:ISO8601","data_fine:ISO8601","titolo","note","pagato:true|false"],IngressoCoworking:["profilo_nome_completo","data_ingresso:ISO8601","durata:mezza_giornata|giornata_intera","ingressi_consumati","tipo_ingresso:carnet|abbonamento|giornaliero"],ProfiloCoworker:["first_name","last_name","genere:maschio|femmina|altro|preferisco_non_rispondere","data_nascita:YYYY-MM-DD","citta_residenza","paese_residenza","email","telefono","ragione_sociale","p_iva","codice_univoco","stato:check_in_completato|iscritto","privacy_accettata:true|false","newsletter:true|false","data_compilazione:YYYY-MM-DD","user_id"],OrdineCoworking:["profilo_email","totale","metodo_pagamento:contanti|neu|stripe|scambio","stato_pagamento:pagato|non_pagato","data_ordine:ISO8601","note"],DatiFatturazione:["user_id","indirizzo","citta","cap","paese"],TipoAbbonamento:["nome","categoria:ingresso_giornaliero|abbonamento|carnet|sala_riunioni|extra","prezzo","durata_giorni","durata_mesi","numero_ingressi","ore_sale_incluse","descrizione"],AbbonamentoUtente:["profilo_email","tipo_abbonamento_nome","data_inizio:YYYY-MM-DD","data_scadenza:YYYY-MM-DD","attivo:true|false","metodo_pagamento","importo","note"],AmbitoVolontariato:["nome","descrizione","attivo:true|false"],AzioneVolontariato:["titolo","descrizione","valore_neu","attivo:true|false"],DichiarazioneVolontariato:["utente_nome","ambito_nome","ore","anno_associativo","note","confermato:true|false"],NotificaAbbonamento:["user_id","messaggio","letta:true|false","data_invio:ISO8601"],TaskNotifica:["titolo","descrizione","data_scadenza:YYYY-MM-DD","assegnatario_id","completato:true|false"]};function QF(){const[e,t]=j.useState(""),[n,r]=j.useState(!1),[i,a]=j.useState(null),s=()=>{if(!e||!pk[e])return;const g=pk[e].join(",")+`
`,m=new Blob([g],{type:"text/csv"}),b=window.URL.createObjectURL(m),x=document.createElement("a");x.href=b,x.download=`template_${e}.csv`,x.click(),window.URL.revokeObjectURL(b)},l=async p=>{var m,b;const g=p.target.files[0];if(!(!g||!e)){r(!0),a(null);try{const{file_url:x}=await we.integrations.Core.UploadFile({file:g}),y=await we.integrations.Core.ExtractDataFromUploadedFile({file_url:x});if(y.status==="error")throw new Error(y.details||"Errore durante l'estrazione");const w=y.output;if(!w||w.length===0)throw new Error("Nessun dato trovato nel file CSV.");let A=0,C=[];for(const P of w)try{const E={};if(Object.keys(P).forEach(I=>{if(I&&I.trim()!==""){let z=P[I];typeof z=="string"&&(z=z.trim()),(I.trim().endsWith("_id")||I.trim()==="id")&&z===""?E[I.trim()]=null:E[I.trim()]=z}}),we.entities[e])await we.entities[e].create(E),A++;else throw new Error(`Handler per entit ${e} non trovato.`)}catch(E){console.error(`Errore riga import ${e}: `,E);const I=((b=(m=E.response)==null?void 0:m.data)==null?void 0:b.error)||E.message||"Errore sconosciuto";C.push(`Errore: ${I} `)}a({success:C.length===0,message:`Importazione completata: ${A} record creati.`,details:C.length>0?C.slice(0,3).join(", ")+(C.length>3?` e altri ${C.length-3} `:""):null})}catch(x){a({success:!1,message:x.message})}finally{r(!1),p.target.value=""}}},[c,d]=j.useState(!1),h=async()=>{var p,g;if(console.log("handleResetTable (final step) called. selectedEntity:",e),!!e){r(!0),a(null),d(!1);try{if(we.entities[e]&&we.entities[e].bulkDelete)await we.entities[e].bulkDelete(),a({success:!0,message:`Tabella "${e}" svuotata con successo.`});else throw new Error(`Azione non supportata per l'entit "${e}".`)}catch(m){console.error("Errore reset tabella:",m),a({success:!1,message:"Errore durante lo svuotamento della tabella.",details:((g=(p=m.response)==null?void 0:p.data)==null?void 0:g.error)||m.message})}finally{r(!1)}}};return o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-[#053c5e] text-white p-8 rounded-lg shadow-md",children:[o.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[o.jsx($W,{className:"w-8 h-8"}),"Importazione Dati Universale"]}),o.jsx("p",{className:"text-white/80 mt-2",children:"Carica dati massivi per qualsiasi tabella del database tramite CSV."})]}),o.jsxs(yt,{children:[o.jsxs(Jt,{children:[o.jsx(Zt,{children:"Seleziona Entit e Carica CSV"}),o.jsx(il,{children:"Scarica il template, compilalo e caricalo. I campi ID sono autogenerati."})]}),o.jsxs(wt,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Tabella Destinazione"}),o.jsxs(an,{value:e,onValueChange:t,children:[o.jsx(tn,{children:o.jsx(on,{placeholder:"Seleziona una tabella..."})}),o.jsx(nn,{className:"max-h-[300px]",children:Cae.map(p=>o.jsxs(Ze,{value:p.value,children:[p.label," (",p.value,")"]},p.value))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Azione"}),o.jsxs("div",{className:"flex gap-2 flex-col",children:[o.jsxs(Oe,{variant:"outline",onClick:s,disabled:!e,className:"w-full border-[#4A9FB4] text-[#4A9FB4] hover:bg-[#4A9FB4]/10",children:[o.jsx(po,{className:"w-4 h-4 mr-2"}),"Scarica Template ",e?`(${e})`:""]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"file",id:"csv-upload",accept:".csv",className:"hidden",onChange:l,disabled:n||!e}),o.jsx(Oe,{onClick:()=>document.getElementById("csv-upload").click(),disabled:n||!e,className:"w-full bg-[#1F4A5C] hover:bg-[#1F4A5C]/90",children:n?o.jsx(o.Fragment,{children:"Importazione in corso..."}):o.jsxs(o.Fragment,{children:[o.jsx(_4,{className:"w-4 h-4 mr-2"}),"Carica CSV"]})})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Manutenzione"}),c?o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Oe,{variant:"outline",onClick:()=>d(!1),className:"flex-1",children:"Annulla"}),o.jsx(Oe,{variant:"destructive",onClick:h,className:"flex-[2]",children:"CONFERMA CANCELLAZIONE TOTALE"})]}):o.jsxs(Oe,{variant:"outline",onClick:()=>d(!0),disabled:n||!e,className:"w-full border-red-200 text-red-600 hover:bg-red-50 hover:border-red-300",children:[o.jsx(Vo,{className:"w-4 h-4 mr-2"}),"Svuota Tabella ",e?`(${e})`:""]})]})]}),i&&o.jsxs(dh,{className:i.success?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200",children:[i.success?o.jsx(Kf,{className:"h-4 w-4 text-green-600"}):o.jsx(th,{className:"h-4 w-4 text-orange-600"}),o.jsxs(fh,{className:i.success?"text-green-800":"text-orange-800",children:[i.message,i.details&&o.jsxs("div",{className:"mt-2 text-xs opacity-80 border-t border-orange-200 pt-2",children:["Dettagli tecnici: ",i.details]})]})]}),o.jsxs("div",{className:"bg-slate-50 p-4 rounded text-sm text-slate-600",children:[o.jsx("h4",{className:"font-bold mb-2",children:"Note Importanti:"}),o.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[o.jsx("li",{children:"Assicurati che i nomi delle colonne nel CSV corrispondano esattamente ai campi del modello nel database."}),o.jsx("li",{children:"Per i campi data, usa il formato ISO (YYYY-MM-DD) per evitare errori."}),o.jsx("li",{children:"Le relazioni (es. user_id) devono riferirsi a ID esistenti. Importa prima gli Utenti!"})]})]})]})]})]})}function JF({turni:e,userId:t}){const n=t?e.filter(a=>a.utente_id===t):e.filter(a=>a.neu_guadagnati>0),i=(()=>{let a=0,s=0,l=0,c=0;const d={2024:["2024-01-01","2024-01-06","2024-04-01","2024-04-25","2024-05-01","2024-06-02","2024-08-15","2024-11-01","2024-12-08","2024-12-25","2024-12-26"],2025:["2025-01-01","2025-01-06","2025-04-20","2025-04-21","2025-04-25","2025-05-01","2025-06-02","2025-08-15","2025-11-01","2025-12-08","2025-12-25","2025-12-26"]},h=p=>{var b;const g=p.getFullYear(),m=p.toISOString().split("T")[0];return((b=d[g])==null?void 0:b.includes(m))||!1};return n.forEach(p=>{const g=new Date(p.data_inizio),m=new Date(p.data_fine);let b=new Date(g);for(;b<m;){const x=b.getDay(),y=x===0||x===6,w=h(b),A=b.getHours(),C=b.getMinutes(),P=A+C/60,E=new Date(b.getTime()+6e4),O=((E>m?m:E)-b)/6e4/60;y||w?l+=O:P>=9&&P<18.5?a+=O:P>=18.5&&P<20.5?s+=O:l+=O,b=E}c+=p.neu_guadagnati||0}),{oreStandard:Math.round(a*100)/100,oreSerali:Math.round(s*100)/100,oreExtra:Math.round(l*100)/100,oreTotali:Math.round((a+s+l)*100)/100,neuTotali:Math.round(c*100)/100}})();return n.length===0?null:o.jsxs("div",{className:"bg-white p-6 border-l-4 border-[#db222a]",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(vo,{className:"w-6 h-6 text-[#053c5e]"}),o.jsx("h2",{className:"text-2xl font-bold text-[#053c5e]",children:t?"Riepilogo Ore Hosting Personali":"Riepilogo Ore Hosting Totali"})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-[#bfdbf7] p-4",children:[o.jsx("div",{className:"text-xs text-[#053c5e] font-bold mb-1 uppercase",children:"Ore Standard"}),o.jsxs("div",{className:"text-2xl font-bold text-[#053c5e]",children:[i.oreStandard,"h"]}),o.jsx("div",{className:"text-xs text-[#1f7a8c] mt-1",children:"Lun-Ven 9-18:30"}),o.jsx("div",{className:"text-xs text-[#053c5e] font-semibold",children:"2.5 NEU/h"})]}),o.jsxs("div",{className:"bg-[#1f7a8c] text-white p-4",children:[o.jsx("div",{className:"text-xs font-bold mb-1 uppercase opacity-90",children:"Ore Serali"}),o.jsxs("div",{className:"text-2xl font-bold",children:[i.oreSerali,"h"]}),o.jsx("div",{className:"text-xs mt-1 opacity-90",children:"Lun-Ven 18:30-20:30"}),o.jsx("div",{className:"text-xs font-semibold",children:"4 NEU/h"})]}),o.jsxs("div",{className:"bg-[#053c5e] text-white p-4",children:[o.jsx("div",{className:"text-xs font-bold mb-1 uppercase opacity-90",children:"Ore Extra"}),o.jsxs("div",{className:"text-2xl font-bold",children:[i.oreExtra,"h"]}),o.jsx("div",{className:"text-xs mt-1 opacity-90",children:"Weekend/Festivi"}),o.jsx("div",{className:"text-xs font-semibold",children:"6 NEU/h"})]}),o.jsxs("div",{className:"bg-[#db222a] text-white p-4",children:[o.jsx("div",{className:"text-xs font-bold mb-1 uppercase opacity-90",children:"Totale"}),o.jsxs("div",{className:"text-2xl font-bold",children:[i.oreTotali,"h"]}),o.jsxs("div",{className:"text-xs mt-1 flex items-center gap-1 opacity-90",children:[o.jsx(w4,{className:"w-3 h-3"}),i.neuTotali," NEU"]})]})]})]})}function ZF(){const{user:e,isLoading:t,refetch:n}=tc(),[r,i]=j.useState(!0),[a,s]=j.useState(!1),[l,c]=j.useState([]),[d,h]=j.useState({destinatario_email:"",tipoDestinatario:"socio",motivoAssociazione:"",importo:"",causale:""}),[p,g]=j.useState(!1),[m,b]=j.useState(""),[x,y]=j.useState("tutti"),[w,A]=j.useState("tutti"),C=Or(),{data:P=[]}=Wt({queryKey:["transazioni"],queryFn:()=>we.entities.TransazioneNEU.filter({},"-data_transazione"),initialData:[]}),{data:E=[]}=Wt({queryKey:["turni","miei"],queryFn:()=>we.entities.TurnoHost.filter({utente_id:e==null?void 0:e.id},"-data_inizio"),initialData:[]}),I=ve.useMemo(()=>{const U=new Set;return P.forEach(M=>{M.data_transazione&&(M.a_utente_id===(e==null?void 0:e.id)||M.da_utente_id===(e==null?void 0:e.id))&&U.add(new Date(M.data_transazione).getFullYear().toString())}),E.forEach(M=>{M.data_inizio&&M.utente_id===(e==null?void 0:e.id)&&U.add(new Date(M.data_inizio).getFullYear().toString())}),Array.from(U).sort((M,X)=>X-M)},[P,E,e==null?void 0:e.id]);j.useEffect(()=>{t||i(!1)},[t]),j.useEffect(()=>{!t&&e&&(F(),G())},[t,e]);const O=(Array.isArray(e==null?void 0:e.roles)?e.roles:typeof(e==null?void 0:e.roles)=="string"?[e.roles]:[]).includes("associazione")||(e==null?void 0:e.role)==="associazione",F=async()=>{try{const U=await we.entities.User.list(),M=await we.entities.ProfiloSocio.list(),X=U.filter(Q=>String(Q.id)!==String(e==null?void 0:e.id)).map(Q=>{const K=M.find(Y=>String(Y.user_id)===String(Q.id));return{id:String(Q.id),email:Q.email,full_name:(K==null?void 0:K.full_name)||Q.full_name||"Senza Nome"}}).filter(Q=>Q.email);c(X)}catch(U){console.error("Errore caricamento soci:",U)}},G=async()=>{e&&(await we.entities.TurnoHost.filter({utente_id:e.id}),await we.entities.TransazioneNEU.filter({}),await we.entities.DichiarazioneVolontariato.filter({}),await n())},R=P.filter(U=>String(U.a_utente_id)===String(e==null?void 0:e.id)||String(U.da_utente_id)===String(e==null?void 0:e.id)).filter(U=>{if(x!=="tutti"&&U.tipo!==x||w!=="tutti"&&new Date(U.data_transazione).getFullYear().toString()!==w)return!1;if(m){const M=m.toLowerCase(),X=(U.causale||"").toLowerCase(),Q=(U.tipo||"").toLowerCase();return X.includes(M)||Q.includes(M)}return!0}).sort((U,M)=>{const X=new Date(U.data_transazione||0);return new Date(M.data_transazione||0)-X}),k=vn({mutationFn:async U=>{const M=parseFloat(U.importo);if(M<=0)throw new Error("Importo deve essere maggiore di 0");if(M>((e==null?void 0:e.saldo_neu)||0))throw new Error("Saldo insufficiente");let X=U.causale,Q="trasferimento_soci",K=null,Y="",ne="";if(U.tipoDestinatario==="associazione"){Q="pagamento_associazione";const T=U.motivoAssociazione==="postazione"?"Pagamento postazione coworking":"Saldo quota annua";X=X||T,Y=`Pagamento NEU - ${T}`,ne=`<h2>Pagamento NEU</h2><p>Da: ${e.full_name}</p><p>Importo: ${M}</p>`}else{const T=l.find(V=>V.email===U.destinatario_email);if(!T)throw new Error("Socio destinatario non trovato");K=T.id,X=X||`Trasferimento NEU da ${e.full_name}`,Y="Trasferimento NEU tra soci",ne=`<h2>Trasferimento NEU</h2><p>Da: ${e.full_name}</p><p>A: ${T.full_name}</p><p>Importo: ${M}</p>`}const H=await we.entities.TransazioneNEU.create({da_utente_id:e.id,a_utente_id:K,importo:M,tipo:Q,causale:X,data_transazione:new Date().toISOString()});return we.integrations.Core.SendEmail({to:"admin@neunoi.it",subject:Y,html:ne}).catch(T=>console.error("Email error",T)),H},onSuccess:()=>{C.invalidateQueries({queryKey:["transazioni"]}),C.invalidateQueries({queryKey:["auth_user"]}),n(),g(!0),setTimeout(()=>{s(!1),g(!1),h({destinatario_email:"",tipoDestinatario:"socio",motivoAssociazione:"",importo:"",causale:""})},3e3)},onError:U=>{We.error(U.message||"Errore nel trasferimento")}}),B=U=>{U.preventDefault(),k.mutate(d)};return r?o.jsx("div",{className:"text-center py-12",children:"Caricamento..."}):O?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-[#053c5e] text-white p-8",children:[o.jsx("h1",{className:"text-4xl font-bold",children:"Profilo Associazione"}),o.jsx("p",{className:"text-lg opacity-90 mt-2",children:"Questo  un profilo dipendente - non riceve NEU"})]}),o.jsx("div",{className:"bg-[#bfdbf7] p-8 text-center border-l-4 border-[#db222a]",children:o.jsx("p",{className:"text-[#053c5e] text-lg",children:"I turni per questo profilo vengono registrati solo per la gestione del calendario, ma non generano crediti NEU."})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-[#053c5e]",children:"Banca NEU"}),o.jsx("p",{className:"text-[#1f7a8c] mt-2",children:"Gestisci il tuo saldo e le transazioni"})]}),o.jsx("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:o.jsxs(Oe,{onClick:()=>s(!0),className:"bg-[#db222a] hover:bg-[#053c5e] text-white w-full sm:w-auto",children:[o.jsx($I,{className:"w-4 h-4 mr-2"}),"Trasferisci NEU"]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-[#053c5e] text-white p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Yl,{className:"w-6 h-6 text-[#bfdbf7]"}),o.jsx("h2",{className:"text-lg font-bold",children:"Saldo Totale NEU"})]}),o.jsx("div",{className:"text-5xl font-bold",children:Math.round(((e==null?void 0:e.saldo_neu)||0)*100)/100})]}),o.jsxs("div",{className:"bg-[#db222a] text-white p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(th,{className:"w-6 h-6"}),o.jsx("h2",{className:"text-lg font-bold",children:"NEU in Scadenza"})]}),o.jsx("div",{className:"text-5xl font-bold",children:Math.round(((e==null?void 0:e.saldo_neu_scadenza)||0)*100)/100}),o.jsxs("p",{className:"text-sm mt-2 opacity-90",children:["Scadono il 31/12/",new Date().getFullYear()]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-[#bfdbf7] p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Yl,{className:"w-6 h-6 text-[#053c5e]"}),o.jsx("h2",{className:"text-xl font-bold text-[#053c5e]",children:"Transazioni"})]}),o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsx(tt,{placeholder:"Cerca transazione...",value:m,onChange:U=>b(U.target.value),className:"bg-white"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs(an,{value:x,onValueChange:y,children:[o.jsx(tn,{className:"bg-white",children:o.jsx(on,{placeholder:"Tipo"})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"tutti",children:"Tutti i tipi"}),o.jsx(Ze,{value:"trasferimento_soci",children:"Trasferimenti soci"}),o.jsx(Ze,{value:"compito_specifico",children:"Compiti specifici"}),o.jsx(Ze,{value:"voto_annuale",children:"Voti annuali"}),o.jsx(Ze,{value:"pagamento_associazione",children:"Pagamenti"}),o.jsx(Ze,{value:"correzione_admin",children:"Correzioni admin"}),o.jsx(Ze,{value:"volontariato",children:"Volontariato"})]})]}),o.jsxs(an,{value:w,onValueChange:A,children:[o.jsx(tn,{className:"bg-white",children:o.jsx(on,{placeholder:"Anno"})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"tutti",children:"Tutti gli anni"}),I.map(U=>o.jsx(Ze,{value:U,children:U},U))]})]})]})]}),o.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:R.filter(U=>U.tipo!=="turno_host").length===0?o.jsx("p",{className:"text-center text-[#053c5e] py-8",children:"Nessuna altra transazione"}):R.filter(U=>U.tipo!=="turno_host").map(U=>{const M=String(U.a_utente_id)===String(e==null?void 0:e.id);let X="";if(U.tipo==="trasferimento_soci")if(M){const Q=l.find(K=>String(K.id)===String(U.da_utente_id));X=Q?`da ${Q.full_name}`:""}else{const Q=l.find(K=>String(K.id)===String(U.a_utente_id));X=Q?`a ${Q.full_name}`:""}else M&&!U.da_utente_id?X="da neu [ni]":!M&&!U.a_utente_id&&(X="a neu [ni]");return o.jsxs("div",{className:"flex items-start justify-between p-4 bg-white",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"text-xs font-semibold px-2 py-1 bg-[#1f7a8c] text-white",children:U.tipo.replace(/_/g," ").toUpperCase()}),M?o.jsx(w4,{className:"w-4 h-4 text-[#053c5e]"}):o.jsx(DV,{className:"w-4 h-4 text-[#db222a]"})]}),o.jsx("p",{className:"text-sm font-semibold text-[#053c5e]",children:U.causale}),X&&o.jsx("p",{className:"text-xs text-[#053c5e] font-medium mt-1",children:X}),o.jsx("p",{className:"text-xs text-[#1f7a8c] mt-1",children:new Date(U.data_transazione).toLocaleDateString("it-IT",{day:"2-digit",month:"short",year:"numeric"})})]}),o.jsxs("div",{className:`text-xl font-bold ${M?"text-[#053c5e]":"text-[#db222a]"}`,children:[M?"+":"-",U.importo]})]},U.id)})})]}),o.jsxs("div",{className:"bg-[#1f7a8c] text-white p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(na,{className:"w-6 h-6"}),o.jsx("h2",{className:"text-xl font-bold",children:"NEU da Turni Host"})]}),o.jsx("div",{className:"text-3xl font-bold",children:(()=>{const M=E.filter(X=>!(X.utente_id!==(e==null?void 0:e.id)||w!=="tutti"&&new Date(X.data_inizio).getFullYear().toString()!==w)).reduce((X,Q)=>X+(Q.neu_guadagnati||0),0);return Math.round(M*100)/100})()})]}),o.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:E.filter(U=>U.utente_id!==(e==null?void 0:e.id)?!1:w!=="tutti"?new Date(U.data_inizio).getFullYear().toString()===w:!0).length===0?o.jsx("p",{className:"text-center py-8 opacity-90",children:"Nessun turno host registrato"}):E.filter(U=>U.utente_id!==(e==null?void 0:e.id)?!1:w!=="tutti"?new Date(U.data_inizio).getFullYear().toString()===w:!0).map(U=>o.jsxs("div",{className:"flex items-start justify-between p-4 bg-[#053c5e]",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"text-sm font-semibold",children:[new Date(U.data_inizio).toLocaleDateString("it-IT",{day:"2-digit",month:"short",year:"numeric"})," - ",U.ore_lavorate,"h"]}),o.jsxs("p",{className:"text-xs opacity-75 mt-1",children:[new Date(U.data_inizio).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})," -",new Date(U.data_fine).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})]})]}),o.jsxs("div",{className:"text-xl font-bold",children:["+",U.neu_guadagnati]})]},U.id))})]})]}),e&&o.jsx(JF,{turni:E,userId:e.id}),o.jsx(Er,{open:a,onOpenChange:U=>{!p&&!k.isPending&&(s(U),U||h({destinatario_email:"",tipoDestinatario:"socio",motivoAssociazione:"",importo:"",causale:""}))},children:o.jsxs(wr,{className:"max-w-md",children:[o.jsx(_r,{children:o.jsx(jr,{children:"Trasferisci NEU"})}),p?o.jsxs("div",{className:"py-12 text-center",children:[o.jsx("div",{className:"bg-green-100 rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-6",children:o.jsx("svg",{className:"w-16 h-16 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),o.jsx("h3",{className:"text-3xl font-bold text-[#053c5e] mb-3",children:"Trasferimento Completato!"}),o.jsx("p",{className:"text-lg text-[#1f7a8c] font-semibold",children:" I NEU sono stati trasferiti con successo"}),o.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Questa finestra si chiuder automaticamente..."})]}):o.jsxs("form",{onSubmit:B,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"A chi vuoi trasferire?"}),o.jsxs(an,{value:d.tipoDestinatario,onValueChange:U=>h({...d,tipoDestinatario:U,destinatario_id:"",motivoAssociazione:""}),required:!0,children:[o.jsx(tn,{children:o.jsx(on,{})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"socio",children:"Ad un Socio/a"}),o.jsx(Ze,{value:"associazione",children:"All'Associazione"})]})]})]}),d.tipoDestinatario==="socio"?o.jsxs("div",{children:[o.jsx(Le,{children:"Socio/a Destinatario"}),o.jsxs(an,{value:d.destinatario_email,onValueChange:U=>h({...d,destinatario_email:U}),required:!0,children:[o.jsx(tn,{children:o.jsx(on,{placeholder:"Seleziona socio"})}),o.jsxs(nn,{children:[l.map(U=>o.jsxs(Ze,{value:U.email,children:[U.full_name," (",U.email,")"]},U.email)),l.length===0&&o.jsx(Ze,{value:"none",disabled:!0,children:"Nessun socio trovato"})]})]})]}):o.jsxs("div",{children:[o.jsx(Le,{children:"Motivo del Pagamento"}),o.jsxs(an,{value:d.motivoAssociazione,onValueChange:U=>h({...d,motivoAssociazione:U}),required:!0,children:[o.jsx(tn,{children:o.jsx(on,{placeholder:"Seleziona motivo"})}),o.jsxs(nn,{children:[o.jsx(Ze,{value:"postazione",children:"Pagamento Postazione Coworking"}),o.jsx(Ze,{value:"quota_annua",children:"Saldo Quota Annua"})]})]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Importo NEU"}),o.jsx(tt,{type:"number",step:"0.01",min:"0.01",max:(e==null?void 0:e.saldo_neu)||0,value:d.importo,onChange:U=>h({...d,importo:U.target.value}),placeholder:"0.00",required:!0}),o.jsxs("p",{className:"text-xs text-[#1f7a8c] mt-1",children:["Saldo disponibile: ",Math.round(((e==null?void 0:e.saldo_neu)||0)*100)/100," NEU"]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:d.tipoDestinatario==="associazione"?"Note (opzionale)":"Causale"}),o.jsx(ta,{value:d.causale,onChange:U=>h({...d,causale:U.target.value}),placeholder:d.tipoDestinatario==="associazione"?"Note aggiuntive...":"Motivo del trasferimento...",rows:3})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx(Oe,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Annulla"}),o.jsx(Oe,{type:"submit",className:"bg-[#db222a] hover:bg-[#053c5e]",disabled:k.isPending,children:k.isPending?"Trasferimento...":"Trasferisci"})]})]})]})})]})}function Pae(){const[e,t]=j.useState(null),[n,r]=j.useState(!1),[i,a]=j.useState(null),[s,l]=j.useState(""),c=Or();j.useEffect(()=>{(async()=>{const w=await we.auth.me();t(w)})()},[]);const{data:d=[]}=Wt({queryKey:["task","personali",e==null?void 0:e.id],queryFn:async()=>e?(await we.entities.TaskNotifica.list("-created_date")).filter(A=>String(A.destinatario_id)===String(e.id)&&A.tipo==="task_manuale"):[],enabled:!!e,initialData:[]}),h=vn({mutationFn:async({taskId:y,stato:w,motivo:A})=>{const C=d.find(I=>I.id===y),P=Array.isArray(C.storico)?[...C.storico]:[];P.push({azione:w,utente_id:e==null?void 0:e.id,utente_nome:e==null?void 0:e.full_name,data:new Date().toISOString(),note:A||""});const E={stato:w,storico:P,motivo_abbandono:A||null};w==="completato"?(E.completato_da_id=e==null?void 0:e.id,E.completato_da_nome=e==null?void 0:e.full_name,E.data_completamento=new Date().toISOString()):w==="abbandonato"&&C.is_collettivo&&(E.destinatario_tipo="collettivo",E.destinatario_id=null,E.destinatario_nome="Tutti i Soci",E.stato="attivo"),await we.entities.TaskNotifica.update(y,E)},onSuccess:(y,w)=>{c.invalidateQueries({queryKey:["task"]}),r(!1),l(""),a(null),We.success(w.stato==="abbandonato"?"Task abbandonato":"Task aggiornato")}}),p=d.filter(y=>{if(y.stato!=="attivo")return!1;const w=new Date().toISOString().split("T")[0],A=y.data_inizio,C=y.data_fine;return A<=w&&(!C||C>=w)}),g=d.filter(y=>y.stato==="completato"),m=d.filter(y=>y.stato==="abbandonato"),b=y=>{const w={alta:"bg-red-100 text-red-800",media:"bg-orange-100 text-orange-800",bassa:"bg-blue-100 text-blue-800"};return w[y]||w.media},x=(y,w=!0)=>o.jsx("div",{className:"p-4 border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[o.jsx("h3",{className:"font-semibold text-[#053c5e] break-words",children:y.titolo}),o.jsx(kn,{className:`${b(y.priorita)} whitespace-nowrap`,children:y.priorita})]}),o.jsx("p",{className:"text-sm text-slate-700 mb-2 break-words",children:y.descrizione}),o.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 text-xs text-slate-500",children:[o.jsxs("span",{className:"whitespace-nowrap",children:["Da: ",o.jsx("strong",{children:y.creato_da_nome})]}),o.jsx("span",{className:"hidden sm:inline",children:""}),o.jsx("span",{className:"whitespace-nowrap",children:new Date(y.data_inizio).toLocaleDateString("it-IT")}),y.data_fine&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"mx-0.5",children:""}),o.jsx("span",{className:"whitespace-nowrap",children:new Date(y.data_fine).toLocaleDateString("it-IT")})]}),y.data_completamento&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"hidden sm:inline",children:""}),o.jsxs("span",{className:"whitespace-nowrap text-[#1f7a8c]",children:["Completato: ",new Date(y.data_completamento).toLocaleDateString("it-IT")]})]})]}),y.motivo_abbandono&&o.jsxs("div",{className:"mt-2 p-2 bg-red-50 text-red-700 text-xs rounded border border-red-100",children:[o.jsx("strong",{children:"Motivo Abbandono:"})," ",y.motivo_abbandono]}),Array.isArray(y.storico)&&y.storico.length>0&&o.jsxs("div",{className:"mt-3 space-y-1",children:[o.jsxs("div",{className:"text-[10px] font-bold text-slate-400 uppercase flex items-center gap-1",children:[o.jsx(Ty,{className:"w-3 h-3"})," Storico Task"]}),y.storico.map((A,C)=>o.jsxs("div",{className:"text-[10px] text-slate-500 flex flex-wrap gap-1",children:[o.jsxs("span",{className:"font-semibold",children:[new Date(A.data).toLocaleDateString("it-IT")," ",new Date(A.data).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"}),":"]}),o.jsx("span",{className:"capitalize",children:A.azione.replace("_"," ")})," da",o.jsx("span",{className:"font-semibold",children:A.utente_nome}),A.note&&o.jsxs("span",{className:"italic",children:['"',A.note,'"']})]},C))]})]}),w&&o.jsxs("div",{className:"flex items-center gap-2 shrink-0 pt-2 sm:pt-0 sm:ml-3 border-t sm:border-0 border-slate-100",children:[o.jsxs(Oe,{size:"sm",onClick:()=>h.mutate({taskId:y.id,stato:"completato"}),className:"flex-1 sm:flex-none bg-green-600 hover:bg-green-700 h-10 sm:h-9",title:"Completa",children:[o.jsx(Kf,{className:"w-5 h-5 sm:w-4 sm:h-4"}),o.jsx("span",{className:"ml-2 sm:hidden",children:"Completa"})]}),o.jsxs(Oe,{size:"sm",variant:"outline",onClick:()=>{a(y),r(!0)},className:"flex-1 sm:flex-none border-red-300 text-red-600 hover:bg-red-50 h-10 sm:h-9",title:"Abbandona",children:[o.jsx(go,{className:"w-5 h-5 sm:w-4 sm:h-4"}),o.jsx("span",{className:"ml-2 sm:hidden",children:"Rifiuta / Abbandona"})]})]})]})},y.id);return o.jsxs(o.Fragment,{children:[o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsxs(Zt,{className:"flex items-center gap-2",children:[o.jsx(Zj,{className:"w-5 h-5 text-[#1f7a8c]"}),"Task"]})}),o.jsx(wt,{children:o.jsxs(ol,{defaultValue:"attivi",className:"w-full",children:[o.jsxs(Ss,{className:"flex flex-col sm:grid sm:grid-cols-3 w-full bg-[#bfdbf7] h-auto p-1 gap-1 sm:gap-0 font-medium",children:[o.jsxs(Pn,{value:"attivi",className:"flex-1 py-2 text-xs sm:text-sm data-[state=active]:bg-[#053c5e] data-[state=active]:text-white transition-all",children:[o.jsx(Zj,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Attivi (",p.length,")"]}),o.jsxs(Pn,{value:"completati",className:"flex-1 py-2 text-xs sm:text-sm data-[state=active]:bg-[#053c5e] data-[state=active]:text-white transition-all",children:[o.jsx(_W,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Completati (",g.length,")"]}),o.jsxs(Pn,{value:"abbandonati",className:"flex-1 py-2 text-xs sm:text-sm data-[state=active]:bg-[#053c5e] data-[state=active]:text-white transition-all",children:[o.jsx(Jj,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Abbandonati (",m.length,")"]})]}),o.jsx(En,{value:"attivi",className:"mt-4",children:o.jsx("div",{className:"space-y-3",children:p.length===0?o.jsx("p",{className:"text-center text-slate-500 py-8",children:"Nessun task attivo"}):p.map(y=>x(y,!0))})}),o.jsx(En,{value:"completati",className:"mt-4",children:o.jsx("div",{className:"space-y-3",children:g.length===0?o.jsx("p",{className:"text-center text-slate-500 py-8",children:"Nessun task completato"}):g.map(y=>x(y,!1))})}),o.jsx(En,{value:"abbandonati",className:"mt-4",children:o.jsx("div",{className:"space-y-3",children:m.length===0?o.jsx("p",{className:"text-center text-slate-500 py-8",children:"Nessun task abbandonato"}):m.map(y=>x(y,!1))})})]})})]}),o.jsx(Er,{open:n,onOpenChange:r,children:o.jsxs(wr,{children:[o.jsx(_r,{children:o.jsx(jr,{children:"Abbandona Task"})}),o.jsx("div",{className:"space-y-4 py-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{children:"Motivo dell'abbandono *"}),o.jsx(ta,{placeholder:"Spiega brevemente perch non puoi completare questo task...",value:s,onChange:y=>l(y.target.value),className:"min-h-[100px]"}),(i==null?void 0:i.is_collettivo)&&o.jsx("p",{className:"text-xs text-orange-600 font-medium",children:"Tip: Essendo un task collettivo, torner disponibile per gli altri soci."})]})}),o.jsxs(nA,{children:[o.jsx(Oe,{variant:"outline",onClick:()=>r(!1),children:"Annulla"}),o.jsx(Oe,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:()=>{if(!s.trim()){We.error("Inserisci un motivo");return}h.mutate({taskId:i.id,stato:"abbandonato",motivo:s})},disabled:h.isPending,children:h.isPending?"Invio...":"Conferma Abbandono"})]})]})})]})}function Eae(){const[e,t]=j.useState(null),n=Or();j.useEffect(()=>{(async()=>{const l=await we.auth.me();t(l)})()},[]);const{data:r=[]}=Wt({queryKey:["task","collettivi"],queryFn:async()=>{const l=(await we.entities.TaskNotifica.list("-created_date")).filter(d=>d.destinatario_tipo==="collettivo"&&d.stato==="attivo"),c=new Date().toISOString().split("T")[0];return l.filter(d=>{const h=d.data_inizio,p=d.data_fine;return h<=c&&(!p||p>=c)})}}),i=vn({mutationFn:async s=>{if(!e)return;const l=Array.isArray(s.storico)?[...s.storico]:[];l.push({azione:"presa_in_carico",utente_id:e.id,utente_nome:e.full_name,data:new Date().toISOString()}),await we.entities.TaskNotifica.update(s.id,{destinatario_tipo:"socio",destinatario_id:e.id,destinatario_nome:e.full_name,storico:l,stato:"attivo"})},onSuccess:()=>{n.invalidateQueries({queryKey:["task"]}),We.success("Task preso in carico e spostato nei tuoi task personali")},onError:s=>{console.error("Errore prendi in carico:",s),We.error("Errore durante l'assegnazione del task")}}),a=s=>{const l={alta:"bg-red-100 text-red-800",media:"bg-orange-100 text-orange-800",bassa:"bg-blue-100 text-blue-800"};return l[s]||l.media};return r.length===0?null:o.jsxs(yt,{className:"border-orange-200 bg-orange-50/30",children:[o.jsx(Jt,{children:o.jsxs(Zt,{className:"flex items-center gap-2 text-orange-800",children:[o.jsx(yo,{className:"w-5 h-5"}),"Task Collettivi - Chi se ne occupa?"]})}),o.jsx(wt,{children:o.jsx("div",{className:"space-y-3",children:r.map(s=>o.jsx("div",{className:"p-4 border border-orange-200 bg-white rounded-lg hover:shadow-sm transition-all",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[o.jsx("h3",{className:"font-semibold text-[#053c5e] break-words",children:s.titolo}),o.jsx(kn,{className:`${a(s.priorita)} whitespace-nowrap`,children:s.priorita})]}),o.jsx("p",{className:"text-sm text-slate-700 mb-2 break-words",children:s.descrizione}),o.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 text-xs text-slate-500",children:[o.jsxs("span",{className:"whitespace-nowrap",children:["Da: ",o.jsx("strong",{children:s.creato_da_nome})]}),o.jsx("span",{className:"hidden sm:inline",children:""}),o.jsxs("span",{className:"whitespace-nowrap flex items-center gap-1",children:[o.jsx(na,{className:"w-3 h-3"}),new Date(s.data_inizio).toLocaleDateString("it-IT")]})]})]}),o.jsx("div",{className:"shrink-0 pt-2 sm:pt-0 sm:ml-3 border-t sm:border-0 border-slate-100 mt-2 sm:mt-0",children:o.jsxs(Oe,{size:"sm",onClick:()=>i.mutate(s),className:"w-full sm:w-auto bg-orange-600 hover:bg-orange-700 text-white",children:[o.jsx(QW,{className:"w-4 h-4 mr-2"}),"Me ne occupo io"]})})]})},s.id))})})]})}function e$(){return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"bg-[#053c5e] text-white p-8",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold font-display",children:"Task"}),o.jsx("p",{className:"text-lg opacity-90 mt-2",children:"Gestisci i tuoi compiti, assegnane a socie e soci o invia un task per la postazione host."})]}),o.jsx("div",{className:"flex shrink-0",children:o.jsx(YF,{})})]})}),o.jsx(Pae,{}),o.jsx(Eae,{})]})}function kae(){const[e,t]=j.useState(null),[n,r]=j.useState(!1),[i,a]=j.useState(!1),[s,l]=j.useState({telefono:"",data_nascita:"",luogo_nascita:"",indirizzo:"",citta:"",cap:"",provincia:"",codice_fiscale:""}),c=Or();j.useEffect(()=>{(async()=>{const b=await we.auth.me();t(b)})()},[]);const{data:d}=Wt({queryKey:["profilo_socio",e==null?void 0:e.id],queryFn:async()=>e&&(await we.entities.ProfiloSocio.filter({user_id:e.id}))[0]||null,enabled:!!e});j.useEffect(()=>{d&&l({telefono:d.telefono||"",data_nascita:d.data_nascita||"",luogo_nascita:d.luogo_nascita||"",indirizzo:d.indirizzo||"",citta:d.citta||"",cap:d.cap||"",provincia:d.provincia||"",codice_fiscale:d.codice_fiscale||""})},[d]);const h=vn({mutationFn:async m=>{d?await we.entities.ProfiloSocio.update(d.id,m):await we.entities.ProfiloSocio.create({user_id:e.id,full_name:e.full_name,email:e.email,ruoli:e.roles||(e.role?[e.role]:[]),...m,attivo:!0})},onSuccess:()=>{c.invalidateQueries({queryKey:["profilo_socio"]}),r(!1),We.success("Dati salvati con successo")}}),p=async m=>{var x;const b=(x=m.target.files)==null?void 0:x[0];if(b){a(!0);try{const{file_url:y}=await we.integrations.Core.UploadFile({file:b}),w={documento_identita_url:y};d?await we.entities.ProfiloSocio.update(d.id,w):await we.entities.ProfiloSocio.create({user_id:e.id,full_name:e.full_name,email:e.email,ruoli:e.roles||(e.role?[e.role]:[]),...w,attivo:!0}),c.invalidateQueries({queryKey:["profilo_socio"]}),We.success("Documento caricato con successo")}catch{We.error("Errore nel caricamento del documento")}finally{a(!1)}}},g=()=>{h.mutate(s)};return o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Zt,{className:"flex items-center gap-2",children:[o.jsx(cu,{className:"w-5 h-5 text-[#1f7a8c]"}),"Dati Anagrafici"]}),n?o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Oe,{onClick:()=>r(!1),variant:"outline",children:[o.jsx(go,{className:"w-4 h-4 mr-2"}),"Annulla"]}),o.jsxs(Oe,{onClick:g,className:"bg-[#053c5e] hover:bg-[#1f7a8c]",children:[o.jsx(nh,{className:"w-4 h-4 mr-2"}),"Salva"]})]}):o.jsxs(Oe,{onClick:()=>r(!0),variant:"outline",className:"border-[#1f7a8c] text-[#1f7a8c]",children:[o.jsx(Cs,{className:"w-4 h-4 mr-2"}),"Modifica"]})]})}),o.jsx(wt,{children:o.jsx("div",{className:"space-y-4",children:n?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Telefono"}),o.jsx(tt,{value:s.telefono,onChange:m=>l({...s,telefono:m.target.value}),placeholder:"+39 123 456 7890"})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Data di nascita"}),o.jsx(tt,{type:"date",value:s.data_nascita,onChange:m=>l({...s,data_nascita:m.target.value})})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Luogo di nascita"}),o.jsx(tt,{value:s.luogo_nascita,onChange:m=>l({...s,luogo_nascita:m.target.value}),placeholder:"Palermo"})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Codice Fiscale"}),o.jsx(tt,{value:s.codice_fiscale,onChange:m=>l({...s,codice_fiscale:m.target.value.toUpperCase()}),placeholder:"RSSMRA80A01G273X",maxLength:16})]})]}),o.jsxs("div",{className:"pt-4 border-t",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Indirizzo di residenza"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"md:col-span-3",children:[o.jsx(Le,{children:"Via/Piazza"}),o.jsx(tt,{value:s.indirizzo,onChange:m=>l({...s,indirizzo:m.target.value}),placeholder:"Via Roma, 123"})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"CAP"}),o.jsx(tt,{value:s.cap,onChange:m=>l({...s,cap:m.target.value}),placeholder:"90133",maxLength:5})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Citt"}),o.jsx(tt,{value:s.citta,onChange:m=>l({...s,citta:m.target.value}),placeholder:"Palermo"})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Provincia"}),o.jsx(tt,{value:s.provincia,onChange:m=>l({...s,provincia:m.target.value.toUpperCase()}),placeholder:"PA",maxLength:2})]})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Telefono"}),o.jsx("p",{className:"font-medium",children:(d==null?void 0:d.telefono)||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Data di nascita"}),o.jsx("p",{className:"font-medium",children:d!=null&&d.data_nascita?new Date(d.data_nascita).toLocaleDateString("it-IT"):"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Luogo di nascita"}),o.jsx("p",{className:"font-medium",children:(d==null?void 0:d.luogo_nascita)||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Codice Fiscale"}),o.jsx("p",{className:"font-medium uppercase",children:(d==null?void 0:d.codice_fiscale)||"-"})]})]}),o.jsxs("div",{className:"pt-4 border-t",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Indirizzo di residenza"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Via/Piazza"}),o.jsx("p",{className:"font-medium",children:(d==null?void 0:d.indirizzo)||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"CAP"}),o.jsx("p",{className:"font-medium",children:(d==null?void 0:d.cap)||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Citt"}),o.jsx("p",{className:"font-medium",children:(d==null?void 0:d.citta)||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Provincia"}),o.jsx("p",{className:"font-medium uppercase",children:(d==null?void 0:d.provincia)||"-"})]})]})]}),o.jsxs("div",{className:"pt-4 border-t",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Documento di identit"}),d!=null&&d.documento_identita_url?o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("a",{href:d.documento_identita_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-[#1f7a8c] hover:text-[#053c5e]",children:[o.jsx(n1,{className:"w-4 h-4"}),"Visualizza documento"]}),o.jsxs(Le,{htmlFor:"upload-new",className:"cursor-pointer text-sm text-slate-500 hover:text-slate-700",children:["(Carica nuovo)",o.jsx(tt,{id:"upload-new",type:"file",onChange:p,accept:"image/*,.pdf",className:"hidden",disabled:i})]})]}):o.jsxs(Le,{htmlFor:"upload-doc",className:"cursor-pointer",children:[o.jsxs("div",{className:"flex items-center gap-2 p-4 border-2 border-dashed border-slate-300 rounded-lg hover:border-[#1f7a8c] hover:bg-slate-50",children:[o.jsx(_4,{className:"w-5 h-5 text-slate-400"}),o.jsx("span",{className:"text-sm text-slate-600",children:i?"Caricamento...":"Carica documento di identit (PDF o immagine)"})]}),o.jsx(tt,{id:"upload-doc",type:"file",onChange:p,accept:"image/*,.pdf",className:"hidden",disabled:i})]})]})]})})})]})}function Oae({profiloData:e}){const[t,n]=j.useState(null),[r,i]=j.useState(!1),[a,s]=j.useState({first_name:"",last_name:"",telefono:"",citta_residenza:"",paese_residenza:"",ragione_sociale:"",p_iva:"",codice_univoco:"",indirizzo:""}),l=Or();j.useEffect(()=>{(async()=>{const p=await we.auth.me();n(p)})()},[]),j.useEffect(()=>{e&&s({first_name:e.first_name||"",last_name:e.last_name||"",telefono:e.telefono||"",citta_residenza:e.citta_residenza||"",paese_residenza:e.paese_residenza||"",ragione_sociale:e.ragione_sociale||"",p_iva:e.p_iva||"",codice_univoco:e.codice_univoco||"",indirizzo:e.indirizzo||""})},[e]);const c=vn({mutationFn:async h=>{e&&e.id?await we.entities.ProfiloCoworker.update(e.id,h):await we.entities.ProfiloCoworker.create({user_id:t.id,email:t.email,stato:"iscritto",...h})},onSuccess:()=>{l.invalidateQueries({queryKey:["profilo_coworker"]}),i(!1),We.success("Dati profilo salvati con successo"),window.location.reload()},onError:h=>{We.error("Errore durante il salvataggio: "+h.message)}}),d=()=>{c.mutate(a)};return o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Zt,{className:"flex items-center gap-2",children:[o.jsx(Qx,{className:"w-5 h-5 text-[#1f7a8c]"}),"Dati Coworker & Fatturazione"]}),r?o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Oe,{onClick:()=>i(!1),variant:"outline",children:[o.jsx(go,{className:"w-4 h-4 mr-2"}),"Annulla"]}),o.jsxs(Oe,{onClick:d,className:"bg-[#053c5e] hover:bg-[#1f7a8c]",children:[o.jsx(nh,{className:"w-4 h-4 mr-2"}),"Salva"]})]}):o.jsxs(Oe,{onClick:()=>i(!0),variant:"outline",className:"border-[#1f7a8c] text-[#1f7a8c]",children:[o.jsx(Cs,{className:"w-4 h-4 mr-2"}),"Modifica"]})]})}),o.jsx(wt,{children:o.jsx("div",{className:"space-y-4",children:r?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Nome"}),o.jsx(tt,{value:a.first_name,onChange:h=>s({...a,first_name:h.target.value})})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Cognome"}),o.jsx(tt,{value:a.last_name,onChange:h=>s({...a,last_name:h.target.value})})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Telefono"}),o.jsx(tt,{value:a.telefono,onChange:h=>s({...a,telefono:h.target.value})})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Citt Residenza"}),o.jsx(tt,{value:a.citta_residenza,onChange:h=>s({...a,citta_residenza:h.target.value})})]})]}),o.jsxs("div",{className:"pt-4 border-t",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Dati Aziendali / Fatturazione"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Ragione Sociale"}),o.jsx(tt,{value:a.ragione_sociale,onChange:h=>s({...a,ragione_sociale:h.target.value}),placeholder:"Company Ltd."})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Partita IVA"}),o.jsx(tt,{value:a.p_iva,onChange:h=>s({...a,p_iva:h.target.value})})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Codice Univoco (SDI)"}),o.jsx(tt,{value:a.codice_univoco,onChange:h=>s({...a,codice_univoco:h.target.value})})]})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Nome"}),o.jsx("p",{className:"font-medium",children:(e==null?void 0:e.first_name)||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Cognome"}),o.jsx("p",{className:"font-medium",children:(e==null?void 0:e.last_name)||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Telefono"}),o.jsx("p",{className:"font-medium",children:(e==null?void 0:e.telefono)||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Citt Residenza"}),o.jsxs("p",{className:"font-medium",children:[e==null?void 0:e.citta_residenza," ",e!=null&&e.paese_residenza?`(${e.paese_residenza})`:""]})]})]}),o.jsxs("div",{className:"pt-4 border-t",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Dati Aziendali / Fatturazione (Opzionale)"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Ragione Sociale"}),o.jsx("p",{className:"font-medium",children:(e==null?void 0:e.ragione_sociale)||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"P. IVA"}),o.jsx("p",{className:"font-medium",children:(e==null?void 0:e.p_iva)||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Codice Univoco (SDI)"}),o.jsx("p",{className:"font-medium",children:(e==null?void 0:e.codice_univoco)||"-"})]})]})]})]})})})]})}function t$(){var A;const[e,t]=j.useState(null),[n,r]=j.useState(null),[i,a]=j.useState(!0),[s,l]=j.useState(!1),[c,d]=j.useState({full_name:"",telefono:""}),[h,p]=j.useState(!1),[g,m]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""});j.useEffect(()=>{(async()=>{var P;try{const E=await we.auth.me();if(E){let z=E.roles;if(typeof z=="string")try{z=JSON.parse(z)}catch{z=[z]}Array.isArray(z)||(z=z?[z]:[E.role].filter(Boolean)),E.roles=z,t(E),d({full_name:E.full_name||"",telefono:E.telefono||""})}let I=null;if((P=E.roles)!=null&&P.includes("socio")||E.role==="socio"){const z=await we.entities.ProfiloSocio.filter({user_id:E.id});z.length>0&&(I=z[0])}if(!I){const z=await we.entities.ProfiloCoworker.filter({user_id:E.id});if(z.length>0){const O=z[0];I={...O,full_name:O.first_name&&O.last_name?`${O.first_name} ${O.last_name}`:O.full_name||E.full_name,isCoworker:!0}}}I&&r(I)}catch(E){console.error("Errore:",E)}finally{a(!1)}})()},[]);const b=async()=>{try{await we.auth.updateProfile(c),t({...e,...c}),l(!1),We.success("Dati aggiornati con successo")}catch(C){We.error("Errore durante l'aggiornamento: "+C.message)}},x=async()=>{if(g.newPassword!==g.confirmPassword){We.error("Le password non coincidono");return}if(g.newPassword.length<6){We.error("La nuova password deve essere di almeno 6 caratteri");return}try{await we.auth.changePassword(g.currentPassword,g.newPassword),We.success("Password aggiornata con successo"),p(!1),m({currentPassword:"",newPassword:"",confirmPassword:""})}catch(C){We.error("Errore durante il cambio password: "+C.message)}};if(i)return o.jsx("div",{className:"text-center py-12",children:"Caricamento..."});const y=C=>({super_admin:"Super Admin",admin:"Amministratore",gestore_turni:"Gestore Turni",socio:"Socio/a",coworker:"Coworker"})[C]||C,w=C=>({super_admin:"bg-purple-100 text-purple-800",admin:"bg-red-100 text-red-800",gestore_turni:"bg-blue-100 text-blue-800",socio:"bg-green-100 text-green-800",coworker:"bg-slate-100 text-slate-800"})[C]||"bg-slate-100 text-slate-800";return o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h1",{className:"text-3xl font-bold text-[#1f7a8c]",children:"Il mio profilo"}),o.jsxs(Oe,{variant:"outline",onClick:()=>p(!h),className:"border-[#1f7a8c] text-[#1f7a8c] hover:bg-[#1f7a8c] hover:text-white",children:[o.jsx(Dy,{className:"w-4 h-4 mr-2"}),"Cambia Password"]})]}),h&&o.jsxs(yt,{className:"border-2 border-[#db222a] border-opacity-20 shadow-lg animate-in slide-in-from-top duration-300",children:[o.jsx(Jt,{children:o.jsxs(Zt,{className:"text-[#db222a] flex items-center gap-2",children:[o.jsx(Dy,{className:"w-5 h-5"}),"Cambia la tua password"]})}),o.jsxs(wt,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{children:"Password Attuale"}),o.jsx(tt,{type:"password",value:g.currentPassword,onChange:C=>m({...g,currentPassword:C.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{children:"Nuova Password"}),o.jsx(tt,{type:"password",value:g.newPassword,onChange:C=>m({...g,newPassword:C.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{children:"Conferma Nuova Password"}),o.jsx(tt,{type:"password",value:g.confirmPassword,onChange:C=>m({...g,confirmPassword:C.target.value})})]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Oe,{variant:"outline",onClick:()=>p(!1),children:"Annulla"}),o.jsx(Oe,{className:"bg-[#db222a] hover:bg-[#053c5e]",onClick:x,children:"Aggiorna Password"})]})]})]}),o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Zt,{children:"Informazioni personali"}),s?o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>l(!1),children:o.jsx(go,{className:"w-4 h-4"})}),o.jsxs(Oe,{variant:"ghost",size:"sm",onClick:b,className:"text-green-600",children:[o.jsx(nh,{className:"w-4 h-4 mr-2"})," Salva"]})]}):o.jsxs(Oe,{variant:"ghost",size:"sm",onClick:()=>l(!0),className:"text-[#1f7a8c]",children:[o.jsx(Cs,{className:"w-4 h-4 mr-2"})," Modifica"]})]})}),o.jsxs(wt,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(cu,{className:"w-5 h-5 text-[#1f7a8c]"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Nome completo"}),s?o.jsx(tt,{value:c.full_name,onChange:C=>d({...c,full_name:C.target.value}),className:"mt-1"}):o.jsx("p",{className:"font-medium",children:e==null?void 0:e.full_name})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(rl,{className:"w-5 h-5 text-[#1f7a8c]"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Email"}),o.jsx("p",{className:"font-medium",children:e==null?void 0:e.email}),o.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"L'email non pu essere modificata autonomamente"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(vV,{className:"w-5 h-5 text-[#1f7a8c]"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Telefono"}),s?o.jsx(tt,{value:c.telefono,onChange:C=>d({...c,telefono:C.target.value}),className:"mt-1",placeholder:"+39 ..."}):o.jsx("p",{className:"font-medium",children:(e==null?void 0:e.telefono)||"-"})]})]}),(e==null?void 0:e.data_iscrizione)&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(na,{className:"w-5 h-5 text-[#1f7a8c]"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Iscritto/a dal"}),o.jsx("p",{className:"font-medium",children:new Date(e.data_iscrizione).toLocaleDateString("it-IT",{day:"numeric",month:"long",year:"numeric"})})]})]})]})]}),o.jsx(Ene,{user:e}),o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsx(Zt,{children:"Ruoli e permessi"})}),o.jsxs(wt,{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(BI,{className:"w-5 h-5 text-[#4A9FB4]"}),o.jsx("p",{className:"text-sm text-slate-500",children:"I tuoi ruoli"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[Array.isArray(e==null?void 0:e.roles)?e.roles.map((C,P)=>o.jsx(kn,{className:w(C),children:y(C)},P)):e!=null&&e.role?o.jsx(kn,{className:w(e.role),children:y(e.role)}):null,(!(e!=null&&e.roles)||e.roles.length===0)&&(e==null?void 0:e.role)&&o.jsx(kn,{className:w(e.role),children:y(e.role)})]}),(e==null?void 0:e.tipo_utente)&&o.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Qx,{className:"w-5 h-5 text-[#4A9FB4]"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Tipo utente"}),o.jsx("p",{className:"font-medium capitalize",children:e.tipo_utente})]})]})})]})]}),(e==null?void 0:e.note)&&o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsx(Zt,{children:"Note"})}),o.jsx(wt,{children:o.jsx("p",{className:"text-slate-600",children:e.note})})]}),(((A=e==null?void 0:e.roles)==null?void 0:A.includes("socio"))||(e==null?void 0:e.role)==="socio")&&o.jsx(kae,{}),(n==null?void 0:n.isCoworker)&&o.jsx(Oae,{profiloData:n})]})}var B2,mk;function wo(){if(mk)return B2;mk=1;var e=Array.isArray;return B2=e,B2}var U2,gk;function n$(){if(gk)return U2;gk=1;var e=typeof D0=="object"&&D0&&D0.Object===Object&&D0;return U2=e,U2}var H2,vk;function ac(){if(vk)return H2;vk=1;var e=n$(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return H2=n,H2}var W2,yk;function Hv(){if(yk)return W2;yk=1;var e=ac(),t=e.Symbol;return W2=t,W2}var V2,xk;function Tae(){if(xk)return V2;xk=1;var e=Hv(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function a(s){var l=n.call(s,i),c=s[i];try{s[i]=void 0;var d=!0}catch{}var h=r.call(s);return d&&(l?s[i]=c:delete s[i]),h}return V2=a,V2}var G2,bk;function Dae(){if(bk)return G2;bk=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return G2=n,G2}var K2,wk;function xu(){if(wk)return K2;wk=1;var e=Hv(),t=Tae(),n=Dae(),r="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function s(l){return l==null?l===void 0?i:r:a&&a in Object(l)?t(l):n(l)}return K2=s,K2}var Y2,_k;function bu(){if(_k)return Y2;_k=1;function e(t){return t!=null&&typeof t=="object"}return Y2=e,Y2}var X2,jk;function Cm(){if(jk)return X2;jk=1;var e=xu(),t=bu(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return X2=r,X2}var Q2,Sk;function NA(){if(Sk)return Q2;Sk=1;var e=wo(),t=Cm(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){if(e(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||t(a)?!0:r.test(a)||!n.test(a)||s!=null&&a in Object(s)}return Q2=i,Q2}var J2,Nk;function Ud(){if(Nk)return J2;Nk=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return J2=e,J2}var Z2,Ak;function AA(){if(Ak)return Z2;Ak=1;var e=xu(),t=Ud(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(l){if(!t(l))return!1;var c=e(l);return c==r||c==i||c==n||c==a}return Z2=s,Z2}var ew,Ck;function Lae(){if(Ck)return ew;Ck=1;var e=ac(),t=e["__core-js_shared__"];return ew=t,ew}var tw,Pk;function Iae(){if(Pk)return tw;Pk=1;var e=Lae(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return tw=n,tw}var nw,Ek;function r$(){if(Ek)return nw;Ek=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return nw=n,nw}var rw,kk;function Rae(){if(kk)return rw;kk=1;var e=AA(),t=Iae(),n=Ud(),r=r$(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,d=l.hasOwnProperty,h=RegExp("^"+c.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!n(g)||t(g))return!1;var m=e(g)?h:a;return m.test(r(g))}return rw=p,rw}var iw,Ok;function Mae(){if(Ok)return iw;Ok=1;function e(t,n){return t==null?void 0:t[n]}return iw=e,iw}var aw,Tk;function jh(){if(Tk)return aw;Tk=1;var e=Rae(),t=Mae();function n(r,i){var a=t(r,i);return e(a)?a:void 0}return aw=n,aw}var ow,Dk;function k1(){if(Dk)return ow;Dk=1;var e=jh(),t=e(Object,"create");return ow=t,ow}var sw,Lk;function zae(){if(Lk)return sw;Lk=1;var e=k1();function t(){this.__data__=e?e(null):{},this.size=0}return sw=t,sw}var lw,Ik;function Fae(){if(Ik)return lw;Ik=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return lw=e,lw}var cw,Rk;function $ae(){if(Rk)return cw;Rk=1;var e=k1(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var s=this.__data__;if(e){var l=s[a];return l===t?void 0:l}return r.call(s,a)?s[a]:void 0}return cw=i,cw}var uw,Mk;function qae(){if(Mk)return uw;Mk=1;var e=k1(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var a=this.__data__;return e?a[i]!==void 0:n.call(a,i)}return uw=r,uw}var dw,zk;function Bae(){if(zk)return dw;zk=1;var e=k1(),t="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=e&&i===void 0?t:i,this}return dw=n,dw}var fw,Fk;function Uae(){if(Fk)return fw;Fk=1;var e=zae(),t=Fae(),n=$ae(),r=qae(),i=Bae();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var d=s[l];this.set(d[0],d[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,fw=a,fw}var hw,$k;function Hae(){if($k)return hw;$k=1;function e(){this.__data__=[],this.size=0}return hw=e,hw}var pw,qk;function CA(){if(qk)return pw;qk=1;function e(t,n){return t===n||t!==t&&n!==n}return pw=e,pw}var mw,Bk;function O1(){if(Bk)return mw;Bk=1;var e=CA();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return mw=t,mw}var gw,Uk;function Wae(){if(Uk)return gw;Uk=1;var e=O1(),t=Array.prototype,n=t.splice;function r(i){var a=this.__data__,s=e(a,i);if(s<0)return!1;var l=a.length-1;return s==l?a.pop():n.call(a,s,1),--this.size,!0}return gw=r,gw}var vw,Hk;function Vae(){if(Hk)return vw;Hk=1;var e=O1();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return vw=t,vw}var yw,Wk;function Gae(){if(Wk)return yw;Wk=1;var e=O1();function t(n){return e(this.__data__,n)>-1}return yw=t,yw}var xw,Vk;function Kae(){if(Vk)return xw;Vk=1;var e=O1();function t(n,r){var i=this.__data__,a=e(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return xw=t,xw}var bw,Gk;function T1(){if(Gk)return bw;Gk=1;var e=Hae(),t=Wae(),n=Vae(),r=Gae(),i=Kae();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var d=s[l];this.set(d[0],d[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,bw=a,bw}var ww,Kk;function PA(){if(Kk)return ww;Kk=1;var e=jh(),t=ac(),n=e(t,"Map");return ww=n,ww}var _w,Yk;function Yae(){if(Yk)return _w;Yk=1;var e=Uae(),t=T1(),n=PA();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return _w=r,_w}var jw,Xk;function Xae(){if(Xk)return jw;Xk=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return jw=e,jw}var Sw,Qk;function D1(){if(Qk)return Sw;Qk=1;var e=Xae();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Sw=t,Sw}var Nw,Jk;function Qae(){if(Jk)return Nw;Jk=1;var e=D1();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return Nw=t,Nw}var Aw,Zk;function Jae(){if(Zk)return Aw;Zk=1;var e=D1();function t(n){return e(this,n).get(n)}return Aw=t,Aw}var Cw,eO;function Zae(){if(eO)return Cw;eO=1;var e=D1();function t(n){return e(this,n).has(n)}return Cw=t,Cw}var Pw,tO;function eoe(){if(tO)return Pw;tO=1;var e=D1();function t(n,r){var i=e(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return Pw=t,Pw}var Ew,nO;function EA(){if(nO)return Ew;nO=1;var e=Yae(),t=Qae(),n=Jae(),r=Zae(),i=eoe();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var d=s[l];this.set(d[0],d[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Ew=a,Ew}var kw,rO;function i$(){if(rO)return kw;rO=1;var e=EA(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var s=arguments,l=i?i.apply(this,s):s[0],c=a.cache;if(c.has(l))return c.get(l);var d=r.apply(this,s);return a.cache=c.set(l,d)||c,d};return a.cache=new(n.Cache||e),a}return n.Cache=e,kw=n,kw}var Ow,iO;function toe(){if(iO)return Ow;iO=1;var e=i$(),t=500;function n(r){var i=e(r,function(s){return a.size===t&&a.clear(),s}),a=i.cache;return i}return Ow=n,Ow}var Tw,aO;function noe(){if(aO)return Tw;aO=1;var e=toe(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(s,l,c,d){a.push(c?d.replace(n,"$1"):l||s)}),a});return Tw=r,Tw}var Dw,oO;function kA(){if(oO)return Dw;oO=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=Array(i);++r<i;)a[r]=n(t[r],r,t);return a}return Dw=e,Dw}var Lw,sO;function roe(){if(sO)return Lw;sO=1;var e=Hv(),t=kA(),n=wo(),r=Cm(),i=e?e.prototype:void 0,a=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(n(l))return t(l,s)+"";if(r(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return Lw=s,Lw}var Iw,lO;function a$(){if(lO)return Iw;lO=1;var e=roe();function t(n){return n==null?"":e(n)}return Iw=t,Iw}var Rw,cO;function o$(){if(cO)return Rw;cO=1;var e=wo(),t=NA(),n=noe(),r=a$();function i(a,s){return e(a)?a:t(a,s)?[a]:n(r(a))}return Rw=i,Rw}var Mw,uO;function L1(){if(uO)return Mw;uO=1;var e=Cm();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Mw=t,Mw}var zw,dO;function OA(){if(dO)return zw;dO=1;var e=o$(),t=L1();function n(r,i){i=e(i,r);for(var a=0,s=i.length;r!=null&&a<s;)r=r[t(i[a++])];return a&&a==s?r:void 0}return zw=n,zw}var Fw,fO;function s$(){if(fO)return Fw;fO=1;var e=OA();function t(n,r,i){var a=n==null?void 0:e(n,r);return a===void 0?i:a}return Fw=t,Fw}var ioe=s$();const _s=gr(ioe);var $w,hO;function aoe(){if(hO)return $w;hO=1;function e(t){return t==null}return $w=e,$w}var ooe=aoe();const nr=gr(ooe);var qw,pO;function soe(){if(pO)return qw;pO=1;var e=xu(),t=wo(),n=bu(),r="[object String]";function i(a){return typeof a=="string"||!t(a)&&n(a)&&e(a)==r}return qw=i,qw}var loe=soe();const mh=gr(loe);var coe=AA();const In=gr(coe);var uoe=Ud();const Pm=gr(uoe);var Bw={exports:{}},or={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mO;function doe(){if(mO)return or;mO=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function x(y){if(typeof y=="object"&&y!==null){var w=y.$$typeof;switch(w){case e:switch(y=y.type,y){case n:case i:case r:case d:case h:return y;default:switch(y=y&&y.$$typeof,y){case l:case s:case c:case g:case p:case a:return y;default:return w}}case t:return w}}}return or.ContextConsumer=s,or.ContextProvider=a,or.Element=e,or.ForwardRef=c,or.Fragment=n,or.Lazy=g,or.Memo=p,or.Portal=t,or.Profiler=i,or.StrictMode=r,or.Suspense=d,or.SuspenseList=h,or.isAsyncMode=function(){return!1},or.isConcurrentMode=function(){return!1},or.isContextConsumer=function(y){return x(y)===s},or.isContextProvider=function(y){return x(y)===a},or.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},or.isForwardRef=function(y){return x(y)===c},or.isFragment=function(y){return x(y)===n},or.isLazy=function(y){return x(y)===g},or.isMemo=function(y){return x(y)===p},or.isPortal=function(y){return x(y)===t},or.isProfiler=function(y){return x(y)===i},or.isStrictMode=function(y){return x(y)===r},or.isSuspense=function(y){return x(y)===d},or.isSuspenseList=function(y){return x(y)===h},or.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===i||y===r||y===d||y===h||y===m||typeof y=="object"&&y!==null&&(y.$$typeof===g||y.$$typeof===p||y.$$typeof===a||y.$$typeof===s||y.$$typeof===c||y.$$typeof===b||y.getModuleId!==void 0)},or.typeOf=x,or}var gO;function foe(){return gO||(gO=1,Bw.exports=doe()),Bw.exports}var hoe=foe(),Uw,vO;function l$(){if(vO)return Uw;vO=1;var e=xu(),t=bu(),n="[object Number]";function r(i){return typeof i=="number"||t(i)&&e(i)==n}return Uw=r,Uw}var Hw,yO;function poe(){if(yO)return Hw;yO=1;var e=l$();function t(n){return e(n)&&n!=+n}return Hw=t,Hw}var moe=poe();const Wv=gr(moe);var goe=l$();const voe=gr(goe);var nl=function(t){return t===0?0:t>0?1:-1},Df=function(t){return mh(t)&&t.indexOf("%")===t.length-1},gt=function(t){return voe(t)&&!Wv(t)},yoe=function(t){return nr(t)},qi=function(t){return gt(t)||mh(t)},xoe=0,I1=function(t){var n=++xoe;return"".concat(t||"").concat(n)},gh=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!gt(t)&&!mh(t))return r;var a;if(Df(t)){var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return Wv(a)&&(a=r),i&&a>n&&(a=n),a},ud=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},boe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},up=function(t,n){return gt(t)&&gt(n)?function(r){return t+r*(n-t)}:function(){return n}};function HS(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):_s(r,t))===n})}var woe=function(t,n){return gt(t)&&gt(n)?t-n:mh(t)&&mh(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function kp(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function WS(e){"@babel/helpers - typeof";return WS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},WS(e)}var _oe=["viewBox","children"],joe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],xO=["points","pathLength"],Ww={svg:_oe,polygon:xO,polyline:xO},TA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Jy=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(j.isValidElement(t)&&(r=t.props),!Pm(r))return null;var i={};return Object.keys(r).forEach(function(a){TA.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},Soe=function(t,n,r){return function(i){return t(n,r,i),null}},Zy=function(t,n,r){if(!Pm(t)||WS(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var s=t[a];TA.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Soe(s,n,r))}),i},Noe=["children"],Aoe=["children"];function bO(e,t){if(e==null)return{};var n=Coe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Coe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var wO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ru=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},_O=null,Vw=null,DA=function e(t){if(t===_O&&Array.isArray(Vw))return Vw;var n=[];return j.Children.forEach(t,function(r){nr(r)||(hoe.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),Vw=n,_O=t,n};function al(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return ru(i)}):r=[ru(t)],DA(e).forEach(function(i){var a=_s(i,"type.displayName")||_s(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Fo(e,t){var n=al(e,t);return n&&n[0]}var jO=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!gt(r)||r<=0||!gt(i)||i<=0)},Poe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Eoe=function(t){return t&&t.type&&mh(t.type)&&Poe.indexOf(t.type)>=0},koe=function(t,n,r,i){var a,s=(a=Ww==null?void 0:Ww[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!In(t)&&(i&&s.includes(n)||joe.includes(n))||r&&TA.includes(n)},tr=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(j.isValidElement(t)&&(i=t.props),!Pm(i))return null;var a={};return Object.keys(i).forEach(function(s){var l;koe((l=i)===null||l===void 0?void 0:l[s],s,n,r)&&(a[s]=i[s])}),a},VS=function e(t,n){if(t===n)return!0;var r=j.Children.count(t);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return SO(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=t[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!SO(a,s))return!1}return!0},SO=function(t,n){if(nr(t)&&nr(n))return!0;if(!nr(t)&&!nr(n)){var r=t.props||{},i=r.children,a=bO(r,Noe),s=n.props||{},l=s.children,c=bO(s,Aoe);return i&&l?kp(a,c)&&VS(i,l):!i&&!l?kp(a,c):!1}return!1},NO=function(t,n){var r=[],i={};return DA(t).forEach(function(a,s){if(Eoe(a))r.push(a);else if(a){var l=ru(a.type),c=n[l]||{},d=c.handler,h=c.once;if(d&&(!h||!i[l])){var p=d(a,l,s);r.push(p),i[l]=!0}}}),r},Ooe=function(t){var n=t&&t.type;return n&&wO[n]?wO[n]:null},Toe=function(t,n){return DA(n).indexOf(t)},Doe=["children","width","height","viewBox","className","style","title","desc"];function GS(){return GS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GS.apply(this,arguments)}function Loe(e,t){if(e==null)return{};var n=Ioe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ioe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function KS(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,a=e.className,s=e.style,l=e.title,c=e.desc,d=Loe(e,Doe),h=i||{width:n,height:r,x:0,y:0},p=Xn("recharts-surface",a);return ve.createElement("svg",GS({},tr(d,!0,"svg"),{className:p,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),ve.createElement("title",null,l),ve.createElement("desc",null,c),t)}var Roe=["children","className"];function YS(){return YS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YS.apply(this,arguments)}function Moe(e,t){if(e==null)return{};var n=zoe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zoe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ea=ve.forwardRef(function(e,t){var n=e.children,r=e.className,i=Moe(e,Roe),a=Xn("recharts-layer",r);return ve.createElement("g",YS({className:a},tr(i,!0),{ref:t}),n)}),iu=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},Gw,AO;function Foe(){if(AO)return Gw;AO=1;function e(t,n,r){var i=-1,a=t.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(a);++i<a;)s[i]=t[i+n];return s}return Gw=e,Gw}var Kw,CO;function $oe(){if(CO)return Kw;CO=1;var e=Foe();function t(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:e(n,r,i)}return Kw=t,Kw}var Yw,PO;function c$(){if(PO)return Yw;PO=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,a="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+e+i+a+"]");function c(d){return l.test(d)}return Yw=c,Yw}var Xw,EO;function qoe(){if(EO)return Xw;EO=1;function e(t){return t.split("")}return Xw=e,Xw}var Qw,kO;function Boe(){if(kO)return Qw;kO=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,a="\\ufe0e\\ufe0f",s="["+e+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",h="[^"+e+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",b=d+"?",x="["+a+"]?",y="(?:"+m+"(?:"+[h,p,g].join("|")+")"+x+b+")*",w=x+b+y,A="(?:"+[h+l+"?",l,p,g,s].join("|")+")",C=RegExp(c+"(?="+c+")|"+A+w,"g");function P(E){return E.match(C)||[]}return Qw=P,Qw}var Jw,OO;function Uoe(){if(OO)return Jw;OO=1;var e=qoe(),t=c$(),n=Boe();function r(i){return t(i)?n(i):e(i)}return Jw=r,Jw}var Zw,TO;function Hoe(){if(TO)return Zw;TO=1;var e=$oe(),t=c$(),n=Uoe(),r=a$();function i(a){return function(s){s=r(s);var l=t(s)?n(s):void 0,c=l?l[0]:s.charAt(0),d=l?e(l,1).join(""):s.slice(1);return c[a]()+d}}return Zw=i,Zw}var e5,DO;function Woe(){if(DO)return e5;DO=1;var e=Hoe(),t=e("toUpperCase");return e5=t,e5}var Voe=Woe();const R1=gr(Voe);function Rr(e){return function(){return e}}const u$=Math.cos,ex=Math.sin,pl=Math.sqrt,tx=Math.PI,M1=2*tx,XS=Math.PI,QS=2*XS,Pf=1e-6,Goe=QS-Pf;function d$(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Koe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return d$;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Yoe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?d$:Koe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=r-t,d=i-n,h=s-t,p=l-n,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>Pf)if(!(Math.abs(p*c-d*h)>Pf)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-s,b=i-l,x=c*c+d*d,y=m*m+b*b,w=Math.sqrt(x),A=Math.sqrt(g),C=a*Math.tan((XS-Math.acos((x+g-y)/(2*w*A)))/2),P=C/A,E=C/w;Math.abs(P-1)>Pf&&this._append`L${t+P*h},${n+P*p}`,this._append`A${a},${a},0,0,${+(p*m>h*b)},${this._x1=t+E*c},${this._y1=n+E*d}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),d=t+l,h=n+c,p=1^s,g=s?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Pf||Math.abs(this._y1-h)>Pf)&&this._append`L${d},${h}`,r&&(g<0&&(g=g%QS+QS),g>Goe?this._append`A${r},${r},0,1,${p},${t-l},${n-c}A${r},${r},0,1,${p},${this._x1=d},${this._y1=h}`:g>Pf&&this._append`A${r},${r},0,${+(g>=XS)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function LA(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Yoe(t)}function IA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function f$(e){this._context=e}f$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function z1(e){return new f$(e)}function h$(e){return e[0]}function p$(e){return e[1]}function m$(e,t){var n=Rr(!0),r=null,i=z1,a=null,s=LA(l);e=typeof e=="function"?e:e===void 0?h$:Rr(e),t=typeof t=="function"?t:t===void 0?p$:Rr(t);function l(c){var d,h=(c=IA(c)).length,p,g=!1,m;for(r==null&&(a=i(m=s())),d=0;d<=h;++d)!(d<h&&n(p=c[d],d,c))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+e(p,d,c),+t(p,d,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Rr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Rr(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Rr(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function ty(e,t,n){var r=null,i=Rr(!0),a=null,s=z1,l=null,c=LA(d);e=typeof e=="function"?e:e===void 0?h$:Rr(+e),t=typeof t=="function"?t:Rr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?p$:Rr(+n);function d(p){var g,m,b,x=(p=IA(p)).length,y,w=!1,A,C=new Array(x),P=new Array(x);for(a==null&&(l=s(A=c())),g=0;g<=x;++g){if(!(g<x&&i(y=p[g],g,p))===w)if(w=!w)m=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=g-1;b>=m;--b)l.point(C[b],P[b]);l.lineEnd(),l.areaEnd()}w&&(C[g]=+e(y,g,p),P[g]=+t(y,g,p),l.point(r?+r(y,g,p):C[g],n?+n(y,g,p):P[g]))}if(A)return l=null,A+""||null}function h(){return m$().defined(i).curve(s).context(a)}return d.x=function(p){return arguments.length?(e=typeof p=="function"?p:Rr(+p),r=null,d):e},d.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Rr(+p),d):e},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Rr(+p),d):r},d.y=function(p){return arguments.length?(t=typeof p=="function"?p:Rr(+p),n=null,d):t},d.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Rr(+p),d):t},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Rr(+p),d):n},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(n)},d.lineX1=function(){return h().x(r).y(t)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Rr(!!p),d):i},d.curve=function(p){return arguments.length?(s=p,a!=null&&(l=s(a)),d):s},d.context=function(p){return arguments.length?(p==null?a=l=null:l=s(a=p),d):a},d}class g${constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Xoe(e){return new g$(e,!0)}function Qoe(e){return new g$(e,!1)}const RA={draw(e,t){const n=pl(t/tx);e.moveTo(n,0),e.arc(0,0,n,0,M1)}},Joe={draw(e,t){const n=pl(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},v$=pl(1/3),Zoe=v$*2,ese={draw(e,t){const n=pl(t/Zoe),r=n*v$;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},tse={draw(e,t){const n=pl(t),r=-n/2;e.rect(r,r,n,n)}},nse=.8908130915292852,y$=ex(tx/10)/ex(7*tx/10),rse=ex(M1/10)*y$,ise=-u$(M1/10)*y$,ase={draw(e,t){const n=pl(t*nse),r=rse*n,i=ise*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=M1*a/5,l=u$(s),c=ex(s);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*i,c*r+l*i)}e.closePath()}},t5=pl(3),ose={draw(e,t){const n=-pl(t/(t5*3));e.moveTo(0,n*2),e.lineTo(-t5*n,-n),e.lineTo(t5*n,-n),e.closePath()}},hs=-.5,ps=pl(3)/2,JS=1/pl(12),sse=(JS/2+1)*3,lse={draw(e,t){const n=pl(t/sse),r=n/2,i=n*JS,a=r,s=n*JS+n,l=-a,c=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(l,c),e.lineTo(hs*r-ps*i,ps*r+hs*i),e.lineTo(hs*a-ps*s,ps*a+hs*s),e.lineTo(hs*l-ps*c,ps*l+hs*c),e.lineTo(hs*r+ps*i,hs*i-ps*r),e.lineTo(hs*a+ps*s,hs*s-ps*a),e.lineTo(hs*l+ps*c,hs*c-ps*l),e.closePath()}};function cse(e,t){let n=null,r=LA(i);e=typeof e=="function"?e:Rr(e||RA),t=typeof t=="function"?t:Rr(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Rr(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Rr(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function nx(){}function rx(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function x$(e){this._context=e}x$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function use(e){return new x$(e)}function b$(e){this._context=e}b$.prototype={areaStart:nx,areaEnd:nx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:rx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dse(e){return new b$(e)}function w$(e){this._context=e}w$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:rx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fse(e){return new w$(e)}function _$(e){this._context=e}_$.prototype={areaStart:nx,areaEnd:nx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function hse(e){return new _$(e)}function LO(e){return e<0?-1:1}function IO(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),l=(a*i+s*r)/(r+i);return(LO(a)+LO(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function RO(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function n5(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,s-l*n,a,s)}function ix(e){this._context=e}ix.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:n5(this,this._t0,RO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,n5(this,RO(this,n=IO(this,e,t)),n);break;default:n5(this,this._t0,n=IO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function j$(e){this._context=new S$(e)}(j$.prototype=Object.create(ix.prototype)).point=function(e,t){ix.prototype.point.call(this,t,e)};function S$(e){this._context=e}S$.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function pse(e){return new ix(e)}function mse(e){return new j$(e)}function N$(e){this._context=e}N$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=MO(e),i=MO(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function MO(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function gse(e){return new N$(e)}function F1(e,t){this._context=e,this._t=t}F1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function vse(e){return new F1(e,.5)}function yse(e){return new F1(e,0)}function xse(e){return new F1(e,1)}function Xp(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,l=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ZS(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function bse(e,t){return e[t]}function wse(e){const t=[];return t.key=e,t}function _se(){var e=Rr([]),t=ZS,n=Xp,r=bse;function i(a){var s=Array.from(e.apply(this,arguments),wse),l,c=s.length,d=-1,h;for(const p of a)for(l=0,++d;l<c;++l)(s[l][d]=[0,+r(p,s[l].key,d,a)]).data=p;for(l=0,h=IA(t(s));l<c;++l)s[h[l]].index=l;return n(s,h),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Rr(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Rr(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?ZS:typeof a=="function"?a:Rr(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Xp,i):n},i}function jse(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Xp(e,t)}}function Sse(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,l=0;s<i;++s)l+=e[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}Xp(e,t)}}function Nse(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var l=0,c=0,d=0;l<s;++l){for(var h=e[t[l]],p=h[r][1]||0,g=h[r-1][1]||0,m=(p-g)/2,b=0;b<l;++b){var x=e[t[b]],y=x[r][1]||0,w=x[r-1][1]||0;m+=y-w}c+=p,d+=m*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,Xp(e,t)}}function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}var Ase=["type","size","sizeType"];function eN(){return eN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eN.apply(this,arguments)}function zO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(n),!0).forEach(function(r){Cse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cse(e,t,n){return t=Pse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pse(e){var t=Ese(e,"string");return Gg(t)=="symbol"?t:t+""}function Ese(e,t){if(Gg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kse(e,t){if(e==null)return{};var n=Ose(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ose(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var A$={symbolCircle:RA,symbolCross:Joe,symbolDiamond:ese,symbolSquare:tse,symbolStar:ase,symbolTriangle:ose,symbolWye:lse},Tse=Math.PI/180,Dse=function(t){var n="symbol".concat(R1(t));return A$[n]||RA},Lse=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*Tse;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Ise=function(t,n){A$["symbol".concat(R1(t))]=n},MA=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,a=i===void 0?64:i,s=t.sizeType,l=s===void 0?"area":s,c=kse(t,Ase),d=FO(FO({},c),{},{type:r,size:a,sizeType:l}),h=function(){var y=Dse(r),w=cse().type(y).size(Lse(a,l,r));return w()},p=d.className,g=d.cx,m=d.cy,b=tr(d,!0);return g===+g&&m===+m&&a===+a?ve.createElement("path",eN({},b,{className:Xn("recharts-symbols",p),transform:"translate(".concat(g,", ").concat(m,")"),d:h()})):null};MA.registerSymbol=Ise;function Qp(e){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qp(e)}function tN(){return tN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tN.apply(this,arguments)}function $O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rse(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(n),!0).forEach(function(r){Kg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zse(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,P$(r.key),r)}}function Fse(e,t,n){return t&&zse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $se(e,t,n){return t=ax(t),qse(e,C$()?Reflect.construct(t,n||[],ax(e).constructor):t.apply(e,n))}function qse(e,t){if(t&&(Qp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bse(e)}function Bse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C$=function(){return!!e})()}function ax(e){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ax(e)}function Use(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nN(e,t)}function nN(e,t){return nN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nN(e,t)}function Kg(e,t,n){return t=P$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P$(e){var t=Hse(e,"string");return Qp(t)=="symbol"?t:t+""}function Hse(e,t){if(Qp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ms=32,zA=(function(e){function t(){return Mse(this,t),$se(this,t,arguments)}return Use(t,e),Fse(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=ms/2,s=ms/6,l=ms/3,c=r.inactive?i:r.color;if(r.type==="plainline")return ve.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:ms,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return ve.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(ms,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return ve.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ms/8,"h").concat(ms,"v").concat(ms*3/4,"h").concat(-ms,"z"),className:"recharts-legend-icon"});if(ve.isValidElement(r.legendIcon)){var d=Rse({},r);return delete d.legendIcon,ve.cloneElement(r.legendIcon,d)}return ve.createElement(MA,{fill:c,cx:a,cy:a,size:ms,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,d=i.inactiveColor,h={x:0,y:0,width:ms,height:ms},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,b){var x=m.formatter||c,y=Xn(Kg(Kg({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",m.inactive));if(m.type==="none")return null;var w=In(m.value)?null:m.value;iu(!In(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=m.inactive?d:m.color;return ve.createElement("li",tN({className:y,style:p,key:"legend-item-".concat(b)},Zy(r.props,m,b)),ve.createElement(KS,{width:s,height:s,viewBox:h,style:g},r.renderIcon(m)),ve.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},x?x(w,m,b):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return ve.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(j.PureComponent);Kg(zA,"displayName","Legend");Kg(zA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var r5,qO;function Wse(){if(qO)return r5;qO=1;var e=T1();function t(){this.__data__=new e,this.size=0}return r5=t,r5}var i5,BO;function Vse(){if(BO)return i5;BO=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return i5=e,i5}var a5,UO;function Gse(){if(UO)return a5;UO=1;function e(t){return this.__data__.get(t)}return a5=e,a5}var o5,HO;function Kse(){if(HO)return o5;HO=1;function e(t){return this.__data__.has(t)}return o5=e,o5}var s5,WO;function Yse(){if(WO)return s5;WO=1;var e=T1(),t=PA(),n=EA(),r=200;function i(a,s){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<r-1)return c.push([a,s]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(a,s),this.size=l.size,this}return s5=i,s5}var l5,VO;function E$(){if(VO)return l5;VO=1;var e=T1(),t=Wse(),n=Vse(),r=Gse(),i=Kse(),a=Yse();function s(l){var c=this.__data__=new e(l);this.size=c.size}return s.prototype.clear=t,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=a,l5=s,l5}var c5,GO;function Xse(){if(GO)return c5;GO=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return c5=t,c5}var u5,KO;function Qse(){if(KO)return u5;KO=1;function e(t){return this.__data__.has(t)}return u5=e,u5}var d5,YO;function k$(){if(YO)return d5;YO=1;var e=EA(),t=Xse(),n=Qse();function r(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new e;++a<s;)this.add(i[a])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,d5=r,d5}var f5,XO;function O$(){if(XO)return f5;XO=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return f5=e,f5}var h5,QO;function T$(){if(QO)return h5;QO=1;function e(t,n){return t.has(n)}return h5=e,h5}var p5,JO;function D$(){if(JO)return p5;JO=1;var e=k$(),t=O$(),n=T$(),r=1,i=2;function a(s,l,c,d,h,p){var g=c&r,m=s.length,b=l.length;if(m!=b&&!(g&&b>m))return!1;var x=p.get(s),y=p.get(l);if(x&&y)return x==l&&y==s;var w=-1,A=!0,C=c&i?new e:void 0;for(p.set(s,l),p.set(l,s);++w<m;){var P=s[w],E=l[w];if(d)var I=g?d(E,P,w,l,s,p):d(P,E,w,s,l,p);if(I!==void 0){if(I)continue;A=!1;break}if(C){if(!t(l,function(z,O){if(!n(C,O)&&(P===z||h(P,z,c,d,p)))return C.push(O)})){A=!1;break}}else if(!(P===E||h(P,E,c,d,p))){A=!1;break}}return p.delete(s),p.delete(l),A}return p5=a,p5}var m5,ZO;function Jse(){if(ZO)return m5;ZO=1;var e=ac(),t=e.Uint8Array;return m5=t,m5}var g5,eT;function Zse(){if(eT)return g5;eT=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,a){r[++n]=[a,i]}),r}return g5=e,g5}var v5,tT;function FA(){if(tT)return v5;tT=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return v5=e,v5}var y5,nT;function ele(){if(nT)return y5;nT=1;var e=Hv(),t=Jse(),n=CA(),r=D$(),i=Zse(),a=FA(),s=1,l=2,c="[object Boolean]",d="[object Date]",h="[object Error]",p="[object Map]",g="[object Number]",m="[object RegExp]",b="[object Set]",x="[object String]",y="[object Symbol]",w="[object ArrayBuffer]",A="[object DataView]",C=e?e.prototype:void 0,P=C?C.valueOf:void 0;function E(I,z,O,F,G,R,k){switch(O){case A:if(I.byteLength!=z.byteLength||I.byteOffset!=z.byteOffset)return!1;I=I.buffer,z=z.buffer;case w:return!(I.byteLength!=z.byteLength||!R(new t(I),new t(z)));case c:case d:case g:return n(+I,+z);case h:return I.name==z.name&&I.message==z.message;case m:case x:return I==z+"";case p:var B=i;case b:var U=F&s;if(B||(B=a),I.size!=z.size&&!U)return!1;var M=k.get(I);if(M)return M==z;F|=l,k.set(I,z);var X=r(B(I),B(z),F,G,R,k);return k.delete(I),X;case y:if(P)return P.call(I)==P.call(z)}return!1}return y5=E,y5}var x5,rT;function L$(){if(rT)return x5;rT=1;function e(t,n){for(var r=-1,i=n.length,a=t.length;++r<i;)t[a+r]=n[r];return t}return x5=e,x5}var b5,iT;function tle(){if(iT)return b5;iT=1;var e=L$(),t=wo();function n(r,i,a){var s=i(r);return t(r)?s:e(s,a(r))}return b5=n,b5}var w5,aT;function nle(){if(aT)return w5;aT=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=0,s=[];++r<i;){var l=t[r];n(l,r,t)&&(s[a++]=l)}return s}return w5=e,w5}var _5,oT;function rle(){if(oT)return _5;oT=1;function e(){return[]}return _5=e,_5}var j5,sT;function ile(){if(sT)return j5;sT=1;var e=nle(),t=rle(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),e(i(s),function(l){return r.call(s,l)}))}:t;return j5=a,j5}var S5,lT;function ale(){if(lT)return S5;lT=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return S5=e,S5}var N5,cT;function ole(){if(cT)return N5;cT=1;var e=xu(),t=bu(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return N5=r,N5}var A5,uT;function $A(){if(uT)return A5;uT=1;var e=ole(),t=bu(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=e((function(){return arguments})())?e:function(s){return t(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return A5=a,A5}var Ng={exports:{}},C5,dT;function sle(){if(dT)return C5;dT=1;function e(){return!1}return C5=e,C5}Ng.exports;var fT;function I$(){return fT||(fT=1,(function(e,t){var n=ac(),r=sle(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,l=s?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||r;e.exports=d})(Ng,Ng.exports)),Ng.exports}var P5,hT;function qA(){if(hT)return P5;hT=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return P5=n,P5}var E5,pT;function BA(){if(pT)return E5;pT=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return E5=t,E5}var k5,mT;function lle(){if(mT)return k5;mT=1;var e=xu(),t=BA(),n=bu(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",h="[object Number]",p="[object Object]",g="[object RegExp]",m="[object Set]",b="[object String]",x="[object WeakMap]",y="[object ArrayBuffer]",w="[object DataView]",A="[object Float32Array]",C="[object Float64Array]",P="[object Int8Array]",E="[object Int16Array]",I="[object Int32Array]",z="[object Uint8Array]",O="[object Uint8ClampedArray]",F="[object Uint16Array]",G="[object Uint32Array]",R={};R[A]=R[C]=R[P]=R[E]=R[I]=R[z]=R[O]=R[F]=R[G]=!0,R[r]=R[i]=R[y]=R[a]=R[w]=R[s]=R[l]=R[c]=R[d]=R[h]=R[p]=R[g]=R[m]=R[b]=R[x]=!1;function k(B){return n(B)&&t(B.length)&&!!R[e(B)]}return k5=k,k5}var O5,gT;function R$(){if(gT)return O5;gT=1;function e(t){return function(n){return t(n)}}return O5=e,O5}var Ag={exports:{}};Ag.exports;var vT;function cle(){return vT||(vT=1,(function(e,t){var n=n$(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,s=a&&n.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();e.exports=l})(Ag,Ag.exports)),Ag.exports}var T5,yT;function M$(){if(yT)return T5;yT=1;var e=lle(),t=R$(),n=cle(),r=n&&n.isTypedArray,i=r?t(r):e;return T5=i,T5}var D5,xT;function ule(){if(xT)return D5;xT=1;var e=ale(),t=$A(),n=wo(),r=I$(),i=qA(),a=M$(),s=Object.prototype,l=s.hasOwnProperty;function c(d,h){var p=n(d),g=!p&&t(d),m=!p&&!g&&r(d),b=!p&&!g&&!m&&a(d),x=p||g||m||b,y=x?e(d.length,String):[],w=y.length;for(var A in d)(h||l.call(d,A))&&!(x&&(A=="length"||m&&(A=="offset"||A=="parent")||b&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||i(A,w)))&&y.push(A);return y}return D5=c,D5}var L5,bT;function dle(){if(bT)return L5;bT=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return L5=t,L5}var I5,wT;function z$(){if(wT)return I5;wT=1;function e(t,n){return function(r){return t(n(r))}}return I5=e,I5}var R5,_T;function fle(){if(_T)return R5;_T=1;var e=z$(),t=e(Object.keys,Object);return R5=t,R5}var M5,jT;function hle(){if(jT)return M5;jT=1;var e=dle(),t=fle(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!e(a))return t(a);var s=[];for(var l in Object(a))r.call(a,l)&&l!="constructor"&&s.push(l);return s}return M5=i,M5}var z5,ST;function Vv(){if(ST)return z5;ST=1;var e=AA(),t=BA();function n(r){return r!=null&&t(r.length)&&!e(r)}return z5=n,z5}var F5,NT;function $1(){if(NT)return F5;NT=1;var e=ule(),t=hle(),n=Vv();function r(i){return n(i)?e(i):t(i)}return F5=r,F5}var $5,AT;function ple(){if(AT)return $5;AT=1;var e=tle(),t=ile(),n=$1();function r(i){return e(i,n,t)}return $5=r,$5}var q5,CT;function mle(){if(CT)return q5;CT=1;var e=ple(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,s,l,c,d,h){var p=l&t,g=e(a),m=g.length,b=e(s),x=b.length;if(m!=x&&!p)return!1;for(var y=m;y--;){var w=g[y];if(!(p?w in s:r.call(s,w)))return!1}var A=h.get(a),C=h.get(s);if(A&&C)return A==s&&C==a;var P=!0;h.set(a,s),h.set(s,a);for(var E=p;++y<m;){w=g[y];var I=a[w],z=s[w];if(c)var O=p?c(z,I,w,s,a,h):c(I,z,w,a,s,h);if(!(O===void 0?I===z||d(I,z,l,c,h):O)){P=!1;break}E||(E=w=="constructor")}if(P&&!E){var F=a.constructor,G=s.constructor;F!=G&&"constructor"in a&&"constructor"in s&&!(typeof F=="function"&&F instanceof F&&typeof G=="function"&&G instanceof G)&&(P=!1)}return h.delete(a),h.delete(s),P}return q5=i,q5}var B5,PT;function gle(){if(PT)return B5;PT=1;var e=jh(),t=ac(),n=e(t,"DataView");return B5=n,B5}var U5,ET;function vle(){if(ET)return U5;ET=1;var e=jh(),t=ac(),n=e(t,"Promise");return U5=n,U5}var H5,kT;function F$(){if(kT)return H5;kT=1;var e=jh(),t=ac(),n=e(t,"Set");return H5=n,H5}var W5,OT;function yle(){if(OT)return W5;OT=1;var e=jh(),t=ac(),n=e(t,"WeakMap");return W5=n,W5}var V5,TT;function xle(){if(TT)return V5;TT=1;var e=gle(),t=PA(),n=vle(),r=F$(),i=yle(),a=xu(),s=r$(),l="[object Map]",c="[object Object]",d="[object Promise]",h="[object Set]",p="[object WeakMap]",g="[object DataView]",m=s(e),b=s(t),x=s(n),y=s(r),w=s(i),A=a;return(e&&A(new e(new ArrayBuffer(1)))!=g||t&&A(new t)!=l||n&&A(n.resolve())!=d||r&&A(new r)!=h||i&&A(new i)!=p)&&(A=function(C){var P=a(C),E=P==c?C.constructor:void 0,I=E?s(E):"";if(I)switch(I){case m:return g;case b:return l;case x:return d;case y:return h;case w:return p}return P}),V5=A,V5}var G5,DT;function ble(){if(DT)return G5;DT=1;var e=E$(),t=D$(),n=ele(),r=mle(),i=xle(),a=wo(),s=I$(),l=M$(),c=1,d="[object Arguments]",h="[object Array]",p="[object Object]",g=Object.prototype,m=g.hasOwnProperty;function b(x,y,w,A,C,P){var E=a(x),I=a(y),z=E?h:i(x),O=I?h:i(y);z=z==d?p:z,O=O==d?p:O;var F=z==p,G=O==p,R=z==O;if(R&&s(x)){if(!s(y))return!1;E=!0,F=!1}if(R&&!F)return P||(P=new e),E||l(x)?t(x,y,w,A,C,P):n(x,y,z,w,A,C,P);if(!(w&c)){var k=F&&m.call(x,"__wrapped__"),B=G&&m.call(y,"__wrapped__");if(k||B){var U=k?x.value():x,M=B?y.value():y;return P||(P=new e),C(U,M,w,A,P)}}return R?(P||(P=new e),r(x,y,w,A,C,P)):!1}return G5=b,G5}var K5,LT;function UA(){if(LT)return K5;LT=1;var e=ble(),t=bu();function n(r,i,a,s,l){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,a,s,n,l)}return K5=n,K5}var Y5,IT;function wle(){if(IT)return Y5;IT=1;var e=E$(),t=UA(),n=1,r=2;function i(a,s,l,c){var d=l.length,h=d,p=!c;if(a==null)return!h;for(a=Object(a);d--;){var g=l[d];if(p&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++d<h;){g=l[d];var m=g[0],b=a[m],x=g[1];if(p&&g[2]){if(b===void 0&&!(m in a))return!1}else{var y=new e;if(c)var w=c(b,x,m,a,s,y);if(!(w===void 0?t(x,b,n|r,c,y):w))return!1}}return!0}return Y5=i,Y5}var X5,RT;function $$(){if(RT)return X5;RT=1;var e=Ud();function t(n){return n===n&&!e(n)}return X5=t,X5}var Q5,MT;function _le(){if(MT)return Q5;MT=1;var e=$$(),t=$1();function n(r){for(var i=t(r),a=i.length;a--;){var s=i[a],l=r[s];i[a]=[s,l,e(l)]}return i}return Q5=n,Q5}var J5,zT;function q$(){if(zT)return J5;zT=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return J5=e,J5}var Z5,FT;function jle(){if(FT)return Z5;FT=1;var e=wle(),t=_le(),n=q$();function r(i){var a=t(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(s){return s===i||e(s,i,a)}}return Z5=r,Z5}var e_,$T;function Sle(){if($T)return e_;$T=1;function e(t,n){return t!=null&&n in Object(t)}return e_=e,e_}var t_,qT;function Nle(){if(qT)return t_;qT=1;var e=o$(),t=$A(),n=wo(),r=qA(),i=BA(),a=L1();function s(l,c,d){c=e(c,l);for(var h=-1,p=c.length,g=!1;++h<p;){var m=a(c[h]);if(!(g=l!=null&&d(l,m)))break;l=l[m]}return g||++h!=p?g:(p=l==null?0:l.length,!!p&&i(p)&&r(m,p)&&(n(l)||t(l)))}return t_=s,t_}var n_,BT;function Ale(){if(BT)return n_;BT=1;var e=Sle(),t=Nle();function n(r,i){return r!=null&&t(r,i,e)}return n_=n,n_}var r_,UT;function Cle(){if(UT)return r_;UT=1;var e=UA(),t=s$(),n=Ale(),r=NA(),i=$$(),a=q$(),s=L1(),l=1,c=2;function d(h,p){return r(h)&&i(p)?a(s(h),p):function(g){var m=t(g,h);return m===void 0&&m===p?n(g,h):e(p,m,l|c)}}return r_=d,r_}var i_,HT;function Em(){if(HT)return i_;HT=1;function e(t){return t}return i_=e,i_}var a_,WT;function Ple(){if(WT)return a_;WT=1;function e(t){return function(n){return n==null?void 0:n[t]}}return a_=e,a_}var o_,VT;function Ele(){if(VT)return o_;VT=1;var e=OA();function t(n){return function(r){return e(r,n)}}return o_=t,o_}var s_,GT;function kle(){if(GT)return s_;GT=1;var e=Ple(),t=Ele(),n=NA(),r=L1();function i(a){return n(a)?e(r(a)):t(a)}return s_=i,s_}var l_,KT;function Hd(){if(KT)return l_;KT=1;var e=jle(),t=Cle(),n=Em(),r=wo(),i=kle();function a(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?t(s[0],s[1]):e(s):i(s)}return l_=a,l_}var c_,YT;function B$(){if(YT)return c_;YT=1;function e(t,n,r,i){for(var a=t.length,s=r+(i?1:-1);i?s--:++s<a;)if(n(t[s],s,t))return s;return-1}return c_=e,c_}var u_,XT;function Ole(){if(XT)return u_;XT=1;function e(t){return t!==t}return u_=e,u_}var d_,QT;function Tle(){if(QT)return d_;QT=1;function e(t,n,r){for(var i=r-1,a=t.length;++i<a;)if(t[i]===n)return i;return-1}return d_=e,d_}var f_,JT;function Dle(){if(JT)return f_;JT=1;var e=B$(),t=Ole(),n=Tle();function r(i,a,s){return a===a?n(i,a,s):e(i,t,s)}return f_=r,f_}var h_,ZT;function Lle(){if(ZT)return h_;ZT=1;var e=Dle();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return h_=t,h_}var p_,e6;function Ile(){if(e6)return p_;e6=1;function e(t,n,r){for(var i=-1,a=t==null?0:t.length;++i<a;)if(r(n,t[i]))return!0;return!1}return p_=e,p_}var m_,t6;function Rle(){if(t6)return m_;t6=1;function e(){}return m_=e,m_}var g_,n6;function Mle(){if(n6)return g_;n6=1;var e=F$(),t=Rle(),n=FA(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(a){return new e(a)}:t;return g_=i,g_}var v_,r6;function zle(){if(r6)return v_;r6=1;var e=k$(),t=Lle(),n=Ile(),r=T$(),i=Mle(),a=FA(),s=200;function l(c,d,h){var p=-1,g=t,m=c.length,b=!0,x=[],y=x;if(h)b=!1,g=n;else if(m>=s){var w=d?null:i(c);if(w)return a(w);b=!1,g=r,y=new e}else y=d?[]:x;e:for(;++p<m;){var A=c[p],C=d?d(A):A;if(A=h||A!==0?A:0,b&&C===C){for(var P=y.length;P--;)if(y[P]===C)continue e;d&&y.push(C),x.push(A)}else g(y,C,h)||(y!==x&&y.push(C),x.push(A))}return x}return v_=l,v_}var y_,i6;function Fle(){if(i6)return y_;i6=1;var e=Hd(),t=zle();function n(r,i){return r&&r.length?t(r,e(i,2)):[]}return y_=n,y_}var $le=Fle();const a6=gr($le);function U$(e,t,n){return t===!0?a6(e,n):In(t)?a6(e,t):e}function Jp(e){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jp(e)}var qle=["ref"];function o6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o6(Object(n),!0).forEach(function(r){q1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ble(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W$(r.key),r)}}function Ule(e,t,n){return t&&s6(e.prototype,t),n&&s6(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hle(e,t,n){return t=ox(t),Wle(e,H$()?Reflect.construct(t,n||[],ox(e).constructor):t.apply(e,n))}function Wle(e,t){if(t&&(Jp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vle(e)}function Vle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H$=function(){return!!e})()}function ox(e){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ox(e)}function Gle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rN(e,t)}function rN(e,t){return rN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rN(e,t)}function q1(e,t,n){return t=W$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W$(e){var t=Kle(e,"string");return Jp(t)=="symbol"?t:t+""}function Kle(e,t){if(Jp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Yle(e,t){if(e==null)return{};var n=Xle(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Xle(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Qle(e){return e.value}function Jle(e,t){if(ve.isValidElement(e))return ve.cloneElement(e,t);if(typeof e=="function")return ve.createElement(e,t);t.ref;var n=Yle(t,qle);return ve.createElement(zA,n)}var l6=1,Qf=(function(e){function t(){var n;Ble(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Hle(this,t,[].concat(i)),q1(n,"lastBoundingBox",{width:-1,height:-1}),n}return Gle(t,e),Ule(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>l6||Math.abs(i.height-this.lastBoundingBox.height)>l6)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Hc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,d=i.chartWidth,h=i.chartHeight,p,g;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();p={left:((d||0)-m.width)/2}}else p=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();g={top:((h||0)-b.height)/2}}else g=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Hc(Hc({},p),g)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,l=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,h=i.payload,p=Hc(Hc({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ve.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(m){r.wrapperNode=m}},Jle(a,Hc(Hc({},this.props),{},{payload:U$(h,d,Qle)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Hc(Hc({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&gt(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])})(j.PureComponent);q1(Qf,"displayName","Legend");q1(Qf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var x_,c6;function Zle(){if(c6)return x_;c6=1;var e=Hv(),t=$A(),n=wo(),r=e?e.isConcatSpreadable:void 0;function i(a){return n(a)||t(a)||!!(r&&a&&a[r])}return x_=i,x_}var b_,u6;function V$(){if(u6)return b_;u6=1;var e=L$(),t=Zle();function n(r,i,a,s,l){var c=-1,d=r.length;for(a||(a=t),l||(l=[]);++c<d;){var h=r[c];i>0&&a(h)?i>1?n(h,i-1,a,s,l):e(l,h):s||(l[l.length]=h)}return l}return b_=n,b_}var w_,d6;function ece(){if(d6)return w_;d6=1;function e(t){return function(n,r,i){for(var a=-1,s=Object(n),l=i(n),c=l.length;c--;){var d=l[t?c:++a];if(r(s[d],d,s)===!1)break}return n}}return w_=e,w_}var __,f6;function tce(){if(f6)return __;f6=1;var e=ece(),t=e();return __=t,__}var j_,h6;function G$(){if(h6)return j_;h6=1;var e=tce(),t=$1();function n(r,i){return r&&e(r,i,t)}return j_=n,j_}var S_,p6;function nce(){if(p6)return S_;p6=1;var e=Vv();function t(n,r){return function(i,a){if(i==null)return i;if(!e(i))return n(i,a);for(var s=i.length,l=r?s:-1,c=Object(i);(r?l--:++l<s)&&a(c[l],l,c)!==!1;);return i}}return S_=t,S_}var N_,m6;function HA(){if(m6)return N_;m6=1;var e=G$(),t=nce(),n=t(e);return N_=n,N_}var A_,g6;function K$(){if(g6)return A_;g6=1;var e=HA(),t=Vv();function n(r,i){var a=-1,s=t(r)?Array(r.length):[];return e(r,function(l,c,d){s[++a]=i(l,c,d)}),s}return A_=n,A_}var C_,v6;function rce(){if(v6)return C_;v6=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return C_=e,C_}var P_,y6;function ice(){if(y6)return P_;y6=1;var e=Cm();function t(n,r){if(n!==r){var i=n!==void 0,a=n===null,s=n===n,l=e(n),c=r!==void 0,d=r===null,h=r===r,p=e(r);if(!d&&!p&&!l&&n>r||l&&c&&h&&!d&&!p||a&&c&&h||!i&&h||!s)return 1;if(!a&&!l&&!p&&n<r||p&&i&&s&&!a&&!l||d&&i&&s||!c&&s||!h)return-1}return 0}return P_=t,P_}var E_,x6;function ace(){if(x6)return E_;x6=1;var e=ice();function t(n,r,i){for(var a=-1,s=n.criteria,l=r.criteria,c=s.length,d=i.length;++a<c;){var h=e(s[a],l[a]);if(h){if(a>=d)return h;var p=i[a];return h*(p=="desc"?-1:1)}}return n.index-r.index}return E_=t,E_}var k_,b6;function oce(){if(b6)return k_;b6=1;var e=kA(),t=OA(),n=Hd(),r=K$(),i=rce(),a=R$(),s=ace(),l=Em(),c=wo();function d(h,p,g){p.length?p=e(p,function(x){return c(x)?function(y){return t(y,x.length===1?x[0]:x)}:x}):p=[l];var m=-1;p=e(p,a(n));var b=r(h,function(x,y,w){var A=e(p,function(C){return C(x)});return{criteria:A,index:++m,value:x}});return i(b,function(x,y){return s(x,y,g)})}return k_=d,k_}var O_,w6;function sce(){if(w6)return O_;w6=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return O_=e,O_}var T_,_6;function lce(){if(_6)return T_;_6=1;var e=sce(),t=Math.max;function n(r,i,a){return i=t(i===void 0?r.length-1:i,0),function(){for(var s=arguments,l=-1,c=t(s.length-i,0),d=Array(c);++l<c;)d[l]=s[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=s[l];return h[i]=a(d),e(r,this,h)}}return T_=n,T_}var D_,j6;function cce(){if(j6)return D_;j6=1;function e(t){return function(){return t}}return D_=e,D_}var L_,S6;function Y$(){if(S6)return L_;S6=1;var e=jh(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return L_=t,L_}var I_,N6;function uce(){if(N6)return I_;N6=1;var e=cce(),t=Y$(),n=Em(),r=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:n;return I_=r,I_}var R_,A6;function dce(){if(A6)return R_;A6=1;var e=800,t=16,n=Date.now;function r(i){var a=0,s=0;return function(){var l=n(),c=t-(l-s);if(s=l,c>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return R_=r,R_}var M_,C6;function fce(){if(C6)return M_;C6=1;var e=uce(),t=dce(),n=t(e);return M_=n,M_}var z_,P6;function hce(){if(P6)return z_;P6=1;var e=Em(),t=lce(),n=fce();function r(i,a){return n(t(i,a,e),i+"")}return z_=r,z_}var F_,E6;function B1(){if(E6)return F_;E6=1;var e=CA(),t=Vv(),n=qA(),r=Ud();function i(a,s,l){if(!r(l))return!1;var c=typeof s;return(c=="number"?t(l)&&n(s,l.length):c=="string"&&s in l)?e(l[s],a):!1}return F_=i,F_}var $_,k6;function pce(){if(k6)return $_;k6=1;var e=V$(),t=oce(),n=hce(),r=B1(),i=n(function(a,s){if(a==null)return[];var l=s.length;return l>1&&r(a,s[0],s[1])?s=[]:l>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),t(a,e(s,1),[])});return $_=i,$_}var mce=pce();const WA=gr(mce);function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}function iN(){return iN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iN.apply(this,arguments)}function gce(e,t){return bce(e)||xce(e,t)||yce(e,t)||vce()}function vce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yce(e,t){if(e){if(typeof e=="string")return O6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O6(e,t)}}function O6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xce(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function bce(e){if(Array.isArray(e))return e}function T6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function q_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T6(Object(n),!0).forEach(function(r){wce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wce(e,t,n){return t=_ce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ce(e){var t=jce(e,"string");return Yg(t)=="symbol"?t:t+""}function jce(e,t){if(Yg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sce(e){return Array.isArray(e)&&qi(e[0])&&qi(e[1])?e.join(" ~ "):e}var Nce=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,a=i===void 0?{}:i,s=t.itemStyle,l=s===void 0?{}:s,c=t.labelStyle,d=c===void 0?{}:c,h=t.payload,p=t.formatter,g=t.itemSorter,m=t.wrapperClassName,b=t.labelClassName,x=t.label,y=t.labelFormatter,w=t.accessibilityLayer,A=w===void 0?!1:w,C=function(){if(h&&h.length){var k={padding:0,margin:0},B=(g?WA(h,g):h).map(function(U,M){if(U.type==="none")return null;var X=q_({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},l),Q=U.formatter||p||Sce,K=U.value,Y=U.name,ne=K,H=Y;if(Q&&ne!=null&&H!=null){var T=Q(K,Y,U,M,h);if(Array.isArray(T)){var V=gce(T,2);ne=V[0],H=V[1]}else ne=T}return ve.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:X},qi(H)?ve.createElement("span",{className:"recharts-tooltip-item-name"},H):null,qi(H)?ve.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ve.createElement("span",{className:"recharts-tooltip-item-value"},ne),ve.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return ve.createElement("ul",{className:"recharts-tooltip-item-list",style:k},B)}return null},P=q_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=q_({margin:0},d),I=!nr(x),z=I?x:"",O=Xn("recharts-default-tooltip",m),F=Xn("recharts-tooltip-label",b);I&&y&&h!==void 0&&h!==null&&(z=y(x,h));var G=A?{role:"status","aria-live":"assertive"}:{};return ve.createElement("div",iN({className:O,style:P},G),ve.createElement("p",{className:F,style:E},ve.isValidElement(z)?z:"".concat(z)),C())};function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function ny(e,t,n){return t=Ace(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ace(e){var t=Cce(e,"string");return Xg(t)=="symbol"?t:t+""}function Cce(e,t){if(Xg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hg="recharts-tooltip-wrapper",Pce={visibility:"hidden"};function Ece(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Xn(hg,ny(ny(ny(ny({},"".concat(hg,"-right"),gt(n)&&t&&gt(t.x)&&n>=t.x),"".concat(hg,"-left"),gt(n)&&t&&gt(t.x)&&n<t.x),"".concat(hg,"-bottom"),gt(r)&&t&&gt(t.y)&&r>=t.y),"".concat(hg,"-top"),gt(r)&&t&&gt(t.y)&&r<t.y))}function D6(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(a&&gt(a[r]))return a[r];var h=n[r]-l-i,p=n[r]+i;if(t[r])return s[r]?h:p;if(s[r]){var g=h,m=c[r];return g<m?Math.max(p,c[r]):Math.max(h,c[r])}var b=p+l,x=c[r]+d;return b>x?Math.max(h,c[r]):Math.max(p,c[r])}function kce(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Oce(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,a=e.reverseDirection,s=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,h,p;return s.height>0&&s.width>0&&n?(h=D6({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=D6({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),d=kce({translateX:h,translateY:p,useTranslate3d:l})):d=Pce,{cssProperties:d,cssClasses:Ece({translateX:h,translateY:p,coordinate:n})}}function Zp(e){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zp(e)}function L6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function I6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L6(Object(n),!0).forEach(function(r){oN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Q$(r.key),r)}}function Lce(e,t,n){return t&&Dce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ice(e,t,n){return t=sx(t),Rce(e,X$()?Reflect.construct(t,n||[],sx(e).constructor):t.apply(e,n))}function Rce(e,t){if(t&&(Zp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mce(e)}function Mce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X$=function(){return!!e})()}function sx(e){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sx(e)}function zce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aN(e,t)}function aN(e,t){return aN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aN(e,t)}function oN(e,t,n){return t=Q$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q$(e){var t=Fce(e,"string");return Zp(t)=="symbol"?t:t+""}function Fce(e,t){if(Zp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var R6=1,$ce=(function(e){function t(){var n;Tce(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Ice(this,t,[].concat(i)),oN(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),oN(n,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,d,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&d!==void 0?d:0}})}}),n}return zce(t,e),Lce(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>R6||Math.abs(r.height-this.state.lastBoundingBox.height)>R6)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.children,h=i.coordinate,p=i.hasPayload,g=i.isAnimationActive,m=i.offset,b=i.position,x=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,A=i.wrapperStyle,C=Oce({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:m,position:b,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:w}),P=C.cssClasses,E=C.cssProperties,I=I6(I6({transition:g&&a?"transform ".concat(l,"ms ").concat(c):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&p?"visible":"hidden",position:"absolute",top:0,left:0},A);return ve.createElement("div",{tabIndex:-1,className:P,style:I,ref:function(O){r.wrapperNode=O}},d)}}])})(j.PureComponent),qce=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Gv={isSsr:qce()};function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}function M6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function z6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M6(Object(n),!0).forEach(function(r){VA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Z$(r.key),r)}}function Hce(e,t,n){return t&&Uce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wce(e,t,n){return t=lx(t),Vce(e,J$()?Reflect.construct(t,n||[],lx(e).constructor):t.apply(e,n))}function Vce(e,t){if(t&&(em(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gce(e)}function Gce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J$=function(){return!!e})()}function lx(e){return lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lx(e)}function Kce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sN(e,t)}function sN(e,t){return sN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sN(e,t)}function VA(e,t,n){return t=Z$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z$(e){var t=Yce(e,"string");return em(t)=="symbol"?t:t+""}function Yce(e,t){if(em(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Xce(e){return e.dataKey}function Qce(e,t){return ve.isValidElement(e)?ve.cloneElement(e,t):typeof e=="function"?ve.createElement(e,t):ve.createElement(Nce,t)}var $o=(function(e){function t(){return Bce(this,t),Wce(this,t,arguments)}return Kce(t,e),Hce(t,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.content,h=i.coordinate,p=i.filterNull,g=i.isAnimationActive,m=i.offset,b=i.payload,x=i.payloadUniqBy,y=i.position,w=i.reverseDirection,A=i.useTranslate3d,C=i.viewBox,P=i.wrapperStyle,E=b??[];p&&E.length&&(E=U$(b.filter(function(z){return z.value!=null&&(z.hide!==!0||r.props.includeHidden)}),x,Xce));var I=E.length>0;return ve.createElement($ce,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:g,active:a,coordinate:h,hasPayload:I,offset:m,position:y,reverseDirection:w,useTranslate3d:A,viewBox:C,wrapperStyle:P},Qce(d,z6(z6({},this.props),{},{payload:E})))}}])})(j.PureComponent);VA($o,"displayName","Tooltip");VA($o,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Gv.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var B_,F6;function Jce(){if(F6)return B_;F6=1;var e=ac(),t=function(){return e.Date.now()};return B_=t,B_}var U_,$6;function Zce(){if($6)return U_;$6=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return U_=t,U_}var H_,q6;function eue(){if(q6)return H_;q6=1;var e=Zce(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return H_=n,H_}var W_,B6;function e9(){if(B6)return W_;B6=1;var e=eue(),t=Ud(),n=Cm(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(n(d))return r;if(t(d)){var h=typeof d.valueOf=="function"?d.valueOf():d;d=t(h)?h+"":h}if(typeof d!="string")return d===0?d:+d;d=e(d);var p=a.test(d);return p||s.test(d)?l(d.slice(2),p?2:8):i.test(d)?r:+d}return W_=c,W_}var V_,U6;function tue(){if(U6)return V_;U6=1;var e=Ud(),t=Jce(),n=e9(),r="Expected a function",i=Math.max,a=Math.min;function s(l,c,d){var h,p,g,m,b,x,y=0,w=!1,A=!1,C=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,e(d)&&(w=!!d.leading,A="maxWait"in d,g=A?i(n(d.maxWait)||0,c):g,C="trailing"in d?!!d.trailing:C);function P(B){var U=h,M=p;return h=p=void 0,y=B,m=l.apply(M,U),m}function E(B){return y=B,b=setTimeout(O,c),w?P(B):m}function I(B){var U=B-x,M=B-y,X=c-U;return A?a(X,g-M):X}function z(B){var U=B-x,M=B-y;return x===void 0||U>=c||U<0||A&&M>=g}function O(){var B=t();if(z(B))return F(B);b=setTimeout(O,I(B))}function F(B){return b=void 0,C&&h?P(B):(h=p=void 0,m)}function G(){b!==void 0&&clearTimeout(b),y=0,h=x=p=b=void 0}function R(){return b===void 0?m:F(t())}function k(){var B=t(),U=z(B);if(h=arguments,p=this,x=B,U){if(b===void 0)return E(x);if(A)return clearTimeout(b),b=setTimeout(O,c),P(x)}return b===void 0&&(b=setTimeout(O,c)),m}return k.cancel=G,k.flush=R,k}return V_=s,V_}var G_,H6;function nue(){if(H6)return G_;H6=1;var e=tue(),t=Ud(),n="Expected a function";function r(i,a,s){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return t(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),e(i,a,{leading:l,maxWait:a,trailing:c})}return G_=r,G_}var rue=nue();const t9=gr(rue);function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function W6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ry(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W6(Object(n),!0).forEach(function(r){iue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iue(e,t,n){return t=aue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aue(e){var t=oue(e,"string");return Qg(t)=="symbol"?t:t+""}function oue(e,t){if(Qg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sue(e,t){return due(e)||uue(e,t)||cue(e,t)||lue()}function lue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cue(e,t){if(e){if(typeof e=="string")return V6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V6(e,t)}}function V6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uue(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function due(e){if(Array.isArray(e))return e}var iy=j.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=e.width,s=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,h=d===void 0?0:d,p=e.minHeight,g=e.maxHeight,m=e.children,b=e.debounce,x=b===void 0?0:b,y=e.id,w=e.className,A=e.onResize,C=e.style,P=C===void 0?{}:C,E=j.useRef(null),I=j.useRef();I.current=A,j.useImperativeHandle(t,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var z=j.useState({containerWidth:i.width,containerHeight:i.height}),O=sue(z,2),F=O[0],G=O[1],R=j.useCallback(function(B,U){G(function(M){var X=Math.round(B),Q=Math.round(U);return M.containerWidth===X&&M.containerHeight===Q?M:{containerWidth:X,containerHeight:Q}})},[]);j.useEffect(function(){var B=function(Y){var ne,H=Y[0].contentRect,T=H.width,V=H.height;R(T,V),(ne=I.current)===null||ne===void 0||ne.call(I,T,V)};x>0&&(B=t9(B,x,{trailing:!0,leading:!1}));var U=new ResizeObserver(B),M=E.current.getBoundingClientRect(),X=M.width,Q=M.height;return R(X,Q),U.observe(E.current),function(){U.disconnect()}},[R,x]);var k=j.useMemo(function(){var B=F.containerWidth,U=F.containerHeight;if(B<0||U<0)return null;iu(Df(s)||Df(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),iu(!n||n>0,"The aspect(%s) must be greater than zero.",n);var M=Df(s)?B:s,X=Df(c)?U:c;n&&n>0&&(M?X=M/n:X&&(M=X*n),g&&X>g&&(X=g)),iu(M>0||X>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,X,s,c,h,p,n);var Q=!Array.isArray(m)&&ru(m.type).endsWith("Chart");return ve.Children.map(m,function(K){return ve.isValidElement(K)?j.cloneElement(K,ry({width:M,height:X},Q?{style:ry({height:"100%",width:"100%",maxHeight:X,maxWidth:M},K.props.style)}:{})):K})},[n,m,c,g,p,h,F,s]);return ve.createElement("div",{id:y?"".concat(y):void 0,className:Xn("recharts-responsive-container",w),style:ry(ry({},P),{},{width:s,height:c,minWidth:h,minHeight:p,maxHeight:g}),ref:E},k)}),n9=function(t){return null};n9.displayName="Cell";function Jg(e){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(e)}function G6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G6(Object(n),!0).forEach(function(r){fue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fue(e,t,n){return t=hue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hue(e){var t=pue(e,"string");return Jg(t)=="symbol"?t:t+""}function pue(e,t){if(Jg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dp={widthCache:{},cacheCount:0},mue=2e3,gue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},K6="recharts_measurement_span";function vue(e){var t=lN({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Lg=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Gv.isSsr)return{width:0,height:0};var r=vue(n),i=JSON.stringify({text:t,copyStyle:r});if(dp.widthCache[i])return dp.widthCache[i];try{var a=document.getElementById(K6);a||(a=document.createElement("span"),a.setAttribute("id",K6),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=lN(lN({},gue),r);Object.assign(a.style,s),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return dp.widthCache[i]=c,++dp.cacheCount>mue&&(dp.cacheCount=0,dp.widthCache={}),c}catch{return{width:0,height:0}}},yue=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Zg(e){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(e)}function cx(e,t){return _ue(e)||wue(e,t)||bue(e,t)||xue()}function xue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bue(e,t){if(e){if(typeof e=="string")return Y6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y6(e,t)}}function Y6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wue(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function _ue(e){if(Array.isArray(e))return e}function jue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nue(r.key),r)}}function Sue(e,t,n){return t&&X6(e.prototype,t),n&&X6(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nue(e){var t=Aue(e,"string");return Zg(t)=="symbol"?t:t+""}function Aue(e,t){if(Zg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Q6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,J6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Cue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Pue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,r9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Eue=Object.keys(r9),xp="NaN";function kue(e,t){return e*r9[t]}var ay=(function(){function e(t,n){jue(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!Cue.test(n)&&(this.num=NaN,this.unit=""),Eue.includes(n)&&(this.num=kue(t,n),this.unit="px")}return Sue(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Pue.exec(n))!==null&&r!==void 0?r:[],a=cx(i,3),s=a[1],l=a[2];return new e(parseFloat(s),l??"")}}])})();function i9(e){if(e.includes(xp))return xp;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=Q6.exec(t))!==null&&n!==void 0?n:[],i=cx(r,4),a=i[1],s=i[2],l=i[3],c=ay.parse(a??""),d=ay.parse(l??""),h=s==="*"?c.multiply(d):c.divide(d);if(h.isNaN())return xp;t=t.replace(Q6,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,g=(p=J6.exec(t))!==null&&p!==void 0?p:[],m=cx(g,4),b=m[1],x=m[2],y=m[3],w=ay.parse(b??""),A=ay.parse(y??""),C=x==="+"?w.add(A):w.subtract(A);if(C.isNaN())return xp;t=t.replace(J6,C.toString())}return t}var Z6=/\(([^()]*)\)/;function Oue(e){for(var t=e;t.includes("(");){var n=Z6.exec(t),r=cx(n,2),i=r[1];t=t.replace(Z6,i9(i))}return t}function Tue(e){var t=e.replace(/\s+/g,"");return t=Oue(t),t=i9(t),t}function Due(e){try{return Tue(e)}catch{return xp}}function K_(e){var t=Due(e.slice(5,-1));return t===xp?"":t}var Lue=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Iue=["dx","dy","angle","className","breakAll"];function cN(){return cN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cN.apply(this,arguments)}function e8(e,t){if(e==null)return{};var n=Rue(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Rue(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function t8(e,t){return $ue(e)||Fue(e,t)||zue(e,t)||Mue()}function Mue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zue(e,t){if(e){if(typeof e=="string")return n8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n8(e,t)}}function n8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fue(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function $ue(e){if(Array.isArray(e))return e}var a9=/[ \f\n\r\t\v\u2028\u2029]+/,o9=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var a=[];nr(n)||(r?a=n.toString().split(""):a=n.toString().split(a9));var s=a.map(function(c){return{word:c,width:Lg(c,i).width}}),l=r?0:Lg("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},que=function(t,n,r,i,a){var s=t.maxLines,l=t.children,c=t.style,d=t.breakAll,h=gt(s),p=l,g=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(X,Q){var K=Q.word,Y=Q.width,ne=X[X.length-1];if(ne&&(i==null||a||ne.width+Y+r<Number(i)))ne.words.push(K),ne.width+=Y+r;else{var H={words:[K],width:Y};X.push(H)}return X},[])},m=g(n),b=function(M){return M.reduce(function(X,Q){return X.width>Q.width?X:Q})};if(!h)return m;for(var x="",y=function(M){var X=p.slice(0,M),Q=o9({breakAll:d,style:c,children:X+x}).wordsWithComputedWidth,K=g(Q),Y=K.length>s||b(K).width>Number(i);return[Y,K]},w=0,A=p.length-1,C=0,P;w<=A&&C<=p.length-1;){var E=Math.floor((w+A)/2),I=E-1,z=y(I),O=t8(z,2),F=O[0],G=O[1],R=y(E),k=t8(R,1),B=k[0];if(!F&&!B&&(w=E+1),F&&B&&(A=E-1),!F&&B){P=G;break}C++}return P||m},r8=function(t){var n=nr(t)?[]:t.toString().split(a9);return[{words:n}]},Bue=function(t){var n=t.width,r=t.scaleToFit,i=t.children,a=t.style,s=t.breakAll,l=t.maxLines;if((n||r)&&!Gv.isSsr){var c,d,h=o9({breakAll:s,children:i,style:a});if(h){var p=h.wordsWithComputedWidth,g=h.spaceWidth;c=p,d=g}else return r8(i);return que({breakAll:s,children:i,maxLines:l,style:a},c,d,n,r)}return r8(i)},i8="#808080",ux=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,s=t.lineHeight,l=s===void 0?"1em":s,c=t.capHeight,d=c===void 0?"0.71em":c,h=t.scaleToFit,p=h===void 0?!1:h,g=t.textAnchor,m=g===void 0?"start":g,b=t.verticalAnchor,x=b===void 0?"end":b,y=t.fill,w=y===void 0?i8:y,A=e8(t,Lue),C=j.useMemo(function(){return Bue({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:p,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,p,A.style,A.width]),P=A.dx,E=A.dy,I=A.angle,z=A.className,O=A.breakAll,F=e8(A,Iue);if(!qi(r)||!qi(a))return null;var G=r+(gt(P)?P:0),R=a+(gt(E)?E:0),k;switch(x){case"start":k=K_("calc(".concat(d,")"));break;case"middle":k=K_("calc(".concat((C.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:k=K_("calc(".concat(C.length-1," * -").concat(l,")"));break}var B=[];if(p){var U=C[0].width,M=A.width;B.push("scale(".concat((gt(M)?M/U:1)/U,")"))}return I&&B.push("rotate(".concat(I,", ").concat(G,", ").concat(R,")")),B.length&&(F.transform=B.join(" ")),ve.createElement("text",cN({},tr(F,!0),{x:G,y:R,className:Xn("recharts-text",z),textAnchor:m,fill:w.includes("url")?i8:w}),C.map(function(X,Q){var K=X.words.join(O?"":" ");return ve.createElement("tspan",{x:G,dy:Q===0?k:l,key:"".concat(K,"-").concat(Q)},K)}))};function Nd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Uue(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function GA(e){let t,n,r;e.length!==2?(t=Nd,n=(l,c)=>Nd(e(l),c),r=(l,c)=>e(l)-c):(t=e===Nd||e===Uue?e:Hue,n=e,r=e);function i(l,c,d=0,h=l.length){if(d<h){if(t(c,c)!==0)return h;do{const p=d+h>>>1;n(l[p],c)<0?d=p+1:h=p}while(d<h)}return d}function a(l,c,d=0,h=l.length){if(d<h){if(t(c,c)!==0)return h;do{const p=d+h>>>1;n(l[p],c)<=0?d=p+1:h=p}while(d<h)}return d}function s(l,c,d=0,h=l.length){const p=i(l,c,d,h-1);return p>d&&r(l[p-1],c)>-r(l[p],c)?p-1:p}return{left:i,center:s,right:a}}function Hue(){return 0}function s9(e){return e===null?NaN:+e}function*Wue(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Vue=GA(Nd),Kv=Vue.right;GA(s9).center;class a8 extends Map{constructor(t,n=Yue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(o8(this,t))}has(t){return super.has(o8(this,t))}set(t,n){return super.set(Gue(this,t),n)}delete(t){return super.delete(Kue(this,t))}}function o8({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Gue({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Kue({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Yue(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Xue(e=Nd){if(e===Nd)return l9;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function l9(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Que=Math.sqrt(50),Jue=Math.sqrt(10),Zue=Math.sqrt(2);function dx(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Que?10:a>=Jue?5:a>=Zue?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/s,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,i)*s,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=n&&n<2?dx(e,t,n*2):[l,c,d]}function uN(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?dx(t,e,n):dx(e,t,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(s<0)for(let d=0;d<l;++d)c[d]=(a-d)/-s;else for(let d=0;d<l;++d)c[d]=(a-d)*s;else if(s<0)for(let d=0;d<l;++d)c[d]=(i+d)/-s;else for(let d=0;d<l;++d)c[d]=(i+d)*s;return c}function dN(e,t,n){return t=+t,e=+e,n=+n,dx(e,t,n)[2]}function fN(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?dN(t,e,n):dN(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function s8(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function l8(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function c9(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?l9:Xue(i);r>n;){if(r-n>600){const c=r-n+1,d=t-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(c-p)/c)*(d-c/2<0?-1:1),m=Math.max(n,Math.floor(t-d*p/c+g)),b=Math.min(r,Math.floor(t+(c-d)*p/c+g));c9(e,t,m,b,i)}const a=e[t];let s=n,l=r;for(pg(e,n,t),i(e[r],a)>0&&pg(e,n,r);s<l;){for(pg(e,s,l),++s,--l;i(e[s],a)<0;)++s;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?pg(e,n,l):(++l,pg(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function pg(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ede(e,t,n){if(e=Float64Array.from(Wue(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return l8(e);if(t>=1)return s8(e);var r,i=(r-1)*t,a=Math.floor(i),s=s8(c9(e,a).subarray(0,a+1)),l=l8(e.subarray(a+1));return s+(l-s)*(i-a)}}function tde(e,t,n=s9){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return s+(l-s)*(i-a)}}function nde(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function ks(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function wu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const hN=Symbol("implicit");function KA(){var e=new a8,t=[],n=[],r=hN;function i(a){let s=e.get(a);if(s===void 0){if(r!==hN)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new a8;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return KA(t,n).unknown(r)},ks.apply(i,arguments),i}function ev(){var e=KA().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,l=!1,c=0,d=0,h=.5;delete e.unknown;function p(){var g=t().length,m=i<r,b=m?i:r,x=m?r:i;a=(x-b)/Math.max(1,g-c+d*2),l&&(a=Math.floor(a)),b+=(x-b-a*(g-c))*h,s=a*(1-c),l&&(b=Math.round(b),s=Math.round(s));var y=nde(g).map(function(w){return b+a*w});return n(m?y.reverse():y)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,l=!0,p()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(g){return arguments.length?(l=!!g,p()):l},e.padding=function(g){return arguments.length?(c=Math.min(1,d=+g),p()):c},e.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},e.paddingOuter=function(g){return arguments.length?(d=+g,p()):d},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},e.copy=function(){return ev(t(),[r,i]).round(l).paddingInner(c).paddingOuter(d).align(h)},ks.apply(p(),arguments)}function u9(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return u9(t())},e}function Ig(){return u9(ev.apply(null,arguments).paddingInner(1))}function YA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function d9(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Yv(){}var tv=.7,fx=1/tv,Op="\\s*([+-]?\\d+)\\s*",nv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rde=/^#([0-9a-f]{3,8})$/,ide=new RegExp(`^rgb\\(${Op},${Op},${Op}\\)$`),ade=new RegExp(`^rgb\\(${Gl},${Gl},${Gl}\\)$`),ode=new RegExp(`^rgba\\(${Op},${Op},${Op},${nv}\\)$`),sde=new RegExp(`^rgba\\(${Gl},${Gl},${Gl},${nv}\\)$`),lde=new RegExp(`^hsl\\(${nv},${Gl},${Gl}\\)$`),cde=new RegExp(`^hsla\\(${nv},${Gl},${Gl},${nv}\\)$`),c8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};YA(Yv,rv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:u8,formatHex:u8,formatHex8:ude,formatHsl:dde,formatRgb:d8,toString:d8});function u8(){return this.rgb().formatHex()}function ude(){return this.rgb().formatHex8()}function dde(){return f9(this).formatHsl()}function d8(){return this.rgb().formatRgb()}function rv(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=rde.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?f8(t):n===3?new mo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?oy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?oy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ide.exec(e))?new mo(t[1],t[2],t[3],1):(t=ade.exec(e))?new mo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ode.exec(e))?oy(t[1],t[2],t[3],t[4]):(t=sde.exec(e))?oy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=lde.exec(e))?m8(t[1],t[2]/100,t[3]/100,1):(t=cde.exec(e))?m8(t[1],t[2]/100,t[3]/100,t[4]):c8.hasOwnProperty(e)?f8(c8[e]):e==="transparent"?new mo(NaN,NaN,NaN,0):null}function f8(e){return new mo(e>>16&255,e>>8&255,e&255,1)}function oy(e,t,n,r){return r<=0&&(e=t=n=NaN),new mo(e,t,n,r)}function fde(e){return e instanceof Yv||(e=rv(e)),e?(e=e.rgb(),new mo(e.r,e.g,e.b,e.opacity)):new mo}function pN(e,t,n,r){return arguments.length===1?fde(e):new mo(e,t,n,r??1)}function mo(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}YA(mo,pN,d9(Yv,{brighter(e){return e=e==null?fx:Math.pow(fx,e),new mo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?tv:Math.pow(tv,e),new mo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new mo(Jf(this.r),Jf(this.g),Jf(this.b),hx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:h8,formatHex:h8,formatHex8:hde,formatRgb:p8,toString:p8}));function h8(){return`#${Lf(this.r)}${Lf(this.g)}${Lf(this.b)}`}function hde(){return`#${Lf(this.r)}${Lf(this.g)}${Lf(this.b)}${Lf((isNaN(this.opacity)?1:this.opacity)*255)}`}function p8(){const e=hx(this.opacity);return`${e===1?"rgb(":"rgba("}${Jf(this.r)}, ${Jf(this.g)}, ${Jf(this.b)}${e===1?")":`, ${e})`}`}function hx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Lf(e){return e=Jf(e),(e<16?"0":"")+e.toString(16)}function m8(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new tl(e,t,n,r)}function f9(e){if(e instanceof tl)return new tl(e.h,e.s,e.l,e.opacity);if(e instanceof Yv||(e=rv(e)),!e)return new tl;if(e instanceof tl)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,l=a-i,c=(a+i)/2;return l?(t===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-t)/l+2:s=(t-n)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new tl(s,l,c,e.opacity)}function pde(e,t,n,r){return arguments.length===1?f9(e):new tl(e,t,n,r??1)}function tl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}YA(tl,pde,d9(Yv,{brighter(e){return e=e==null?fx:Math.pow(fx,e),new tl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?tv:Math.pow(tv,e),new tl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new mo(Y_(e>=240?e-240:e+120,i,r),Y_(e,i,r),Y_(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new tl(g8(this.h),sy(this.s),sy(this.l),hx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hx(this.opacity);return`${e===1?"hsl(":"hsla("}${g8(this.h)}, ${sy(this.s)*100}%, ${sy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function g8(e){return e=(e||0)%360,e<0?e+360:e}function sy(e){return Math.max(0,Math.min(1,e||0))}function Y_(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const XA=e=>()=>e;function mde(e,t){return function(n){return e+n*t}}function gde(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function vde(e){return(e=+e)==1?h9:function(t,n){return n-t?gde(t,n,e):XA(isNaN(t)?n:t)}}function h9(e,t){var n=t-e;return n?mde(e,n):XA(isNaN(e)?t:e)}const v8=(function e(t){var n=vde(t);function r(i,a){var s=n((i=pN(i)).r,(a=pN(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),d=h9(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=l(h),i.b=c(h),i.opacity=d(h),i+""}}return r.gamma=e,r})(1);function yde(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function xde(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function bde(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=km(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(l){for(s=0;s<r;++s)a[s]=i[s](l);return a}}function wde(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function px(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function _de(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=km(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var mN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,X_=new RegExp(mN.source,"g");function jde(e){return function(){return e}}function Sde(e){return function(t){return e(t)+""}}function Nde(e,t){var n=mN.lastIndex=X_.lastIndex=0,r,i,a,s=-1,l=[],c=[];for(e=e+"",t=t+"";(r=mN.exec(e))&&(i=X_.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:px(r,i)})),n=X_.lastIndex;return n<t.length&&(a=t.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?Sde(c[0].x):jde(t):(t=c.length,function(d){for(var h=0,p;h<t;++h)l[(p=c[h]).i]=p.x(d);return l.join("")})}function km(e,t){var n=typeof t,r;return t==null||n==="boolean"?XA(t):(n==="number"?px:n==="string"?(r=rv(t))?(t=r,v8):Nde:t instanceof rv?v8:t instanceof Date?wde:xde(t)?yde:Array.isArray(t)?bde:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_de:px)(e,t)}function QA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Ade(e,t){t===void 0&&(t=e,e=km);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[l](s-l)}}function Cde(e){return function(){return e}}function mx(e){return+e}var y8=[0,1];function Ga(e){return e}function gN(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Cde(isNaN(t)?NaN:.5)}function Pde(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Ede(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=gN(i,r),a=n(s,a)):(r=gN(r,i),a=n(a,s)),function(l){return a(r(l))}}function kde(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=gN(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(l){var c=Kv(e,l,1,r)-1;return a[c](i[c](l))}}function Xv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function U1(){var e=y8,t=y8,n=km,r,i,a,s=Ga,l,c,d;function h(){var g=Math.min(e.length,t.length);return s!==Ga&&(s=Pde(e[0],e[g-1])),l=g>2?kde:Ede,c=d=null,p}function p(g){return g==null||isNaN(g=+g)?a:(c||(c=l(e.map(r),t,n)))(r(s(g)))}return p.invert=function(g){return s(i((d||(d=l(t,e.map(r),px)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,mx),h()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),n=QA,h()},p.clamp=function(g){return arguments.length?(s=g?!0:Ga,h()):s!==Ga},p.interpolate=function(g){return arguments.length?(n=g,h()):n},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,m){return r=g,i=m,h()}}function JA(){return U1()(Ga,Ga)}function Ode(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function gx(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function tm(e){return e=gx(Math.abs(e)),e?e[1]:NaN}function Tde(e,t){return function(n,r){for(var i=n.length,a=[],s=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Dde(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Lde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function iv(e){if(!(t=Lde.exec(e)))throw new Error("invalid format: "+e);var t;return new ZA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}iv.prototype=ZA.prototype;function ZA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ZA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ide(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var p9;function Rde(e,t){var n=gx(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(p9=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+gx(e,Math.max(0,t+a-1))[0]}function x8(e,t){var n=gx(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const b8={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ode,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>x8(e*100,t),r:x8,s:Rde,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function w8(e){return e}var _8=Array.prototype.map,j8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Mde(e){var t=e.grouping===void 0||e.thousands===void 0?w8:Tde(_8.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?w8:Dde(_8.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(p){p=iv(p);var g=p.fill,m=p.align,b=p.sign,x=p.symbol,y=p.zero,w=p.width,A=p.comma,C=p.precision,P=p.trim,E=p.type;E==="n"?(A=!0,E="g"):b8[E]||(C===void 0&&(C=12),P=!0,E="g"),(y||g==="0"&&m==="=")&&(y=!0,g="0",m="=");var I=x==="$"?n:x==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",z=x==="$"?r:/[%p]/.test(E)?s:"",O=b8[E],F=/[defgprs%]/.test(E);C=C===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function G(R){var k=I,B=z,U,M,X;if(E==="c")B=O(R)+B,R="";else{R=+R;var Q=R<0||1/R<0;if(R=isNaN(R)?c:O(Math.abs(R),C),P&&(R=Ide(R)),Q&&+R==0&&b!=="+"&&(Q=!1),k=(Q?b==="("?b:l:b==="-"||b==="("?"":b)+k,B=(E==="s"?j8[8+p9/3]:"")+B+(Q&&b==="("?")":""),F){for(U=-1,M=R.length;++U<M;)if(X=R.charCodeAt(U),48>X||X>57){B=(X===46?i+R.slice(U+1):R.slice(U))+B,R=R.slice(0,U);break}}}A&&!y&&(R=t(R,1/0));var K=k.length+R.length+B.length,Y=K<w?new Array(w-K+1).join(g):"";switch(A&&y&&(R=t(Y+R,Y.length?w-B.length:1/0),Y=""),m){case"<":R=k+R+B+Y;break;case"=":R=k+Y+R+B;break;case"^":R=Y.slice(0,K=Y.length>>1)+k+R+B+Y.slice(K);break;default:R=Y+k+R+B;break}return a(R)}return G.toString=function(){return p+""},G}function h(p,g){var m=d((p=iv(p),p.type="f",p)),b=Math.max(-8,Math.min(8,Math.floor(tm(g)/3)))*3,x=Math.pow(10,-b),y=j8[8+b/3];return function(w){return m(x*w)+y}}return{format:d,formatPrefix:h}}var ly,e3,m9;zde({thousands:",",grouping:[3],currency:["$",""]});function zde(e){return ly=Mde(e),e3=ly.format,m9=ly.formatPrefix,ly}function Fde(e){return Math.max(0,-tm(Math.abs(e)))}function $de(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tm(t)/3)))*3-tm(Math.abs(e)))}function qde(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,tm(t)-tm(e))+1}function g9(e,t,n,r){var i=fN(e,t,n),a;switch(r=iv(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=$de(i,s))&&(r.precision=a),m9(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=qde(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Fde(i))&&(r.precision=a-(r.type==="%")*2);break}}return e3(r)}function Wd(e){var t=e.domain;return e.ticks=function(n){var r=t();return uN(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return g9(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],l=r[a],c,d,h=10;for(l<s&&(d=s,s=l,l=d,d=i,i=a,a=d);h-- >0;){if(d=dN(s,l,n),d===c)return r[i]=s,r[a]=l,t(r);if(d>0)s=Math.floor(s/d)*d,l=Math.ceil(l/d)*d;else if(d<0)s=Math.ceil(s*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function vx(){var e=JA();return e.copy=function(){return Xv(e,vx())},ks.apply(e,arguments),Wd(e)}function v9(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,mx),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return v9(e).unknown(t)},e=arguments.length?Array.from(e,mx):[0,1],Wd(n)}function y9(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function S8(e){return Math.log(e)}function N8(e){return Math.exp(e)}function Bde(e){return-Math.log(-e)}function Ude(e){return-Math.exp(-e)}function Hde(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Wde(e){return e===10?Hde:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Vde(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function A8(e){return(t,n)=>-e(-t,n)}function t3(e){const t=e(S8,N8),n=t.domain;let r=10,i,a;function s(){return i=Vde(r),a=Wde(r),n()[0]<0?(i=A8(i),a=A8(a),e(Bde,Ude)):e(S8,N8),t}return t.base=function(l){return arguments.length?(r=+l,s()):r},t.domain=function(l){return arguments.length?(n(l),s()):n()},t.ticks=l=>{const c=n();let d=c[0],h=c[c.length-1];const p=h<d;p&&([d,h]=[h,d]);let g=i(d),m=i(h),b,x;const y=l==null?10:+l;let w=[];if(!(r%1)&&m-g<y){if(g=Math.floor(g),m=Math.ceil(m),d>0){for(;g<=m;++g)for(b=1;b<r;++b)if(x=g<0?b/a(-g):b*a(g),!(x<d)){if(x>h)break;w.push(x)}}else for(;g<=m;++g)for(b=r-1;b>=1;--b)if(x=g>0?b/a(-g):b*a(g),!(x<d)){if(x>h)break;w.push(x)}w.length*2<y&&(w=uN(d,h,y))}else w=uN(g,m,Math.min(m-g,y)).map(a);return p?w.reverse():w},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=iv(c)).precision==null&&(c.trim=!0),c=e3(c)),l===1/0)return c;const d=Math.max(1,r*l/t.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=d?c(h):""}},t.nice=()=>n(y9(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function x9(){const e=t3(U1()).domain([1,10]);return e.copy=()=>Xv(e,x9()).base(e.base()),ks.apply(e,arguments),e}function C8(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function P8(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function n3(e){var t=1,n=e(C8(t),P8(t));return n.constant=function(r){return arguments.length?e(C8(t=+r),P8(t)):t},Wd(n)}function b9(){var e=n3(U1());return e.copy=function(){return Xv(e,b9()).constant(e.constant())},ks.apply(e,arguments)}function E8(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Gde(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Kde(e){return e<0?-e*e:e*e}function r3(e){var t=e(Ga,Ga),n=1;function r(){return n===1?e(Ga,Ga):n===.5?e(Gde,Kde):e(E8(n),E8(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Wd(t)}function i3(){var e=r3(U1());return e.copy=function(){return Xv(e,i3()).exponent(e.exponent())},ks.apply(e,arguments),e}function Yde(){return i3.apply(null,arguments).exponent(.5)}function k8(e){return Math.sign(e)*e*e}function Xde(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function w9(){var e=JA(),t=[0,1],n=!1,r;function i(a){var s=Xde(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(k8(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,mx)).map(k8)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return w9(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},ks.apply(i,arguments),Wd(i)}function _9(){var e=[],t=[],n=[],r;function i(){var s=0,l=Math.max(1,t.length);for(n=new Array(l-1);++s<l;)n[s-1]=tde(e,s/l);return a}function a(s){return s==null||isNaN(s=+s)?r:t[Kv(n,s)]}return a.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Nd),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return _9().domain(e).range(t).unknown(r)},ks.apply(a,arguments)}function j9(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[Kv(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return j9().domain([e,t]).range(i).unknown(a)},ks.apply(Wd(s),arguments)}function S9(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Kv(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return S9().domain(e).range(t).unknown(n)},ks.apply(i,arguments)}const Q_=new Date,J_=new Date;function Bi(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let d;do c.push(d=new Date(+a)),t(a,l),e(a);while(d<a&&a<s);return c},i.filter=a=>Bi(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!a(s););else for(;--l>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(Q_.setTime(+a),J_.setTime(+s),e(Q_),e(J_),Math.floor(n(Q_,J_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const yx=Bi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);yx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Bi(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):yx);yx.range;const Qc=1e3,bs=Qc*60,Jc=bs*60,hu=Jc*24,a3=hu*7,O8=hu*30,Z_=hu*365,If=Bi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Qc)},(e,t)=>(t-e)/Qc,e=>e.getUTCSeconds());If.range;const o3=Bi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qc)},(e,t)=>{e.setTime(+e+t*bs)},(e,t)=>(t-e)/bs,e=>e.getMinutes());o3.range;const s3=Bi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*bs)},(e,t)=>(t-e)/bs,e=>e.getUTCMinutes());s3.range;const l3=Bi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qc-e.getMinutes()*bs)},(e,t)=>{e.setTime(+e+t*Jc)},(e,t)=>(t-e)/Jc,e=>e.getHours());l3.range;const c3=Bi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Jc)},(e,t)=>(t-e)/Jc,e=>e.getUTCHours());c3.range;const Qv=Bi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*bs)/hu,e=>e.getDate()-1);Qv.range;const H1=Bi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/hu,e=>e.getUTCDate()-1);H1.range;const N9=Bi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/hu,e=>Math.floor(e/hu));N9.range;function Sh(e){return Bi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*bs)/a3)}const W1=Sh(0),xx=Sh(1),Qde=Sh(2),Jde=Sh(3),nm=Sh(4),Zde=Sh(5),efe=Sh(6);W1.range;xx.range;Qde.range;Jde.range;nm.range;Zde.range;efe.range;function Nh(e){return Bi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/a3)}const V1=Nh(0),bx=Nh(1),tfe=Nh(2),nfe=Nh(3),rm=Nh(4),rfe=Nh(5),ife=Nh(6);V1.range;bx.range;tfe.range;nfe.range;rm.range;rfe.range;ife.range;const u3=Bi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());u3.range;const d3=Bi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());d3.range;const pu=Bi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());pu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Bi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});pu.range;const mu=Bi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());mu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Bi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});mu.range;function A9(e,t,n,r,i,a){const s=[[If,1,Qc],[If,5,5*Qc],[If,15,15*Qc],[If,30,30*Qc],[a,1,bs],[a,5,5*bs],[a,15,15*bs],[a,30,30*bs],[i,1,Jc],[i,3,3*Jc],[i,6,6*Jc],[i,12,12*Jc],[r,1,hu],[r,2,2*hu],[n,1,a3],[t,1,O8],[t,3,3*O8],[e,1,Z_]];function l(d,h,p){const g=h<d;g&&([d,h]=[h,d]);const m=p&&typeof p.range=="function"?p:c(d,h,p),b=m?m.range(d,+h+1):[];return g?b.reverse():b}function c(d,h,p){const g=Math.abs(h-d)/p,m=GA(([,,y])=>y).right(s,g);if(m===s.length)return e.every(fN(d/Z_,h/Z_,p));if(m===0)return yx.every(Math.max(fN(d,h,p),1));const[b,x]=s[g/s[m-1][2]<s[m][2]/g?m-1:m];return b.every(x)}return[l,c]}const[afe,ofe]=A9(mu,d3,V1,N9,c3,s3),[sfe,lfe]=A9(pu,u3,W1,Qv,l3,o3);function ej(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function tj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function mg(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function cfe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,d=gg(i),h=vg(i),p=gg(a),g=vg(a),m=gg(s),b=vg(s),x=gg(l),y=vg(l),w=gg(c),A=vg(c),C={a:Q,A:K,b:Y,B:ne,c:null,d:M8,e:M8,f:Tfe,g:Bfe,G:Hfe,H:Efe,I:kfe,j:Ofe,L:C9,m:Dfe,M:Lfe,p:H,q:T,Q:$8,s:q8,S:Ife,u:Rfe,U:Mfe,V:zfe,w:Ffe,W:$fe,x:null,X:null,y:qfe,Y:Ufe,Z:Wfe,"%":F8},P={a:V,A:J,b:Z,B:oe,c:null,d:z8,e:z8,f:Yfe,g:ahe,G:she,H:Vfe,I:Gfe,j:Kfe,L:E9,m:Xfe,M:Qfe,p:se,q:fe,Q:$8,s:q8,S:Jfe,u:Zfe,U:ehe,V:the,w:nhe,W:rhe,x:null,X:null,y:ihe,Y:ohe,Z:lhe,"%":F8},E={a:G,A:R,b:k,B,c:U,d:I8,e:I8,f:Nfe,g:L8,G:D8,H:R8,I:R8,j:wfe,L:Sfe,m:bfe,M:_fe,p:F,q:xfe,Q:Cfe,s:Pfe,S:jfe,u:pfe,U:mfe,V:gfe,w:hfe,W:vfe,x:M,X,y:L8,Y:D8,Z:yfe,"%":Afe};C.x=I(n,C),C.X=I(r,C),C.c=I(t,C),P.x=I(n,P),P.X=I(r,P),P.c=I(t,P);function I(de,be){return function(Ee){var _e=[],$e=-1,He=0,le=de.length,Ke,pt,xt;for(Ee instanceof Date||(Ee=new Date(+Ee));++$e<le;)de.charCodeAt($e)===37&&(_e.push(de.slice(He,$e)),(pt=T8[Ke=de.charAt(++$e)])!=null?Ke=de.charAt(++$e):pt=Ke==="e"?" ":"0",(xt=be[Ke])&&(Ke=xt(Ee,pt)),_e.push(Ke),He=$e+1);return _e.push(de.slice(He,$e)),_e.join("")}}function z(de,be){return function(Ee){var _e=mg(1900,void 0,1),$e=O(_e,de,Ee+="",0),He,le;if($e!=Ee.length)return null;if("Q"in _e)return new Date(_e.Q);if("s"in _e)return new Date(_e.s*1e3+("L"in _e?_e.L:0));if(be&&!("Z"in _e)&&(_e.Z=0),"p"in _e&&(_e.H=_e.H%12+_e.p*12),_e.m===void 0&&(_e.m="q"in _e?_e.q:0),"V"in _e){if(_e.V<1||_e.V>53)return null;"w"in _e||(_e.w=1),"Z"in _e?(He=tj(mg(_e.y,0,1)),le=He.getUTCDay(),He=le>4||le===0?bx.ceil(He):bx(He),He=H1.offset(He,(_e.V-1)*7),_e.y=He.getUTCFullYear(),_e.m=He.getUTCMonth(),_e.d=He.getUTCDate()+(_e.w+6)%7):(He=ej(mg(_e.y,0,1)),le=He.getDay(),He=le>4||le===0?xx.ceil(He):xx(He),He=Qv.offset(He,(_e.V-1)*7),_e.y=He.getFullYear(),_e.m=He.getMonth(),_e.d=He.getDate()+(_e.w+6)%7)}else("W"in _e||"U"in _e)&&("w"in _e||(_e.w="u"in _e?_e.u%7:"W"in _e?1:0),le="Z"in _e?tj(mg(_e.y,0,1)).getUTCDay():ej(mg(_e.y,0,1)).getDay(),_e.m=0,_e.d="W"in _e?(_e.w+6)%7+_e.W*7-(le+5)%7:_e.w+_e.U*7-(le+6)%7);return"Z"in _e?(_e.H+=_e.Z/100|0,_e.M+=_e.Z%100,tj(_e)):ej(_e)}}function O(de,be,Ee,_e){for(var $e=0,He=be.length,le=Ee.length,Ke,pt;$e<He;){if(_e>=le)return-1;if(Ke=be.charCodeAt($e++),Ke===37){if(Ke=be.charAt($e++),pt=E[Ke in T8?be.charAt($e++):Ke],!pt||(_e=pt(de,Ee,_e))<0)return-1}else if(Ke!=Ee.charCodeAt(_e++))return-1}return _e}function F(de,be,Ee){var _e=d.exec(be.slice(Ee));return _e?(de.p=h.get(_e[0].toLowerCase()),Ee+_e[0].length):-1}function G(de,be,Ee){var _e=m.exec(be.slice(Ee));return _e?(de.w=b.get(_e[0].toLowerCase()),Ee+_e[0].length):-1}function R(de,be,Ee){var _e=p.exec(be.slice(Ee));return _e?(de.w=g.get(_e[0].toLowerCase()),Ee+_e[0].length):-1}function k(de,be,Ee){var _e=w.exec(be.slice(Ee));return _e?(de.m=A.get(_e[0].toLowerCase()),Ee+_e[0].length):-1}function B(de,be,Ee){var _e=x.exec(be.slice(Ee));return _e?(de.m=y.get(_e[0].toLowerCase()),Ee+_e[0].length):-1}function U(de,be,Ee){return O(de,t,be,Ee)}function M(de,be,Ee){return O(de,n,be,Ee)}function X(de,be,Ee){return O(de,r,be,Ee)}function Q(de){return s[de.getDay()]}function K(de){return a[de.getDay()]}function Y(de){return c[de.getMonth()]}function ne(de){return l[de.getMonth()]}function H(de){return i[+(de.getHours()>=12)]}function T(de){return 1+~~(de.getMonth()/3)}function V(de){return s[de.getUTCDay()]}function J(de){return a[de.getUTCDay()]}function Z(de){return c[de.getUTCMonth()]}function oe(de){return l[de.getUTCMonth()]}function se(de){return i[+(de.getUTCHours()>=12)]}function fe(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var be=I(de+="",C);return be.toString=function(){return de},be},parse:function(de){var be=z(de+="",!1);return be.toString=function(){return de},be},utcFormat:function(de){var be=I(de+="",P);return be.toString=function(){return de},be},utcParse:function(de){var be=z(de+="",!0);return be.toString=function(){return de},be}}}var T8={"-":"",_:" ",0:"0"},ra=/^\s*\d+/,ufe=/^%/,dfe=/[\\^$*+?|[\]().{}]/g;function Jn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function ffe(e){return e.replace(dfe,"\\$&")}function gg(e){return new RegExp("^(?:"+e.map(ffe).join("|")+")","i")}function vg(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function hfe(e,t,n){var r=ra.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function pfe(e,t,n){var r=ra.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function mfe(e,t,n){var r=ra.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function gfe(e,t,n){var r=ra.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function vfe(e,t,n){var r=ra.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function D8(e,t,n){var r=ra.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function L8(e,t,n){var r=ra.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function yfe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function xfe(e,t,n){var r=ra.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function bfe(e,t,n){var r=ra.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function I8(e,t,n){var r=ra.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function wfe(e,t,n){var r=ra.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function R8(e,t,n){var r=ra.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function _fe(e,t,n){var r=ra.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function jfe(e,t,n){var r=ra.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Sfe(e,t,n){var r=ra.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Nfe(e,t,n){var r=ra.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Afe(e,t,n){var r=ufe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Cfe(e,t,n){var r=ra.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Pfe(e,t,n){var r=ra.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function M8(e,t){return Jn(e.getDate(),t,2)}function Efe(e,t){return Jn(e.getHours(),t,2)}function kfe(e,t){return Jn(e.getHours()%12||12,t,2)}function Ofe(e,t){return Jn(1+Qv.count(pu(e),e),t,3)}function C9(e,t){return Jn(e.getMilliseconds(),t,3)}function Tfe(e,t){return C9(e,t)+"000"}function Dfe(e,t){return Jn(e.getMonth()+1,t,2)}function Lfe(e,t){return Jn(e.getMinutes(),t,2)}function Ife(e,t){return Jn(e.getSeconds(),t,2)}function Rfe(e){var t=e.getDay();return t===0?7:t}function Mfe(e,t){return Jn(W1.count(pu(e)-1,e),t,2)}function P9(e){var t=e.getDay();return t>=4||t===0?nm(e):nm.ceil(e)}function zfe(e,t){return e=P9(e),Jn(nm.count(pu(e),e)+(pu(e).getDay()===4),t,2)}function Ffe(e){return e.getDay()}function $fe(e,t){return Jn(xx.count(pu(e)-1,e),t,2)}function qfe(e,t){return Jn(e.getFullYear()%100,t,2)}function Bfe(e,t){return e=P9(e),Jn(e.getFullYear()%100,t,2)}function Ufe(e,t){return Jn(e.getFullYear()%1e4,t,4)}function Hfe(e,t){var n=e.getDay();return e=n>=4||n===0?nm(e):nm.ceil(e),Jn(e.getFullYear()%1e4,t,4)}function Wfe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Jn(t/60|0,"0",2)+Jn(t%60,"0",2)}function z8(e,t){return Jn(e.getUTCDate(),t,2)}function Vfe(e,t){return Jn(e.getUTCHours(),t,2)}function Gfe(e,t){return Jn(e.getUTCHours()%12||12,t,2)}function Kfe(e,t){return Jn(1+H1.count(mu(e),e),t,3)}function E9(e,t){return Jn(e.getUTCMilliseconds(),t,3)}function Yfe(e,t){return E9(e,t)+"000"}function Xfe(e,t){return Jn(e.getUTCMonth()+1,t,2)}function Qfe(e,t){return Jn(e.getUTCMinutes(),t,2)}function Jfe(e,t){return Jn(e.getUTCSeconds(),t,2)}function Zfe(e){var t=e.getUTCDay();return t===0?7:t}function ehe(e,t){return Jn(V1.count(mu(e)-1,e),t,2)}function k9(e){var t=e.getUTCDay();return t>=4||t===0?rm(e):rm.ceil(e)}function the(e,t){return e=k9(e),Jn(rm.count(mu(e),e)+(mu(e).getUTCDay()===4),t,2)}function nhe(e){return e.getUTCDay()}function rhe(e,t){return Jn(bx.count(mu(e)-1,e),t,2)}function ihe(e,t){return Jn(e.getUTCFullYear()%100,t,2)}function ahe(e,t){return e=k9(e),Jn(e.getUTCFullYear()%100,t,2)}function ohe(e,t){return Jn(e.getUTCFullYear()%1e4,t,4)}function she(e,t){var n=e.getUTCDay();return e=n>=4||n===0?rm(e):rm.ceil(e),Jn(e.getUTCFullYear()%1e4,t,4)}function lhe(){return"+0000"}function F8(){return"%"}function $8(e){return+e}function q8(e){return Math.floor(+e/1e3)}var fp,O9,T9;che({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function che(e){return fp=cfe(e),O9=fp.format,fp.parse,T9=fp.utcFormat,fp.utcParse,fp}function uhe(e){return new Date(e)}function dhe(e){return e instanceof Date?+e:+new Date(+e)}function f3(e,t,n,r,i,a,s,l,c,d){var h=JA(),p=h.invert,g=h.domain,m=d(".%L"),b=d(":%S"),x=d("%I:%M"),y=d("%I %p"),w=d("%a %d"),A=d("%b %d"),C=d("%B"),P=d("%Y");function E(I){return(c(I)<I?m:l(I)<I?b:s(I)<I?x:a(I)<I?y:r(I)<I?i(I)<I?w:A:n(I)<I?C:P)(I)}return h.invert=function(I){return new Date(p(I))},h.domain=function(I){return arguments.length?g(Array.from(I,dhe)):g().map(uhe)},h.ticks=function(I){var z=g();return e(z[0],z[z.length-1],I??10)},h.tickFormat=function(I,z){return z==null?E:d(z)},h.nice=function(I){var z=g();return(!I||typeof I.range!="function")&&(I=t(z[0],z[z.length-1],I??10)),I?g(y9(z,I)):h},h.copy=function(){return Xv(h,f3(e,t,n,r,i,a,s,l,c,d))},h}function fhe(){return ks.apply(f3(sfe,lfe,pu,u3,W1,Qv,l3,o3,If,O9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hhe(){return ks.apply(f3(afe,ofe,mu,d3,V1,H1,c3,s3,If,T9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function G1(){var e=0,t=1,n,r,i,a,s=Ga,l=!1,c;function d(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(s=p,d):s};function h(p){return function(g){var m,b;return arguments.length?([m,b]=g,s=p(m,b),d):[s(0),s(1)]}}return d.range=h(km),d.rangeRound=h(QA),d.unknown=function(p){return arguments.length?(c=p,d):c},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),d}}function Vd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function D9(){var e=Wd(G1()(Ga));return e.copy=function(){return Vd(e,D9())},wu.apply(e,arguments)}function L9(){var e=t3(G1()).domain([1,10]);return e.copy=function(){return Vd(e,L9()).base(e.base())},wu.apply(e,arguments)}function I9(){var e=n3(G1());return e.copy=function(){return Vd(e,I9()).constant(e.constant())},wu.apply(e,arguments)}function h3(){var e=r3(G1());return e.copy=function(){return Vd(e,h3()).exponent(e.exponent())},wu.apply(e,arguments)}function phe(){return h3.apply(null,arguments).exponent(.5)}function R9(){var e=[],t=Ga;function n(r){if(r!=null&&!isNaN(r=+r))return t((Kv(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Nd),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>ede(e,a/r))},n.copy=function(){return R9(t).domain(e)},wu.apply(n,arguments)}function K1(){var e=0,t=.5,n=1,r=1,i,a,s,l,c,d=Ga,h,p=!1,g;function m(x){return isNaN(x=+x)?g:(x=.5+((x=+h(x))-a)*(r*x<r*a?l:c),d(p?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,n]=x,i=h(e=+e),a=h(t=+t),s=h(n=+n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,m):[e,t,n]},m.clamp=function(x){return arguments.length?(p=!!x,m):p},m.interpolator=function(x){return arguments.length?(d=x,m):d};function b(x){return function(y){var w,A,C;return arguments.length?([w,A,C]=y,d=Ade(x,[w,A,C]),m):[d(0),d(.5),d(1)]}}return m.range=b(km),m.rangeRound=b(QA),m.unknown=function(x){return arguments.length?(g=x,m):g},function(x){return h=x,i=x(e),a=x(t),s=x(n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function M9(){var e=Wd(K1()(Ga));return e.copy=function(){return Vd(e,M9())},wu.apply(e,arguments)}function z9(){var e=t3(K1()).domain([.1,1,10]);return e.copy=function(){return Vd(e,z9()).base(e.base())},wu.apply(e,arguments)}function F9(){var e=n3(K1());return e.copy=function(){return Vd(e,F9()).constant(e.constant())},wu.apply(e,arguments)}function p3(){var e=r3(K1());return e.copy=function(){return Vd(e,p3()).exponent(e.exponent())},wu.apply(e,arguments)}function mhe(){return p3.apply(null,arguments).exponent(.5)}const B8=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ev,scaleDiverging:M9,scaleDivergingLog:z9,scaleDivergingPow:p3,scaleDivergingSqrt:mhe,scaleDivergingSymlog:F9,scaleIdentity:v9,scaleImplicit:hN,scaleLinear:vx,scaleLog:x9,scaleOrdinal:KA,scalePoint:Ig,scalePow:i3,scaleQuantile:_9,scaleQuantize:j9,scaleRadial:w9,scaleSequential:D9,scaleSequentialLog:L9,scaleSequentialPow:h3,scaleSequentialQuantile:R9,scaleSequentialSqrt:phe,scaleSequentialSymlog:I9,scaleSqrt:Yde,scaleSymlog:b9,scaleThreshold:S9,scaleTime:fhe,scaleUtc:hhe,tickFormat:g9},Symbol.toStringTag,{value:"Module"}));var nj,U8;function $9(){if(U8)return nj;U8=1;var e=Cm();function t(n,r,i){for(var a=-1,s=n.length;++a<s;){var l=n[a],c=r(l);if(c!=null&&(d===void 0?c===c&&!e(c):i(c,d)))var d=c,h=l}return h}return nj=t,nj}var rj,H8;function ghe(){if(H8)return rj;H8=1;function e(t,n){return t>n}return rj=e,rj}var ij,W8;function vhe(){if(W8)return ij;W8=1;var e=$9(),t=ghe(),n=Em();function r(i){return i&&i.length?e(i,n,t):void 0}return ij=r,ij}var yhe=vhe();const Y1=gr(yhe);var aj,V8;function xhe(){if(V8)return aj;V8=1;function e(t,n){return t<n}return aj=e,aj}var oj,G8;function bhe(){if(G8)return oj;G8=1;var e=$9(),t=xhe(),n=Em();function r(i){return i&&i.length?e(i,n,t):void 0}return oj=r,oj}var whe=bhe();const X1=gr(whe);var sj,K8;function _he(){if(K8)return sj;K8=1;var e=kA(),t=Hd(),n=K$(),r=wo();function i(a,s){var l=r(a)?e:n;return l(a,t(s,3))}return sj=i,sj}var lj,Y8;function jhe(){if(Y8)return lj;Y8=1;var e=V$(),t=_he();function n(r,i){return e(t(r,i),1)}return lj=n,lj}var She=jhe();const Nhe=gr(She);var cj,X8;function Ahe(){if(X8)return cj;X8=1;var e=UA();function t(n,r){return e(n,r)}return cj=t,cj}var Che=Ahe();const m3=gr(Che);var Om=1e9,Phe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},v3,Yr=!0,As="[DecimalError] ",Zf=As+"Invalid argument: ",g3=As+"Exponent out of range: ",Tm=Math.floor,Ef=Math.pow,Ehe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Bo,Ji=1e7,$r=7,q9=9007199254740991,wx=Tm(q9/$r),Mt={};Mt.absoluteValue=Mt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Mt.comparedTo=Mt.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Mt.decimalPlaces=Mt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*$r;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Mt.dividedBy=Mt.div=function(e){return au(this,new this.constructor(e))};Mt.dividedToIntegerBy=Mt.idiv=function(e){var t=this,n=t.constructor;return kr(au(t,new n(e),0,1),n.precision)};Mt.equals=Mt.eq=function(e){return!this.cmp(e)};Mt.exponent=function(){return ki(this)};Mt.greaterThan=Mt.gt=function(e){return this.cmp(e)>0};Mt.greaterThanOrEqualTo=Mt.gte=function(e){return this.cmp(e)>=0};Mt.isInteger=Mt.isint=function(){return this.e>this.d.length-2};Mt.isNegative=Mt.isneg=function(){return this.s<0};Mt.isPositive=Mt.ispos=function(){return this.s>0};Mt.isZero=function(){return this.s===0};Mt.lessThan=Mt.lt=function(e){return this.cmp(e)<0};Mt.lessThanOrEqualTo=Mt.lte=function(e){return this.cmp(e)<1};Mt.logarithm=Mt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Bo))throw Error(As+"NaN");if(n.s<1)throw Error(As+(n.s?"NaN":"-Infinity"));return n.eq(Bo)?new r(0):(Yr=!1,t=au(av(n,a),av(e,a),a),Yr=!0,kr(t,i))};Mt.minus=Mt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?H9(t,e):B9(t,(e.s=-e.s,e))};Mt.modulo=Mt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(As+"NaN");return n.s?(Yr=!1,t=au(n,e,0,1).times(e),Yr=!0,n.minus(t)):kr(new r(n),i)};Mt.naturalExponential=Mt.exp=function(){return U9(this)};Mt.naturalLogarithm=Mt.ln=function(){return av(this)};Mt.negated=Mt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Mt.plus=Mt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?B9(t,e):H9(t,(e.s=-e.s,e))};Mt.precision=Mt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Zf+e);if(t=ki(i)+1,r=i.d.length-1,n=r*$r+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Mt.squareRoot=Mt.sqrt=function(){var e,t,n,r,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(As+"NaN")}for(e=ki(l),Yr=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Hl(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Tm((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(au(l,a,s+2)).times(.5),Hl(a.d).slice(0,s)===(t=Hl(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(kr(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;s+=4}return Yr=!0,kr(r,n)};Mt.times=Mt.mul=function(e){var t,n,r,i,a,s,l,c,d,h=this,p=h.constructor,g=h.d,m=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,n=h.e+e.e,c=g.length,d=m.length,c<d&&(a=g,g=m,m=a,s=c,c=d,d=s),a=[],s=c+d,r=s;r--;)a.push(0);for(r=d;--r>=0;){for(t=0,i=c+r;i>r;)l=a[i]+m[r]*g[i-r-1]+t,a[i--]=l%Ji|0,t=l/Ji|0;a[i]=(a[i]+t)%Ji|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Yr?kr(e,p.precision):e};Mt.toDecimalPlaces=Mt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Jl(e,0,Om),t===void 0?t=r.rounding:Jl(t,0,8),kr(n,e+ki(n)+1,t))};Mt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=vh(r,!0):(Jl(e,0,Om),t===void 0?t=i.rounding:Jl(t,0,8),r=kr(new i(r),e+1,t),n=vh(r,!0,e+1)),n};Mt.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?vh(i):(Jl(e,0,Om),t===void 0?t=a.rounding:Jl(t,0,8),r=kr(new a(i),e+ki(i)+1,t),n=vh(r.abs(),!1,e+ki(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Mt.toInteger=Mt.toint=function(){var e=this,t=e.constructor;return kr(new t(e),ki(e)+1,t.rounding)};Mt.toNumber=function(){return+this};Mt.toPower=Mt.pow=function(e){var t,n,r,i,a,s,l=this,c=l.constructor,d=12,h=+(e=new c(e));if(!e.s)return new c(Bo);if(l=new c(l),!l.s){if(e.s<1)throw Error(As+"Infinity");return l}if(l.eq(Bo))return l;if(r=c.precision,e.eq(Bo))return kr(l,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=l.s,s){if((n=h<0?-h:h)<=q9){for(i=new c(Bo),t=Math.ceil(r/$r+4),Yr=!1;n%2&&(i=i.times(l),J8(i.d,t)),n=Tm(n/2),n!==0;)l=l.times(l),J8(l.d,t);return Yr=!0,e.s<0?new c(Bo).div(i):kr(i,r)}}else if(a<0)throw Error(As+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Yr=!1,i=e.times(av(l,r+d)),Yr=!0,i=U9(i),i.s=a,i};Mt.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=ki(i),r=vh(i,n<=a.toExpNeg||n>=a.toExpPos)):(Jl(e,1,Om),t===void 0?t=a.rounding:Jl(t,0,8),i=kr(new a(i),e,t),n=ki(i),r=vh(i,e<=n||n<=a.toExpNeg,e)),r};Mt.toSignificantDigits=Mt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Jl(e,1,Om),t===void 0?t=r.rounding:Jl(t,0,8)),kr(new r(n),e,t)};Mt.toString=Mt.valueOf=Mt.val=Mt.toJSON=Mt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ki(e),n=e.constructor;return vh(e,t<=n.toExpNeg||t>=n.toExpPos)};function B9(e,t){var n,r,i,a,s,l,c,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Yr?kr(t,p):t;if(c=e.d,d=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,l=d.length):(r=d,i=s,l=c.length),s=Math.ceil(p/$r),l=s>l?s+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,r=d,d=c,c=r),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/Ji|0,c[a]%=Ji;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Yr?kr(t,p):t}function Jl(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Zf+e)}function Hl(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=$r-r.length,n&&(a+=cd(n)),a+=r;s=e[t],r=s+"",n=$r-r.length,n&&(a+=cd(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var au=(function(){function e(r,i){var a,s=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+s,r[l]=a%Ji|0,s=a/Ji|0;return s&&r.unshift(s),r}function t(r,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Ji+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var l,c,d,h,p,g,m,b,x,y,w,A,C,P,E,I,z,O,F=r.constructor,G=r.s==i.s?1:-1,R=r.d,k=i.d;if(!r.s)return new F(r);if(!i.s)throw Error(As+"Division by zero");for(c=r.e-i.e,z=k.length,E=R.length,m=new F(G),b=m.d=[],d=0;k[d]==(R[d]||0);)++d;if(k[d]>(R[d]||0)&&--c,a==null?A=a=F.precision:s?A=a+(ki(r)-ki(i))+1:A=a,A<0)return new F(0);if(A=A/$r+2|0,d=0,z==1)for(h=0,k=k[0],A++;(d<E||h)&&A--;d++)C=h*Ji+(R[d]||0),b[d]=C/k|0,h=C%k|0;else{for(h=Ji/(k[0]+1)|0,h>1&&(k=e(k,h),R=e(R,h),z=k.length,E=R.length),P=z,x=R.slice(0,z),y=x.length;y<z;)x[y++]=0;O=k.slice(),O.unshift(0),I=k[0],k[1]>=Ji/2&&++I;do h=0,l=t(k,x,z,y),l<0?(w=x[0],z!=y&&(w=w*Ji+(x[1]||0)),h=w/I|0,h>1?(h>=Ji&&(h=Ji-1),p=e(k,h),g=p.length,y=x.length,l=t(p,x,g,y),l==1&&(h--,n(p,z<g?O:k,g))):(h==0&&(l=h=1),p=k.slice()),g=p.length,g<y&&p.unshift(0),n(x,p,y),l==-1&&(y=x.length,l=t(k,x,z,y),l<1&&(h++,n(x,z<y?O:k,y))),y=x.length):l===0&&(h++,x=[0]),b[d++]=h,l&&x[0]?x[y++]=R[P]||0:(x=[R[P]],y=1);while((P++<E||x[0]!==void 0)&&A--)}return b[0]||b.shift(),m.e=c,kr(m,s?a+ki(m)+1:a)}})();function U9(e,t){var n,r,i,a,s,l,c=0,d=0,h=e.constructor,p=h.precision;if(ki(e)>16)throw Error(g3+ki(e));if(!e.s)return new h(Bo);for(Yr=!1,l=p,s=new h(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(r=Math.log(Ef(2,d))/Math.LN10*2+5|0,l+=r,n=i=a=new h(Bo),h.precision=l;;){if(i=kr(i.times(e),l),n=n.times(++c),s=a.plus(au(i,n,l)),Hl(s.d).slice(0,l)===Hl(a.d).slice(0,l)){for(;d--;)a=kr(a.times(a),l);return h.precision=p,t==null?(Yr=!0,kr(a,p)):a}a=s}}function ki(e){for(var t=e.e*$r,n=e.d[0];n>=10;n/=10)t++;return t}function uj(e,t,n){if(t>e.LN10.sd())throw Yr=!0,n&&(e.precision=n),Error(As+"LN10 precision limit exceeded");return kr(new e(e.LN10),t)}function cd(e){for(var t="";e--;)t+="0";return t}function av(e,t){var n,r,i,a,s,l,c,d,h,p=1,g=10,m=e,b=m.d,x=m.constructor,y=x.precision;if(m.s<1)throw Error(As+(m.s?"NaN":"-Infinity"));if(m.eq(Bo))return new x(0);if(t==null?(Yr=!1,d=y):d=t,m.eq(10))return t==null&&(Yr=!0),uj(x,d);if(d+=g,x.precision=d,n=Hl(b),r=n.charAt(0),a=ki(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Hl(m.d),r=n.charAt(0),p++;a=ki(m),r>1?(m=new x("0."+n),a++):m=new x(r+"."+n.slice(1))}else return c=uj(x,d+2,y).times(a+""),m=av(new x(r+"."+n.slice(1)),d-g).plus(c),x.precision=y,t==null?(Yr=!0,kr(m,y)):m;for(l=s=m=au(m.minus(Bo),m.plus(Bo),d),h=kr(m.times(m),d),i=3;;){if(s=kr(s.times(h),d),c=l.plus(au(s,new x(i),d)),Hl(c.d).slice(0,d)===Hl(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(uj(x,d+2,y).times(a+""))),l=au(l,new x(p),d),x.precision=y,t==null?(Yr=!0,kr(l,y)):l;l=c,i+=2}}function Q8(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Tm(n/$r),e.d=[],r=(n+1)%$r,n<0&&(r+=$r),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=$r;r<i;)e.d.push(+t.slice(r,r+=$r));t=t.slice(r),r=$r-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Yr&&(e.e>wx||e.e<-wx))throw Error(g3+n)}else e.s=0,e.e=0,e.d=[0];return e}function kr(e,t,n){var r,i,a,s,l,c,d,h,p=e.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=$r,i=t,d=p[h=0];else{if(h=Math.ceil((r+1)/$r),a=p.length,h>=a)return e;for(d=a=p[h],s=1;a>=10;a/=10)s++;r%=$r,i=r-$r+s}if(n!==void 0&&(a=Ef(10,s-i-1),l=d/a%10|0,c=t<0||p[h+1]!==void 0||d%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?d/Ef(10,s-i):0:p[h-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return c?(a=ki(e),p.length=1,t=t-a-1,p[0]=Ef(10,($r-t%$r)%$r),e.e=Tm(-t/$r)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=Ef(10,$r-r),p[h]=i>0?(d/Ef(10,s-i)%Ef(10,i)|0)*a:0),c)for(;;)if(h==0){(p[0]+=a)==Ji&&(p[0]=1,++e.e);break}else{if(p[h]+=a,p[h]!=Ji)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(Yr&&(e.e>wx||e.e<-wx))throw Error(g3+ki(e));return e}function H9(e,t){var n,r,i,a,s,l,c,d,h,p,g=e.constructor,m=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Yr?kr(t,m):t;if(c=e.d,p=t.d,r=t.e,d=e.e,c=c.slice(),s=d-r,s){for(h=s<0,h?(n=c,s=-s,l=p.length):(n=p,r=d,l=c.length),i=Math.max(Math.ceil(m/$r),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}s=0}for(h&&(n=c,c=p,p=n,t.s=-t.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=Ji-1;--c[a],c[i]+=Ji}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Yr?kr(t,m):t):new g(0)}function vh(e,t,n){var r,i=ki(e),a=Hl(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+cd(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+cd(-i-1)+a,n&&(r=n-s)>0&&(a+=cd(r))):i>=s?(a+=cd(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+cd(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=cd(r))),e.s<0?"-"+a:a}function J8(e,t){if(e.length>t)return e.length=t,!0}function W9(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Zf+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return Q8(s,a.toString())}else if(typeof a!="string")throw Error(Zf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Ehe.test(a))Q8(s,a);else throw Error(Zf+a)}if(i.prototype=Mt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=W9,i.config=i.set=khe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function khe(e){if(!e||typeof e!="object")throw Error(As+"Object expected");var t,n,r,i=["precision",1,Om,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Tm(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Zf+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Zf+n+": "+r);return this}var v3=W9(Phe);Bo=new v3(1);const br=v3;function Ohe(e){return Ihe(e)||Lhe(e)||Dhe(e)||The()}function The(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dhe(e,t){if(e){if(typeof e=="string")return vN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vN(e,t)}}function Lhe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Ihe(e){if(Array.isArray(e))return vN(e)}function vN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Rhe=function(t){return t},V9={},G9=function(t){return t===V9},Z8=function(t){return function n(){return arguments.length===0||arguments.length===1&&G9(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Mhe=function e(t,n){return t===1?n:Z8(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(l){return l!==V9}).length;return s>=t?n.apply(void 0,i):e(t-s,Z8(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var h=i.map(function(p){return G9(p)?c.shift():p});return n.apply(void 0,Ohe(h).concat(c))}))})},Q1=function(t){return Mhe(t.length,t)},yN=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},zhe=Q1(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),Fhe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Rhe;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},xN=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},K9=function(t){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=t.apply(void 0,a)),r}};function $he(e){var t;return e===0?t=1:t=Math.floor(new br(e).abs().log(10).toNumber())+1,t}function qhe(e,t,n){for(var r=new br(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Bhe=Q1(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),Uhe=Q1(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),Hhe=Q1(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const J1={rangeStep:qhe,getDigitCount:$he,interpolateNumber:Bhe,uninterpolateNumber:Uhe,uninterpolateTruncation:Hhe};function bN(e){return Ghe(e)||Vhe(e)||Y9(e)||Whe()}function Whe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vhe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Ghe(e){if(Array.isArray(e))return wN(e)}function ov(e,t){return Xhe(e)||Yhe(e,t)||Y9(e,t)||Khe()}function Khe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y9(e,t){if(e){if(typeof e=="string")return wN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wN(e,t)}}function wN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yhe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function Xhe(e){if(Array.isArray(e))return e}function X9(e){var t=ov(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function Q9(e,t,n){if(e.lte(0))return new br(0);var r=J1.getDigitCount(e.toNumber()),i=new br(10).pow(r),a=e.div(i),s=r!==1?.05:.1,l=new br(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=l.mul(i);return t?c:new br(Math.ceil(c))}function Qhe(e,t,n){var r=1,i=new br(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new br(10).pow(J1.getDigitCount(e)-1),i=new br(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new br(Math.floor(e)))}else e===0?i=new br(Math.floor((t-1)/2)):n||(i=new br(Math.floor(e)));var s=Math.floor((t-1)/2),l=Fhe(zhe(function(c){return i.add(new br(c-s).mul(r)).toNumber()}),yN);return l(0,t)}function J9(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new br(0),tickMin:new br(0),tickMax:new br(0)};var a=Q9(new br(t).sub(e).div(n-1),r,i),s;e<=0&&t>=0?s=new br(0):(s=new br(e).add(t).div(2),s=s.sub(new br(s).mod(a)));var l=Math.ceil(s.sub(e).div(a).toNumber()),c=Math.ceil(new br(t).sub(s).div(a).toNumber()),d=l+c+1;return d>n?J9(e,t,n,r,i+1):(d<n&&(c=t>0?c+(n-d):c,l=t>0?l:l+(n-d)),{step:a,tickMin:s.sub(new br(l).mul(a)),tickMax:s.add(new br(c).mul(a))})}function Jhe(e){var t=ov(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=X9([n,r]),c=ov(l,2),d=c[0],h=c[1];if(d===-1/0||h===1/0){var p=h===1/0?[d].concat(bN(yN(0,i-1).map(function(){return 1/0}))):[].concat(bN(yN(0,i-1).map(function(){return-1/0})),[h]);return n>r?xN(p):p}if(d===h)return Qhe(d,i,a);var g=J9(d,h,s,a),m=g.step,b=g.tickMin,x=g.tickMax,y=J1.rangeStep(b,x.add(new br(.1).mul(m)),m);return n>r?xN(y):y}function Zhe(e,t){var n=ov(e,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=X9([r,i]),l=ov(s,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[r,i];if(c===d)return[c];var h=Math.max(t,2),p=Q9(new br(d).sub(c).div(h-1),a,0),g=[].concat(bN(J1.rangeStep(new br(c),new br(d).sub(new br(.99).mul(p)),p)),[d]);return r>i?xN(g):g}var epe=K9(Jhe),tpe=K9(Zhe),npe="Invariant failed";function yh(e,t){throw new Error(npe)}var rpe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}function _x(){return _x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_x.apply(this,arguments)}function ipe(e,t){return lpe(e)||spe(e,t)||ope(e,t)||ape()}function ape(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ope(e,t){if(e){if(typeof e=="string")return eD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eD(e,t)}}function eD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function spe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function lpe(e){if(Array.isArray(e))return e}function cpe(e,t){if(e==null)return{};var n=upe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function upe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function dpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fpe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tq(r.key),r)}}function hpe(e,t,n){return t&&fpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ppe(e,t,n){return t=jx(t),mpe(e,Z9()?Reflect.construct(t,n||[],jx(e).constructor):t.apply(e,n))}function mpe(e,t){if(t&&(im(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gpe(e)}function gpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z9=function(){return!!e})()}function jx(e){return jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jx(e)}function vpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_N(e,t)}function _N(e,t){return _N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_N(e,t)}function eq(e,t,n){return t=tq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tq(e){var t=ype(e,"string");return im(t)=="symbol"?t:t+""}function ype(e,t){if(im(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Z1=(function(e){function t(){return dpe(this,t),ppe(this,t,arguments)}return vpe(t,e),hpe(t,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,l=r.dataKey,c=r.data,d=r.dataPointFormatter,h=r.xAxis,p=r.yAxis,g=cpe(r,rpe),m=tr(g,!1);this.props.direction==="x"&&h.type!=="number"&&yh();var b=c.map(function(x){var y=d(x,l),w=y.x,A=y.y,C=y.value,P=y.errorVal;if(!P)return null;var E=[],I,z;if(Array.isArray(P)){var O=ipe(P,2);I=O[0],z=O[1]}else I=z=P;if(a==="vertical"){var F=h.scale,G=A+i,R=G+s,k=G-s,B=F(C-I),U=F(C+z);E.push({x1:U,y1:R,x2:U,y2:k}),E.push({x1:B,y1:G,x2:U,y2:G}),E.push({x1:B,y1:R,x2:B,y2:k})}else if(a==="horizontal"){var M=p.scale,X=w+i,Q=X-s,K=X+s,Y=M(C-I),ne=M(C+z);E.push({x1:Q,y1:ne,x2:K,y2:ne}),E.push({x1:X,y1:Y,x2:X,y2:ne}),E.push({x1:Q,y1:Y,x2:K,y2:Y})}return ve.createElement(ea,_x({className:"recharts-errorBar",key:"bar-".concat(E.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},m),E.map(function(H){return ve.createElement("line",_x({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return ve.createElement(ea,{className:"recharts-errorBars"},b)}}])})(ve.Component);eq(Z1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});eq(Z1,"displayName","ErrorBar");function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function tD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tD(Object(n),!0).forEach(function(r){xpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xpe(e,t,n){return t=bpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bpe(e){var t=wpe(e,"string");return sv(t)=="symbol"?t:t+""}function wpe(e,t){if(sv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nq=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,s=Fo(n,Qf);if(!s)return null;var l=Qf.defaultProps,c=l!==void 0?Nf(Nf({},l),s.props):{},d;return s.props&&s.props.payload?d=s.props&&s.props.payload:a==="children"?d=(r||[]).reduce(function(h,p){var g=p.item,m=p.props,b=m.sectors||m.data||[];return h.concat(b.map(function(x){return{type:s.props.iconType||g.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):d=(r||[]).map(function(h){var p=h.item,g=p.type.defaultProps,m=g!==void 0?Nf(Nf({},g),p.props):{},b=m.dataKey,x=m.name,y=m.legendType,w=m.hide;return{inactive:w,dataKey:b,type:c.iconType||y||"square",color:y3(p),value:x||b,payload:m}}),Nf(Nf(Nf({},c),Qf.getWithHeight(s,i)),{},{payload:d,item:s})};function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}function nD(e){return Npe(e)||Spe(e)||jpe(e)||_pe()}function _pe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jpe(e,t){if(e){if(typeof e=="string")return jN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jN(e,t)}}function Spe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Npe(e){if(Array.isArray(e))return jN(e)}function jN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rD(Object(n),!0).forEach(function(r){Tp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tp(e,t,n){return t=Ape(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ape(e){var t=Cpe(e,"string");return lv(t)=="symbol"?t:t+""}function Cpe(e,t){if(lv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zl(e,t,n){return nr(e)||nr(t)?n:qi(t)?_s(e,t,n):In(t)?t(e):n}function Rg(e,t,n,r){var i=Nhe(e,function(l){return Zl(l,t)});if(n==="number"){var a=i.filter(function(l){return gt(l)||parseFloat(l)});return a.length?[X1(a),Y1(a)]:[1/0,-1/0]}var s=r?i.filter(function(l){return!nr(l)}):i;return s.map(function(l){return qi(l)||l instanceof Date?l:""})}var Ppe=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<l;d++){var h=d>0?i[d-1].coordinate:i[l-1].coordinate,p=i[d].coordinate,g=d>=l-1?i[0].coordinate:i[d+1].coordinate,m=void 0;if(nl(p-h)!==nl(g-p)){var b=[];if(nl(g-p)===nl(c[1]-c[0])){m=g;var x=p+c[1]-c[0];b[0]=Math.min(x,(x+h)/2),b[1]=Math.max(x,(x+h)/2)}else{m=h;var y=g+c[1]-c[0];b[0]=Math.min(p,(y+p)/2),b[1]=Math.max(p,(y+p)/2)}var w=[Math.min(p,(m+p)/2),Math.max(p,(m+p)/2)];if(t>w[0]&&t<=w[1]||t>=b[0]&&t<=b[1]){s=i[d].index;break}}else{var A=Math.min(h,g),C=Math.max(h,g);if(t>(A+p)/2&&t<=(C+p)/2){s=i[d].index;break}}}else for(var P=0;P<l;P++)if(P===0&&t<=(r[P].coordinate+r[P+1].coordinate)/2||P>0&&P<l-1&&t>(r[P].coordinate+r[P-1].coordinate)/2&&t<=(r[P].coordinate+r[P+1].coordinate)/2||P===l-1&&t>(r[P].coordinate+r[P-1].coordinate)/2){s=r[P].index;break}return s},y3=function(t){var n,r=t,i=r.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?mi(mi({},t.type.defaultProps),t.props):t.props,s=a.stroke,l=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},Epe=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},l=Object.keys(a),c=0,d=l.length;c<d;c++)for(var h=a[l[c]].stackGroups,p=Object.keys(h),g=0,m=p.length;g<m;g++){var b=h[p[g]],x=b.items,y=b.cateAxisId,w=x.filter(function(z){return ru(z.type).indexOf("Bar")>=0});if(w&&w.length){var A=w[0].type.defaultProps,C=A!==void 0?mi(mi({},A),w[0].props):w[0].props,P=C.barSize,E=C[y];s[E]||(s[E]=[]);var I=nr(P)?n:P;s[E].push({item:w[0],stackList:w.slice(1),barSize:nr(I)?void 0:gh(I,r,0)})}}return s},kpe=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,a=t.sizeList,s=a===void 0?[]:a,l=t.maxBarSize,c=s.length;if(c<1)return null;var d=gh(n,i,0,!0),h,p=[];if(s[0].barSize===+s[0].barSize){var g=!1,m=i/c,b=s.reduce(function(P,E){return P+E.barSize||0},0);b+=(c-1)*d,b>=i&&(b-=(c-1)*d,d=0),b>=i&&m>0&&(g=!0,m*=.9,b=c*m);var x=(i-b)/2>>0,y={offset:x-d,size:0};h=s.reduce(function(P,E){var I={item:E.item,position:{offset:y.offset+y.size+d,size:g?m:E.barSize}},z=[].concat(nD(P),[I]);return y=z[z.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(O){z.push({item:O,position:y})}),z},p)}else{var w=gh(r,i,0,!0);i-2*w-(c-1)*d<=0&&(d=0);var A=(i-2*w-(c-1)*d)/c;A>1&&(A>>=0);var C=l===+l?Math.min(A,l):A;h=s.reduce(function(P,E,I){var z=[].concat(nD(P),[{item:E.item,position:{offset:w+(A+d)*I+(A-C)/2,size:C}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(O){z.push({item:O,position:z[z.length-1].position})}),z},p)}return h},Ope=function(t,n,r,i){var a=r.children,s=r.width,l=r.margin,c=s-(l.left||0)-(l.right||0),d=nq({children:a,legendWidth:c});if(d){var h=i||{},p=h.width,g=h.height,m=d.align,b=d.verticalAlign,x=d.layout;if((x==="vertical"||x==="horizontal"&&b==="middle")&&m!=="center"&&gt(t[m]))return mi(mi({},t),{},Tp({},m,t[m]+(p||0)));if((x==="horizontal"||x==="vertical"&&m==="center")&&b!=="middle"&&gt(t[b]))return mi(mi({},t),{},Tp({},b,t[b]+(g||0)))}return t},Tpe=function(t,n,r){return nr(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},rq=function(t,n,r,i,a){var s=n.props.children,l=al(s,Z1).filter(function(d){return Tpe(i,a,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,h){var p=Zl(h,r);if(nr(p))return d;var g=Array.isArray(p)?[X1(p),Y1(p)]:[p,p],m=c.reduce(function(b,x){var y=Zl(h,x,0),w=g[0]-Math.abs(Array.isArray(y)?y[0]:y),A=g[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(w,b[0]),Math.max(A,b[1])]},[1/0,-1/0]);return[Math.min(m[0],d[0]),Math.max(m[1],d[1])]},[1/0,-1/0])}return null},Dpe=function(t,n,r,i,a){var s=n.map(function(l){return rq(t,l,r,a,i)}).filter(function(l){return!nr(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},iq=function(t,n,r,i,a){var s=n.map(function(c){var d=c.props.dataKey;return r==="number"&&d&&rq(t,c,d,i)||Rg(t,d,r,a)});if(r==="number")return s.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,d){for(var h=0,p=d.length;h<p;h++)l[d[h]]||(l[d[h]]=!0,c.push(d[h]));return c},[])},aq=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},oq=function(t,n,r,i){if(i)return t.map(function(c){return c.coordinate});var a,s,l=t.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(s=!0),c.coordinate});return a||l.push(n),s||l.push(r),l},Zc=function(t,n,r){if(!t)return null;var i=t.scale,a=t.duplicateDomain,s=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?nl(l[0]-l[1])*2*d:d,n&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(p){var g=a?a.indexOf(p):p;return{coordinate:i(g)+d,value:p,offset:d}});return h.filter(function(p){return!Wv(p.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(p,g){return{coordinate:i(p)+d,value:p,index:g,offset:d}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(p){return{coordinate:i(p)+d,value:p,offset:d}}):i.domain().map(function(p,g){return{coordinate:i(p)+d,value:a?a[p]:p,index:g,offset:d}})},dj=new WeakMap,cy=function(t,n){if(typeof n!="function")return t;dj.has(t)||dj.set(t,new WeakMap);var r=dj.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Lpe=function(t,n,r){var i=t.scale,a=t.type,s=t.layout,l=t.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:ev(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:vx(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Ig(),realScaleType:"point"}:a==="category"?{scale:ev(),realScaleType:"band"}:{scale:vx(),realScaleType:"linear"};if(mh(i)){var c="scale".concat(R1(i));return{scale:(B8[c]||Ig)(),realScaleType:B8[c]?c:"point"}}return In(i)?{scale:i}:{scale:Ig(),realScaleType:"point"}},iD=1e-4,Ipe=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),a=Math.min(i[0],i[1])-iD,s=Math.max(i[0],i[1])+iD,l=t(n[0]),c=t(n[r-1]);(l<a||l>s||c<a||c>s)&&t.domain([n[0],n[r-1]])}},Rpe=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},Mpe=function(t,n){if(!n||n.length!==2||!gt(n[0])||!gt(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!gt(t[0])||t[0]<r)&&(a[0]=r),(!gt(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},zpe=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,s=0,l=0;l<n;++l){var c=Wv(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=a,t[l][r][1]=a+c,a=t[l][r][1]):(t[l][r][0]=s,t[l][r][1]=s+c,s=t[l][r][1])}},Fpe=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var l=Wv(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=a,t[s][r][1]=a+l,a=t[s][r][1]):(t[s][r][0]=0,t[s][r][1]=0)}},$pe={sign:zpe,expand:jse,none:Xp,silhouette:Sse,wiggle:Nse,positive:Fpe},qpe=function(t,n,r){var i=n.map(function(l){return l.props.dataKey}),a=$pe[r],s=_se().keys(i).value(function(l,c){return+Zl(l,c,0)}).order(ZS).offset(a);return s(t)},Bpe=function(t,n,r,i,a,s){if(!t)return null;var l=s?n.reverse():n,c={},d=l.reduce(function(p,g){var m,b=(m=g.type)!==null&&m!==void 0&&m.defaultProps?mi(mi({},g.type.defaultProps),g.props):g.props,x=b.stackId,y=b.hide;if(y)return p;var w=b[r],A=p[w]||{hasStack:!1,stackGroups:{}};if(qi(x)){var C=A.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};C.items.push(g),A.hasStack=!0,A.stackGroups[x]=C}else A.stackGroups[I1("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[g]};return mi(mi({},p),{},Tp({},w,A))},c),h={};return Object.keys(d).reduce(function(p,g){var m=d[g];if(m.hasStack){var b={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(x,y){var w=m.stackGroups[y];return mi(mi({},x),{},Tp({},y,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:qpe(t,w.items,a)}))},b)}return mi(mi({},p),{},Tp({},g,m))},h)},Upe=function(t,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var d=t.domain();if(!d.length)return null;var h=epe(d,a,l);return t.domain([X1(h),Y1(h)]),{niceTicks:h}}if(a&&i==="number"){var p=t.domain(),g=tpe(p,a,l);return{niceTicks:g}}return null},aD=function(t){var n=t.axis,r=t.ticks,i=t.offset,a=t.bandSize,s=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=Zl(s,n.dataKey,n.domain[l]);return nr(c)?null:n.scale(c)-a/2+i},Hpe=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},Wpe=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?mi(mi({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(qi(a)){var s=n[a];if(s){var l=s.items.indexOf(t);return l>=0?s.stackedData[l]:null}}return null},Vpe=function(t){return t.reduce(function(n,r){return[X1(r.concat([n[0]]).filter(gt)),Y1(r.concat([n[1]]).filter(gt))]},[1/0,-1/0])},sq=function(t,n,r){return Object.keys(t).reduce(function(i,a){var s=t[a],l=s.stackedData,c=l.reduce(function(d,h){var p=Vpe(h.slice(n,r+1));return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},oD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SN=function(t,n,r){if(In(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(gt(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(oD.test(t[0])){var a=+oD.exec(t[0])[1];i[0]=n[0]-a}else In(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(gt(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(sD.test(t[1])){var s=+sD.exec(t[1])[1];i[1]=n[1]+s}else In(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},Sx=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var a=WA(n,function(p){return p.coordinate}),s=1/0,l=1,c=a.length;l<c;l++){var d=a[l],h=a[l-1];s=Math.min((d.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},lD=function(t,n,r){return!t||!t.length||m3(t,_s(r,"type.defaultProps.domain"))?n:t},lq=function(t,n){var r=t.type.defaultProps?mi(mi({},t.type.defaultProps),t.props):t.props,i=r.dataKey,a=r.name,s=r.unit,l=r.formatter,c=r.tooltipType,d=r.chartType,h=r.hide;return mi(mi({},tr(t,!1)),{},{dataKey:i,unit:s,formatter:l,name:a||i,color:y3(t),value:Zl(n,i),type:c,payload:n,chartType:d,hide:h})};function cv(e){"@babel/helpers - typeof";return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cv(e)}function cD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cD(Object(n),!0).forEach(function(r){Gpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gpe(e,t,n){return t=Kpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kpe(e){var t=Ype(e,"string");return cv(t)=="symbol"?t:t+""}function Ype(e,t){if(cv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nx=Math.PI/180,Xpe=function(t){return t*180/Math.PI},ua=function(t,n,r,i){return{x:t+Math.cos(-Nx*i)*r,y:n+Math.sin(-Nx*i)*r}},Qpe=function(t,n){var r=t.x,i=t.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},Jpe=function(t,n){var r=t.x,i=t.y,a=n.cx,s=n.cy,l=Qpe({x:r,y:i},{x:a,y:s});if(l<=0)return{radius:l};var c=(r-a)/l,d=Math.acos(c);return i>s&&(d=2*Math.PI-d),{radius:l,angle:Xpe(d),angleInRadian:d}},Zpe=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},eme=function(t,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),l=Math.min(a,s);return t+l*360},dD=function(t,n){var r=t.x,i=t.y,a=Jpe({x:r,y:i},n),s=a.radius,l=a.angle,c=n.innerRadius,d=n.outerRadius;if(s<c||s>d)return!1;if(s===0)return!0;var h=Zpe(n),p=h.startAngle,g=h.endAngle,m=l,b;if(p<=g){for(;m>g;)m-=360;for(;m<p;)m+=360;b=m>=p&&m<=g}else{for(;m>p;)m-=360;for(;m<g;)m+=360;b=m>=g&&m<=p}return b?uD(uD({},n),{},{radius:s,angle:eme(m,n)}):null};function uv(e){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(e)}var tme=["offset"];function nme(e){return ome(e)||ame(e)||ime(e)||rme()}function rme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ime(e,t){if(e){if(typeof e=="string")return NN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NN(e,t)}}function ame(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ome(e){if(Array.isArray(e))return NN(e)}function NN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sme(e,t){if(e==null)return{};var n=lme(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lme(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function fD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fD(Object(n),!0).forEach(function(r){cme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cme(e,t,n){return t=ume(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ume(e){var t=dme(e,"string");return uv(t)=="symbol"?t:t+""}function dme(e,t){if(uv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(uv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dv.apply(this,arguments)}var fme=function(t){var n=t.value,r=t.formatter,i=nr(t.children)?n:t.children;return In(r)?r(i):i},hme=function(t,n){var r=nl(n-t),i=Math.min(Math.abs(n-t),360);return r*i},pme=function(t,n,r){var i=t.position,a=t.viewBox,s=t.offset,l=t.className,c=a,d=c.cx,h=c.cy,p=c.innerRadius,g=c.outerRadius,m=c.startAngle,b=c.endAngle,x=c.clockWise,y=(p+g)/2,w=hme(m,b),A=w>=0?1:-1,C,P;i==="insideStart"?(C=m+A*s,P=x):i==="insideEnd"?(C=b-A*s,P=!x):i==="end"&&(C=b+A*s,P=x),P=w<=0?P:!P;var E=ua(d,h,y,C),I=ua(d,h,y,C+(P?1:-1)*359),z="M".concat(E.x,",").concat(E.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(P?0:1,`,
    `).concat(I.x,",").concat(I.y),O=nr(t.id)?I1("recharts-radial-line-"):t.id;return ve.createElement("text",dv({},r,{dominantBaseline:"central",className:Xn("recharts-radial-bar-label",l)}),ve.createElement("defs",null,ve.createElement("path",{id:O,d:z})),ve.createElement("textPath",{xlinkHref:"#".concat(O)},n))},mme=function(t){var n=t.viewBox,r=t.offset,i=t.position,a=n,s=a.cx,l=a.cy,c=a.innerRadius,d=a.outerRadius,h=a.startAngle,p=a.endAngle,g=(h+p)/2;if(i==="outside"){var m=ua(s,l,d+r,g),b=m.x,x=m.y;return{x:b,y:x,textAnchor:b>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+d)/2,w=ua(s,l,y,g),A=w.x,C=w.y;return{x:A,y:C,textAnchor:"middle",verticalAnchor:"middle"}},gme=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,a=t.position,s=n,l=s.x,c=s.y,d=s.width,h=s.height,p=h>=0?1:-1,g=p*i,m=p>0?"end":"start",b=p>0?"start":"end",x=d>=0?1:-1,y=x*i,w=x>0?"end":"start",A=x>0?"start":"end";if(a==="top"){var C={x:l+d/2,y:c-p*i,textAnchor:"middle",verticalAnchor:m};return Fi(Fi({},C),r?{height:Math.max(c-r.y,0),width:d}:{})}if(a==="bottom"){var P={x:l+d/2,y:c+h+g,textAnchor:"middle",verticalAnchor:b};return Fi(Fi({},P),r?{height:Math.max(r.y+r.height-(c+h),0),width:d}:{})}if(a==="left"){var E={x:l-y,y:c+h/2,textAnchor:w,verticalAnchor:"middle"};return Fi(Fi({},E),r?{width:Math.max(E.x-r.x,0),height:h}:{})}if(a==="right"){var I={x:l+d+y,y:c+h/2,textAnchor:A,verticalAnchor:"middle"};return Fi(Fi({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:h}:{})}var z=r?{width:d,height:h}:{};return a==="insideLeft"?Fi({x:l+y,y:c+h/2,textAnchor:A,verticalAnchor:"middle"},z):a==="insideRight"?Fi({x:l+d-y,y:c+h/2,textAnchor:w,verticalAnchor:"middle"},z):a==="insideTop"?Fi({x:l+d/2,y:c+g,textAnchor:"middle",verticalAnchor:b},z):a==="insideBottom"?Fi({x:l+d/2,y:c+h-g,textAnchor:"middle",verticalAnchor:m},z):a==="insideTopLeft"?Fi({x:l+y,y:c+g,textAnchor:A,verticalAnchor:b},z):a==="insideTopRight"?Fi({x:l+d-y,y:c+g,textAnchor:w,verticalAnchor:b},z):a==="insideBottomLeft"?Fi({x:l+y,y:c+h-g,textAnchor:A,verticalAnchor:m},z):a==="insideBottomRight"?Fi({x:l+d-y,y:c+h-g,textAnchor:w,verticalAnchor:m},z):Pm(a)&&(gt(a.x)||Df(a.x))&&(gt(a.y)||Df(a.y))?Fi({x:l+gh(a.x,d),y:c+gh(a.y,h),textAnchor:"end",verticalAnchor:"end"},z):Fi({x:l+d/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},z)},vme=function(t){return"cx"in t&&gt(t.cx)};function Pa(e){var t=e.offset,n=t===void 0?5:t,r=sme(e,tme),i=Fi({offset:n},r),a=i.viewBox,s=i.position,l=i.value,c=i.children,d=i.content,h=i.className,p=h===void 0?"":h,g=i.textBreakAll;if(!a||nr(l)&&nr(c)&&!j.isValidElement(d)&&!In(d))return null;if(j.isValidElement(d))return j.cloneElement(d,i);var m;if(In(d)){if(m=j.createElement(d,i),j.isValidElement(m))return m}else m=fme(i);var b=vme(a),x=tr(i,!0);if(b&&(s==="insideStart"||s==="insideEnd"||s==="end"))return pme(i,m,x);var y=b?mme(i):gme(i);return ve.createElement(ux,dv({className:Xn("recharts-label",p)},x,y,{breakAll:g}),m)}Pa.displayName="Label";var cq=function(t){var n=t.cx,r=t.cy,i=t.angle,a=t.startAngle,s=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,h=t.outerRadius,p=t.x,g=t.y,m=t.top,b=t.left,x=t.width,y=t.height,w=t.clockWise,A=t.labelViewBox;if(A)return A;if(gt(x)&&gt(y)){if(gt(p)&&gt(g))return{x:p,y:g,width:x,height:y};if(gt(m)&&gt(b))return{x:m,y:b,width:x,height:y}}return gt(p)&&gt(g)?{x:p,y:g,width:0,height:0}:gt(n)&&gt(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:d||0,outerRadius:h||c||l||0,clockWise:w}:t.viewBox?t.viewBox:{}},yme=function(t,n){return t?t===!0?ve.createElement(Pa,{key:"label-implicit",viewBox:n}):qi(t)?ve.createElement(Pa,{key:"label-implicit",viewBox:n,value:t}):j.isValidElement(t)?t.type===Pa?j.cloneElement(t,{key:"label-implicit",viewBox:n}):ve.createElement(Pa,{key:"label-implicit",content:t,viewBox:n}):In(t)?ve.createElement(Pa,{key:"label-implicit",content:t,viewBox:n}):Pm(t)?ve.createElement(Pa,dv({viewBox:n},t,{key:"label-implicit"})):null:null},xme=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,a=cq(t),s=al(i,Pa).map(function(c,d){return j.cloneElement(c,{viewBox:n||a,key:"label-".concat(d)})});if(!r)return s;var l=yme(t.label,n||a);return[l].concat(nme(s))};Pa.parseViewBox=cq;Pa.renderCallByParent=xme;var fj,hD;function bme(){if(hD)return fj;hD=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return fj=e,fj}var wme=bme();const _me=gr(wme);function fv(e){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fv(e)}var jme=["valueAccessor"],Sme=["data","dataKey","clockWise","id","textBreakAll"];function Nme(e){return Eme(e)||Pme(e)||Cme(e)||Ame()}function Ame(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cme(e,t){if(e){if(typeof e=="string")return AN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AN(e,t)}}function Pme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Eme(e){if(Array.isArray(e))return AN(e)}function AN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ax(){return Ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ax.apply(this,arguments)}function pD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pD(Object(n),!0).forEach(function(r){kme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kme(e,t,n){return t=Ome(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ome(e){var t=Tme(e,"string");return fv(t)=="symbol"?t:t+""}function Tme(e,t){if(fv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gD(e,t){if(e==null)return{};var n=Dme(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Dme(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Lme=function(t){return Array.isArray(t.value)?_me(t.value):t.value};function eh(e){var t=e.valueAccessor,n=t===void 0?Lme:t,r=gD(e,jme),i=r.data,a=r.dataKey,s=r.clockWise,l=r.id,c=r.textBreakAll,d=gD(r,Sme);return!i||!i.length?null:ve.createElement(ea,{className:"recharts-label-list"},i.map(function(h,p){var g=nr(a)?n(h,p):Zl(h&&h.payload,a),m=nr(l)?{}:{id:"".concat(l,"-").concat(p)};return ve.createElement(Pa,Ax({},tr(h,!0),d,m,{parentViewBox:h.parentViewBox,value:g,textBreakAll:c,viewBox:Pa.parseViewBox(nr(s)?h:mD(mD({},h),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}eh.displayName="LabelList";function Ime(e,t){return e?e===!0?ve.createElement(eh,{key:"labelList-implicit",data:t}):ve.isValidElement(e)||In(e)?ve.createElement(eh,{key:"labelList-implicit",data:t,content:e}):Pm(e)?ve.createElement(eh,Ax({data:t},e,{key:"labelList-implicit"})):null:null}function Rme(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=al(r,eh).map(function(s,l){return j.cloneElement(s,{data:t,key:"labelList-".concat(l)})});if(!n)return i;var a=Ime(e.label,t);return[a].concat(Nme(i))}eh.renderCallByParent=Rme;function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}function CN(){return CN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CN.apply(this,arguments)}function vD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vD(Object(n),!0).forEach(function(r){Mme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mme(e,t,n){return t=zme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zme(e){var t=Fme(e,"string");return hv(t)=="symbol"?t:t+""}function Fme(e,t){if(hv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $me=function(t,n){var r=nl(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},uy=function(t){var n=t.cx,r=t.cy,i=t.radius,a=t.angle,s=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,h=c*(l?1:-1)+i,p=Math.asin(c/h)/Nx,g=d?a:a+s*p,m=ua(n,r,h,g),b=ua(n,r,i,g),x=d?a-s*p:a,y=ua(n,r,h*Math.cos(p*Nx),x);return{center:m,circleTangency:b,lineTangency:y,theta:p}},uq=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.startAngle,l=t.endAngle,c=$me(s,l),d=s+c,h=ua(n,r,a,s),p=ua(n,r,a,d),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>d),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var m=ua(n,r,i,s),b=ua(n,r,i,d);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=d),`,
            `).concat(m.x,",").concat(m.y," Z")}else g+="L ".concat(n,",").concat(r," Z");return g},qme=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,h=t.endAngle,p=nl(h-d),g=uy({cx:n,cy:r,radius:a,angle:d,sign:p,cornerRadius:s,cornerIsExternal:c}),m=g.circleTangency,b=g.lineTangency,x=g.theta,y=uy({cx:n,cy:r,radius:a,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:c}),w=y.circleTangency,A=y.lineTangency,C=y.theta,P=c?Math.abs(d-h):Math.abs(d-h)-x-C;if(P<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):uq({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h});var E="M ".concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(P>180),",").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var I=uy({cx:n,cy:r,radius:i,angle:d,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),z=I.circleTangency,O=I.lineTangency,F=I.theta,G=uy({cx:n,cy:r,radius:i,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),R=G.circleTangency,k=G.lineTangency,B=G.theta,U=c?Math.abs(d-h):Math.abs(d-h)-F-B;if(U<0&&s===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(p>0),",").concat(z.x,",").concat(z.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(O.x,",").concat(O.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},Bme={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},dq=function(t){var n=yD(yD({},Bme),t),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,h=n.startAngle,p=n.endAngle,g=n.className;if(s<a||h===p)return null;var m=Xn("recharts-sector",g),b=s-a,x=gh(l,b,0,!0),y;return x>0&&Math.abs(h-p)<360?y=qme({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(x,b/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:p}):y=uq({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p}),ve.createElement("path",CN({},tr(n,!0),{className:m,d:y,role:"img"}))};function pv(e){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pv(e)}function PN(){return PN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PN.apply(this,arguments)}function xD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xD(Object(n),!0).forEach(function(r){Ume(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ume(e,t,n){return t=Hme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hme(e){var t=Wme(e,"string");return pv(t)=="symbol"?t:t+""}function Wme(e,t){if(pv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wD={curveBasisClosed:dse,curveBasisOpen:fse,curveBasis:use,curveBumpX:Xoe,curveBumpY:Qoe,curveLinearClosed:hse,curveLinear:z1,curveMonotoneX:pse,curveMonotoneY:mse,curveNatural:gse,curveStep:vse,curveStepAfter:xse,curveStepBefore:yse},dy=function(t){return t.x===+t.x&&t.y===+t.y},yg=function(t){return t.x},xg=function(t){return t.y},Vme=function(t,n){if(In(t))return t;var r="curve".concat(R1(t));return(r==="curveMonotone"||r==="curveBump")&&n?wD["".concat(r).concat(n==="vertical"?"Y":"X")]:wD[r]||z1},Gme=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,a=i===void 0?[]:i,s=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,h=Vme(r,l),p=d?a.filter(function(x){return dy(x)}):a,g;if(Array.isArray(s)){var m=d?s.filter(function(x){return dy(x)}):s,b=p.map(function(x,y){return bD(bD({},x),{},{base:m[y]})});return l==="vertical"?g=ty().y(xg).x1(yg).x0(function(x){return x.base.x}):g=ty().x(yg).y1(xg).y0(function(x){return x.base.y}),g.defined(dy).curve(h),g(b)}return l==="vertical"&&gt(s)?g=ty().y(xg).x1(yg).x0(s):gt(s)?g=ty().x(yg).y1(xg).y0(s):g=m$().x(yg).y(xg),g.defined(dy).curve(h),g(p)},_D=function(t){var n=t.className,r=t.points,i=t.path,a=t.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?Gme(t):i;return j.createElement("path",PN({},tr(t,!1),Jy(t),{className:Xn("recharts-curve",n),d:s,ref:a}))},hj={exports:{}},pj,jD;function Kme(){if(jD)return pj;jD=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return pj=e,pj}var mj,SD;function Yme(){if(SD)return mj;SD=1;var e=Kme();function t(){}function n(){}return n.resetWarningCache=t,mj=function(){function r(s,l,c,d,h,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},mj}var ND;function Xme(){return ND||(ND=1,hj.exports=Yme()()),hj.exports}var Qme=Xme();const sr=gr(Qme),{getOwnPropertyNames:Jme,getOwnPropertySymbols:Zme}=Object,{hasOwnProperty:ege}=Object.prototype;function gj(e,t){return function(r,i,a){return e(r,i,a)&&t(r,i,a)}}function fy(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);const{cache:a}=i,s=a.get(n),l=a.get(r);if(s&&l)return s===r&&l===n;a.set(n,r),a.set(r,n);const c=e(n,r,i);return a.delete(n),a.delete(r),c}}function tge(e){return e!=null?e[Symbol.toStringTag]:void 0}function AD(e){return Jme(e).concat(Zme(e))}const nge=Object.hasOwn||((e,t)=>ege.call(e,t));function Ah(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const rge="__v",ige="__o",age="_owner",{getOwnPropertyDescriptor:CD,keys:PD}=Object;function oge(e,t){return e.byteLength===t.byteLength&&Cx(new Uint8Array(e),new Uint8Array(t))}function sge(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function lge(e,t){return e.byteLength===t.byteLength&&Cx(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function cge(e,t){return Ah(e.getTime(),t.getTime())}function uge(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function dge(e,t){return e===t}function ED(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),a=e.entries();let s,l,c=0;for(;(s=a.next())&&!s.done;){const d=t.entries();let h=!1,p=0;for(;(l=d.next())&&!l.done;){if(i[p]){p++;continue}const g=s.value,m=l.value;if(n.equals(g[0],m[0],c,p,e,t,n)&&n.equals(g[1],m[1],g[0],m[0],e,t,n)){h=i[p]=!0;break}p++}if(!h)return!1;c++}return!0}const fge=Ah;function hge(e,t,n){const r=PD(e);let i=r.length;if(PD(t).length!==i)return!1;for(;i-- >0;)if(!fq(e,t,n,r[i]))return!1;return!0}function bg(e,t,n){const r=AD(e);let i=r.length;if(AD(t).length!==i)return!1;let a,s,l;for(;i-- >0;)if(a=r[i],!fq(e,t,n,a)||(s=CD(e,a),l=CD(t,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function pge(e,t){return Ah(e.valueOf(),t.valueOf())}function mge(e,t){return e.source===t.source&&e.flags===t.flags}function kD(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),a=e.values();let s,l;for(;(s=a.next())&&!s.done;){const c=t.values();let d=!1,h=0;for(;(l=c.next())&&!l.done;){if(!i[h]&&n.equals(s.value,l.value,s.value,l.value,e,t,n)){d=i[h]=!0;break}h++}if(!d)return!1}return!0}function Cx(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function gge(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function fq(e,t,n,r){return(r===age||r===ige||r===rge)&&(e.$$typeof||t.$$typeof)?!0:nge(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const vge="[object ArrayBuffer]",yge="[object Arguments]",xge="[object Boolean]",bge="[object DataView]",wge="[object Date]",_ge="[object Error]",jge="[object Map]",Sge="[object Number]",Nge="[object Object]",Age="[object RegExp]",Cge="[object Set]",Pge="[object String]",Ege={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},kge="[object URL]",Oge=Object.prototype.toString;function Tge({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:d,areRegExpsEqual:h,areSetsEqual:p,areTypedArraysEqual:g,areUrlsEqual:m,unknownTagComparators:b}){return function(y,w,A){if(y===w)return!0;if(y==null||w==null)return!1;const C=typeof y;if(C!==typeof w)return!1;if(C!=="object")return C==="number"?l(y,w,A):C==="function"?a(y,w,A):!1;const P=y.constructor;if(P!==w.constructor)return!1;if(P===Object)return c(y,w,A);if(Array.isArray(y))return t(y,w,A);if(P===Date)return r(y,w,A);if(P===RegExp)return h(y,w,A);if(P===Map)return s(y,w,A);if(P===Set)return p(y,w,A);const E=Oge.call(y);if(E===wge)return r(y,w,A);if(E===Age)return h(y,w,A);if(E===jge)return s(y,w,A);if(E===Cge)return p(y,w,A);if(E===Nge)return typeof y.then!="function"&&typeof w.then!="function"&&c(y,w,A);if(E===kge)return m(y,w,A);if(E===_ge)return i(y,w,A);if(E===yge)return c(y,w,A);if(Ege[E])return g(y,w,A);if(E===vge)return e(y,w,A);if(E===bge)return n(y,w,A);if(E===xge||E===Sge||E===Pge)return d(y,w,A);if(b){let I=b[E];if(!I){const z=tge(y);z&&(I=b[z])}if(I)return I(y,w,A)}return!1}}function Dge({circular:e,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:oge,areArraysEqual:n?bg:sge,areDataViewsEqual:lge,areDatesEqual:cge,areErrorsEqual:uge,areFunctionsEqual:dge,areMapsEqual:n?gj(ED,bg):ED,areNumbersEqual:fge,areObjectsEqual:n?bg:hge,arePrimitiveWrappersEqual:pge,areRegExpsEqual:mge,areSetsEqual:n?gj(kD,bg):kD,areTypedArraysEqual:n?gj(Cx,bg):Cx,areUrlsEqual:gge,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),e){const i=fy(r.areArraysEqual),a=fy(r.areMapsEqual),s=fy(r.areObjectsEqual),l=fy(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return r}function Lge(e){return function(t,n,r,i,a,s,l){return e(t,n,l)}}function Ige({circular:e,comparator:t,createState:n,equals:r,strict:i}){if(n)return function(l,c){const{cache:d=e?new WeakMap:void 0,meta:h}=n();return t(l,c,{cache:d,equals:r,meta:h,strict:i})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(l,c){return t(l,c,a)}}const Rge=Gd();Gd({strict:!0});Gd({circular:!0});Gd({circular:!0,strict:!0});Gd({createInternalComparator:()=>Ah});Gd({strict:!0,createInternalComparator:()=>Ah});Gd({circular:!0,createInternalComparator:()=>Ah});Gd({circular:!0,createInternalComparator:()=>Ah,strict:!0});function Gd(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:i=!1}=e,a=Dge(e),s=Tge(a),l=n?n(s):Lge(s);return Ige({circular:t,comparator:s,createState:r,equals:l,strict:i})}function Mge(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function OD(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):Mge(i)};requestAnimationFrame(r)}function EN(e){"@babel/helpers - typeof";return EN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EN(e)}function zge(e){return Bge(e)||qge(e)||$ge(e)||Fge()}function Fge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ge(e,t){if(e){if(typeof e=="string")return TD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TD(e,t)}}function TD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bge(e){if(Array.isArray(e))return e}function Uge(){var e={},t=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,l=zge(s),c=l[0],d=l.slice(1);if(typeof c=="number"){OD(i.bind(null,d),c);return}i(c),OD(i.bind(null,d));return}EN(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function mv(e){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(e)}function DD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function LD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DD(Object(n),!0).forEach(function(r){hq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hq(e,t,n){return t=Hge(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hge(e){var t=Wge(e,"string");return mv(t)==="symbol"?t:String(t)}function Wge(e,t){if(mv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(mv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vge=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Gge=function(t){return t},Kge=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Mg=function(t,n){return Object.keys(n).reduce(function(r,i){return LD(LD({},r),{},hq({},i,t(i,n[i])))},{})},ID=function(t,n,r){return t.map(function(i){return"".concat(Kge(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Yge(e,t){return Jge(e)||Qge(e,t)||pq(e,t)||Xge()}function Xge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qge(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function Jge(e){if(Array.isArray(e))return e}function Zge(e){return nve(e)||tve(e)||pq(e)||eve()}function eve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pq(e,t){if(e){if(typeof e=="string")return kN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kN(e,t)}}function tve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nve(e){if(Array.isArray(e))return kN(e)}function kN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Px=1e-4,mq=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},gq=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},RD=function(t,n){return function(r){var i=mq(t,n);return gq(i,r)}},rve=function(t,n){return function(r){var i=mq(t,n),a=[].concat(Zge(i.map(function(s,l){return s*l}).slice(1)),[0]);return gq(a,r)}},MD=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,l=1;break;case"ease":i=.25,a=.1,s=.25,l=1;break;case"ease-in":i=.42,a=0,s=1,l=1;break;case"ease-out":i=.42,a=0,s=.58,l=1;break;case"ease-in-out":i=0,a=0,s=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),h=Yge(d,4);i=h[0],a=h[1],s=h[2],l=h[3]}}}var p=RD(i,s),g=RD(a,l),m=rve(i,s),b=function(w){return w>1?1:w<0?0:w},x=function(w){for(var A=w>1?1:w,C=A,P=0;P<8;++P){var E=p(C)-A,I=m(C);if(Math.abs(E-A)<Px||I<Px)return g(C);C=b(C-E/I)}return g(C)};return x.isStepper=!1,x},ive=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,s=t.dt,l=s===void 0?17:s,c=function(h,p,g){var m=-(h-p)*r,b=g*a,x=g+(m-b)*l/1e3,y=g*l/1e3+h;return Math.abs(y-p)<Px&&Math.abs(x)<Px?[p,0]:[y,x]};return c.isStepper=!0,c.dt=l,c},ave=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return MD(i);case"spring":return ive();default:if(i.split("(")[0]==="cubic-bezier")return MD(i)}return typeof i=="function"?i:null};function gv(e){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gv(e)}function zD(e){return lve(e)||sve(e)||vq(e)||ove()}function ove(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lve(e){if(Array.isArray(e))return TN(e)}function FD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ca(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FD(Object(n),!0).forEach(function(r){ON(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ON(e,t,n){return t=cve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cve(e){var t=uve(e,"string");return gv(t)==="symbol"?t:String(t)}function uve(e,t){if(gv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dve(e,t){return pve(e)||hve(e,t)||vq(e,t)||fve()}function fve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vq(e,t){if(e){if(typeof e=="string")return TN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TN(e,t)}}function TN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hve(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function pve(e){if(Array.isArray(e))return e}var Ex=function(t,n,r){return t+(n-t)*r},DN=function(t){var n=t.from,r=t.to;return n!==r},mve=function e(t,n,r){var i=Mg(function(a,s){if(DN(s)){var l=t(s.from,s.to,s.velocity),c=dve(l,2),d=c[0],h=c[1];return ca(ca({},s),{},{from:d,velocity:h})}return s},n);return r<1?Mg(function(a,s){return DN(s)?ca(ca({},s),{},{velocity:Ex(s.velocity,i[a].velocity,r),from:Ex(s.from,i[a].from,r)}):s},n):e(t,i,r-1)};const gve=(function(e,t,n,r,i){var a=Vge(e,t),s=a.reduce(function(y,w){return ca(ca({},y),{},ON({},w,[e[w],t[w]]))},{}),l=a.reduce(function(y,w){return ca(ca({},y),{},ON({},w,{from:e[w],velocity:0,to:t[w]}))},{}),c=-1,d,h,p=function(){return null},g=function(){return Mg(function(w,A){return A.from},l)},m=function(){return!Object.values(l).filter(DN).length},b=function(w){d||(d=w);var A=w-d,C=A/n.dt;l=mve(n,l,C),i(ca(ca(ca({},e),t),g())),d=w,m()||(c=requestAnimationFrame(p))},x=function(w){h||(h=w);var A=(w-h)/r,C=Mg(function(E,I){return Ex.apply(void 0,zD(I).concat([n(A)]))},s);if(i(ca(ca(ca({},e),t),C)),A<1)c=requestAnimationFrame(p);else{var P=Mg(function(E,I){return Ex.apply(void 0,zD(I).concat([n(1)]))},s);i(ca(ca(ca({},e),t),P))}};return p=n.isStepper?b:x,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}});function am(e){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(e)}var vve=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function yve(e,t){if(e==null)return{};var n=xve(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xve(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function vj(e){return jve(e)||_ve(e)||wve(e)||bve()}function bve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wve(e,t){if(e){if(typeof e=="string")return LN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LN(e,t)}}function _ve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jve(e){if(Array.isArray(e))return LN(e)}function LN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$D(Object(n),!0).forEach(function(r){Cg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cg(e,t,n){return t=yq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yq(r.key),r)}}function Ave(e,t,n){return t&&Nve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yq(e){var t=Cve(e,"string");return am(t)==="symbol"?t:String(t)}function Cve(e,t){if(am(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(am(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IN(e,t)}function IN(e,t){return IN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IN(e,t)}function Eve(e){var t=kve();return function(){var r=kx(e),i;if(t){var a=kx(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return RN(this,i)}}function RN(e,t){if(t&&(am(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MN(e)}function MN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kx(e){return kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kx(e)}var Td=(function(e){Pve(n,e);var t=Eve(n);function n(r,i){var a;Sve(this,n),a=t.call(this,r,i);var s=a.props,l=s.isActive,c=s.attributeName,d=s.from,h=s.to,p=s.steps,g=s.children,m=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(MN(a)),a.changeStyle=a.changeStyle.bind(MN(a)),!l||m<=0)return a.state={style:{}},typeof g=="function"&&(a.state={style:h}),RN(a);if(p&&p.length)a.state={style:p[0].style};else if(d){if(typeof g=="function")return a.state={style:d},RN(a);a.state={style:c?Cg({},c,d):d}}else a.state={style:{}};return a}return Ave(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,l=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,h=a.to,p=a.from,g=this.state.style;if(l){if(!s){var m={style:c?Cg({},c,h):h};this.state&&g&&(c&&g[c]!==h||!c&&g!==h)&&this.setState(m);return}if(!(Rge(i.to,h)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=b||d?p:i.to;if(this.state&&g){var y={style:c?Cg({},c,x):x};(c&&g[c]!==x||!c&&g!==x)&&this.setState(y)}this.runAnimation(Xs(Xs({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,l=i.to,c=i.duration,d=i.easing,h=i.begin,p=i.onAnimationEnd,g=i.onAnimationStart,m=gve(s,l,ave(d),c,this.changeStyle),b=function(){a.stopJSAnimation=m()};this.manager.start([g,h,b,c,p])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,l=i.begin,c=i.onAnimationStart,d=s[0],h=d.style,p=d.duration,g=p===void 0?0:p,m=function(x,y,w){if(w===0)return x;var A=y.duration,C=y.easing,P=C===void 0?"ease":C,E=y.style,I=y.properties,z=y.onAnimationEnd,O=w>0?s[w-1]:y,F=I||Object.keys(E);if(typeof P=="function"||P==="spring")return[].concat(vj(x),[a.runJSAnimation.bind(a,{from:O.style,to:E,duration:A,easing:P}),A]);var G=ID(F,A,P),R=Xs(Xs(Xs({},O.style),E),{},{transition:G});return[].concat(vj(x),[R,A,z]).filter(Gge)};return this.manager.start([c].concat(vj(s.reduce(m,[h,Math.max(g,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Uge());var a=i.begin,s=i.duration,l=i.attributeName,c=i.to,d=i.easing,h=i.onAnimationStart,p=i.onAnimationEnd,g=i.steps,m=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof d=="function"||typeof m=="function"||d==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var x=l?Cg({},l,c):c,y=ID(Object.keys(x),s,d);b.start([h,a,Xs(Xs({},x),{},{transition:y}),s,p])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=yve(i,vve),d=j.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!l||d===0||s<=0)return a;var p=function(m){var b=m.props,x=b.style,y=x===void 0?{}:x,w=b.className,A=j.cloneElement(m,Xs(Xs({},c),{},{style:Xs(Xs({},y),h),className:w}));return A};return d===1?p(j.Children.only(a)):ve.createElement("div",null,j.Children.map(a,function(g){return p(g)}))}}]),n})(j.PureComponent);Td.displayName="Animate";Td.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Td.propTypes={from:sr.oneOfType([sr.object,sr.string]),to:sr.oneOfType([sr.object,sr.string]),attributeName:sr.string,duration:sr.number,begin:sr.number,easing:sr.oneOfType([sr.string,sr.func]),steps:sr.arrayOf(sr.shape({duration:sr.number.isRequired,style:sr.object.isRequired,easing:sr.oneOfType([sr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),sr.func]),properties:sr.arrayOf("string"),onAnimationEnd:sr.func})),children:sr.oneOfType([sr.node,sr.func]),isActive:sr.bool,canBegin:sr.bool,onAnimationEnd:sr.func,shouldReAnimate:sr.bool,onAnimationStart:sr.func,onAnimationReStart:sr.func};function vv(e){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vv(e)}function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ox.apply(this,arguments)}function Ove(e,t){return Ive(e)||Lve(e,t)||Dve(e,t)||Tve()}function Tve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dve(e,t){if(e){if(typeof e=="string")return qD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qD(e,t)}}function qD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lve(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function Ive(e){if(Array.isArray(e))return e}function BD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BD(Object(n),!0).forEach(function(r){Rve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rve(e,t,n){return t=Mve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mve(e){var t=zve(e,"string");return vv(t)=="symbol"?t:t+""}function zve(e,t){if(vv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HD=function(t,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,d=i>=0&&r>=0||i<0&&r<0?1:0,h;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],g=0,m=4;g<m;g++)p[g]=a[g]>s?s:a[g];h="M".concat(t,",").concat(n+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(d,",").concat(t+c*p[0],",").concat(n)),h+="L ".concat(t+r-c*p[1],",").concat(n),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(d,`,
        `).concat(t+r,",").concat(n+l*p[1])),h+="L ".concat(t+r,",").concat(n+i-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(d,`,
        `).concat(t+r-c*p[2],",").concat(n+i)),h+="L ".concat(t+c*p[3],",").concat(n+i),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(n+i-l*p[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var b=Math.min(s,a);h="M ".concat(t,",").concat(n+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(t+c*b,",").concat(n,`
            L `).concat(t+r-c*b,",").concat(n,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(t+r,",").concat(n+l*b,`
            L `).concat(t+r,",").concat(n+i-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(t+r-c*b,",").concat(n+i,`
            L `).concat(t+c*b,",").concat(n+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(t,",").concat(n+i-l*b," Z")}else h="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},Fve=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,a=n.x,s=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(a,a+l),h=Math.max(a,a+l),p=Math.min(s,s+c),g=Math.max(s,s+c);return r>=d&&r<=h&&i>=p&&i<=g}return!1},$ve={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},x3=function(t){var n=UD(UD({},$ve),t),r=j.useRef(),i=j.useState(-1),a=Ove(i,2),s=a[0],l=a[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&l(P)}catch{}},[]);var c=n.x,d=n.y,h=n.width,p=n.height,g=n.radius,m=n.className,b=n.animationEasing,x=n.animationDuration,y=n.animationBegin,w=n.isAnimationActive,A=n.isUpdateAnimationActive;if(c!==+c||d!==+d||h!==+h||p!==+p||h===0||p===0)return null;var C=Xn("recharts-rectangle",m);return A?ve.createElement(Td,{canBegin:s>0,from:{width:h,height:p,x:c,y:d},to:{width:h,height:p,x:c,y:d},duration:x,animationEasing:b,isActive:A},function(P){var E=P.width,I=P.height,z=P.x,O=P.y;return ve.createElement(Td,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,isActive:w,easing:b},ve.createElement("path",Ox({},tr(n,!0),{className:C,d:HD(z,O,E,I,g),ref:r})))}):ve.createElement("path",Ox({},tr(n,!0),{className:C,d:HD(c,d,h,p,g)}))};function zN(){return zN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zN.apply(this,arguments)}var xq=function(t){var n=t.cx,r=t.cy,i=t.r,a=t.className,s=Xn("recharts-dot",a);return n===+n&&r===+r&&i===+i?j.createElement("circle",zN({},tr(t,!1),Jy(t),{className:s,cx:n,cy:r,r:i})):null};function yv(e){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yv(e)}var qve=["x","y","top","left","width","height","className"];function FN(){return FN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FN.apply(this,arguments)}function WD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(n),!0).forEach(function(r){Uve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uve(e,t,n){return t=Hve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hve(e){var t=Wve(e,"string");return yv(t)=="symbol"?t:t+""}function Wve(e,t){if(yv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vve(e,t){if(e==null)return{};var n=Gve(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Gve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Kve=function(t,n,r,i,a,s){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},Yve=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,s=t.top,l=s===void 0?0:s,c=t.left,d=c===void 0?0:c,h=t.width,p=h===void 0?0:h,g=t.height,m=g===void 0?0:g,b=t.className,x=Vve(t,qve),y=Bve({x:r,y:a,top:l,left:d,width:p,height:m},x);return!gt(r)||!gt(a)||!gt(p)||!gt(m)||!gt(l)||!gt(d)?null:ve.createElement("path",FN({},tr(y,!0),{className:Xn("recharts-cross",b),d:Kve(r,a,p,m,l,d)}))},yj,VD;function Xve(){if(VD)return yj;VD=1;var e=z$(),t=e(Object.getPrototypeOf,Object);return yj=t,yj}var xj,GD;function Qve(){if(GD)return xj;GD=1;var e=xu(),t=Xve(),n=bu(),r="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,l=a.hasOwnProperty,c=s.call(Object);function d(h){if(!n(h)||e(h)!=r)return!1;var p=t(h);if(p===null)return!0;var g=l.call(p,"constructor")&&p.constructor;return typeof g=="function"&&g instanceof g&&s.call(g)==c}return xj=d,xj}var Jve=Qve();const Zve=gr(Jve);var bj,KD;function e0e(){if(KD)return bj;KD=1;var e=xu(),t=bu(),n="[object Boolean]";function r(i){return i===!0||i===!1||t(i)&&e(i)==n}return bj=r,bj}var t0e=e0e();const n0e=gr(t0e);function xv(e){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xv(e)}function Tx(){return Tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tx.apply(this,arguments)}function r0e(e,t){return s0e(e)||o0e(e,t)||a0e(e,t)||i0e()}function i0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a0e(e,t){if(e){if(typeof e=="string")return YD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YD(e,t)}}function YD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function s0e(e){if(Array.isArray(e))return e}function XD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XD(Object(n),!0).forEach(function(r){l0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l0e(e,t,n){return t=c0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c0e(e){var t=u0e(e,"string");return xv(t)=="symbol"?t:t+""}function u0e(e,t){if(xv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JD=function(t,n,r,i,a){var s=r-i,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-s/2,",").concat(n+a),l+="L ".concat(t+r-s/2-i,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},d0e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},f0e=function(t){var n=QD(QD({},d0e),t),r=j.useRef(),i=j.useState(-1),a=r0e(i,2),s=a[0],l=a[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&l(C)}catch{}},[]);var c=n.x,d=n.y,h=n.upperWidth,p=n.lowerWidth,g=n.height,m=n.className,b=n.animationEasing,x=n.animationDuration,y=n.animationBegin,w=n.isUpdateAnimationActive;if(c!==+c||d!==+d||h!==+h||p!==+p||g!==+g||h===0&&p===0||g===0)return null;var A=Xn("recharts-trapezoid",m);return w?ve.createElement(Td,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:d},to:{upperWidth:h,lowerWidth:p,height:g,x:c,y:d},duration:x,animationEasing:b,isActive:w},function(C){var P=C.upperWidth,E=C.lowerWidth,I=C.height,z=C.x,O=C.y;return ve.createElement(Td,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,easing:b},ve.createElement("path",Tx({},tr(n,!0),{className:A,d:JD(z,O,P,E,I),ref:r})))}):ve.createElement("g",null,ve.createElement("path",Tx({},tr(n,!0),{className:A,d:JD(c,d,h,p,g)})))},h0e=["option","shapeType","propTransformer","activeClassName","isActive"];function bv(e){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bv(e)}function p0e(e,t){if(e==null)return{};var n=m0e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function m0e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ZD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZD(Object(n),!0).forEach(function(r){g0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g0e(e,t,n){return t=v0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v0e(e){var t=y0e(e,"string");return bv(t)=="symbol"?t:t+""}function y0e(e,t){if(bv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x0e(e,t){return Dx(Dx({},t),e)}function b0e(e,t){return e==="symbols"}function eL(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return ve.createElement(x3,n);case"trapezoid":return ve.createElement(f0e,n);case"sector":return ve.createElement(dq,n);case"symbols":if(b0e(t))return ve.createElement(MA,n);break;default:return null}}function w0e(e){return j.isValidElement(e)?e.props:e}function _0e(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?x0e:r,a=e.activeClassName,s=a===void 0?"recharts-active-shape":a,l=e.isActive,c=p0e(e,h0e),d;if(j.isValidElement(t))d=j.cloneElement(t,Dx(Dx({},c),w0e(t)));else if(In(t))d=t(c);else if(Zve(t)&&!n0e(t)){var h=i(t,c);d=ve.createElement(eL,{shapeType:n,elementProps:h})}else{var p=c;d=ve.createElement(eL,{shapeType:n,elementProps:p})}return l?ve.createElement(ea,{className:s},d):d}function eb(e,t){return t!=null&&"trapezoids"in e.props}function tb(e,t){return t!=null&&"sectors"in e.props}function wv(e,t){return t!=null&&"points"in e.props}function j0e(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&a}function S0e(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function N0e(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function A0e(e,t){var n;return eb(e,t)?n=j0e:tb(e,t)?n=S0e:wv(e,t)&&(n=N0e),n}function C0e(e,t){var n;return eb(e,t)?n="trapezoids":tb(e,t)?n="sectors":wv(e,t)&&(n="points"),n}function P0e(e,t){if(eb(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(tb(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return wv(e,t)?t.payload:{}}function E0e(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=C0e(n,t),a=P0e(n,t),s=r.filter(function(c,d){var h=m3(a,c),p=n.props[i].filter(function(b){var x=A0e(n,t);return x(b,t)}),g=n.props[i].indexOf(p[p.length-1]),m=d===g;return h&&m}),l=r.indexOf(s[s.length-1]);return l}var wj,tL;function k0e(){if(tL)return wj;tL=1;var e=Math.ceil,t=Math.max;function n(r,i,a,s){for(var l=-1,c=t(e((i-r)/(a||1)),0),d=Array(c);c--;)d[s?c:++l]=r,r+=a;return d}return wj=n,wj}var _j,nL;function bq(){if(nL)return _j;nL=1;var e=e9(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var a=i<0?-1:1;return a*n}return i===i?i:0}return _j=r,_j}var jj,rL;function O0e(){if(rL)return jj;rL=1;var e=k0e(),t=B1(),n=bq();function r(i){return function(a,s,l){return l&&typeof l!="number"&&t(a,s,l)&&(s=l=void 0),a=n(a),s===void 0?(s=a,a=0):s=n(s),l=l===void 0?a<s?1:-1:n(l),e(a,s,l,i)}}return jj=r,jj}var Sj,iL;function T0e(){if(iL)return Sj;iL=1;var e=O0e(),t=e();return Sj=t,Sj}var D0e=T0e();const Lx=gr(D0e);function _v(e){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_v(e)}function aL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aL(Object(n),!0).forEach(function(r){wq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wq(e,t,n){return t=L0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L0e(e){var t=I0e(e,"string");return _v(t)=="symbol"?t:t+""}function I0e(e,t){if(_v(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_v(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R0e=["Webkit","Moz","O","ms"],M0e=function(t,n){var r=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=R0e.reduce(function(a,s){return oL(oL({},a),{},wq({},s+r,n))},{});return i[t]=n,i};function om(e){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},om(e)}function Ix(){return Ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ix.apply(this,arguments)}function sL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sL(Object(n),!0).forEach(function(r){zo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jq(r.key),r)}}function F0e(e,t,n){return t&&lL(e.prototype,t),n&&lL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $0e(e,t,n){return t=Rx(t),q0e(e,_q()?Reflect.construct(t,n||[],Rx(e).constructor):t.apply(e,n))}function q0e(e,t){if(t&&(om(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B0e(e)}function B0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_q=function(){return!!e})()}function Rx(e){return Rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rx(e)}function U0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$N(e,t)}function $N(e,t){return $N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$N(e,t)}function zo(e,t,n){return t=jq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jq(e){var t=H0e(e,"string");return om(t)=="symbol"?t:t+""}function H0e(e,t){if(om(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var W0e=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,a=t.x,s=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=Ig().domain(Lx(0,c)).range([a,a+s-l]),h=d.domain().map(function(p){return d(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(i),scale:d,scaleValues:h}},cL=function(t){return t.changedTouches&&!!t.changedTouches.length},sm=(function(e){function t(n){var r;return z0e(this,t),r=$0e(this,t,[n]),zo(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),zo(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),zo(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),zo(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),zo(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),zo(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),zo(r,"handleSlideDragStart",function(i){var a=cL(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return U0e(t,e),F0e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,h=d.length-1,p=Math.min(i,a),g=Math.max(i,a),m=t.getIndexInRange(s,p),b=t.getIndexInRange(s,g);return{startIndex:m-m%c,endIndex:b===h?h:b-b%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,l=i.dataKey,c=Zl(a[r],l,r);return In(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,d=c.x,h=c.width,p=c.travellerWidth,g=c.startIndex,m=c.endIndex,b=c.onChange,x=r.pageX-a;x>0?x=Math.min(x,d+h-p-l,d+h-p-s):x<0&&(x=Math.max(x,d-s,d-l));var y=this.getIndex({startX:s+x,endX:l+x});(y.startIndex!==g||y.endIndex!==m)&&b&&b(y),this.setState({startX:s+x,endX:l+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=cL(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,d=this.state[s],h=this.props,p=h.x,g=h.width,m=h.travellerWidth,b=h.onChange,x=h.gap,y=h.data,w={startX:this.state.startX,endX:this.state.endX},A=r.pageX-a;A>0?A=Math.min(A,p+g-m-d):A<0&&(A=Math.max(A,p-d)),w[s]=d+A;var C=this.getIndex(w),P=C.startIndex,E=C.endIndex,I=function(){var O=y.length-1;return s==="startX"&&(l>c?P%x===0:E%x===0)||l<c&&E===O||s==="endX"&&(l>c?E%x===0:P%x===0)||l>c&&E===O};this.setState(zo(zo({},s,d+A),"brushMoveStartX",r.pageX),function(){b&&I()&&b(C)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,l=s.scaleValues,c=s.startX,d=s.endX,h=this.state[i],p=l.indexOf(h);if(p!==-1){var g=p+r;if(!(g===-1||g>=l.length)){var m=l[g];i==="startX"&&m>=d||i==="endX"&&m<=c||this.setState(zo({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.fill,d=r.stroke;return ve.createElement("rect",{stroke:d,fill:c,x:i,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.data,d=r.children,h=r.padding,p=j.Children.only(d);return p?ve.cloneElement(p,{x:i,y:a,width:s,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,l=this,c=this.props,d=c.y,h=c.travellerWidth,p=c.height,g=c.traveller,m=c.ariaLabel,b=c.data,x=c.startIndex,y=c.endIndex,w=Math.max(r,this.props.x),A=Nj(Nj({},tr(this.props,!1)),{},{x:w,y:d,width:h,height:p}),C=m||"Min value: ".concat((a=b[x])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=b[y])===null||s===void 0?void 0:s.name);return ve.createElement(ea,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),l.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,A))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,l=a.height,c=a.stroke,d=a.travellerWidth,h=Math.min(r,i)+d,p=Math.max(Math.abs(i-r)-d,0);return ve.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:p,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,l=r.height,c=r.travellerWidth,d=r.stroke,h=this.state,p=h.startX,g=h.endX,m=5,b={pointerEvents:"none",fill:d};return ve.createElement(ea,{className:"recharts-brush-texts"},ve.createElement(ux,Ix({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,g)-m,y:s+l/2},b),this.getTextOfTick(i)),ve.createElement(ux,Ix({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,g)+c+m,y:s+l/2},b),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,l=r.x,c=r.y,d=r.width,h=r.height,p=r.alwaysShowText,g=this.state,m=g.startX,b=g.endX,x=g.isTextActive,y=g.isSlideMoving,w=g.isTravellerMoving,A=g.isTravellerFocused;if(!i||!i.length||!gt(l)||!gt(c)||!gt(d)||!gt(h)||d<=0||h<=0)return null;var C=Xn("recharts-brush",a),P=ve.Children.count(s)===1,E=M0e("userSelect","none");return ve.createElement(ea,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(m,b),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(b,"endX"),(x||y||w||A||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,l=r.height,c=r.stroke,d=Math.floor(a+l/2)-1;return ve.createElement(ve.Fragment,null,ve.createElement("rect",{x:i,y:a,width:s,height:l,fill:c,stroke:"none"}),ve.createElement("line",{x1:i+1,y1:d,x2:i+s-1,y2:d,fill:"none",stroke:"#fff"}),ve.createElement("line",{x1:i+1,y1:d+2,x2:i+s-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return ve.isValidElement(r)?a=ve.cloneElement(r,i):In(r)?a=r(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,l=r.x,c=r.travellerWidth,d=r.updateId,h=r.startIndex,p=r.endIndex;if(a!==i.prevData||d!==i.prevUpdateId)return Nj({prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:s},a&&a.length?W0e({data:a,width:s,x:l,travellerWidth:c,startIndex:h,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var g=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,l=a-1;l-s>1;){var c=Math.floor((s+l)/2);r[c]>i?l=c:s=c}return i>=r[l]?l:s}}])})(j.PureComponent);zo(sm,"displayName","Brush");zo(sm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Aj,uL;function V0e(){if(uL)return Aj;uL=1;var e=HA();function t(n,r){var i;return e(n,function(a,s,l){return i=r(a,s,l),!i}),!!i}return Aj=t,Aj}var Cj,dL;function G0e(){if(dL)return Cj;dL=1;var e=O$(),t=Hd(),n=V0e(),r=wo(),i=B1();function a(s,l,c){var d=r(s)?e:n;return c&&i(s,l,c)&&(l=void 0),d(s,t(l,3))}return Cj=a,Cj}var K0e=G0e();const Y0e=gr(K0e);var Kl=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},Pj,fL;function X0e(){if(fL)return Pj;fL=1;var e=Y$();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Pj=t,Pj}var Ej,hL;function Q0e(){if(hL)return Ej;hL=1;var e=X0e(),t=G$(),n=Hd();function r(i,a){var s={};return a=n(a,3),t(i,function(l,c,d){e(s,c,a(l,c,d))}),s}return Ej=r,Ej}var J0e=Q0e();const Z0e=gr(J0e);var kj,pL;function eye(){if(pL)return kj;pL=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(!n(t[r],r,t))return!1;return!0}return kj=e,kj}var Oj,mL;function tye(){if(mL)return Oj;mL=1;var e=HA();function t(n,r){var i=!0;return e(n,function(a,s,l){return i=!!r(a,s,l),i}),i}return Oj=t,Oj}var Tj,gL;function nye(){if(gL)return Tj;gL=1;var e=eye(),t=tye(),n=Hd(),r=wo(),i=B1();function a(s,l,c){var d=r(s)?e:t;return c&&i(s,l,c)&&(l=void 0),d(s,n(l,3))}return Tj=a,Tj}var rye=nye();const Sq=gr(rye);var iye=["x","y"];function jv(e){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jv(e)}function qN(){return qN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qN.apply(this,arguments)}function vL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vL(Object(n),!0).forEach(function(r){aye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aye(e,t,n){return t=oye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oye(e){var t=sye(e,"string");return jv(t)=="symbol"?t:t+""}function sye(e,t){if(jv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lye(e,t){if(e==null)return{};var n=cye(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cye(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function uye(e,t){var n=e.x,r=e.y,i=lye(e,iye),a="".concat(n),s=parseInt(a,10),l="".concat(r),c=parseInt(l,10),d="".concat(t.height||i.height),h=parseInt(d,10),p="".concat(t.width||i.width),g=parseInt(p,10);return wg(wg(wg(wg(wg({},t),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:g,name:t.name,radius:t.radius})}function yL(e){return ve.createElement(_0e,qN({shapeType:"rectangle",propTransformer:uye,activeClassName:"recharts-active-bar"},e))}var dye=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var a=gt(r)||yoe(r);return a?t(r,i):(a||yh(),n)}},fye=["value","background"],Nq;function lm(e){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(e)}function hye(e,t){if(e==null)return{};var n=pye(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pye(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mx.apply(this,arguments)}function xL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ei(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xL(Object(n),!0).forEach(function(r){wd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cq(r.key),r)}}function gye(e,t,n){return t&&bL(e.prototype,t),n&&bL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vye(e,t,n){return t=zx(t),yye(e,Aq()?Reflect.construct(t,n||[],zx(e).constructor):t.apply(e,n))}function yye(e,t){if(t&&(lm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xye(e)}function xye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Aq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Aq=function(){return!!e})()}function zx(e){return zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zx(e)}function bye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BN(e,t)}function BN(e,t){return BN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BN(e,t)}function wd(e,t,n){return t=Cq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cq(e){var t=wye(e,"string");return lm(t)=="symbol"?t:t+""}function wye(e,t){if(lm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wl=(function(e){function t(){var n;mye(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=vye(this,t,[].concat(i)),wd(n,"state",{isAnimationFinished:!1}),wd(n,"id",I1("recharts-bar-")),wd(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),wd(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return bye(t,e),gye(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,l=a.dataKey,c=a.activeIndex,d=a.activeBar,h=tr(this.props,!1);return r&&r.map(function(p,g){var m=g===c,b=m?d:s,x=Ei(Ei(Ei({},h),p),{},{isActive:m,option:b,index:g,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ve.createElement(ea,Mx({className:"recharts-bar-rectangle"},Zy(i.props,p,g),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(g)}),ve.createElement(yL,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,g=this.state.prevData;return ve.createElement(Td,{begin:c,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var b=m.t,x=a.map(function(y,w){var A=g&&g[w];if(A){var C=up(A.x,y.x),P=up(A.y,y.y),E=up(A.width,y.width),I=up(A.height,y.height);return Ei(Ei({},y),{},{x:C(b),y:P(b),width:E(b),height:I(b)})}if(s==="horizontal"){var z=up(0,y.height),O=z(b);return Ei(Ei({},y),{},{y:y.y+y.height-O,height:O})}var F=up(0,y.width),G=F(b);return Ei(Ei({},y),{},{width:G})});return ve.createElement(ea,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!m3(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,l=i.activeIndex,c=tr(this.props.background,!1);return a.map(function(d,h){d.value;var p=d.background,g=hye(d,fye);if(!p)return null;var m=Ei(Ei(Ei(Ei(Ei({},g),{},{fill:"#eee"},p),c),Zy(r.props,d,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return ve.createElement(yL,Mx({key:"background-bar-".concat(h),option:r.props.background,isActive:h===l},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,c=a.yAxis,d=a.layout,h=a.children,p=al(h,Z1);if(!p)return null;var g=d==="vertical"?s[0].height/2:s[0].width/2,m=function(y,w){var A=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:A,errorVal:Zl(y,w)}},b={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ve.createElement(ea,b,p.map(function(x){return ve.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:s,xAxis:l,yAxis:c,layout:d,offset:g,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,l=r.xAxis,c=r.yAxis,d=r.left,h=r.top,p=r.width,g=r.height,m=r.isAnimationActive,b=r.background,x=r.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,w=Xn("recharts-bar",s),A=l&&l.allowDataOverflow,C=c&&c.allowDataOverflow,P=A||C,E=nr(x)?this.id:x;return ve.createElement(ea,{className:w},A||C?ve.createElement("defs",null,ve.createElement("clipPath",{id:"clipPath-".concat(E)},ve.createElement("rect",{x:A?d:d-p/2,y:C?h:h-g/2,width:A?p:p*2,height:C?g:g*2}))):null,ve.createElement(ea,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(E,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,E),(!m||y)&&eh.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(j.PureComponent);Nq=Wl;wd(Wl,"displayName","Bar");wd(Wl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Gv.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});wd(Wl,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,a=e.xAxis,s=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,h=e.dataStartIndex,p=e.displayedData,g=e.offset,m=Rpe(r,n);if(!m)return null;var b=t.layout,x=n.type.defaultProps,y=x!==void 0?Ei(Ei({},x),n.props):n.props,w=y.dataKey,A=y.children,C=y.minPointSize,P=b==="horizontal"?s:a,E=d?P.scale.domain():null,I=Hpe({numericAxis:P}),z=al(A,n9),O=p.map(function(F,G){var R,k,B,U,M,X;d?R=Mpe(d[h+G],E):(R=Zl(F,w),Array.isArray(R)||(R=[I,R]));var Q=dye(C,Nq.defaultProps.minPointSize)(R[1],G);if(b==="horizontal"){var K,Y=[s.scale(R[0]),s.scale(R[1])],ne=Y[0],H=Y[1];k=aD({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:F,index:G}),B=(K=H??ne)!==null&&K!==void 0?K:void 0,U=m.size;var T=ne-H;if(M=Number.isNaN(T)?0:T,X={x:k,y:s.y,width:U,height:s.height},Math.abs(Q)>0&&Math.abs(M)<Math.abs(Q)){var V=nl(M||Q)*(Math.abs(Q)-Math.abs(M));B-=V,M+=V}}else{var J=[a.scale(R[0]),a.scale(R[1])],Z=J[0],oe=J[1];if(k=Z,B=aD({axis:s,ticks:c,bandSize:i,offset:m.offset,entry:F,index:G}),U=oe-Z,M=m.size,X={x:a.x,y:B,width:a.width,height:M},Math.abs(Q)>0&&Math.abs(U)<Math.abs(Q)){var se=nl(U||Q)*(Math.abs(Q)-Math.abs(U));U+=se}}return Ei(Ei(Ei({},F),{},{x:k,y:B,width:U,height:M,value:d?R:R[1],payload:F,background:X},z&&z[G]&&z[G].props),{},{tooltipPayload:[lq(n,F)],tooltipPosition:{x:k+U/2,y:B+M/2}})});return Ei({data:O,layout:b},g)});function Sv(e){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sv(e)}function _ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pq(r.key),r)}}function jye(e,t,n){return t&&wL(e.prototype,t),n&&wL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function el(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_L(Object(n),!0).forEach(function(r){nb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_L(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nb(e,t,n){return t=Pq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pq(e){var t=Sye(e,"string");return Sv(t)=="symbol"?t:t+""}function Sye(e,t){if(Sv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nye=function(t,n,r,i,a){var s=t.width,l=t.height,c=t.layout,d=t.children,h=Object.keys(n),p={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},g=!!Fo(d,Wl);return h.reduce(function(m,b){var x=n[b],y=x.orientation,w=x.domain,A=x.padding,C=A===void 0?{}:A,P=x.mirror,E=x.reversed,I="".concat(y).concat(P?"Mirror":""),z,O,F,G,R;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var k=w[1]-w[0],B=1/0,U=x.categoricalDomain.sort(woe);if(U.forEach(function(J,Z){Z>0&&(B=Math.min((J||0)-(U[Z-1]||0),B))}),Number.isFinite(B)){var M=B/k,X=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(z=M*X/2),x.padding==="no-gap"){var Q=gh(t.barCategoryGap,M*X),K=M*X/2;z=K-Q-(K-Q)/X*Q}}}i==="xAxis"?O=[r.left+(C.left||0)+(z||0),r.left+r.width-(C.right||0)-(z||0)]:i==="yAxis"?O=c==="horizontal"?[r.top+r.height-(C.bottom||0),r.top+(C.top||0)]:[r.top+(C.top||0)+(z||0),r.top+r.height-(C.bottom||0)-(z||0)]:O=x.range,E&&(O=[O[1],O[0]]);var Y=Lpe(x,a,g),ne=Y.scale,H=Y.realScaleType;ne.domain(w).range(O),Ipe(ne);var T=Upe(ne,el(el({},x),{},{realScaleType:H}));i==="xAxis"?(R=y==="top"&&!P||y==="bottom"&&P,F=r.left,G=p[I]-R*x.height):i==="yAxis"&&(R=y==="left"&&!P||y==="right"&&P,F=p[I]-R*x.width,G=r.top);var V=el(el(el({},x),T),{},{realScaleType:H,x:F,y:G,scale:ne,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return V.bandSize=Sx(V,T),!x.hide&&i==="xAxis"?p[I]+=(R?-1:1)*V.height:x.hide||(p[I]+=(R?-1:1)*V.width),el(el({},m),{},nb({},b,V))},{})},Eq=function(t,n){var r=t.x,i=t.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},Aye=function(t){var n=t.x1,r=t.y1,i=t.x2,a=t.y2;return Eq({x:n,y:r},{x:i,y:a})},kq=(function(){function e(t){_ye(this,e),this.scale=t}return jye(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])})();nb(kq,"EPS",1e-4);var b3=function(t){var n=Object.keys(t).reduce(function(r,i){return el(el({},r),{},nb({},i,kq.create(t[i])))},{});return el(el({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return Z0e(i,function(c,d){return n[d].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return Sq(i,function(a,s){return n[s].isInRange(a)})}})};function Cye(e){return(e%180+180)%180}var Pye=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Cye(i),s=a*Math.PI/180,l=Math.atan(r/n),c=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},Dj,jL;function Eye(){if(jL)return Dj;jL=1;var e=Hd(),t=Vv(),n=$1();function r(i){return function(a,s,l){var c=Object(a);if(!t(a)){var d=e(s,3);a=n(a),s=function(p){return d(c[p],p,c)}}var h=i(a,s,l);return h>-1?c[d?a[h]:h]:void 0}}return Dj=r,Dj}var Lj,SL;function kye(){if(SL)return Lj;SL=1;var e=bq();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return Lj=t,Lj}var Ij,NL;function Oye(){if(NL)return Ij;NL=1;var e=B$(),t=Hd(),n=kye(),r=Math.max;function i(a,s,l){var c=a==null?0:a.length;if(!c)return-1;var d=l==null?0:n(l);return d<0&&(d=r(c+d,0)),e(a,t(s,3),d)}return Ij=i,Ij}var Rj,AL;function Tye(){if(AL)return Rj;AL=1;var e=Eye(),t=Oye(),n=e(t);return Rj=n,Rj}var Dye=Tye();const Lye=gr(Dye);var Iye=i$();const Rye=gr(Iye);var Mye=Rye(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),w3=j.createContext(void 0),_3=j.createContext(void 0),Oq=j.createContext(void 0),Tq=j.createContext({}),Dq=j.createContext(void 0),Lq=j.createContext(0),Iq=j.createContext(0),CL=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=t.clipPathId,l=t.children,c=t.width,d=t.height,h=Mye(a);return ve.createElement(w3.Provider,{value:r},ve.createElement(_3.Provider,{value:i},ve.createElement(Tq.Provider,{value:a},ve.createElement(Oq.Provider,{value:h},ve.createElement(Dq.Provider,{value:s},ve.createElement(Lq.Provider,{value:d},ve.createElement(Iq.Provider,{value:c},l)))))))},zye=function(){return j.useContext(Dq)},Rq=function(t){var n=j.useContext(w3);n==null&&yh();var r=n[t];return r==null&&yh(),r},Fye=function(){var t=j.useContext(w3);return ud(t)},$ye=function(){var t=j.useContext(_3),n=Lye(t,function(r){return Sq(r.domain,Number.isFinite)});return n||ud(t)},Mq=function(t){var n=j.useContext(_3);n==null&&yh();var r=n[t];return r==null&&yh(),r},qye=function(){var t=j.useContext(Oq);return t},Bye=function(){return j.useContext(Tq)},j3=function(){return j.useContext(Iq)},S3=function(){return j.useContext(Lq)};function cm(e){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cm(e)}function Uye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fq(r.key),r)}}function Wye(e,t,n){return t&&Hye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vye(e,t,n){return t=Fx(t),Gye(e,zq()?Reflect.construct(t,n||[],Fx(e).constructor):t.apply(e,n))}function Gye(e,t){if(t&&(cm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kye(e)}function Kye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zq=function(){return!!e})()}function Fx(e){return Fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fx(e)}function Yye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UN(e,t)}function UN(e,t){return UN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UN(e,t)}function PL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PL(Object(n),!0).forEach(function(r){N3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N3(e,t,n){return t=Fq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fq(e){var t=Xye(e,"string");return cm(t)=="symbol"?t:t+""}function Xye(e,t){if(cm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Qye(e,t){return txe(e)||exe(e,t)||Zye(e,t)||Jye()}function Jye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zye(e,t){if(e){if(typeof e=="string")return kL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kL(e,t)}}function kL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function exe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function txe(e){if(Array.isArray(e))return e}function HN(){return HN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HN.apply(this,arguments)}var nxe=function(t,n){var r;return ve.isValidElement(t)?r=ve.cloneElement(t,n):In(t)?r=t(n):r=ve.createElement("line",HN({},n,{className:"recharts-reference-line-line"})),r},rxe=function(t,n,r,i,a,s,l,c,d){var h=a.x,p=a.y,g=a.width,m=a.height;if(r){var b=d.y,x=t.y.apply(b,{position:s});if(Kl(d,"discard")&&!t.y.isInRange(x))return null;var y=[{x:h+g,y:x},{x:h,y:x}];return c==="left"?y.reverse():y}if(n){var w=d.x,A=t.x.apply(w,{position:s});if(Kl(d,"discard")&&!t.x.isInRange(A))return null;var C=[{x:A,y:p+m},{x:A,y:p}];return l==="top"?C.reverse():C}if(i){var P=d.segment,E=P.map(function(I){return t.apply(I,{position:s})});return Kl(d,"discard")&&Y0e(E,function(I){return!t.isInRange(I)})?null:E}return null};function ixe(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,a=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,d=zye(),h=Rq(i),p=Mq(a),g=qye();if(!d||!g)return null;iu(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=b3({x:h.scale,y:p.scale}),b=qi(t),x=qi(n),y=r&&r.length===2,w=rxe(m,b,x,y,g,e.position,h.orientation,p.orientation,e);if(!w)return null;var A=Qye(w,2),C=A[0],P=C.x,E=C.y,I=A[1],z=I.x,O=I.y,F=Kl(e,"hidden")?"url(#".concat(d,")"):void 0,G=EL(EL({clipPath:F},tr(e,!0)),{},{x1:P,y1:E,x2:z,y2:O});return ve.createElement(ea,{className:Xn("recharts-reference-line",l)},nxe(s,G),Pa.renderCallByParent(e,Aye({x1:P,y1:E,x2:z,y2:O})))}var A3=(function(e){function t(){return Uye(this,t),Vye(this,t,arguments)}return Yye(t,e),Wye(t,[{key:"render",value:function(){return ve.createElement(ixe,this.props)}}])})(ve.Component);N3(A3,"displayName","ReferenceLine");N3(A3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function WN(){return WN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WN.apply(this,arguments)}function um(e){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},um(e)}function OL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OL(Object(n),!0).forEach(function(r){rb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function axe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oxe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qq(r.key),r)}}function sxe(e,t,n){return t&&oxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lxe(e,t,n){return t=$x(t),cxe(e,$q()?Reflect.construct(t,n||[],$x(e).constructor):t.apply(e,n))}function cxe(e,t){if(t&&(um(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uxe(e)}function uxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($q=function(){return!!e})()}function $x(e){return $x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$x(e)}function dxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VN(e,t)}function VN(e,t){return VN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VN(e,t)}function rb(e,t,n){return t=qq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qq(e){var t=fxe(e,"string");return um(t)=="symbol"?t:t+""}function fxe(e,t){if(um(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hxe=function(t){var n=t.x,r=t.y,i=t.xAxis,a=t.yAxis,s=b3({x:i.scale,y:a.scale}),l=s.apply({x:n,y:r},{bandAware:!0});return Kl(t,"discard")&&!s.isInRange(l)?null:l},ib=(function(e){function t(){return axe(this,t),lxe(this,t,arguments)}return dxe(t,e),sxe(t,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,l=r.alwaysShow,c=r.clipPathId,d=qi(i),h=qi(a);if(iu(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!h)return null;var p=hxe(this.props);if(!p)return null;var g=p.x,m=p.y,b=this.props,x=b.shape,y=b.className,w=Kl(this.props,"hidden")?"url(#".concat(c,")"):void 0,A=TL(TL({clipPath:w},tr(this.props,!0)),{},{cx:g,cy:m});return ve.createElement(ea,{className:Xn("recharts-reference-dot",y)},t.renderDot(x,A),Pa.renderCallByParent(this.props,{x:g-s,y:m-s,width:2*s,height:2*s}))}}])})(ve.Component);rb(ib,"displayName","ReferenceDot");rb(ib,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});rb(ib,"renderDot",function(e,t){var n;return ve.isValidElement(e)?n=ve.cloneElement(e,t):In(e)?n=e(t):n=ve.createElement(xq,WN({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function GN(){return GN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GN.apply(this,arguments)}function dm(e){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dm(e)}function DL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function LL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DL(Object(n),!0).forEach(function(r){ab(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mxe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Uq(r.key),r)}}function gxe(e,t,n){return t&&mxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vxe(e,t,n){return t=qx(t),yxe(e,Bq()?Reflect.construct(t,n||[],qx(e).constructor):t.apply(e,n))}function yxe(e,t){if(t&&(dm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xxe(e)}function xxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bq=function(){return!!e})()}function qx(e){return qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qx(e)}function bxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KN(e,t)}function KN(e,t){return KN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KN(e,t)}function ab(e,t,n){return t=Uq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uq(e){var t=wxe(e,"string");return dm(t)=="symbol"?t:t+""}function wxe(e,t){if(dm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _xe=function(t,n,r,i,a){var s=a.x1,l=a.x2,c=a.y1,d=a.y2,h=a.xAxis,p=a.yAxis;if(!h||!p)return null;var g=b3({x:h.scale,y:p.scale}),m={x:t?g.x.apply(s,{position:"start"}):g.x.rangeMin,y:r?g.y.apply(c,{position:"start"}):g.y.rangeMin},b={x:n?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(d,{position:"end"}):g.y.rangeMax};return Kl(a,"discard")&&(!g.isInRange(m)||!g.isInRange(b))?null:Eq(m,b)},ob=(function(e){function t(){return pxe(this,t),vxe(this,t,arguments)}return bxe(t,e),gxe(t,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,l=r.y2,c=r.className,d=r.alwaysShow,h=r.clipPathId;iu(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=qi(i),g=qi(a),m=qi(s),b=qi(l),x=this.props.shape;if(!p&&!g&&!m&&!b&&!x)return null;var y=_xe(p,g,m,b,this.props);if(!y&&!x)return null;var w=Kl(this.props,"hidden")?"url(#".concat(h,")"):void 0;return ve.createElement(ea,{className:Xn("recharts-reference-area",c)},t.renderRect(x,LL(LL({clipPath:w},tr(this.props,!0)),y)),Pa.renderCallByParent(this.props,y))}}])})(ve.Component);ab(ob,"displayName","ReferenceArea");ab(ob,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ab(ob,"renderRect",function(e,t){var n;return ve.isValidElement(e)?n=ve.cloneElement(e,t):In(e)?n=e(t):n=ve.createElement(x3,GN({},t,{className:"recharts-reference-area-rect"})),n});function Hq(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function jxe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Pye(r,n)}function Sxe(e,t,n){var r=n==="width",i=e.x,a=e.y,s=e.width,l=e.height;return t===1?{start:r?i:a,end:r?i+s:a+l}:{start:r?i+s:a+l,end:r?i:a}}function Bx(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Nxe(e,t){return Hq(e,t+1)}function Axe(e,t,n,r,i){for(var a=(r||[]).slice(),s=t.start,l=t.end,c=0,d=1,h=s,p=function(){var b=r==null?void 0:r[c];if(b===void 0)return{v:Hq(r,d)};var x=c,y,w=function(){return y===void 0&&(y=n(b,x)),y},A=b.coordinate,C=c===0||Bx(e,A,w,h,l);C||(c=0,h=s,d+=1),C&&(h=A+e*(w()/2+i),c+=d)},g;d<=a.length;)if(g=p(),g)return g.v;return[]}function Nv(e){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nv(e)}function IL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ca(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IL(Object(n),!0).forEach(function(r){Cxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cxe(e,t,n){return t=Pxe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pxe(e){var t=Exe(e,"string");return Nv(t)=="symbol"?t:t+""}function Exe(e,t){if(Nv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Nv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kxe(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,l=t.start,c=t.end,d=function(g){var m=a[g],b,x=function(){return b===void 0&&(b=n(m,g)),b};if(g===s-1){var y=e*(m.coordinate+e*x()/2-c);a[g]=m=Ca(Ca({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else a[g]=m=Ca(Ca({},m),{},{tickCoord:m.coordinate});var w=Bx(e,m.tickCoord,x,l,c);w&&(c=m.tickCoord-e*(x()/2+i),a[g]=Ca(Ca({},m),{},{isShow:!0}))},h=s-1;h>=0;h--)d(h);return a}function Oxe(e,t,n,r,i,a){var s=(r||[]).slice(),l=s.length,c=t.start,d=t.end;if(a){var h=r[l-1],p=n(h,l-1),g=e*(h.coordinate+e*p/2-d);s[l-1]=h=Ca(Ca({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var m=Bx(e,h.tickCoord,function(){return p},c,d);m&&(d=h.tickCoord-e*(p/2+i),s[l-1]=Ca(Ca({},h),{},{isShow:!0}))}for(var b=a?l-1:l,x=function(A){var C=s[A],P,E=function(){return P===void 0&&(P=n(C,A)),P};if(A===0){var I=e*(C.coordinate-e*E()/2-c);s[A]=C=Ca(Ca({},C),{},{tickCoord:I<0?C.coordinate-I*e:C.coordinate})}else s[A]=C=Ca(Ca({},C),{},{tickCoord:C.coordinate});var z=Bx(e,C.tickCoord,E,c,d);z&&(c=C.tickCoord+e*(E()/2+i),s[A]=Ca(Ca({},C),{},{isShow:!0}))},y=0;y<b;y++)x(y);return s}function C3(e,t,n){var r=e.tick,i=e.ticks,a=e.viewBox,s=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,h=e.unit,p=e.angle;if(!i||!i.length||!r)return[];if(gt(c)||Gv.isSsr)return Nxe(i,typeof c=="number"&&gt(c)?c:0);var g=[],m=l==="top"||l==="bottom"?"width":"height",b=h&&m==="width"?Lg(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},x=function(C,P){var E=In(d)?d(C.value,P):C.value;return m==="width"?jxe(Lg(E,{fontSize:t,letterSpacing:n}),b,p):Lg(E,{fontSize:t,letterSpacing:n})[m]},y=i.length>=2?nl(i[1].coordinate-i[0].coordinate):1,w=Sxe(a,y,m);return c==="equidistantPreserveStart"?Axe(y,w,x,i,s):(c==="preserveStart"||c==="preserveStartEnd"?g=Oxe(y,w,x,i,s,c==="preserveStartEnd"):g=kxe(y,w,x,i,s),g.filter(function(A){return A.isShow}))}var Txe=["viewBox"],Dxe=["viewBox"],Lxe=["ticks"];function fm(e){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(e)}function bp(){return bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bp.apply(this,arguments)}function RL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RL(Object(n),!0).forEach(function(r){P3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mj(e,t){if(e==null)return{};var n=Ixe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ixe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Rxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ML(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vq(r.key),r)}}function Mxe(e,t,n){return t&&ML(e.prototype,t),n&&ML(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zxe(e,t,n){return t=Ux(t),Fxe(e,Wq()?Reflect.construct(t,n||[],Ux(e).constructor):t.apply(e,n))}function Fxe(e,t){if(t&&(fm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $xe(e)}function $xe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wq=function(){return!!e})()}function Ux(e){return Ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ux(e)}function qxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YN(e,t)}function YN(e,t){return YN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YN(e,t)}function P3(e,t,n){return t=Vq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vq(e){var t=Bxe(e,"string");return fm(t)=="symbol"?t:t+""}function Bxe(e,t){if(fm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dm=(function(e){function t(n){var r;return Rxe(this,t),r=zxe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return qxe(t,e),Mxe(t,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=Mj(r,Txe),l=this.props,c=l.viewBox,d=Mj(l,Dxe);return!kp(a,c)||!kp(s,d)||!kp(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,l=i.width,c=i.height,d=i.orientation,h=i.tickSize,p=i.mirror,g=i.tickMargin,m,b,x,y,w,A,C=p?-1:1,P=r.tickSize||h,E=gt(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":m=b=r.coordinate,y=s+ +!p*c,x=y-C*P,A=x-C*g,w=E;break;case"left":x=y=r.coordinate,b=a+ +!p*l,m=b-C*P,w=m-C*g,A=E;break;case"right":x=y=r.coordinate,b=a+ +p*l,m=b+C*P,w=m+C*g,A=E;break;default:m=b=r.coordinate,y=s+ +p*c,x=y+C*P,A=x+C*g,w=E;break}return{line:{x1:m,y1:x,x2:b,y2:y},tick:{x:w,y:A}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.orientation,d=r.mirror,h=r.axisLine,p=zi(zi(zi({},tr(this.props,!1)),tr(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!d||c==="bottom"&&d);p=zi(zi({},p),{},{x1:i,y1:a+g*l,x2:i+s,y2:a+g*l})}else{var m=+(c==="left"&&!d||c==="right"&&d);p=zi(zi({},p),{},{x1:i+m*s,y1:a,x2:i+m*s,y2:a+l})}return ve.createElement("line",bp({},p,{className:Xn("recharts-cartesian-axis-line",_s(h,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,l=this.props,c=l.tickLine,d=l.stroke,h=l.tick,p=l.tickFormatter,g=l.unit,m=C3(zi(zi({},this.props),{},{ticks:r}),i,a),b=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),y=tr(this.props,!1),w=tr(h,!1),A=zi(zi({},y),{},{fill:"none"},tr(c,!1)),C=m.map(function(P,E){var I=s.getTickLineCoord(P),z=I.line,O=I.tick,F=zi(zi(zi(zi({textAnchor:b,verticalAnchor:x},y),{},{stroke:"none",fill:d},w),O),{},{index:E,payload:P,visibleTicksCount:m.length,tickFormatter:p});return ve.createElement(ea,bp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},Zy(s.props,P,E)),c&&ve.createElement("line",bp({},A,z,{className:Xn("recharts-cartesian-axis-tick-line",_s(c,"className"))})),h&&t.renderTickItem(h,F,"".concat(In(p)?p(P.value,E):P.value).concat(g||"")))});return ve.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,d=i.className,h=i.hide;if(h)return null;var p=this.props,g=p.ticks,m=Mj(p,Lxe),b=g;return In(c)&&(b=g&&g.length>0?c(this.props):c(m)),s<=0||l<=0||!b||!b.length?null:ve.createElement(ea,{className:Xn("recharts-cartesian-axis",d),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Pa.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,l=Xn(i.className,"recharts-cartesian-axis-tick-value");return ve.isValidElement(r)?s=ve.cloneElement(r,zi(zi({},i),{},{className:l})):In(r)?s=r(zi(zi({},i),{},{className:l})):s=ve.createElement(ux,bp({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])})(j.Component);P3(Dm,"displayName","CartesianAxis");P3(Dm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Uxe=["x1","y1","x2","y2","key"],Hxe=["offset"];function xh(e){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xh(e)}function zL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ea(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zL(Object(n),!0).forEach(function(r){Wxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wxe(e,t,n){return t=Vxe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vxe(e){var t=Gxe(e,"string");return xh(t)=="symbol"?t:t+""}function Gxe(e,t){if(xh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rf.apply(this,arguments)}function FL(e,t){if(e==null)return{};var n=Kxe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Kxe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Yxe=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,a=t.y,s=t.width,l=t.height,c=t.ry;return ve.createElement("rect",{x:i,y:a,ry:c,width:s,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Gq(e,t){var n;if(ve.isValidElement(e))n=ve.cloneElement(e,t);else if(In(e))n=e(t);else{var r=t.x1,i=t.y1,a=t.x2,s=t.y2,l=t.key,c=FL(t,Uxe),d=tr(c,!1);d.offset;var h=FL(d,Hxe);n=ve.createElement("line",Rf({},h,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:l}))}return n}function Xxe(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var d=Ea(Ea({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return Gq(i,d)});return ve.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Qxe(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,a=e.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var d=Ea(Ea({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return Gq(i,d)});return ve.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Jxe(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,a=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var h=l.map(function(g){return Math.round(g+i-i)}).sort(function(g,m){return g-m});i!==h[0]&&h.unshift(0);var p=h.map(function(g,m){var b=!h[m+1],x=b?i+s-g:h[m+1]-g;if(x<=0)return null;var y=m%t.length;return ve.createElement("rect",{key:"react-".concat(m),y:g,x:r,height:x,width:a,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ve.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Zxe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,a=e.x,s=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!n||!r||!r.length)return null;var h=d.map(function(g){return Math.round(g+a-a)}).sort(function(g,m){return g-m});a!==h[0]&&h.unshift(0);var p=h.map(function(g,m){var b=!h[m+1],x=b?a+l-g:h[m+1]-g;if(x<=0)return null;var y=m%r.length;return ve.createElement("rect",{key:"react-".concat(m),x:g,y:s,width:x,height:c,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ve.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var e1e=function(t,n){var r=t.xAxis,i=t.width,a=t.height,s=t.offset;return oq(C3(Ea(Ea(Ea({},Dm.defaultProps),r),{},{ticks:Zc(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},t1e=function(t,n){var r=t.yAxis,i=t.width,a=t.height,s=t.offset;return oq(C3(Ea(Ea(Ea({},Dm.defaultProps),r),{},{ticks:Zc(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},hp={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Pg(e){var t,n,r,i,a,s,l=j3(),c=S3(),d=Bye(),h=Ea(Ea({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:hp.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:hp.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:hp.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:hp.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:hp.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:hp.verticalFill,x:gt(e.x)?e.x:d.left,y:gt(e.y)?e.y:d.top,width:gt(e.width)?e.width:d.width,height:gt(e.height)?e.height:d.height}),p=h.x,g=h.y,m=h.width,b=h.height,x=h.syncWithTicks,y=h.horizontalValues,w=h.verticalValues,A=Fye(),C=$ye();if(!gt(m)||m<=0||!gt(b)||b<=0||!gt(p)||p!==+p||!gt(g)||g!==+g)return null;var P=h.verticalCoordinatesGenerator||e1e,E=h.horizontalCoordinatesGenerator||t1e,I=h.horizontalPoints,z=h.verticalPoints;if((!I||!I.length)&&In(E)){var O=y&&y.length,F=E({yAxis:C?Ea(Ea({},C),{},{ticks:O?y:C.ticks}):void 0,width:l,height:c,offset:d},O?!0:x);iu(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(xh(F),"]")),Array.isArray(F)&&(I=F)}if((!z||!z.length)&&In(P)){var G=w&&w.length,R=P({xAxis:A?Ea(Ea({},A),{},{ticks:G?w:A.ticks}):void 0,width:l,height:c,offset:d},G?!0:x);iu(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(xh(R),"]")),Array.isArray(R)&&(z=R)}return ve.createElement("g",{className:"recharts-cartesian-grid"},ve.createElement(Yxe,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),ve.createElement(Xxe,Rf({},h,{offset:d,horizontalPoints:I,xAxis:A,yAxis:C})),ve.createElement(Qxe,Rf({},h,{offset:d,verticalPoints:z,xAxis:A,yAxis:C})),ve.createElement(Jxe,Rf({},h,{horizontalPoints:I})),ve.createElement(Zxe,Rf({},h,{verticalPoints:z})))}Pg.displayName="CartesianGrid";function hm(e){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hm(e)}function n1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r1e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xq(r.key),r)}}function i1e(e,t,n){return t&&r1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a1e(e,t,n){return t=Hx(t),o1e(e,Kq()?Reflect.construct(t,n||[],Hx(e).constructor):t.apply(e,n))}function o1e(e,t){if(t&&(hm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s1e(e)}function s1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kq=function(){return!!e})()}function Hx(e){return Hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hx(e)}function l1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XN(e,t)}function XN(e,t){return XN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XN(e,t)}function Yq(e,t,n){return t=Xq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xq(e){var t=c1e(e,"string");return hm(t)=="symbol"?t:t+""}function c1e(e,t){if(hm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function QN(){return QN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QN.apply(this,arguments)}function u1e(e){var t=e.xAxisId,n=j3(),r=S3(),i=Rq(t);return i==null?null:j.createElement(Dm,QN({},i,{className:Xn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Zc(s,!0)}}))}var Mf=(function(e){function t(){return n1e(this,t),a1e(this,t,arguments)}return l1e(t,e),i1e(t,[{key:"render",value:function(){return j.createElement(u1e,this.props)}}])})(j.Component);Yq(Mf,"displayName","XAxis");Yq(Mf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function pm(e){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(e)}function d1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f1e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zq(r.key),r)}}function h1e(e,t,n){return t&&f1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function p1e(e,t,n){return t=Wx(t),m1e(e,Qq()?Reflect.construct(t,n||[],Wx(e).constructor):t.apply(e,n))}function m1e(e,t){if(t&&(pm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g1e(e)}function g1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qq=function(){return!!e})()}function Wx(e){return Wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wx(e)}function v1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JN(e,t)}function JN(e,t){return JN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JN(e,t)}function Jq(e,t,n){return t=Zq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zq(e){var t=y1e(e,"string");return pm(t)=="symbol"?t:t+""}function y1e(e,t){if(pm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ZN(){return ZN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZN.apply(this,arguments)}var x1e=function(t){var n=t.yAxisId,r=j3(),i=S3(),a=Mq(n);return a==null?null:j.createElement(Dm,ZN({},a,{className:Xn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return Zc(l,!0)}}))},zf=(function(e){function t(){return d1e(this,t),p1e(this,t,arguments)}return v1e(t,e),h1e(t,[{key:"render",value:function(){return j.createElement(x1e,this.props)}}])})(j.Component);Jq(zf,"displayName","YAxis");Jq(zf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function $L(e){return j1e(e)||_1e(e)||w1e(e)||b1e()}function b1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w1e(e,t){if(e){if(typeof e=="string")return e4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e4(e,t)}}function _1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j1e(e){if(Array.isArray(e))return e4(e)}function e4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var t4=function(t,n,r,i,a){var s=al(t,A3),l=al(t,ib),c=[].concat($L(s),$L(l)),d=al(t,ob),h="".concat(i,"Id"),p=i[0],g=n;if(c.length&&(g=c.reduce(function(x,y){if(y.props[h]===r&&Kl(y.props,"extendDomain")&&gt(y.props[p])){var w=y.props[p];return[Math.min(x[0],w),Math.max(x[1],w)]}return x},g)),d.length){var m="".concat(p,"1"),b="".concat(p,"2");g=d.reduce(function(x,y){if(y.props[h]===r&&Kl(y.props,"extendDomain")&&gt(y.props[m])&&gt(y.props[b])){var w=y.props[m],A=y.props[b];return[Math.min(x[0],w,A),Math.max(x[1],w,A)]}return x},g)}return a&&a.length&&(g=a.reduce(function(x,y){return gt(y)?[Math.min(x[0],y),Math.max(x[1],y)]:x},g)),g},zj={exports:{}},qL;function S1e(){return qL||(qL=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function a(c,d,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new i(h,p||c,g),b=n?n+d:d;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],m]:c._events[b].push(m):(c._events[b]=m,c._eventsCount++),c}function s(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,p;if(this._eventsCount===0)return d;for(p in h=this._events)t.call(h,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=n?n+d:d,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,m=p.length,b=new Array(m);g<m;g++)b[g]=p[g].fn;return b},l.prototype.listenerCount=function(d){var h=n?n+d:d,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,h,p,g,m,b){var x=n?n+d:d;if(!this._events[x])return!1;var y=this._events[x],w=arguments.length,A,C;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,h),!0;case 3:return y.fn.call(y.context,h,p),!0;case 4:return y.fn.call(y.context,h,p,g),!0;case 5:return y.fn.call(y.context,h,p,g,m),!0;case 6:return y.fn.call(y.context,h,p,g,m,b),!0}for(C=1,A=new Array(w-1);C<w;C++)A[C-1]=arguments[C];y.fn.apply(y.context,A)}else{var P=y.length,E;for(C=0;C<P;C++)switch(y[C].once&&this.removeListener(d,y[C].fn,void 0,!0),w){case 1:y[C].fn.call(y[C].context);break;case 2:y[C].fn.call(y[C].context,h);break;case 3:y[C].fn.call(y[C].context,h,p);break;case 4:y[C].fn.call(y[C].context,h,p,g);break;default:if(!A)for(E=1,A=new Array(w-1);E<w;E++)A[E-1]=arguments[E];y[C].fn.apply(y[C].context,A)}}return!0},l.prototype.on=function(d,h,p){return a(this,d,h,p,!1)},l.prototype.once=function(d,h,p){return a(this,d,h,p,!0)},l.prototype.removeListener=function(d,h,p,g){var m=n?n+d:d;if(!this._events[m])return this;if(!h)return s(this,m),this;var b=this._events[m];if(b.fn)b.fn===h&&(!g||b.once)&&(!p||b.context===p)&&s(this,m);else{for(var x=0,y=[],w=b.length;x<w;x++)(b[x].fn!==h||g&&!b[x].once||p&&b[x].context!==p)&&y.push(b[x]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(zj)),zj.exports}var N1e=S1e();const A1e=gr(N1e);var Fj=new A1e,$j="recharts.syncMouseEvents";function Av(e){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Av(e)}function C1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P1e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eB(r.key),r)}}function E1e(e,t,n){return t&&P1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qj(e,t,n){return t=eB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eB(e){var t=k1e(e,"string");return Av(t)=="symbol"?t:t+""}function k1e(e,t){if(Av(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Av(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var O1e=(function(){function e(){C1e(this,e),qj(this,"activeIndex",0),qj(this,"coordinateList",[]),qj(this,"layout","horizontal")}return E1e(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,l=s===void 0?null:s,c=n.layout,d=c===void 0?null:c,h=n.offset,p=h===void 0?null:h,g=n.mouseHandlerCallback,m=g===void 0?null:g;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,p=a+c+d,g=s+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:p,pageY:g})}}}])})();function T1e(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&gt(r)&&gt(i))return!0}return!1}function D1e(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function tB(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,a=e.endAngle,s=ua(t,n,r,i),l=ua(t,n,r,a);return{points:[s,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function L1e(e,t,n){var r,i,a,s;if(e==="horizontal")r=t.x,a=r,i=n.top,s=n.top+n.height;else if(e==="vertical")i=t.y,s=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,h=t.outerRadius,p=t.angle,g=ua(l,c,d,p),m=ua(l,c,h,p);r=g.x,i=g.y,a=m.x,s=m.y}else return tB(t);return[{x:r,y:i},{x:a,y:s}]}function Cv(e){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cv(e)}function BL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BL(Object(n),!0).forEach(function(r){I1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I1e(e,t,n){return t=R1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R1e(e){var t=M1e(e,"string");return Cv(t)=="symbol"?t:t+""}function M1e(e,t){if(Cv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z1e(e){var t,n,r=e.element,i=e.tooltipEventType,a=e.isActive,s=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,p=e.layout,g=e.chartName,m=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!a||!s||g!=="ScatterChart"&&i!=="axis")return null;var b,x=_D;if(g==="ScatterChart")b=s,x=Yve;else if(g==="BarChart")b=D1e(p,s,c,h),x=x3;else if(p==="radial"){var y=tB(s),w=y.cx,A=y.cy,C=y.radius,P=y.startAngle,E=y.endAngle;b={cx:w,cy:A,startAngle:P,endAngle:E,innerRadius:C,outerRadius:C},x=dq}else b={points:L1e(p,s,c)},x=_D;var I=hy(hy(hy(hy({stroke:"#ccc",pointerEvents:"none"},c),b),tr(m,!1)),{},{payload:l,payloadIndex:d,className:Xn("recharts-tooltip-cursor",m.className)});return j.isValidElement(m)?j.cloneElement(m,I):j.createElement(x,I)}var F1e=["item"],$1e=["children","className","width","height","style","compact","title","desc"];function mm(e){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}function wp(){return wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wp.apply(this,arguments)}function UL(e,t){return U1e(e)||B1e(e,t)||rB(e,t)||q1e()}function q1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B1e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function U1e(e){if(Array.isArray(e))return e}function HL(e,t){if(e==null)return{};var n=H1e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function H1e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function W1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V1e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iB(r.key),r)}}function G1e(e,t,n){return t&&V1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K1e(e,t,n){return t=Vx(t),Y1e(e,nB()?Reflect.construct(t,n||[],Vx(e).constructor):t.apply(e,n))}function Y1e(e,t){if(t&&(mm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X1e(e)}function X1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nB=function(){return!!e})()}function Vx(e){return Vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vx(e)}function Q1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n4(e,t)}function n4(e,t){return n4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},n4(e,t)}function gm(e){return ebe(e)||Z1e(e)||rB(e)||J1e()}function J1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rB(e,t){if(e){if(typeof e=="string")return r4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r4(e,t)}}function Z1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ebe(e){if(Array.isArray(e))return r4(e)}function r4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WL(Object(n),!0).forEach(function(r){fn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fn(e,t,n){return t=iB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iB(e){var t=tbe(e,"string");return mm(t)=="symbol"?t:t+""}function tbe(e,t){if(mm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nbe={xAxis:["bottom","top"],yAxis:["left","right"]},rbe={width:"100%",height:"100%"},aB={x:0,y:0};function py(e){return e}var ibe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},abe=function(t,n,r,i){var a=n.find(function(h){return h&&h.index===r});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var s=a.coordinate,l=i.radius;return Xe(Xe(Xe({},i),ua(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=a.coordinate,d=i.angle;return Xe(Xe(Xe({},i),ua(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return aB},sb=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(gm(l),gm(d)):l},[]);return s.length>0?s:t&&t.length&&gt(i)&&gt(a)?t.slice(i,a+1):[]};function oB(e){return e==="number"?[0,"auto"]:void 0}var i4=function(t,n,r,i){var a=t.graphicalItems,s=t.tooltipAxis,l=sb(n,t);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,d){var h,p=(h=d.props.data)!==null&&h!==void 0?h:n;p&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(p=p.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(s.dataKey&&!s.allowDuplicatedCategory){var m=p===void 0?l:p;g=HS(m,s.dataKey,i)}else g=p&&p[r]||l[r];return g?[].concat(gm(c),[lq(d,g)]):c},[])},VL=function(t,n,r,i){var a=i||{x:t.chartX,y:t.chartY},s=ibe(a,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,h=Ppe(s,l,d,c);if(h>=0&&d){var p=d[h]&&d[h].value,g=i4(t,n,h,p),m=abe(r,l,h,a);return{activeTooltipIndex:h,activeLabel:p,activePayload:g,activeCoordinate:m}}return null},obe=function(t,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,h=t.layout,p=t.children,g=t.stackOffset,m=aq(h,a);return r.reduce(function(b,x){var y,w=x.type.defaultProps!==void 0?Xe(Xe({},x.type.defaultProps),x.props):x.props,A=w.type,C=w.dataKey,P=w.allowDataOverflow,E=w.allowDuplicatedCategory,I=w.scale,z=w.ticks,O=w.includeHidden,F=w[s];if(b[F])return b;var G=sb(t.data,{graphicalItems:i.filter(function(T){var V,J=s in T.props?T.props[s]:(V=T.type.defaultProps)===null||V===void 0?void 0:V[s];return J===F}),dataStartIndex:c,dataEndIndex:d}),R=G.length,k,B,U;T1e(w.domain,P,A)&&(k=SN(w.domain,null,P),m&&(A==="number"||I!=="auto")&&(U=Rg(G,C,"category")));var M=oB(A);if(!k||k.length===0){var X,Q=(X=w.domain)!==null&&X!==void 0?X:M;if(C){if(k=Rg(G,C,A),A==="category"&&m){var K=boe(k);E&&K?(B=k,k=Lx(0,R)):E||(k=lD(Q,k,x).reduce(function(T,V){return T.indexOf(V)>=0?T:[].concat(gm(T),[V])},[]))}else if(A==="category")E?k=k.filter(function(T){return T!==""&&!nr(T)}):k=lD(Q,k,x).reduce(function(T,V){return T.indexOf(V)>=0||V===""||nr(V)?T:[].concat(gm(T),[V])},[]);else if(A==="number"){var Y=Dpe(G,i.filter(function(T){var V,J,Z=s in T.props?T.props[s]:(V=T.type.defaultProps)===null||V===void 0?void 0:V[s],oe="hide"in T.props?T.props.hide:(J=T.type.defaultProps)===null||J===void 0?void 0:J.hide;return Z===F&&(O||!oe)}),C,a,h);Y&&(k=Y)}m&&(A==="number"||I!=="auto")&&(U=Rg(G,C,"category"))}else m?k=Lx(0,R):l&&l[F]&&l[F].hasStack&&A==="number"?k=g==="expand"?[0,1]:sq(l[F].stackGroups,c,d):k=iq(G,i.filter(function(T){var V=s in T.props?T.props[s]:T.type.defaultProps[s],J="hide"in T.props?T.props.hide:T.type.defaultProps.hide;return V===F&&(O||!J)}),A,h,!0);if(A==="number")k=t4(p,k,F,a,z),Q&&(k=SN(Q,k,P));else if(A==="category"&&Q){var ne=Q,H=k.every(function(T){return ne.indexOf(T)>=0});H&&(k=ne)}}return Xe(Xe({},b),{},fn({},F,Xe(Xe({},w),{},{axisType:a,domain:k,categoricalDomain:U,duplicateDomain:B,originalDomain:(y=w.domain)!==null&&y!==void 0?y:M,isCategorical:m,layout:h})))},{})},sbe=function(t,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,h=t.layout,p=t.children,g=sb(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:d}),m=g.length,b=aq(h,a),x=-1;return r.reduce(function(y,w){var A=w.type.defaultProps!==void 0?Xe(Xe({},w.type.defaultProps),w.props):w.props,C=A[s],P=oB("number");if(!y[C]){x++;var E;return b?E=Lx(0,m):l&&l[C]&&l[C].hasStack?(E=sq(l[C].stackGroups,c,d),E=t4(p,E,C,a)):(E=SN(P,iq(g,r.filter(function(I){var z,O,F=s in I.props?I.props[s]:(z=I.type.defaultProps)===null||z===void 0?void 0:z[s],G="hide"in I.props?I.props.hide:(O=I.type.defaultProps)===null||O===void 0?void 0:O.hide;return F===C&&!G}),"number",h),i.defaultProps.allowDataOverflow),E=t4(p,E,C,a)),Xe(Xe({},y),{},fn({},C,Xe(Xe({axisType:a},i.defaultProps),{},{hide:!0,orientation:_s(nbe,"".concat(a,".").concat(x%2),null),domain:E,originalDomain:P,isCategorical:b,layout:h})))}return y},{})},lbe=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,h=t.children,p="".concat(i,"Id"),g=al(h,a),m={};return g&&g.length?m=obe(t,{axes:g,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):s&&s.length&&(m=sbe(t,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),m},cbe=function(t){var n=ud(t),r=Zc(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:WA(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Sx(n,r)}},GL=function(t){var n=t.children,r=t.defaultShowTooltip,i=Fo(n,sm),a=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},ube=function(t){return!t||!t.length?!1:t.some(function(n){var r=ru(n&&n.type);return r&&r.indexOf("Bar")>=0})},KL=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},dbe=function(t,n){var r=t.props,i=t.graphicalItems,a=t.xAxisMap,s=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,d=r.width,h=r.height,p=r.children,g=r.margin||{},m=Fo(p,sm),b=Fo(p,Qf),x=Object.keys(c).reduce(function(E,I){var z=c[I],O=z.orientation;return!z.mirror&&!z.hide?Xe(Xe({},E),{},fn({},O,E[O]+z.width)):E},{left:g.left||0,right:g.right||0}),y=Object.keys(s).reduce(function(E,I){var z=s[I],O=z.orientation;return!z.mirror&&!z.hide?Xe(Xe({},E),{},fn({},O,_s(E,"".concat(O))+z.height)):E},{top:g.top||0,bottom:g.bottom||0}),w=Xe(Xe({},y),x),A=w.bottom;m&&(w.bottom+=m.props.height||sm.defaultProps.height),b&&n&&(w=Ope(w,i,r,n));var C=d-w.left-w.right,P=h-w.top-w.bottom;return Xe(Xe({brushBottom:A},w),{},{width:Math.max(C,0),height:Math.max(P,0)})},fbe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},hbe=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,s=t.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=t.axisComponents,d=t.legendContent,h=t.formatAxisMap,p=t.defaultProps,g=function(w,A){var C=A.graphicalItems,P=A.stackGroups,E=A.offset,I=A.updateId,z=A.dataStartIndex,O=A.dataEndIndex,F=w.barSize,G=w.layout,R=w.barGap,k=w.barCategoryGap,B=w.maxBarSize,U=KL(G),M=U.numericAxisName,X=U.cateAxisName,Q=ube(C),K=[];return C.forEach(function(Y,ne){var H=sb(w.data,{graphicalItems:[Y],dataStartIndex:z,dataEndIndex:O}),T=Y.type.defaultProps!==void 0?Xe(Xe({},Y.type.defaultProps),Y.props):Y.props,V=T.dataKey,J=T.maxBarSize,Z=T["".concat(M,"Id")],oe=T["".concat(X,"Id")],se={},fe=c.reduce(function(ot,st){var Pe=A["".concat(st.axisType,"Map")],Pt=T["".concat(st.axisType,"Id")];Pe&&Pe[Pt]||st.axisType==="zAxis"||yh();var _t=Pe[Pt];return Xe(Xe({},ot),{},fn(fn({},st.axisType,_t),"".concat(st.axisType,"Ticks"),Zc(_t)))},se),de=fe[X],be=fe["".concat(X,"Ticks")],Ee=P&&P[Z]&&P[Z].hasStack&&Wpe(Y,P[Z].stackGroups),_e=ru(Y.type).indexOf("Bar")>=0,$e=Sx(de,be),He=[],le=Q&&Epe({barSize:F,stackGroups:P,totalSize:fbe(fe,X)});if(_e){var Ke,pt,xt=nr(J)?B:J,Be=(Ke=(pt=Sx(de,be,!0))!==null&&pt!==void 0?pt:xt)!==null&&Ke!==void 0?Ke:0;He=kpe({barGap:R,barCategoryGap:k,bandSize:Be!==$e?Be:$e,sizeList:le[oe],maxBarSize:xt}),Be!==$e&&(He=He.map(function(ot){return Xe(Xe({},ot),{},{position:Xe(Xe({},ot.position),{},{offset:ot.position.offset-Be/2})})}))}var Nt=Y&&Y.type&&Y.type.getComposedData;Nt&&K.push({props:Xe(Xe({},Nt(Xe(Xe({},fe),{},{displayedData:H,props:w,dataKey:V,item:Y,bandSize:$e,barPosition:He,offset:E,stackedData:Ee,layout:G,dataStartIndex:z,dataEndIndex:O}))),{},fn(fn(fn({key:Y.key||"item-".concat(ne)},M,fe[M]),X,fe[X]),"animationId",I)),childIndex:Toe(Y,w.children),item:Y})}),K},m=function(w,A){var C=w.props,P=w.dataStartIndex,E=w.dataEndIndex,I=w.updateId;if(!jO({props:C}))return null;var z=C.children,O=C.layout,F=C.stackOffset,G=C.data,R=C.reverseStackOrder,k=KL(O),B=k.numericAxisName,U=k.cateAxisName,M=al(z,r),X=Bpe(G,M,"".concat(B,"Id"),"".concat(U,"Id"),F,R),Q=c.reduce(function(T,V){var J="".concat(V.axisType,"Map");return Xe(Xe({},T),{},fn({},J,lbe(C,Xe(Xe({},V),{},{graphicalItems:M,stackGroups:V.axisType===B&&X,dataStartIndex:P,dataEndIndex:E}))))},{}),K=dbe(Xe(Xe({},Q),{},{props:C,graphicalItems:M}),A==null?void 0:A.legendBBox);Object.keys(Q).forEach(function(T){Q[T]=h(C,Q[T],K,T.replace("Map",""),n)});var Y=Q["".concat(U,"Map")],ne=cbe(Y),H=g(C,Xe(Xe({},Q),{},{dataStartIndex:P,dataEndIndex:E,updateId:I,graphicalItems:M,stackGroups:X,offset:K}));return Xe(Xe({formattedGraphicalItems:H,graphicalItems:M,offset:K,stackGroups:X},ne),Q)},b=(function(y){function w(A){var C,P,E;return W1e(this,w),E=K1e(this,w,[A]),fn(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),fn(E,"accessibilityManager",new O1e),fn(E,"handleLegendBBoxUpdate",function(I){if(I){var z=E.state,O=z.dataStartIndex,F=z.dataEndIndex,G=z.updateId;E.setState(Xe({legendBBox:I},m({props:E.props,dataStartIndex:O,dataEndIndex:F,updateId:G},Xe(Xe({},E.state),{},{legendBBox:I}))))}}),fn(E,"handleReceiveSyncEvent",function(I,z,O){if(E.props.syncId===I){if(O===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(z)}}),fn(E,"handleBrushChange",function(I){var z=I.startIndex,O=I.endIndex;if(z!==E.state.dataStartIndex||O!==E.state.dataEndIndex){var F=E.state.updateId;E.setState(function(){return Xe({dataStartIndex:z,dataEndIndex:O},m({props:E.props,dataStartIndex:z,dataEndIndex:O,updateId:F},E.state))}),E.triggerSyncEvent({dataStartIndex:z,dataEndIndex:O})}}),fn(E,"handleMouseEnter",function(I){var z=E.getMouseInfo(I);if(z){var O=Xe(Xe({},z),{},{isTooltipActive:!0});E.setState(O),E.triggerSyncEvent(O);var F=E.props.onMouseEnter;In(F)&&F(O,I)}}),fn(E,"triggeredAfterMouseMove",function(I){var z=E.getMouseInfo(I),O=z?Xe(Xe({},z),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(O),E.triggerSyncEvent(O);var F=E.props.onMouseMove;In(F)&&F(O,I)}),fn(E,"handleItemMouseEnter",function(I){E.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),fn(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),fn(E,"handleMouseMove",function(I){I.persist(),E.throttleTriggeredAfterMouseMove(I)}),fn(E,"handleMouseLeave",function(I){E.throttleTriggeredAfterMouseMove.cancel();var z={isTooltipActive:!1};E.setState(z),E.triggerSyncEvent(z);var O=E.props.onMouseLeave;In(O)&&O(z,I)}),fn(E,"handleOuterEvent",function(I){var z=Ooe(I),O=_s(E.props,"".concat(z));if(z&&In(O)){var F,G;/.*touch.*/i.test(z)?G=E.getMouseInfo(I.changedTouches[0]):G=E.getMouseInfo(I),O((F=G)!==null&&F!==void 0?F:{},I)}}),fn(E,"handleClick",function(I){var z=E.getMouseInfo(I);if(z){var O=Xe(Xe({},z),{},{isTooltipActive:!0});E.setState(O),E.triggerSyncEvent(O);var F=E.props.onClick;In(F)&&F(O,I)}}),fn(E,"handleMouseDown",function(I){var z=E.props.onMouseDown;if(In(z)){var O=E.getMouseInfo(I);z(O,I)}}),fn(E,"handleMouseUp",function(I){var z=E.props.onMouseUp;if(In(z)){var O=E.getMouseInfo(I);z(O,I)}}),fn(E,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),fn(E,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&E.handleMouseDown(I.changedTouches[0])}),fn(E,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&E.handleMouseUp(I.changedTouches[0])}),fn(E,"handleDoubleClick",function(I){var z=E.props.onDoubleClick;if(In(z)){var O=E.getMouseInfo(I);z(O,I)}}),fn(E,"handleContextMenu",function(I){var z=E.props.onContextMenu;if(In(z)){var O=E.getMouseInfo(I);z(O,I)}}),fn(E,"triggerSyncEvent",function(I){E.props.syncId!==void 0&&Fj.emit($j,E.props.syncId,I,E.eventEmitterSymbol)}),fn(E,"applySyncEvent",function(I){var z=E.props,O=z.layout,F=z.syncMethod,G=E.state.updateId,R=I.dataStartIndex,k=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)E.setState(Xe({dataStartIndex:R,dataEndIndex:k},m({props:E.props,dataStartIndex:R,dataEndIndex:k,updateId:G},E.state)));else if(I.activeTooltipIndex!==void 0){var B=I.chartX,U=I.chartY,M=I.activeTooltipIndex,X=E.state,Q=X.offset,K=X.tooltipTicks;if(!Q)return;if(typeof F=="function")M=F(K,I);else if(F==="value"){M=-1;for(var Y=0;Y<K.length;Y++)if(K[Y].value===I.activeLabel){M=Y;break}}var ne=Xe(Xe({},Q),{},{x:Q.left,y:Q.top}),H=Math.min(B,ne.x+ne.width),T=Math.min(U,ne.y+ne.height),V=K[M]&&K[M].value,J=i4(E.state,E.props.data,M),Z=K[M]?{x:O==="horizontal"?K[M].coordinate:H,y:O==="horizontal"?T:K[M].coordinate}:aB;E.setState(Xe(Xe({},I),{},{activeLabel:V,activeCoordinate:Z,activePayload:J,activeTooltipIndex:M}))}else E.setState(I)}),fn(E,"renderCursor",function(I){var z,O=E.state,F=O.isTooltipActive,G=O.activeCoordinate,R=O.activePayload,k=O.offset,B=O.activeTooltipIndex,U=O.tooltipAxisBandSize,M=E.getTooltipEventType(),X=(z=I.props.active)!==null&&z!==void 0?z:F,Q=E.props.layout,K=I.key||"_recharts-cursor";return ve.createElement(z1e,{key:K,activeCoordinate:G,activePayload:R,activeTooltipIndex:B,chartName:n,element:I,isActive:X,layout:Q,offset:k,tooltipAxisBandSize:U,tooltipEventType:M})}),fn(E,"renderPolarAxis",function(I,z,O){var F=_s(I,"type.axisType"),G=_s(E.state,"".concat(F,"Map")),R=I.type.defaultProps,k=R!==void 0?Xe(Xe({},R),I.props):I.props,B=G&&G[k["".concat(F,"Id")]];return j.cloneElement(I,Xe(Xe({},B),{},{className:Xn(F,B.className),key:I.key||"".concat(z,"-").concat(O),ticks:Zc(B,!0)}))}),fn(E,"renderPolarGrid",function(I){var z=I.props,O=z.radialLines,F=z.polarAngles,G=z.polarRadius,R=E.state,k=R.radiusAxisMap,B=R.angleAxisMap,U=ud(k),M=ud(B),X=M.cx,Q=M.cy,K=M.innerRadius,Y=M.outerRadius;return j.cloneElement(I,{polarAngles:Array.isArray(F)?F:Zc(M,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(G)?G:Zc(U,!0).map(function(ne){return ne.coordinate}),cx:X,cy:Q,innerRadius:K,outerRadius:Y,key:I.key||"polar-grid",radialLines:O})}),fn(E,"renderLegend",function(){var I=E.state.formattedGraphicalItems,z=E.props,O=z.children,F=z.width,G=z.height,R=E.props.margin||{},k=F-(R.left||0)-(R.right||0),B=nq({children:O,formattedGraphicalItems:I,legendWidth:k,legendContent:d});if(!B)return null;var U=B.item,M=HL(B,F1e);return j.cloneElement(U,Xe(Xe({},M),{},{chartWidth:F,chartHeight:G,margin:R,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),fn(E,"renderTooltip",function(){var I,z=E.props,O=z.children,F=z.accessibilityLayer,G=Fo(O,$o);if(!G)return null;var R=E.state,k=R.isTooltipActive,B=R.activeCoordinate,U=R.activePayload,M=R.activeLabel,X=R.offset,Q=(I=G.props.active)!==null&&I!==void 0?I:k;return j.cloneElement(G,{viewBox:Xe(Xe({},X),{},{x:X.left,y:X.top}),active:Q,label:M,payload:Q?U:[],coordinate:B,accessibilityLayer:F})}),fn(E,"renderBrush",function(I){var z=E.props,O=z.margin,F=z.data,G=E.state,R=G.offset,k=G.dataStartIndex,B=G.dataEndIndex,U=G.updateId;return j.cloneElement(I,{key:I.key||"_recharts-brush",onChange:cy(E.handleBrushChange,I.props.onChange),data:F,x:gt(I.props.x)?I.props.x:R.left,y:gt(I.props.y)?I.props.y:R.top+R.height+R.brushBottom-(O.bottom||0),width:gt(I.props.width)?I.props.width:R.width,startIndex:k,endIndex:B,updateId:"brush-".concat(U)})}),fn(E,"renderReferenceElement",function(I,z,O){if(!I)return null;var F=E,G=F.clipPathId,R=E.state,k=R.xAxisMap,B=R.yAxisMap,U=R.offset,M=I.type.defaultProps||{},X=I.props,Q=X.xAxisId,K=Q===void 0?M.xAxisId:Q,Y=X.yAxisId,ne=Y===void 0?M.yAxisId:Y;return j.cloneElement(I,{key:I.key||"".concat(z,"-").concat(O),xAxis:k[K],yAxis:B[ne],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:G})}),fn(E,"renderActivePoints",function(I){var z=I.item,O=I.activePoint,F=I.basePoint,G=I.childIndex,R=I.isRange,k=[],B=z.props.key,U=z.item.type.defaultProps!==void 0?Xe(Xe({},z.item.type.defaultProps),z.item.props):z.item.props,M=U.activeDot,X=U.dataKey,Q=Xe(Xe({index:G,dataKey:X,cx:O.x,cy:O.y,r:4,fill:y3(z.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},tr(M,!1)),Jy(M));return k.push(w.renderActiveDot(M,Q,"".concat(B,"-activePoint-").concat(G))),F?k.push(w.renderActiveDot(M,Xe(Xe({},Q),{},{cx:F.x,cy:F.y}),"".concat(B,"-basePoint-").concat(G))):R&&k.push(null),k}),fn(E,"renderGraphicChild",function(I,z,O){var F=E.filterFormatItem(I,z,O);if(!F)return null;var G=E.getTooltipEventType(),R=E.state,k=R.isTooltipActive,B=R.tooltipAxis,U=R.activeTooltipIndex,M=R.activeLabel,X=E.props.children,Q=Fo(X,$o),K=F.props,Y=K.points,ne=K.isRange,H=K.baseLine,T=F.item.type.defaultProps!==void 0?Xe(Xe({},F.item.type.defaultProps),F.item.props):F.item.props,V=T.activeDot,J=T.hide,Z=T.activeBar,oe=T.activeShape,se=!!(!J&&k&&Q&&(V||Z||oe)),fe={};G!=="axis"&&Q&&Q.props.trigger==="click"?fe={onClick:cy(E.handleItemMouseEnter,I.props.onClick)}:G!=="axis"&&(fe={onMouseLeave:cy(E.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:cy(E.handleItemMouseEnter,I.props.onMouseEnter)});var de=j.cloneElement(I,Xe(Xe({},F.props),fe));function be(st){return typeof B.dataKey=="function"?B.dataKey(st.payload):null}if(se)if(U>=0){var Ee,_e;if(B.dataKey&&!B.allowDuplicatedCategory){var $e=typeof B.dataKey=="function"?be:"payload.".concat(B.dataKey.toString());Ee=HS(Y,$e,M),_e=ne&&H&&HS(H,$e,M)}else Ee=Y==null?void 0:Y[U],_e=ne&&H&&H[U];if(oe||Z){var He=I.props.activeIndex!==void 0?I.props.activeIndex:U;return[j.cloneElement(I,Xe(Xe(Xe({},F.props),fe),{},{activeIndex:He})),null,null]}if(!nr(Ee))return[de].concat(gm(E.renderActivePoints({item:F,activePoint:Ee,basePoint:_e,childIndex:U,isRange:ne})))}else{var le,Ke=(le=E.getItemByXY(E.state.activeCoordinate))!==null&&le!==void 0?le:{graphicalItem:de},pt=Ke.graphicalItem,xt=pt.item,Be=xt===void 0?I:xt,Nt=pt.childIndex,ot=Xe(Xe(Xe({},F.props),fe),{},{activeIndex:Nt});return[j.cloneElement(Be,ot),null,null]}return ne?[de,null,null]:[de,null]}),fn(E,"renderCustomized",function(I,z,O){return j.cloneElement(I,Xe(Xe({key:"recharts-customized-".concat(O)},E.props),E.state))}),fn(E,"renderMap",{CartesianGrid:{handler:py,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:py},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:py},YAxis:{handler:py},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((C=A.id)!==null&&C!==void 0?C:I1("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=t9(E.triggeredAfterMouseMove,(P=A.throttleDelay)!==null&&P!==void 0?P:1e3/60),E.state={},E}return Q1e(w,y),G1e(w,[{key:"componentDidMount",value:function(){var C,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,P=C.children,E=C.data,I=C.height,z=C.layout,O=Fo(P,$o);if(O){var F=O.props.defaultIndex;if(!(typeof F!="number"||F<0||F>this.state.tooltipTicks.length-1)){var G=this.state.tooltipTicks[F]&&this.state.tooltipTicks[F].value,R=i4(this.state,E,F,G),k=this.state.tooltipTicks[F].coordinate,B=(this.state.offset.top+I)/2,U=z==="horizontal",M=U?{x:k,y:B}:{y:k,x:B},X=this.state.formattedGraphicalItems.find(function(K){var Y=K.item;return Y.type.name==="Scatter"});X&&(M=Xe(Xe({},M),X.props.points[F].tooltipPosition),R=X.props.points[F].tooltipPayload);var Q={activeTooltipIndex:F,isTooltipActive:!0,activeLabel:G,activePayload:R,activeCoordinate:M};this.setState(Q),this.renderCursor(O),this.accessibilityManager.setIndex(F)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var E,I;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(C){VS([Fo(C.children,$o)],[Fo(this.props.children,$o)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=Fo(this.props.children,$o);if(C&&typeof C.props.shared=="boolean"){var P=C.props.shared?"axis":"item";return l.indexOf(P)>=0?P:a}return a}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var P=this.container,E=P.getBoundingClientRect(),I=yue(E),z={chartX:Math.round(C.pageX-I.left),chartY:Math.round(C.pageY-I.top)},O=E.width/P.offsetWidth||1,F=this.inRange(z.chartX,z.chartY,O);if(!F)return null;var G=this.state,R=G.xAxisMap,k=G.yAxisMap,B=this.getTooltipEventType(),U=VL(this.state,this.props.data,this.props.layout,F);if(B!=="axis"&&R&&k){var M=ud(R).scale,X=ud(k).scale,Q=M&&M.invert?M.invert(z.chartX):null,K=X&&X.invert?X.invert(z.chartY):null;return Xe(Xe({},z),{},{xValue:Q,yValue:K},U)}return U?Xe(Xe({},z),U):null}},{key:"inRange",value:function(C,P){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,z=C/E,O=P/E;if(I==="horizontal"||I==="vertical"){var F=this.state.offset,G=z>=F.left&&z<=F.left+F.width&&O>=F.top&&O<=F.top+F.height;return G?{x:z,y:O}:null}var R=this.state,k=R.angleAxisMap,B=R.radiusAxisMap;if(k&&B){var U=ud(k);return dD({x:z,y:O},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,P=this.getTooltipEventType(),E=Fo(C,$o),I={};E&&P==="axis"&&(E.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var z=Jy(this.props,this.handleOuterEvent);return Xe(Xe({},z),I)}},{key:"addListener",value:function(){Fj.on($j,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Fj.removeListener($j,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,P,E){for(var I=this.state.formattedGraphicalItems,z=0,O=I.length;z<O;z++){var F=I[z];if(F.item===C||F.props.key===C.key||P===ru(F.item.type)&&E===F.childIndex)return F}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,P=this.state.offset,E=P.left,I=P.top,z=P.height,O=P.width;return ve.createElement("defs",null,ve.createElement("clipPath",{id:C},ve.createElement("rect",{x:E,y:I,height:z,width:O})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(P,E){var I=UL(E,2),z=I[0],O=I[1];return Xe(Xe({},P),{},fn({},z,O.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(P,E){var I=UL(E,2),z=I[0],O=I[1];return Xe(Xe({},P),{},fn({},z,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[C])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(C){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[C])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(C){var P=this.state,E=P.formattedGraphicalItems,I=P.activeItem;if(E&&E.length)for(var z=0,O=E.length;z<O;z++){var F=E[z],G=F.props,R=F.item,k=R.type.defaultProps!==void 0?Xe(Xe({},R.type.defaultProps),R.props):R.props,B=ru(R.type);if(B==="Bar"){var U=(G.data||[]).find(function(K){return Fve(C,K)});if(U)return{graphicalItem:F,payload:U}}else if(B==="RadialBar"){var M=(G.data||[]).find(function(K){return dD(C,K)});if(M)return{graphicalItem:F,payload:M}}else if(eb(F,I)||tb(F,I)||wv(F,I)){var X=E0e({graphicalItem:F,activeTooltipItem:I,itemData:k.data}),Q=k.activeIndex===void 0?X:k.activeIndex;return{graphicalItem:Xe(Xe({},F),{},{childIndex:Q}),payload:wv(F,I)?k.data[X]:F.props.data[X]}}}return null}},{key:"render",value:function(){var C=this;if(!jO(this))return null;var P=this.props,E=P.children,I=P.className,z=P.width,O=P.height,F=P.style,G=P.compact,R=P.title,k=P.desc,B=HL(P,$1e),U=tr(B,!1);if(G)return ve.createElement(CL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ve.createElement(KS,wp({},U,{width:z,height:O,title:R,desc:k}),this.renderClipPath(),NO(E,this.renderMap)));if(this.props.accessibilityLayer){var M,X;U.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,U.role=(X=this.props.role)!==null&&X!==void 0?X:"application",U.onKeyDown=function(K){C.accessibilityManager.keyboardEvent(K)},U.onFocus=function(){C.accessibilityManager.focus()}}var Q=this.parseEventsOfWrapper();return ve.createElement(CL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ve.createElement("div",wp({className:Xn("recharts-wrapper",I),style:Xe({position:"relative",cursor:"default",width:z,height:O},F)},Q,{ref:function(Y){C.container=Y}}),ve.createElement(KS,wp({},U,{width:z,height:O,title:R,desc:k,style:rbe}),this.renderClipPath(),NO(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(j.Component);fn(b,"displayName",n),fn(b,"defaultProps",Xe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),fn(b,"getDerivedStateFromProps",function(y,w){var A=y.dataKey,C=y.data,P=y.children,E=y.width,I=y.height,z=y.layout,O=y.stackOffset,F=y.margin,G=w.dataStartIndex,R=w.dataEndIndex;if(w.updateId===void 0){var k=GL(y);return Xe(Xe(Xe({},k),{},{updateId:0},m(Xe(Xe({props:y},k),{},{updateId:0}),w)),{},{prevDataKey:A,prevData:C,prevWidth:E,prevHeight:I,prevLayout:z,prevStackOffset:O,prevMargin:F,prevChildren:P})}if(A!==w.prevDataKey||C!==w.prevData||E!==w.prevWidth||I!==w.prevHeight||z!==w.prevLayout||O!==w.prevStackOffset||!kp(F,w.prevMargin)){var B=GL(y),U={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},M=Xe(Xe({},VL(w,C,z)),{},{updateId:w.updateId+1}),X=Xe(Xe(Xe({},B),U),M);return Xe(Xe(Xe({},X),m(Xe({props:y},X),w)),{},{prevDataKey:A,prevData:C,prevWidth:E,prevHeight:I,prevLayout:z,prevStackOffset:O,prevMargin:F,prevChildren:P})}if(!VS(P,w.prevChildren)){var Q,K,Y,ne,H=Fo(P,sm),T=H&&(Q=(K=H.props)===null||K===void 0?void 0:K.startIndex)!==null&&Q!==void 0?Q:G,V=H&&(Y=(ne=H.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&Y!==void 0?Y:R,J=T!==G||V!==R,Z=!nr(C),oe=Z&&!J?w.updateId:w.updateId+1;return Xe(Xe({updateId:oe},m(Xe(Xe({props:y},w),{},{updateId:oe,dataStartIndex:T,dataEndIndex:V}),w)),{},{prevChildren:P,dataStartIndex:T,dataEndIndex:V})}return null}),fn(b,"renderActiveDot",function(y,w,A){var C;return j.isValidElement(y)?C=j.cloneElement(y,w):In(y)?C=y(w):C=ve.createElement(xq,w),ve.createElement(ea,{className:"recharts-active-dot",key:A},C)});var x=j.forwardRef(function(w,A){return ve.createElement(b,wp({},w,{ref:A}))});return x.displayName=b.displayName,x},my=hbe({chartName:"BarChart",GraphicalChild:Wl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Mf},{axisType:"yAxis",AxisComp:zf}],formatAxisMap:Nye});function sB(){const e=new Date,t=e.getFullYear(),n=e.getMonth(),r=(pe,Ne)=>Array.from({length:Ne-pe+1},(at,It)=>pe+It),i=r(2024,t),a=n>=9?t:t-1,s=r(2024,a),[l,c]=j.useState(t-1),d=n>=9?t-1:t-2,h=`${d}/${(d+1).toString().slice(-2)}`,[p,g]=j.useState(h),[m,b]=j.useState(null),[x,y]=j.useState(!1);j.useEffect(()=>{const pe=()=>y(window.innerWidth<768);return pe(),window.addEventListener("resize",pe),()=>window.removeEventListener("resize",pe)},[]),j.useEffect(()=>{(async()=>{try{const Ne=await we.auth.me();b(Ne)}catch(Ne){console.error("Errore:",Ne)}})()},[]);const{data:w=[]}=Wt({queryKey:["transazioni"],queryFn:()=>we.entities.TransazioneNEU.list("-data_transazione"),initialData:[]}),{data:A=[]}=Wt({queryKey:["turni"],queryFn:()=>we.entities.TurnoHost.list("-data_inizio"),initialData:[]}),{data:C=[]}=Wt({queryKey:["dichiarazioni_volontariato"],queryFn:()=>we.entities.DichiarazioneVolontariato.list({sort:"-data_dichiarazione",include:"all"}),initialData:[]}),{data:P=[]}=Wt({queryKey:["profili"],queryFn:()=>we.entities.ProfiloCoworker.list("-created_date"),initialData:[]}),{data:E=[]}=Wt({queryKey:["ingressi"],queryFn:()=>we.entities.IngressoCoworking.list("-data_ingresso"),initialData:[]}),{data:I=[]}=Wt({queryKey:["abbonamenti"],queryFn:()=>we.entities.AbbonamentoUtente.list("-data_inizio"),initialData:[]}),z=pe=>{const Ne=parseInt(pe.split("/")[0]),at=new Date(Ne,9,1),It=new Date(Ne+1,8,30,23,59,59);return{startDate:at,endDate:It}},{startDate:O,endDate:F}=z(p),G=w.filter(pe=>new Date(pe.data_transazione).getFullYear()===l),R=P.filter(pe=>new Date(pe.data_compilazione||pe.createdAt).getFullYear()===l),k=E.filter(pe=>new Date(pe.data_ingresso).getFullYear()===l),B=I.filter(pe=>new Date(pe.data_inizio).getFullYear()===l),U=A.filter(pe=>{const Ne=new Date(pe.data_inizio);return Ne>=O&&Ne<=F}),M=C.filter(pe=>{if(pe.anno_associativo)return pe.anno_associativo===p;const Ne=new Date(pe.data_dichiarazione);return Ne>=O&&Ne<=F}),X=U.reduce((pe,Ne)=>pe+(Ne.ore_lavorate||0),0),Q=new Set(U.map(pe=>pe.utente_id)).size,K=M.filter(pe=>!pe.azione_id),Y=K.reduce((pe,Ne)=>pe+(Ne.ore||0),0),ne=new Set(K.map(pe=>pe.user_id)).size,H=M.filter(pe=>pe.azione_id),T=H.reduce((pe,Ne)=>pe+(Ne.neu_guadagnati||0),0);new Set(H.map(pe=>pe.user_id)).size;const V=K.reduce((pe,Ne)=>{var It;const at=((It=Ne.AmbitoVolontariato)==null?void 0:It.nome)||Ne.ambito_nome||"Altro";return pe[at]=(pe[at]||0)+(Ne.ore||0),pe},{}),J=Object.entries(V).map(([pe,Ne])=>({nome:pe,ore:Math.round(Ne*100)/100})).sort((pe,Ne)=>Ne.ore-pe.ore),Z=A.filter(pe=>new Date(pe.data_inizio).getFullYear()===l&&pe.neu_guadagnati>0),oe={2024:["2024-01-01","2024-01-06","2024-04-01","2024-04-25","2024-05-01","2024-06-02","2024-08-15","2024-11-01","2024-12-08","2024-12-25","2024-12-26"],2025:["2025-01-01","2025-01-06","2025-04-20","2025-04-21","2025-04-25","2025-05-01","2025-06-02","2025-08-15","2025-11-01","2025-12-08","2025-12-25","2025-12-26"]};let se=0,fe=0,de=0;Z.forEach(pe=>{var dt;const Ne=new Date(pe.data_inizio),at=new Date(pe.data_fine);if(isNaN(Ne)||isNaN(at)||at<=Ne)return;let It=new Date(Ne);for(;It<at;){const An=It.getDay(),Tr=An===0||An===6,$n=It.toISOString().split("T")[0],Zn=(dt=oe[It.getFullYear()])==null?void 0:dt.includes($n),Fn=It.getHours()+It.getMinutes()/60,Wn=6e4,Sr=new Date(It.getTime()+Wn),ka=((Sr>at?at:Sr)-It)/36e5;Tr||Zn?de+=ka*6:Fn>=9&&Fn<18.5?se+=ka*2.5:Fn>=18.5&&Fn<20.5?fe+=ka*4:de+=ka*6,It=Sr}});const be=se+fe+de,_e=C.filter(pe=>new Date(pe.data_dichiarazione).getFullYear()===l).reduce((pe,Ne)=>pe+(Ne.neu_guadagnati||0),0),$e=G.filter(pe=>pe.tipo==="compito_specifico"&&pe.a_utente_id!==null).reduce((pe,Ne)=>pe+(Ne.importo||0),0),He=G.filter(pe=>pe.tipo==="voto_annuale"&&pe.a_utente_id!==null).reduce((pe,Ne)=>pe+(Ne.importo||0),0),le=be+$e+_e+He,Ke=G.filter(pe=>(pe.tipo==="trasferimento_soci"||pe.tipo==="pagamento_associazione")&&pe.da_utente_id!==null),pt=Ke.reduce((pe,Ne)=>pe+(Ne.importo||0),0),xt=G.filter(pe=>{var Ne,at;return pe.da_utente_id&&!pe.a_utente_id&&(pe.tipo==="scadenza"||pe.tipo==="scadenza_neu"||((Ne=pe.causale)==null?void 0:Ne.toLowerCase().includes("scadenza"))||((at=pe.causale)==null?void 0:at.toLowerCase().includes("scadut")))}).reduce((pe,Ne)=>pe+(Ne.importo||0),0),Be={"Servizi Coworking":0,"Quota Associativa":0,"Scambi tra Soci":0};Ke.forEach(pe=>{const Ne=pe.importo||0,at=(pe.causale||"").toLowerCase();pe.tipo==="trasferimento_soci"?Be["Scambi tra Soci"]+=Ne:pe.tipo==="pagamento_associazione"&&(at.includes("quota")||at.includes("associativa")||at.includes("iscrizione")?Be["Quota Associativa"]+=Ne:Be["Servizi Coworking"]+=Ne)});const Nt=Object.entries(Be).filter(([pe,Ne])=>Ne>0).map(([pe,Ne])=>({nome:pe,valore:Math.round(Ne*100)/100})).sort((pe,Ne)=>Ne.valore-pe.valore),ot=[{nome:"NEU Immessi (Totale)",valore:Math.round(le*10)/10},{nome:" - da Turni Host",valore:Math.round(be*10)/10},{nome:" - da Volontariato",valore:Math.round(_e*10)/10},{nome:" - da Compiti Specifici",valore:Math.round($e*10)/10},{nome:" - da Voto Annuale",valore:Math.round(He*10)/10},{nome:"NEU Scambiati/Spesi",valore:Math.round(pt*10)/10},{nome:"NEU Scaduti",valore:Math.round(xt*10)/10}],st=R.filter(pe=>pe.genere!=="ente giuridico"&&!["neu noi","rewild sicily"].includes(`${pe.first_name||""} ${pe.last_name||""}`.trim().toLowerCase())),Pe=st.length,_t=(pe=>{if(pe.length===0)return 0;const Ne=new Date,at=pe.filter(An=>An.data_nascita);if(at.length===0)return 0;const It=at.map(An=>{const Tr=new Date(An.data_nascita);let $n=Ne.getFullYear()-Tr.getFullYear();const Zn=Ne.getMonth()-Tr.getMonth();return(Zn<0||Zn===0&&Ne.getDate()<Tr.getDate())&&$n--,$n}),dt=It.reduce((An,Tr)=>An+Tr,0);return Math.round(dt/It.length*10)/10})(st),mt=pe=>{if(!pe)return"Non specificato";const Ne=pe.trim().toLowerCase();return Ne==="italy"||Ne==="italia"||Ne==="it"?"Italia":Ne==="united kingdom"||Ne==="uk"||Ne==="gran bretagna"||Ne==="england"?"UK":Ne==="germany"||Ne==="deutschland"||Ne==="germania"?"Germania":Ne==="france"||Ne==="francia"?"Francia":Ne==="spain"||Ne==="spagna"||Ne==="espana"?"Spagna":Ne==="netherlands"||Ne==="olanda"||Ne==="nederland"?"Olanda":Ne==="usa"||Ne==="united states"||Ne==="stati uniti"?"USA":Ne==="switzerland"||Ne==="svizzera"?"Svizzera":Ne==="brazil"||Ne==="brasile"?"Brasile":pe.charAt(0).toUpperCase()+pe.slice(1)},vt=st.reduce((pe,Ne)=>{var dt,An;const at=Ne.paese_residenza||((An=(dt=Ne.citta_residenza)==null?void 0:dt.split(",")[1])==null?void 0:An.trim()),It=mt(at);return pe[It]=(pe[It]||0)+1,pe},{}),ut=Object.entries(vt).map(([pe,Ne])=>({nome:pe,count:Ne})).sort((pe,Ne)=>Ne.count-pe.count).slice(0,10),St=st.reduce((pe,Ne)=>{const at=Ne.genere||"altro",It={maschio:"Maschio",femmina:"Femmina",altro:"Altro"}[at]||"Altro";return pe[It]=(pe[It]||0)+1,pe},{}),ft=Pe>0?((St.Maschio||0)/Pe*100).toFixed(1):0,_n=Pe>0?((St.Femmina||0)/Pe*100).toFixed(1):0,pn=Pe>0?((St.Altro||0)/Pe*100).toFixed(1):0,un=k.reduce((pe,Ne)=>(pe[Ne.tipo]=(pe[Ne.tipo]||0)+1,pe),{});Object.entries(un).map(([pe,Ne])=>({nome:pe==="giornaliero"?"Giornaliero":pe==="abbonamento"?"Abbonamento":"Carnet",count:Ne}));const{data:mn=[]}=Wt({queryKey:["ordini"],queryFn:()=>we.entities.OrdineCoworking.list("-data_ordine"),initialData:[]}),Vt=mn.filter(pe=>new Date(pe.data_ordine).getFullYear()===l).reduce((pe,Ne)=>{let at=Ne.prodotti;if(typeof at=="string")try{at=JSON.parse(at)}catch{at=[]}return Array.isArray(at)||(at=[]),at.forEach(It=>{const dt=It.tipo_abbonamento_nome||"Sconosciuto";pe[dt]=(pe[dt]||0)+(It.quantita||1)}),pe},{}),Nn=Object.entries(Vt).map(([pe,Ne])=>({nome:pe,count:Ne})).sort((pe,Ne)=>Ne.count-pe.count),Ot=["#053c5e","#1f7a8c","#db222a","#bfdbf7","#f4a261","#e76f51","#2a9d8f"];Array.from({length:5},(pe,Ne)=>t-Ne).filter(pe=>pe>=2024);const xe=(pe,Ne,at,It=[5,60,94])=>{pe.setFillColor(It[0],It[1],It[2]),pe.rect(0,0,210,50,"F");try{pe.setTextColor(255,255,255),pe.setFont("helvetica","bold"),pe.setFontSize(28),pe.text("neu [ni]",20,25)}catch{pe.setTextColor(255,255,255),pe.setFontSize(24),pe.text("neu [ni]",20,25)}return pe.setFont("helvetica","normal"),pe.setFontSize(10),pe.text("SPAZIO AL LAVORO APS",20,32),pe.setFont("helvetica","bold"),pe.setFontSize(16),pe.text(Ne.toUpperCase(),20,42),at&&(pe.setFontSize(10),pe.setFont("helvetica","italic"),pe.text(at,190,42,{align:"right"})),pe.setTextColor(0,0,0),65},bt=pe=>{const Ne=pe.internal.getNumberOfPages();for(let at=1;at<=Ne;at++)pe.setPage(at),pe.setFont("helvetica","italic"),pe.setFontSize(8),pe.setTextColor(150,150,150),pe.text(`Report generato il ${new Date().toLocaleDateString("it-IT")}  neu [ni] spazio al lavoro APS  Pagina ${at} di ${Ne}`,105,285,{align:"center"})},Et=async()=>{const pe=new Gt("p","mm","a4");let Ne=xe(pe,"Report Volontariato",`Anno Associativo ${p}`,[31,122,140]);const at=20;pe.setFont("helvetica","bold"),pe.setFontSize(13),pe.text("DETTAGLIO ATTIVIT",at,Ne),Ne+=10,pe.setFont("helvetica","normal"),pe.setFontSize(11),pe.text(` Ore di Hosting (gestione spazio): ${Math.round(X*10)/10}h`,at+5,Ne),Ne+=7,pe.text(` Soci Host coinvolti: ${Q}`,at+5,Ne),Ne+=12,pe.setFont("helvetica","bold"),pe.text("VOLONTARIATO PER AMBITO",at+5,Ne),Ne+=8,pe.setFont("helvetica","normal"),J.forEach(It=>{Ne>260&&(pe.addPage(),Ne=20),pe.text(`- ${It.nome}: ${It.ore}h`,at+10,Ne),Ne+=7}),Ne+=10,pe.setFont("helvetica","bold"),pe.text("IMPULSI NEU",at+5,Ne),Ne+=8,pe.setFont("helvetica","normal"),pe.text(` NEU elargiti per azioni specifiche: ${Math.round(T*10)/10} NEU`,at+10,Ne),bt(pe),pe.save(`volontariato_${p.replace("/","-")}.pdf`)},At=async()=>{const pe=new Gt("p","mm","a4");let Ne=xe(pe,"Report Sistema NEU",`Anno Solare ${l}`,[219,34,42]);const at=20;pe.setFont("helvetica","bold"),pe.setFontSize(13),pe.text("CIRCOLAZIONE MONETA COMPLEMENTARE",at,Ne),Ne+=12,pe.setFont("helvetica","normal"),pe.setFontSize(11),ot.forEach(It=>{Ne>270&&(pe.addPage(),Ne=20),!It.nome.startsWith(" -")?(pe.setFont("helvetica","bold"),Ne+=3):pe.setFont("helvetica","normal"),pe.text(`${It.nome}:`,at+5,Ne),pe.text(`${It.valore} NEU`,190,Ne,{align:"right"}),Ne+=8}),Ne+=10,pe.setFont("helvetica","bold"),pe.text("UTILIZZO NEU PER CATEGORIA",at,Ne),Ne+=10,pe.setFont("helvetica","normal"),Nt.forEach(It=>{pe.text(`- ${It.nome}:`,at+5,Ne),pe.text(`${It.valore} NEU`,190,Ne,{align:"right"}),Ne+=7}),bt(pe),pe.save(`riepilogo_neu_${l}.pdf`)},ct=async()=>{const pe=new Gt("p","mm","a4");let Ne=xe(pe,"Report Coworking",`Anno Solare ${l}`,[5,60,94]);const at=20;pe.setFont("helvetica","bold"),pe.setFontSize(13),pe.text("STATISTICHE COMMUNITY",at,Ne),Ne+=12,pe.setFont("helvetica","normal"),pe.setFontSize(11),pe.text(` Persone attive nel periodo: ${Pe}`,at+5,Ne),Ne+=8,pe.text(` Et media della community: ${_t} anni`,at+5,Ne),Ne+=8,pe.text(` Ingressi totali registrati: ${k.length}`,at+5,Ne),Ne+=8,pe.text(` Abbonamenti attivi: ${B.length}`,at+5,Ne),Ne+=15,pe.setFont("helvetica","bold"),pe.text("DETTAGLIO SERVIZI E VENDITE",at,Ne),Ne+=10,pe.setFont("helvetica","normal"),Nn.length>0?Nn.forEach(It=>{Ne>270&&(pe.addPage(),Ne=20),pe.text(`- ${It.nome}:`,at+5,Ne),pe.text(`${It.count} unit`,190,Ne,{align:"right"}),Ne+=7}):pe.text("Nessuna vendita registrata nel periodo selezionato.",at+5,Ne),bt(pe),pe.save(`riepilogo_coworking_${l}.pdf`)};return o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"bg-[#053c5e] text-white p-8",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold",children:"Riepilogo Annuale"}),o.jsx("p",{className:"text-lg opacity-90 mt-2",children:"Dati e statistiche dell'associazione"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[o.jsxs("div",{className:"bg-white/10 p-4 rounded border border-white/20 w-full sm:w-auto",children:[o.jsx("label",{className:"text-white mb-2 block text-xs uppercase font-bold px-1",children:"Filtro Volontariato"}),o.jsxs(an,{value:p,onValueChange:g,children:[o.jsx(tn,{className:"w-full sm:w-[180px] bg-white text-slate-800",children:o.jsx(on,{placeholder:"Anno Associativo"})}),o.jsx(nn,{children:s.map(pe=>o.jsxs(Ze,{value:`${pe}/${(pe+1).toString().slice(-2)}`,children:["Anno ",pe,"/",(pe+1).toString().slice(-2)]},pe))})]})]}),o.jsxs("div",{className:"bg-white/10 p-4 rounded border border-white/20 w-full sm:w-auto",children:[o.jsx("label",{className:"text-white mb-2 block text-xs uppercase font-bold px-1",children:"Filtro NEU/Coworking"}),o.jsxs(an,{value:l.toString(),onValueChange:pe=>c(parseInt(pe)),children:[o.jsx(tn,{className:"w-full sm:w-[180px] bg-white text-slate-800",children:o.jsx(on,{placeholder:"Anno Solare"})}),o.jsx(nn,{children:i.map(pe=>o.jsxs(Ze,{value:pe.toString(),children:["Anno ",pe]},pe))})]})]})]})]})}),o.jsxs("div",{className:"space-y-6 pt-10 border-t",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(vo,{className:"w-8 h-8 text-[#1f7a8c]"}),o.jsxs("h2",{className:"text-3xl font-bold text-[#053c5e]",children:["Volontariato ",p]})]}),o.jsxs(Oe,{onClick:Et,variant:"outline",className:"border-[#1f7a8c] text-[#1f7a8c] hover:bg-[#1f7a8c] hover:text-white w-full sm:w-auto",children:[o.jsx(po,{className:"w-4 h-4 mr-2"}),"Scarica Report PDF"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(yt,{className:"bg-white border-l-4 border-l-[#1f7a8c]",children:o.jsxs(wt,{className:"pt-6",children:[o.jsx("div",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Ore Volontariato"}),o.jsxs("div",{className:"mt-2 flex items-baseline gap-2",children:[o.jsx("span",{className:"text-4xl font-bold text-slate-900",children:Math.round(Y*10)/10}),o.jsx("span",{className:"text-slate-400 font-medium",children:"ore"})]}),o.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["In ",ne," persone diverse"]})]})}),o.jsx(yt,{className:"bg-white border-l-4 border-l-[#053c5e]",children:o.jsxs(wt,{className:"pt-6",children:[o.jsx("div",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Ore Hosting"}),o.jsxs("div",{className:"mt-2 flex items-baseline gap-2",children:[o.jsx("span",{className:"text-4xl font-bold text-slate-900",children:Math.round(X*10)/10}),o.jsx("span",{className:"text-slate-400 font-medium",children:"ore"})]}),o.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Da ",Q," host attivi"]})]})}),o.jsx(yt,{className:"md:col-span-2 bg-slate-50 border-dashed",children:o.jsx(wt,{className:"pt-6 flex flex-col justify-center h-full",children:o.jsx("p",{className:"text-slate-600 text-sm italic",children:'"Il volontariato  il cuore pulsante di neu [ni]. Ogni ora dedicata contribuisce a far crescere la nostra comunit e a sostenere i nostri progetti condivisi."'})})})]}),o.jsx("div",{className:"w-full",children:o.jsxs(yt,{className:"w-full",children:[o.jsx(Jt,{children:o.jsxs(Zt,{className:"text-lg flex items-center gap-2",children:[o.jsx(w4,{className:"w-5 h-5 text-[#1f7a8c]"}),"Distribuzione per Ambito"]})}),o.jsx(wt,{children:J.length>0?o.jsxs("div",{className:"space-y-8",children:[o.jsx(iy,{width:"100%",height:Math.max(400,J.length*40),children:o.jsxs(my,{data:J,layout:"vertical",margin:{left:x?10:160,right:20,top:10,bottom:10},children:[o.jsx(Pg,{strokeDasharray:"3 3",horizontal:!1}),o.jsx(Mf,{type:"number",hide:!0}),o.jsx(zf,{dataKey:"nome",type:"category",width:x?100:200,tick:{fontSize:x?9:10,fontWeight:600,fill:"#475569"},interval:0}),o.jsx($o,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},formatter:pe=>[`${pe} ore`,"Totale"]}),o.jsx(Wl,{dataKey:"ore",fill:"#1f7a8c",radius:[0,4,4,0],barSize:x?25:40})]})}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:J.map((pe,Ne)=>{const at=Y>0?Math.round(pe.ore/Y*100):0;return o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-slate-50 border border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx("div",{className:"w-3 h-3 rounded-full shrink-0 shadow-inner",style:{backgroundColor:Ot[Ne%Ot.length]}}),o.jsx("span",{className:"text-xs font-bold text-slate-700 truncate",title:pe.nome,children:pe.nome})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-lg font-black text-[#053c5e]",children:[pe.ore,"h"]}),o.jsxs("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-tighter",children:[at,"% del totale"]})]})]},pe.nome)})})]}):o.jsx("div",{className:"py-20 text-center text-slate-400 italic",children:"Nessuna dichiarazione trovata per questo periodo"})})]})})]}),o.jsxs("div",{className:"space-y-6 pt-10 border-t",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Yl,{className:"w-8 h-8 text-[#db222a]"}),o.jsxs("h2",{className:"text-3xl font-bold text-[#053c5e]",children:["Sistema NEU ",l]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(yt,{className:"border-l-4 border-l-[#053c5e]",children:o.jsxs(wt,{className:"pt-6",children:[o.jsx("div",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"NEU Immessi"}),o.jsx("div",{className:"text-3xl font-bold text-[#053c5e] mt-2",children:Math.round(le*10)/10}),o.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-1 mt-2 text-[8px] font-bold text-slate-400 uppercase leading-tight",children:[o.jsxs("span",{className:"bg-slate-100 px-1 rounded",children:["Mattina: ",Math.round(se*2.5)]}),o.jsxs("span",{className:"bg-slate-100 px-1 rounded",children:["Sera: ",Math.round(fe*4)]}),o.jsxs("span",{className:"bg-slate-100 px-1 rounded",children:["Weekend: ",Math.round(de*6)]}),o.jsxs("span",{className:"bg-slate-100 px-1 rounded",children:["Volont.: ",Math.round(_e)]}),o.jsxs("span",{className:"bg-slate-100 px-1 rounded",children:["Compiti: ",Math.round($e)]}),o.jsxs("span",{className:"bg-slate-100 px-1 rounded",children:["Voti: ",Math.round(He)]})]})]})}),o.jsx(yt,{className:"border-l-4 border-l-[#1f7a8c]",children:o.jsxs(wt,{className:"pt-6",children:[o.jsx("div",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"NEU Scambiati"}),o.jsx("div",{className:"text-3xl font-bold text-[#1f7a8c] mt-2",children:Math.round(pt*10)/10}),o.jsx("div",{className:"text-[10px] text-slate-400 mt-1",children:"Volume totale scambi tra soci/associazione"})]})}),o.jsx(yt,{className:"border-l-4 border-l-red-500",children:o.jsxs(wt,{className:"pt-6",children:[o.jsx("div",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"NEU Scaduti"}),o.jsx("div",{className:"text-3xl font-bold text-red-600 mt-2",children:Math.round(xt*10)/10}),o.jsxs("div",{className:"text-[10px] text-slate-400 mt-1",children:["Valore non speso al 31/12/",l]})]})})]}),o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsx(Zt,{children:"Dettaglio Utilizzo NEU (Macro Categorie)"})}),o.jsx(wt,{children:Nt.length>0?o.jsx(iy,{width:"100%",height:Math.max(300,Nt.length*40+50),children:o.jsxs(my,{data:Nt,layout:"vertical",margin:{left:x?10:20,right:30,top:10,bottom:10},children:[o.jsx(Pg,{strokeDasharray:"3 3",horizontal:!1}),o.jsx(Mf,{type:"number"}),o.jsx(zf,{dataKey:"nome",type:"category",width:x?100:150,tick:{fontSize:x?10:11}}),o.jsx($o,{formatter:pe=>[pe,"NEU"]}),o.jsx(Wl,{dataKey:"valore",fill:"#db222a",radius:[0,4,4,0],barSize:25})]})}):o.jsx("p",{className:"text-center text-slate-500 py-8",children:"Nessun utilizzo (scambio) registrato quest'anno."})})]})]}),o.jsxs("div",{className:"space-y-6 pt-10 border-t",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(yo,{className:"w-8 h-8 text-[#db222a]"}),o.jsxs("h2",{className:"text-3xl font-bold text-[#053c5e]",children:["Coworking ",l]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[o.jsx(yt,{className:"border-t-4 border-t-[#053c5e]",children:o.jsxs(wt,{className:"pt-6",children:[o.jsx("div",{className:"text-xs uppercase font-bold text-slate-400",children:"Persone"}),o.jsx("div",{className:"text-3xl font-bold text-[#053c5e]",children:Pe})]})}),o.jsx(yt,{className:"border-t-4 border-t-[#db222a]",children:o.jsxs(wt,{className:"pt-6",children:[o.jsx("div",{className:"text-xs uppercase font-bold text-slate-400",children:"Et Media"}),o.jsx("div",{className:"text-3xl font-bold text-[#db222a]",children:_t}),o.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Anni"})]})}),o.jsx(yt,{className:"border-t-4 border-t-[#1f7a8c]",children:o.jsxs(wt,{className:"pt-6",children:[o.jsx("div",{className:"text-xs uppercase font-bold text-slate-400",children:"Femmine"}),o.jsxs("div",{className:"text-3xl font-bold text-[#1f7a8c]",children:[_n,"%"]})]})}),o.jsx(yt,{className:"border-t-4 border-t-[#053c5e]",children:o.jsxs(wt,{className:"pt-6",children:[o.jsx("div",{className:"text-xs uppercase font-bold text-slate-400",children:"Maschi"}),o.jsxs("div",{className:"text-3xl font-bold text-[#053c5e]",children:[ft,"%"]})]})}),o.jsx(yt,{className:"border-t-4 border-t-slate-300",children:o.jsxs(wt,{className:"pt-6",children:[o.jsx("div",{className:"text-xs uppercase font-bold text-slate-400",children:"Altro"}),o.jsxs("div",{className:"text-3xl font-bold text-slate-500",children:[pn,"%"]})]})})]}),o.jsx("div",{className:"pt-6",children:o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsx(Zt,{children:"Servizi Venduti - Quantit"})}),o.jsx(wt,{children:Nn.length>0?o.jsx("div",{className:x?"h-[500px]":"h-[400px]",children:o.jsx(iy,{width:"100%",height:"100%",children:o.jsxs(my,{data:Nn,layout:"vertical",margin:{left:x?10:50,right:30,top:20,bottom:20},children:[o.jsx(Pg,{strokeDasharray:"3 3",horizontal:!1}),o.jsx(Mf,{type:"number"}),o.jsx(zf,{dataKey:"nome",type:"category",width:x?120:200,tick:{fontSize:x?10:12}}),o.jsx($o,{formatter:pe=>[pe,"Quantit"]}),o.jsx(Qf,{}),o.jsx(Wl,{dataKey:"count",fill:"#053c5e",name:"Quantit Venduta",radius:[0,4,4,0]})]})})}):o.jsx("p",{className:"text-center text-slate-500 py-8",children:"Nessuna vendita registrata in questo anno."})})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs(yt,{className:"lg:col-span-2",children:[o.jsx(Jt,{className:"flex flex-row items-center justify-between",children:o.jsxs(Zt,{className:"flex items-center gap-2",children:[o.jsx(FI,{className:"w-5 h-5 text-[#1f7a8c]"}),"Mappa Coworkers"]})}),o.jsx(wt,{children:o.jsx("div",{className:"w-full aspect-video bg-blue-50 rounded-lg overflow-hidden shadow-inner flex items-center justify-center",children:o.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",src:"https://www.google.com/maps/d/u/1/embed?mid=1hZEj0wy8KAWkA-N93w1BXVbVMvEwOM4&ehbc=2E312F",className:"rounded-lg"})})})]}),o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsx(Zt,{children:"Provenienza (Top 10)"})}),o.jsx(wt,{children:o.jsx(iy,{width:"100%",height:300,children:o.jsxs(my,{data:ut,layout:"vertical",margin:{left:x?10:20,right:30,top:10,bottom:10},children:[o.jsx(Pg,{strokeDasharray:"3 3",horizontal:!1}),o.jsx(Mf,{type:"number"}),o.jsx(zf,{dataKey:"nome",type:"category",width:x?80:100,fontSize:x?10:12}),o.jsx($o,{}),o.jsx(Wl,{dataKey:"count",fill:"#1f7a8c",radius:[0,4,4,0]})]})})})]})]})]}),o.jsxs("div",{className:"pt-10 border-t",children:[o.jsx("h2",{className:"text-2xl font-bold text-[#053c5e] mb-6",children:"Esportazione Report"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs(yt,{className:"border-l-4 border-l-[#1f7a8c]",children:[o.jsx(Jt,{children:o.jsx(Zt,{className:"text-sm uppercase tracking-wider text-slate-500",children:"Volontariato"})}),o.jsxs(wt,{children:[o.jsxs("p",{className:"text-xs text-slate-400 mb-4 font-mono",children:["Periodo Associativo ",p]}),o.jsxs(Oe,{onClick:Et,className:"w-full bg-[#1f7a8c] hover:bg-[#053c5e]",children:[o.jsx(po,{className:"w-4 h-4 mr-2"}),"Scarica PDF"]})]})]}),o.jsxs(yt,{className:"border-l-4 border-l-[#db222a]",children:[o.jsx(Jt,{children:o.jsx(Zt,{className:"text-sm uppercase tracking-wider text-slate-500",children:"Sistema NEU"})}),o.jsxs(wt,{children:[o.jsxs("p",{className:"text-xs text-slate-400 mb-4 font-mono",children:["Anno Solare ",l]}),o.jsxs(Oe,{onClick:At,className:"w-full bg-[#db222a] hover:bg-[#9d171d]",children:[o.jsx(po,{className:"w-4 h-4 mr-2"}),"Scarica PDF"]})]})]}),o.jsxs(yt,{className:"border-l-4 border-l-[#053c5e]",children:[o.jsx(Jt,{children:o.jsx(Zt,{className:"text-sm uppercase tracking-wider text-slate-500",children:"Coworking"})}),o.jsxs(wt,{children:[o.jsxs("p",{className:"text-xs text-slate-400 mb-4 font-mono",children:["Anno Solare ",l]}),o.jsxs(Oe,{onClick:ct,className:"w-full bg-[#053c5e] hover:bg-black",children:[o.jsx(po,{className:"w-4 h-4 mr-2"}),"Scarica PDF"]})]})]})]})]}),o.jsxs("div",{className:"text-center py-10 opacity-50 text-xs",children:["neu [ni] spazio al lavoro APS  Dati aggiornati al ",new Date().toLocaleDateString("it-IT")]})]})}const lB=j.forwardRef(({className:e,...t},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:Lt("w-full caption-bottom text-sm",e),...t})}));lB.displayName="Table";const cB=j.forwardRef(({className:e,...t},n)=>o.jsx("thead",{ref:n,className:Lt("[&_tr]:border-b",e),...t}));cB.displayName="TableHeader";const uB=j.forwardRef(({className:e,...t},n)=>o.jsx("tbody",{ref:n,className:Lt("[&_tr:last-child]:border-0",e),...t}));uB.displayName="TableBody";const pbe=j.forwardRef(({className:e,...t},n)=>o.jsx("tfoot",{ref:n,className:Lt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));pbe.displayName="TableFooter";const Eg=j.forwardRef(({className:e,...t},n)=>o.jsx("tr",{ref:n,className:Lt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Eg.displayName="TableRow";const kg=j.forwardRef(({className:e,...t},n)=>o.jsx("th",{ref:n,className:Lt("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));kg.displayName="TableHead";const kf=j.forwardRef(({className:e,...t},n)=>o.jsx("td",{ref:n,className:Lt("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));kf.displayName="TableCell";const mbe=j.forwardRef(({className:e,...t},n)=>o.jsx("caption",{ref:n,className:Lt("mt-4 text-sm text-muted-foreground",e),...t}));mbe.displayName="TableCaption";function dB(){const[e,t]=j.useState(""),[n,r]=j.useState(""),{data:i=[],isLoading:a}=Wt({queryKey:["admin_soci_summary"],queryFn:async()=>(await we.entities.User.list("-saldo_neu")).filter(p=>p.role==="socio"||p.role==="admin"||p.role==="super_admin"||p.roles&&p.roles.includes("socio"))}),{data:s=[]}=Wt({queryKey:["admin_dichiarazioni_export"],queryFn:()=>we.entities.DichiarazioneVolontariato.list({include:"all",sort:"-data_dichiarazione"})}),l=j.useMemo(()=>{const h=new Set;return s.forEach(p=>{if(p.anno_associativo)h.add(p.anno_associativo);else{const g=new Date(p.data_dichiarazione||p.createdAt),m=g.getFullYear(),x=g.getMonth()>=9?`${m}/${(m+1).toString().slice(-2)}`:`${m-1}/${m.toString().slice(-2)}`;h.add(x)}}),Array.from(h).sort().reverse()},[s]),c=j.useMemo(()=>i.filter(h=>{var p,g;return((p=h.full_name)==null?void 0:p.toLowerCase().includes(e.toLowerCase()))||((g=h.email)==null?void 0:g.toLowerCase().includes(e.toLowerCase()))}),[i,e]),d=()=>{if(!n){We.error("Seleziona un anno associativo per il report");return}const h=new Gt("p","mm","a4"),p=20;let g=20;h.setFillColor(31,122,140),h.rect(0,0,210,40,"F"),h.setTextColor(255,255,255),h.setFontSize(22),h.setFont("helvetica","bold"),h.text("neu [ni]",p,18),h.setFontSize(14),h.text(`RIEPILOGO VOLONTARIATO - ANNO ${n}`,p,30),h.setTextColor(0,0,0),h.setFontSize(10),g=55;const m={};s.forEach(y=>{var A;let w=y.anno_associativo;if(!w){const C=new Date(y.data_dichiarazione||y.createdAt),P=C.getFullYear();w=C.getMonth()>=9?`${P}/${(P+1).toString().slice(-2)}`:`${P-1}/${P.toString().slice(-2)}`}if(w===n&&y.confermato){const C=y.user_id,P=((A=y.User)==null?void 0:A.full_name)||y.utente_nome||"Utente Sconosciuto";m[C]||(m[C]={name:P,ore:0,neu:0}),m[C].ore+=y.ore||0,m[C].neu+=y.neu_guadagnati||0}});const b=Object.values(m).sort((y,w)=>w.ore-y.ore);b.length===0?h.text("Nessun dato trovato per l'anno selezionato.",p,g):(h.setFont("helvetica","bold"),h.text("SOCIO/A",p,g),h.text("ORE TOTALI",130,g),h.text("NEU RICEVUTI",170,g),g+=4,h.line(p,g,190,g),g+=8,h.setFont("helvetica","normal"),b.forEach(y=>{g>270&&(h.addPage(),g=20),h.text(y.name,p,g),h.text(`${y.ore.toFixed(1)} h`,130,g),h.text(`${y.neu.toFixed(0)} NEU`,170,g),g+=8}));const x=h.internal.getNumberOfPages();for(let y=1;y<=x;y++)h.setPage(y),h.setFontSize(8),h.setTextColor(150,150,150),h.text(`Generato il ${new Date().toLocaleDateString()} - Pagina ${y} di ${x}`,105,290,{align:"center"});h.save(`Riepilogo_Volontariato_${n.replace("/","-")}.pdf`)};return o.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto p-4 md:p-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 bg-white p-6 rounded-xl shadow-sm border",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"bg-[#053c5e] p-3 rounded-lg text-white",children:o.jsx(yo,{className:"w-8 h-8"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Riepilogo Soci"}),o.jsx("p",{className:"text-slate-500",children:"Saldo NEU e Volontariato Annuale"})]})]}),o.jsxs("div",{className:"relative w-full md:w-96",children:[o.jsx(vu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),o.jsx(tt,{placeholder:"Cerca socio per nome o email...",className:"pl-10",value:e,onChange:h=>t(h.target.value)})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(yt,{className:"bg-[#edf6f9] border-none shadow-none",children:o.jsxs(wt,{className:"pt-6",children:[o.jsxs("div",{className:"flex items-center gap-2 text-slate-600 mb-1",children:[o.jsx(yo,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-bold uppercase",children:"Soci Attivi"})]}),o.jsx("div",{className:"text-3xl font-bold",children:i.length})]})}),o.jsx(yt,{className:"bg-[#fff1f2] border-none shadow-none",children:o.jsxs(wt,{className:"pt-6",children:[o.jsxs("div",{className:"flex items-center gap-2 text-rose-600 mb-1",children:[o.jsx(th,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-bold uppercase",children:"NEU in Scadenza (Tot.)"})]}),o.jsx("div",{className:"text-3xl font-bold text-rose-700",children:i.reduce((h,p)=>h+(p.saldo_neu_scadenza||0),0).toFixed(0)})]})}),o.jsx(yt,{className:"bg-[#f0f9ff] border-none shadow-none",children:o.jsxs(wt,{className:"pt-6",children:[o.jsxs("div",{className:"flex items-center gap-2 text-blue-600 mb-1",children:[o.jsx(vo,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-bold uppercase",children:"Ore Volontariato Anno"})]}),o.jsxs("div",{className:"text-3xl font-bold text-blue-700",children:[i.reduce((h,p)=>h+(p.ore_volontariato_anno||0),0).toFixed(1)," h"]})]})})]}),o.jsx(yt,{className:"border-none shadow-md",children:o.jsx(wt,{className:"p-0",children:o.jsxs(lB,{children:[o.jsx(cB,{className:"bg-slate-50",children:o.jsxs(Eg,{children:[o.jsx(kg,{children:"Socio / Email"}),o.jsx(kg,{className:"text-right",children:"Saldo NEU"}),o.jsx(kg,{className:"text-right",children:"Scadenza"}),o.jsx(kg,{className:"text-right",children:"Ore Volontariato"})]})}),o.jsx(uB,{children:a?o.jsx(Eg,{children:o.jsx(kf,{colSpan:4,className:"text-center py-10 text-slate-400",children:"Caricamento soci in corso..."})}):c.length===0?o.jsx(Eg,{children:o.jsx(kf,{colSpan:4,className:"text-center py-10 text-slate-400",children:"Nessun socio trovato con i criteri di ricerca."})}):c.map(h=>{var p,g,m;return o.jsxs(Eg,{className:"hover:bg-slate-50 transition-colors",children:[o.jsxs(kf,{children:[o.jsx("div",{className:"font-semibold text-slate-900",children:h.full_name}),o.jsx("div",{className:"text-xs text-slate-500",children:h.email})]}),o.jsx(kf,{className:"text-right font-mono font-bold text-[#1f7a8c]",children:((p=h.saldo_neu)==null?void 0:p.toFixed(1))||"0.0"}),o.jsx(kf,{className:"text-right",children:o.jsx(kn,{variant:h.saldo_neu_scadenza>0?"destructive":"outline",className:"font-mono",children:((g=h.saldo_neu_scadenza)==null?void 0:g.toFixed(1))||"0.0"})}),o.jsx(kf,{className:"text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-1 font-semibold",children:[o.jsx(vo,{className:"w-3 h-3 text-slate-400"}),((m=h.ore_volontariato_anno)==null?void 0:m.toFixed(1))||"0.0"," h"]})})]},h.id)})})]})})}),o.jsxs(yt,{className:"bg-slate-900 text-white border-none shadow-xl overflow-hidden relative",children:[o.jsx("div",{className:"absolute right-0 top-0 w-32 h-32 bg-white/5 rounded-full -mr-16 -mt-16 blur-2xl"}),o.jsxs(Jt,{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(n1,{className:"w-5 h-5 text-blue-400"}),o.jsx(Zt,{className:"text-lg",children:"Export Report Volontariato"})]}),o.jsx(il,{className:"text-slate-400",children:"Genera un documento PDF con il dettaglio delle ore e dei NEU ricevuti per ogni socio nell'anno selezionato."})]}),o.jsx(wt,{children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-end gap-4",children:[o.jsxs("div",{className:"space-y-2 w-full sm:w-64",children:[o.jsx("label",{className:"text-xs font-bold uppercase text-slate-500",children:"Seleziona Anno Associativo"}),o.jsxs(an,{value:n,onValueChange:r,children:[o.jsx(tn,{className:"bg-slate-800 border-slate-700 text-white",children:o.jsx(on,{placeholder:"Scegli un anno..."})}),o.jsx(nn,{className:"bg-slate-800 text-white border-slate-700",children:l.map(h=>o.jsxs(Ze,{value:h,className:"hover:bg-slate-700 focus:bg-slate-700",children:["Anno ",h]},h))})]})]}),o.jsxs(Oe,{onClick:d,className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-500 text-white border-none h-10 px-6",children:[o.jsx(po,{className:"w-4 h-4 mr-2"}),"Scarica Report PDF"]})]})})]})]})}function fB(){const[e,t]=j.useState(!1),[n,r]=j.useState(null),[i,a]=j.useState(null),[s,l]=j.useState([]),[c,d]=j.useState("settimana"),h=Or(),[p,g]=j.useState({utente_email:"",data_inizio:"",ora_inizio:"",data_fine:"",ora_fine:"",tipo_giorno:"feriale_mattina",note:""});j.useEffect(()=>{m()},[]);const m=async()=>{const k=await we.entities.User.list(),B=await we.entities.ProfiloSocio.list(),U=k.filter(M=>(Array.isArray(M.roles)?M.roles:typeof M.roles=="string"?[M.roles]:[]).some(Q=>["socio","admin","super_admin"].includes(Q))||["socio","admin","super_admin"].includes(M.role)).map(M=>{const X=B.find(Q=>String(Q.user_id)===String(M.id));return{...M,full_name:(X==null?void 0:X.full_name)||M.full_name}});l(U)},{data:b=[],isLoading:x}=Wt({queryKey:["turni"],queryFn:()=>we.entities.TurnoHost.list("-data_inizio"),initialData:[]}),y={2024:["2024-01-01","2024-01-06","2024-04-01","2024-04-25","2024-05-01","2024-06-02","2024-08-15","2024-11-01","2024-12-08","2024-12-25","2024-12-26"],2025:["2025-01-01","2025-01-06","2025-04-20","2025-04-21","2025-04-25","2025-05-01","2025-06-02","2025-08-15","2025-11-01","2025-12-08","2025-12-25","2025-12-26"]},w=k=>{var M;const B=k.getFullYear(),U=k.toISOString().split("T")[0];return((M=y[B])==null?void 0:M.includes(U))||!1},A=(k,B)=>{const U=new Date(k),M=new Date(B);let X=0,Q=0,K=0,Y=new Date(U);for(;Y<M;){const Z=Y.getDay(),oe=Z===0||Z===6,se=w(Y),fe=Y.getHours(),de=Y.getMinutes(),be=fe+de/60,Ee=new Date(Y.getTime()+6e4),He=((Ee>M?M:Ee)-Y)/6e4/60;oe||se?K+=He:be>=9&&be<18.5?X+=He:be>=18.5&&be<20.5?Q+=He:K+=He,Y=Ee}const ne=X*2.5,H=Q*4,T=K*6,V=ne+H+T;return{oreTotali:X+Q+K,neuTotali:V}},C=vn({mutationFn:async k=>{const B=s.find(de=>de.email===k.utente_email),U=B==null?void 0:B.id,M=new Date(`${k.data_inizio}T${k.ora_inizio}:00`),X=new Date(`${k.data_fine}T${k.ora_fine}:00`),Q=M.toISOString(),K=X.toISOString(),{oreTotali:Y,neuTotali:ne}=A(Q,K),H=new Date(Q),T=H.getDay(),V=T===0||T===6,J=w(H),Z=H.getHours();let oe="feriale_mattina";J?oe="festivo":V?oe="weekend":Z>=14&&(oe="feriale_pomeriggio");const fe=(Array.isArray(B.roles)?B.roles:typeof B.roles=="string"?[B.roles]:[]).includes("associazione")||B.role==="associazione";if(n)await we.entities.TurnoHost.update(n.id,{utente_id:U,utente_nome:B.full_name,data_inizio:Q,data_fine:K,ore_lavorate:Math.round(Y*100)/100,neu_guadagnati:fe?0:Math.round(ne*100)/100,tariffa_neu_ora:fe?0:Math.round(ne/Y*100)/100,tipo_giorno:oe,note:k.note||""});else{const de=await we.entities.TurnoHost.create({utente_id:U,utente_nome:B.full_name,data_inizio:Q,data_fine:K,ore_lavorate:Math.round(Y*100)/100,neu_guadagnati:fe?0:Math.round(ne*100)/100,tariffa_neu_ora:fe?0:Math.round(ne/Y*100)/100,tipo_giorno:oe,stato:"completato",note:k.note||"",confermato:!0});fe||(await we.entities.TransazioneNEU.create({da_utente_id:null,a_utente_id:U,importo:Math.round(ne*100)/100,tipo:"turno_host",causale:`Turno host - ${Math.round(Y*100)/100}h`,data_transazione:Q,riferimento_turno_id:de.id}),await we.entities.User.recalc(U))}},onSuccess:()=>{h.invalidateQueries({queryKey:["turni"]}),h.invalidateQueries({queryKey:["auth_user"]}),t(!1),r(null),g({utente_email:"",data_inizio:"",ora_inizio:"",data_fine:"",ora_fine:"",tipo_giorno:"feriale_mattina",note:""})}}),P=vn({mutationFn:async k=>{await we.entities.TurnoHost.delete(k.id),k.utente_id&&await we.entities.User.recalc(k.utente_id)},onSuccess:()=>{h.invalidateQueries({queryKey:["turni"]}),h.invalidateQueries({queryKey:["auth_user"]}),a(null)}}),E=k=>{k.preventDefault(),C.mutate(p)},I=k=>{r(k);const B=new Date(k.data_inizio),U=new Date(k.data_fine),M=s.find(X=>String(X.id)===String(k.utente_id));g({utente_email:(M==null?void 0:M.email)||"",data_inizio:B.toISOString().split("T")[0],ora_inizio:B.toTimeString().slice(0,5),data_fine:U.toISOString().split("T")[0],ora_fine:U.toTimeString().slice(0,5),tipo_giorno:k.tipo_giorno,note:k.note||""}),t(!0)},z=()=>{r(null),g({utente_email:"",data_inizio:"",ora_inizio:"",data_fine:"",ora_fine:"",tipo_giorno:"feriale_mattina",note:""}),t(!0)};if(x)return o.jsx("div",{className:"text-center py-12",children:"Caricamento..."});const[O,F]=j.useState(null);j.useEffect(()=>{(async()=>{const B=await we.auth.me();F(B)})()},[]);const R=(Array.isArray(O==null?void 0:O.roles)?O.roles:typeof(O==null?void 0:O.roles)=="string"?[O.roles]:[]).includes("super_admin")||(O==null?void 0:O.role)==="super_admin";return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"bg-[#053c5e] text-white p-8",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold",children:"Turni Host"}),o.jsx("p",{className:"text-lg opacity-90 mt-2",children:"Gestisci i turni dei soci"})]}),o.jsxs(Oe,{className:"bg-[#1f7a8c] hover:bg-[#db222a] text-white w-full md:w-auto",onClick:z,children:[o.jsx(xs,{className:"w-4 h-4 mr-2"}),"Nuovo Turno"]})]})}),o.jsxs(ol,{defaultValue:"giorno",className:"w-full",children:[o.jsxs(Ss,{className:"h-auto grid w-full grid-cols-2 md:grid-cols-4 bg-[#bfdbf7]",children:[o.jsx(Pn,{value:"giorno",onClick:()=>d("giorno"),children:"Giorno"}),o.jsx(Pn,{value:"settimana",onClick:()=>d("settimana"),children:"Settimana"}),o.jsx(Pn,{value:"mese",onClick:()=>d("mese"),children:"Mese"}),o.jsxs(Pn,{value:"lista",children:[o.jsx(rV,{className:"w-4 h-4 mr-2"}),"Lista"]})]}),o.jsx(En,{value:"lista",className:"mt-6",children:o.jsxs("div",{className:"grid gap-4",children:[b.map(k=>o.jsx("div",{className:"bg-white p-6 border-l-4 border-[#1f7a8c]",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"space-y-3 flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cu,{className:"w-5 h-5 text-[#053c5e]"}),o.jsx("span",{className:"font-bold text-xl text-[#053c5e]",children:k.utente_nome})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-[#053c5e]",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(na,{className:"w-4 h-4"}),new Date(k.data_inizio).toLocaleDateString("it-IT")]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(vo,{className:"w-4 h-4"}),new Date(k.data_inizio).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})," -",new Date(k.data_fine).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})]}),o.jsxs("span",{className:"font-semibold",children:[k.ore_lavorate,"h"]})]}),k.note&&o.jsx("p",{className:"text-sm text-[#053c5e] mt-2",children:k.note})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsxs("div",{className:"text-right bg-[#db222a] text-white p-3",children:[o.jsxs("div",{className:"flex items-center gap-1 font-bold text-2xl",children:[o.jsx(Yl,{className:"w-6 h-6"}),k.neu_guadagnati]}),o.jsx("div",{className:"text-xs opacity-90 mt-1",children:"NEU"})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(Oe,{size:"icon",className:"bg-[#1f7a8c] hover:bg-[#053c5e] text-white",onClick:()=>I(k),children:o.jsx(Cs,{className:"w-4 h-4"})}),o.jsx(Oe,{size:"icon",className:"bg-[#db222a] hover:bg-[#053c5e] text-white",onClick:()=>a(k),children:o.jsx(Vo,{className:"w-4 h-4"})})]})]})]})},k.id)),b.length===0&&o.jsx("div",{className:"bg-[#bfdbf7] p-12 text-center text-[#053c5e]",children:'Nessun turno registrato. Usa il pulsante "Nuovo Turno" per aggiungerne uno.'})]})}),o.jsx(En,{value:"giorno",className:"mt-6",children:o.jsx(Dg,{turni:b,onSelectTurno:I,vista:"giorno"})}),o.jsx(En,{value:"settimana",className:"mt-6",children:o.jsx(Dg,{turni:b,onSelectTurno:I,vista:"settimana"})}),o.jsx(En,{value:"mese",className:"mt-6",children:o.jsx(Dg,{turni:b,onSelectTurno:I,vista:"mese"})})]}),o.jsx(Er,{open:e,onOpenChange:k=>{t(k),k||r(null)},children:o.jsxs(wr,{className:"max-w-2xl",children:[o.jsx(_r,{children:o.jsx(jr,{children:n?"Modifica Turno Host":"Aggiungi Turno Host"})}),o.jsxs("form",{onSubmit:E,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Socio"}),o.jsxs(an,{value:p.utente_email,onValueChange:k=>g({...p,utente_email:k}),required:!0,children:[o.jsx(tn,{children:o.jsx(on,{placeholder:"Seleziona socio"})}),o.jsx(nn,{children:s.map(k=>o.jsxs(Ze,{value:k.email,children:[k.full_name," (",k.email,")"]},k.email))})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Data Turno"}),o.jsx(tt,{type:"date",value:p.data_inizio,onClick:k=>{var B,U;return(U=(B=k.target).showPicker)==null?void 0:U.call(B)},onChange:k=>g({...p,data_inizio:k.target.value,data_fine:k.target.value}),required:!0})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Ora Inizio"}),o.jsx(tt,{type:"time",value:p.ora_inizio,onChange:k=>g({...p,ora_inizio:k.target.value}),required:!0})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Ora Fine"}),o.jsx(tt,{type:"time",value:p.ora_fine,onChange:k=>g({...p,ora_fine:k.target.value}),required:!0})]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Note"}),o.jsx(ta,{value:p.note,onChange:k=>g({...p,note:k.target.value}),placeholder:"Note aggiuntive..."})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx(Oe,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annulla"}),o.jsx(Oe,{type:"submit",className:"bg-[#1F4A5C] hover:bg-[#1F4A5C]/90",disabled:C.isPending,children:C.isPending?n?"Salvataggio...":"Creazione...":n?"Salva Modifiche":"Crea Turno"})]})]})]})}),o.jsx(bh,{open:!!i,onOpenChange:()=>a(null),children:o.jsxs(Id,{children:[o.jsxs(Rd,{children:[o.jsx(zd,{children:"Conferma eliminazione"}),o.jsx(Fd,{children:"Sei sicuro di voler eliminare questo turno? L'operazione rimuover anche i NEU guadagnati dal saldo dell'utente."})]}),o.jsxs(Md,{children:[o.jsx(qd,{children:"Annulla"}),o.jsx($d,{className:"bg-red-600 hover:bg-red-700",onClick:()=>P.mutate(i),children:"Elimina"})]})]})}),R&&o.jsx(JF,{turni:b})]})}function hB(e,t,n,r,i){r=r||{};var a=1.15,s=i.internal.scaleFactor,l=i.internal.getFontSize()/s,c=i.getLineHeightFactor?i.getLineHeightFactor():a,d=l*c,h=/\r\n|\r|\n/g,p="",g=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(p=typeof e=="string"?e.split(h):e,g=p.length||1),n+=l*(2-a),r.valign==="middle"?n-=g/2*d:r.valign==="bottom"&&(n-=g*d),r.halign==="center"||r.halign==="right"){var m=l;if(r.halign==="center"&&(m*=.5),p&&g>=1){for(var b=0;b<p.length;b++)i.text(p[b],t-i.getStringUnitWidth(p[b])*m,n),n+=d;return i}t-=i.getStringUnitWidth(e)*m}return r.halign==="justify"?i.text(e,t,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(e,t,n),i}var YL={},Dp=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=t:YL=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,n){var r,i,a;n===void 0&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),l=s.fontStyle,c=s.fontName;if(t.font&&(c=t.font),t.fontStyle){l=t.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),l=d[0])}if(this.jsPDFDocument.setFont(c,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var h=e.unifyColor(t.fillColor);h&&(r=this.jsPDFDocument).setFillColor.apply(r,h),h=e.unifyColor(t.textColor),h&&(i=this.jsPDFDocument).setTextColor.apply(i,h),h=e.unifyColor(t.lineColor),h&&(a=this.jsPDFDocument).setDrawColor.apply(a,h),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,n,r){return this.jsPDFDocument.splitTextToSize(t,n,r)},e.prototype.rect=function(t,n,r,i,a){return this.jsPDFDocument.rect(t,n,r,i,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return YL||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),a4=function(e,t){return a4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},a4(e,t)};function pB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a4(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var mB=(function(e){pB(t,e);function t(n){var r=e.call(this)||this;return r._element=n,r}return t})(Array);function gbe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function vbe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Gx(e,t,n){n.applyStyles(t,!0);var r=Array.isArray(e)?e:[e],i=r.map(function(a){return n.getTextWidth(a)}).reduce(function(a,s){return Math.max(a,s)},0);return i}function gB(e,t,n,r){var i=t.settings.tableLineWidth,a=t.settings.tableLineColor;e.applyStyles({lineWidth:i,lineColor:a});var s=vB(i,!1);s&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),r.y-n.y,s)}function vB(e,t){var n=e>0,r=t||t===0;return n&&r?"DF":n?"S":r?"F":null}function lb(e,t){var n,r,i,a;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(n=e.left)!==null&&n!==void 0?n:t,top:(r=e.top)!==null&&r!==void 0?r:t,right:(i=e.right)!==null&&i!==void 0?i:t,bottom:(a=e.bottom)!==null&&a!==void 0?a:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function yB(e,t){var n=lb(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function ybe(e,t,n,r,i){var a={},s=1.3333333333333333,l=Bj(t,function(C){return i.getComputedStyle(C).backgroundColor});l!=null&&(a.fillColor=l);var c=Bj(t,function(C){return i.getComputedStyle(C).color});c!=null&&(a.textColor=c);var d=bbe(r,n);d&&(a.cellPadding=d);var h="borderTopColor",p=s*n,g=r.borderTopWidth;if(r.borderBottomWidth===g&&r.borderRightWidth===g&&r.borderLeftWidth===g){var m=(parseFloat(g)||0)/p;m&&(a.lineWidth=m)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/p,right:(parseFloat(r.borderRightWidth)||0)/p,bottom:(parseFloat(r.borderBottomWidth)||0)/p,left:(parseFloat(r.borderLeftWidth)||0)/p},a.lineWidth.top||(a.lineWidth.right?h="borderRightColor":a.lineWidth.bottom?h="borderBottomColor":a.lineWidth.left&&(h="borderLeftColor"));var b=Bj(t,function(C){return i.getComputedStyle(C)[h]});b!=null&&(a.lineColor=b);var x=["left","right","center","justify"];x.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),x=["middle","bottom","top"],x.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var y=parseInt(r.fontSize||"");isNaN(y)||(a.fontSize=y/s);var w=xbe(r);w&&(a.fontStyle=w);var A=(r.fontFamily||"").toLowerCase();return e.indexOf(A)!==-1&&(a.font=A),a}function xbe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function Bj(e,t){var n=xB(e,t);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function xB(e,t){var n=t(e);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?e.parentElement==null?null:xB(e.parentElement,t):n}function bbe(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],r=96/(72/t),i=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,a=n.map(function(l){return parseInt(l||"0")/r}),s=lb(a,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function bB(e,t,n,r,i){var a,s;r===void 0&&(r=!1),i===void 0&&(i=!1);var l;typeof t=="string"?l=n.document.querySelector(t):l=t;var c=Object.keys(e.getFontList()),d=e.scaleFactor(),h=[],p=[],g=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:h,body:p,foot:g};for(var m=0;m<l.rows.length;m++){var b=l.rows[m],x=(s=(a=b==null?void 0:b.parentElement)===null||a===void 0?void 0:a.tagName)===null||s===void 0?void 0:s.toLowerCase(),y=wbe(c,d,n,b,r,i);y&&(x==="thead"?h.push(y):x==="tfoot"?g.push(y):p.push(y))}return{head:h,body:p,foot:g}}function wbe(e,t,n,r,i,a){for(var s=new mB(r),l=0;l<r.cells.length;l++){var c=r.cells[l],d=n.getComputedStyle(c);if(i||d.display!=="none"){var h=void 0;a&&(h=ybe(e,c,t,d,n)),s.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:h,_element:c,content:_be(c)})}}var p=n.getComputedStyle(r);if(s.length>0&&(i||p.display!=="none"))return s}function _be(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),t.innerText||t.textContent||""}function jbe(e,t,n){for(var r=0,i=[e,t,n];r<i.length;r++){var a=i[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function eu(e,t,n,r,i){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),s=1;s<arguments.length;s++){var l=arguments[s];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(a[c]=l[c])}return a}function wB(e,t){var n=new Dp(e),r=n.getDocumentOptions(),i=n.getGlobalOptions();jbe(i,r,t);var a=eu({},i,r,t),s;typeof window<"u"&&(s=window);var l=Sbe(i,r,t),c=Nbe(i,r,t),d=Abe(n,a),h=Pbe(n,a,s);return{id:t.tableId,content:h,hooks:c,styles:l,settings:d}}function Sbe(e,t,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var d=e[c],h=t[c],p=n[c];r.columnStyles=eu({},d,h,p)}else{var g=[e,t,n],m=g.map(function(b){return b[c]||{}});r[c]=eu({},m[0],m[1],m[2])}},a=0,s=Object.keys(r);a<s.length;a++){var l=s[a];i(l)}return r}function Nbe(e,t,n){for(var r=[e,t,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,s=r;a<s.length;a++){var l=s[a];l.didParseCell&&i.didParseCell.push(l.didParseCell),l.willDrawCell&&i.willDrawCell.push(l.willDrawCell),l.didDrawCell&&i.didDrawCell.push(l.didDrawCell),l.willDrawPage&&i.willDrawPage.push(l.willDrawPage),l.didDrawPage&&i.didDrawPage.push(l.didDrawPage)}return i}function Abe(e,t){var n,r,i,a,s,l,c,d,h,p,g,m,b=lb(t.margin,40/e.scaleFactor()),x=(n=Cbe(e,t.startY))!==null&&n!==void 0?n:b.top,y;t.showFoot===!0?y="everyPage":t.showFoot===!1?y="never":y=(r=t.showFoot)!==null&&r!==void 0?r:"everyPage";var w;t.showHead===!0?w="everyPage":t.showHead===!1?w="never":w=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var A=(a=t.useCss)!==null&&a!==void 0?a:!1,C=t.theme||(A?"plain":"striped"),P=!!t.horizontalPageBreak,E=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:A,theme:C,startY:x,margin:b,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(h=t.tableWidth)!==null&&h!==void 0?h:"auto",showHead:w,showFoot:y,tableLineWidth:(p=t.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(g=t.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:P,horizontalPageBreakRepeat:E,horizontalPageBreakBehaviour:(m=t.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function Cbe(e,t){var n=e.getLastAutoTable(),r=e.scaleFactor(),i=e.pageNumber(),a=!1;if(n&&n.startPageNumber){var s=n.startPageNumber+n.pageNumber-1;a=s===i}return typeof t=="number"?t:(t==null||t===!1)&&a&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function Pbe(e,t,n){var r=t.head||[],i=t.body||[],a=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(n){var l=bB(e,t.html,n,s,t.useCss)||{};r=l.head||r,i=l.body||r,a=l.foot||r}else console.error("Cannot parse html in non browser environment")}var c=t.columns||Ebe(r,i,a);return{columns:c,head:r,body:i,foot:a}}function Ebe(e,t,n){var r=e[0]||t[0]||n[0]||[],i=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var s=1,l;Array.isArray(r)?l=r[parseInt(a)]:l=r[a],typeof l=="object"&&!Array.isArray(l)&&(s=(l==null?void 0:l.colSpan)||1);for(var c=0;c<s;c++){var d=void 0;Array.isArray(r)?d=i.length:d=a+(c>0?"_".concat(c):"");var h={dataKey:d};i.push(h)}}),i}var o4=(function(){function e(t,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=t.getDocument()}return e})(),kbe=(function(e){pB(t,e);function t(n,r,i,a,s,l){var c=e.call(this,n,r,l)||this;return c.cell=i,c.row=a,c.column=s,c.section=a.section,c}return t})(o4),Obe=(function(){function e(t,n){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,n,r,i,a,s){for(var l=0,c=n;l<c.length;l++){var d=c[l],h=new kbe(t,this,r,i,a,s),p=d(h)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],p)return!1}return!0},e.prototype.callEndPageHooks=function(t,n){t.applyStyles(t.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var a=i[r];a(new o4(t,this,n))}},e.prototype.callWillDrawPageHooks=function(t,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var a=i[r];a(new o4(t,this,n))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return n}else{var r=this.settings.margin;return t-r.left-r.right}},e})(),_B=(function(){function e(t,n,r,i,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof mB&&(this.raw=t._element,this.element=t._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(t){var n=this;return t.reduce(function(r,i){var a;return Math.max(r,((a=n.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},e.prototype.hasRowSpan=function(t){var n=this;return t.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,n){return this.getMaxCellHeight(n)<=t},e.prototype.getMinimumRowHeight=function(t,n){var r=this;return t.reduce(function(i,a){var s=r.cells[a.index];if(!s)return 0;var l=n.getLineHeight(s.styles.fontSize),c=s.padding("vertical"),d=c+l;return d>i?d:i},0)},e})(),jB=(function(){function e(t,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=a!=null?""+a:"",l=/\r\n|\r|\n/g;this.text=s.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:t}},e.prototype.getContentHeight=function(t,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*n,a=r*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},e.prototype.padding=function(t){var n=lb(this.styles.cellPadding,0);return t==="vertical"?n.top+n.bottom:t==="horizontal"?n.left+n.right:n[t]},e})(),Tbe=(function(){function e(t,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=n,this.index=r}return e.prototype.getMaxCustomCellWidth=function(t){for(var n=0,r=0,i=t.allRows();r<i.length;r++){var a=i[r],s=a.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(n=Math.max(n,s.styles.cellWidth))}return n},e})();function Dbe(e,t){Lbe(e,t);var n=[],r=0;t.columns.forEach(function(a){var s=a.getMaxCustomCellWidth(t);s?a.width=s:(a.width=a.wrappedWidth,n.push(a)),r+=a.width});var i=t.getWidth(e.pageSize().width)-r;i&&(i=s4(n,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=s4(n,i,function(a){return a.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/e.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),Rbe(t),Mbe(t,e),Ibe(t)}function Lbe(e,t){var n=e.scaleFactor(),r=t.settings.horizontalPageBreak,i=yB(e,t);t.allRows().forEach(function(a){for(var s=0,l=t.columns;s<l.length;s++){var c=l[s],d=a.cells[c.index];if(d){var h=t.hooks.didParseCell;t.callCellHooks(e,h,d,a,c,null);var p=d.padding("horizontal");d.contentWidth=Gx(d.text,d.styles,e)+p;var g=Gx(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=g+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||r===!0)d.contentWidth>i?(d.minWidth=i,d.wrappedWidth=i):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var m=10/n;d.minWidth=d.styles.minCellWidth||m,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(a){for(var s=0,l=t.columns;s<l.length;s++){var c=l[s],d=a.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var h=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},p=h.cellWidth||h.minCellWidth;p&&typeof p=="number"&&(c.minWidth=p,c.wrappedWidth=p)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function s4(e,t,n){for(var r=t,i=e.reduce(function(m,b){return m+b.wrappedWidth},0),a=0;a<e.length;a++){var s=e[a],l=s.wrappedWidth/i,c=r*l,d=s.width+c,h=n(s),p=d<h?h:d;t-=p-s.width,s.width=p}if(t=Math.round(t*1e10)/1e10,t){var g=e.filter(function(m){return t<0?m.width>n(m):!0});g.length&&(t=s4(g,t,n))}return t}function Ibe(e){for(var t={},n=1,r=e.allRows(),i=0;i<r.length;i++)for(var a=r[i],s=0,l=e.columns;s<l.length;s++){var c=l[s],d=t[c.index];if(n>1)n--,delete a.cells[c.index];else if(d)d.cell.height+=a.height,n=d.cell.colSpan,delete a.cells[c.index],d.left--,d.left<=1&&delete t[c.index];else{var h=a.cells[c.index];if(!h)continue;if(h.height=a.height,h.rowSpan>1){var p=r.length-i,g=h.rowSpan>p?p:h.rowSpan;t[c.index]={cell:h,left:g,row:a}}}}}function Rbe(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var r=t[n],i=null,a=0,s=0,l=0;l<e.columns.length;l++){var c=e.columns[l];if(s-=1,s>1&&e.columns[l+1])a+=c.width,delete r.cells[c.index];else if(i){var d=i;delete r.cells[c.index],i=null,d.width=c.width+a}else{var d=r.cells[c.index];if(!d)continue;if(s=d.colSpan,a=0,d.colSpan>1){i=d,a+=c.width;continue}d.width=c.width+a}}}function Mbe(e,t){for(var n={count:0,height:0},r=0,i=e.allRows();r<i.length;r++){for(var a=i[r],s=0,l=e.columns;s<l.length;s++){var c=l[s],d=a.cells[c.index];if(d){t.applyStyles(d.styles,!0);var h=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,h+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=XL(d.text,h,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=XL(d.text,h,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var p=d.styles.overflow(d.text,h);typeof p=="string"?d.text=[p]:d.text=p}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var g=d.contentHeight/d.rowSpan;d.rowSpan>1&&n.count*n.height<g*d.rowSpan?n={height:g,count:d.rowSpan}:n&&n.count>0&&n.height>g&&(g=n.height),g>a.height&&(a.height=g)}}n.count--}}function XL(e,t,n,r,i){return e.map(function(a){return zbe(a,t,n,r,i)})}function zbe(e,t,n,r,i){var a=1e4*r.scaleFactor();if(t=Math.ceil(t*a)/a,t>=Gx(e,n,r))return e;for(;t<Gx(e+i,n,r)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+i}function SB(e,t){var n=new Dp(e),r=Fbe(t,n.scaleFactor()),i=new Obe(t,r);return Dbe(n,i),n.applyStyles(n.userStyles),i}function Fbe(e,t){var n=e.content,r=qbe(n.columns);if(n.head.length===0){var i=QL(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=QL(r,"foot");i&&n.foot.push(i)}var a=e.settings.theme,s=e.styles;return{columns:r,head:Uj("head",n.head,r,s,a,t),body:Uj("body",n.body,r,s,a,t),foot:Uj("foot",n.foot,r,s,a,t)}}function Uj(e,t,n,r,i,a){var s={},l=t.map(function(c,d){for(var h=0,p={},g=0,m=0,b=0,x=n;b<x.length;b++){var y=x[b];if(s[y.index]==null||s[y.index].left===0)if(m===0){var w=void 0;Array.isArray(c)?w=c[y.index-g-h]:w=c[y.dataKey];var A={};typeof w=="object"&&!Array.isArray(w)&&(A=(w==null?void 0:w.styles)||{});var C=Bbe(e,y,d,i,r,a,A),P=new jB(w,C,e);p[y.dataKey]=P,p[y.index]=P,m=P.colSpan-1,s[y.index]={left:P.rowSpan-1,times:m}}else m--,g++;else s[y.index].left--,m=s[y.index].times,h++}return new _B(c,d,e,p)});return l}function QL(e,t){var n={};return e.forEach(function(r){if(r.raw!=null){var i=$be(t,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function $be(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function qbe(e){return e.map(function(t,n){var r,i;return typeof t=="object"?i=(r=t.dataKey)!==null&&r!==void 0?r:n:i=n,new Tbe(i,t,n)})}function Bbe(e,t,n,r,i,a,s){var l=vbe(r),c;e==="head"?c=i.headStyles:e==="body"?c=i.bodyStyles:e==="foot"&&(c=i.footStyles);var d=eu({},l.table,l[e],i.styles,c),h=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},p=e==="body"?h:{},g=e==="body"&&n%2===0?eu({},l.alternateRow,i.alternateRowStyles):{},m=gbe(a),b=eu({},m,d,g,p);return eu(b,s)}function Ube(e,t,n){var r;n===void 0&&(n={});var i=yB(e,t),a=new Map,s=[],l=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(g){var m=t.columns.find(function(b){return b.dataKey===g||b.index===g});m&&!a.has(m.index)&&(a.set(m.index,!0),s.push(m.index),l.push(t.columns[m.index]),i-=m.wrappedWidth)});for(var d=!0,h=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;h<t.columns.length;){if(a.has(h)){h++;continue}var p=t.columns[h].wrappedWidth;if(d||i>=p)d=!1,s.push(h),l.push(t.columns[h]),i-=p;else break;h++}return{colIndexes:s,columns:l,lastIndex:h-1}}function Hbe(e,t){for(var n=[],r=0;r<t.columns.length;r++){var i=Ube(e,t,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function NB(e,t){var n=t.settings,r=n.startY,i=n.margin,a={x:i.left,y:r},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=r+i.bottom+s;if(n.pageBreak==="avoid"){var c=t.body,d=c.reduce(function(g,m){return g+m.height},0);l+=d}var h=new Dp(e);(n.pageBreak==="always"||n.startY!=null&&l>h.pageSize().height)&&(CB(h),a.y=i.top),t.callWillDrawPageHooks(h,a);var p=eu({},a);t.startPageNumber=h.pageNumber(),n.horizontalPageBreak?Wbe(h,t,p,a):(h.applyStyles(h.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(g){return gu(h,t,g,a,t.columns)}),h.applyStyles(h.userStyles),t.body.forEach(function(g,m){var b=m===t.body.length-1;Kx(h,t,g,b,p,a,t.columns)}),h.applyStyles(h.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(g){return gu(h,t,g,a,t.columns)})),gB(h,t,p,a),t.callEndPageHooks(h,a),t.finalY=a.y,e.lastAutoTable=t,h.applyStyles(h.userStyles)}function Wbe(e,t,n,r){var i=Hbe(e,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(d,h){e.applyStyles(e.userStyles),h>0?zg(e,t,n,r,d.columns,!0):JL(e,t,r,d.columns),Vbe(e,t,n,r,d.columns),Hj(e,t,r,d.columns)});else for(var s=-1,l=i[0],c=function(){var d=s;if(l){e.applyStyles(e.userStyles);var h=l.columns;s>=0?zg(e,t,n,r,h,!0):JL(e,t,r,h),d=ZL(e,t,s+1,r,h),Hj(e,t,r,h)}var p=d-s;i.slice(1).forEach(function(g){e.applyStyles(e.userStyles),zg(e,t,n,r,g.columns,!0),ZL(e,t,s+1,r,g.columns,p),Hj(e,t,r,g.columns)}),s=d};s<t.body.length-1;)c()}function JL(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(a){return gu(e,t,a,n,r)})}function Vbe(e,t,n,r,i){e.applyStyles(e.userStyles),t.body.forEach(function(a,s){var l=s===t.body.length-1;Kx(e,t,a,l,n,r,i)})}function ZL(e,t,n,r,i,a){e.applyStyles(e.userStyles),a=a??t.body.length;var s=Math.min(n+a,t.body.length),l=-1;return t.body.slice(n,s).forEach(function(c,d){var h=n+d===t.body.length-1,p=AB(e,t,h,r);c.canEntireRowFit(p,i)&&(gu(e,t,c,r,i),l=n+d)}),l}function Hj(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(a){return gu(e,t,a,n,r)})}function Gbe(e,t,n){var r=n.getLineHeight(e.styles.fontSize),i=e.padding("vertical"),a=Math.floor((t-i)/r);return Math.max(0,a)}function Kbe(e,t,n,r){var i={};e.spansMultiplePages=!0,e.height=0;for(var a=0,s=0,l=n.columns;s<l.length;s++){var c=l[s],d=e.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var h=new jB(d.raw,d.styles,d.section);h=eu(h,d),h.text=[];var p=Gbe(d,t,r);d.text.length>p&&(h.text=d.text.splice(p,d.text.length));var g=r.scaleFactor(),m=r.getLineHeightFactor();d.contentHeight=d.getContentHeight(g,m),d.contentHeight>=t&&(d.contentHeight=t,h.styles.minCellHeight-=t),d.contentHeight>e.height&&(e.height=d.contentHeight),h.contentHeight=h.getContentHeight(g,m),h.contentHeight>a&&(a=h.contentHeight),i[c.index]=h}}var b=new _B(e.raw,-1,e.section,i,!0);b.height=a;for(var x=0,y=n.columns;x<y.length;x++){var c=y[x],h=b.cells[c.index];h&&(h.height=b.height);var d=e.cells[c.index];d&&(d.height=e.height)}return b}function Ybe(e,t,n,r){var i=e.pageSize().height,a=r.settings.margin,s=a.top+a.bottom,l=i-s;t.section==="body"&&(l-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var c=t.getMinimumRowHeight(r.columns,e),d=c<n;if(c>l)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var h=t.hasRowSpan(r.columns),p=t.getMaxCellHeight(r.columns)>l;return p?(h&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||r.settings.rowPageBreak==="avoid")}function Kx(e,t,n,r,i,a,s){var l=AB(e,t,r,a);if(n.canEntireRowFit(l,s))gu(e,t,n,a,s);else if(Ybe(e,n,l,t)){var c=Kbe(n,l,t,e);gu(e,t,n,a,s),zg(e,t,i,a,s),Kx(e,t,c,r,i,a,s)}else zg(e,t,i,a,s),Kx(e,t,n,r,i,a,s)}function gu(e,t,n,r,i){r.x=t.settings.margin.left;for(var a=0,s=i;a<s.length;a++){var l=s[a],c=n.cells[l.index];if(!c){r.x+=l.width;continue}e.applyStyles(c.styles),c.x=r.x,c.y=r.y;var d=t.callCellHooks(e,t.hooks.willDrawCell,c,n,l,r);if(d===!1){r.x+=l.width;continue}Xbe(e,c,r);var h=c.getTextPos();hB(c.text,h.x,h.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,n,l,r),r.x+=l.width}r.y+=n.height}function Xbe(e,t,n){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=vB(r.lineWidth,r.fillColor);i&&e.rect(t.x,n.y,t.width,t.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),Qbe(e,t,n,r.lineWidth))}function Qbe(e,t,n,r){var i,a,s,l;r.top&&(i=n.x,a=n.y,s=n.x+t.width,l=n.y,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),c(r.top,i,a,s,l)),r.bottom&&(i=n.x,a=n.y+t.height,s=n.x+t.width,l=n.y+t.height,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),c(r.bottom,i,a,s,l)),r.left&&(i=n.x,a=n.y,s=n.x,l=n.y+t.height,r.top&&(a-=.5*r.top),r.bottom&&(l+=.5*r.bottom),c(r.left,i,a,s,l)),r.right&&(i=n.x+t.width,a=n.y,s=n.x+t.width,l=n.y+t.height,r.top&&(a-=.5*r.top),r.bottom&&(l+=.5*r.bottom),c(r.right,i,a,s,l));function c(d,h,p,g,m){e.getDocument().setLineWidth(d),e.getDocument().line(h,p,g,m,"S")}}function AB(e,t,n,r){var i=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&n)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-i}function zg(e,t,n,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(l){return gu(e,t,l,r,i)}),t.callEndPageHooks(e,r);var s=t.settings.margin;gB(e,t,n,r),CB(e),t.pageNumber++,r.x=s.left,r.y=s.top,n.y=s.top,t.callWillDrawPageHooks(e,r),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return gu(e,t,l,r,i)}),e.applyStyles(e.userStyles))}function CB(e){var t=e.pageNumber();e.setPage(t+1);var n=e.pageNumber();return n===t?(e.addPage(),!0):!1}function Jbe(e){e.API.autoTable=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],i=wB(this,r),a=SB(this,i);return NB(this,a),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,n,r,i){hB(t,n,r,i,this)},e.API.autoTableSetDefaults=function(t){return Dp.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,n){Dp.setDefaults(t,n)},e.API.autoTableHtmlToJson=function(t,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Dp(this),a=bB(i,t,window,n,!1),s=a.head,l=a.body,c=((r=s[0])===null||r===void 0?void 0:r.map(function(d){return d.content}))||[];return{columns:c,rows:l,data:l}}}var Wj;function Zbe(e,t){var n=wB(e,t),r=SB(e,n);NB(e,r)}try{if(typeof window<"u"&&window){var eI=window,tI=eI.jsPDF||((Wj=eI.jspdf)===null||Wj===void 0?void 0:Wj.jsPDF);tI&&Jbe(tI)}}catch(e){console.error("Could not apply autoTable plugin",e)}function PB(){const[e,t]=j.useState(null),[n,r]=j.useState(!1),[i,a]=j.useState(!1),s=()=>{const Q=new Date,K=Q.getFullYear(),ne=Q.getMonth()>=9?K:K-1,H=`${ne}/${(ne+1).toString().slice(-2)}`,T=ne-1,V=`${T}/${(T+1).toString().slice(-2)}`;return{currentYearStr:H,previousYearStr:V}},{currentYearStr:l,previousYearStr:c}=s(),[d,h]=j.useState({azione_id:"",note:"",anno_associativo:l}),[p,g]=j.useState({ambito_id:"",ore:"",note:"",anno_associativo:l}),m=Or(),{data:b=[]}=Wt({queryKey:["azioni_volontariato"],queryFn:()=>we.entities.AzioneVolontariato.filter({attivo:!0}),initialData:[]}),{data:x=[]}=Wt({queryKey:["ambiti_volontariato"],queryFn:()=>we.entities.AmbitoVolontariato.filter({attivo:!0}),initialData:[]}),{data:y=[]}=Wt({queryKey:["dichiarazioni_volontariato"],queryFn:()=>we.entities.DichiarazioneVolontariato.filter({},"-data_dichiarazione"),initialData:[]});j.useEffect(()=>{w()},[]);const w=async()=>{try{const Q=await we.auth.me();t(Q)}catch(Q){console.error("Errore:",Q)}},A=vn({mutationFn:async Q=>{await we.entities.DichiarazioneVolontariato.create({user_id:e.id,azione_id:Q.azione_id,note:Q.note,anno_associativo:Q.anno_associativo,data_dichiarazione:new Date().toISOString()})},onSuccess:()=>{m.invalidateQueries({queryKey:["dichiarazioni_volontariato"]}),m.invalidateQueries({queryKey:["transazioni"]}),m.invalidateQueries({queryKey:["auth_user"]}),m.invalidateQueries({queryKey:["user_me"]}),r(!1),h({azione_id:"",note:"",anno_associativo:l}),We.success("Azione dichiarata e NEU accreditati!")},onError:Q=>{We.error(Q.message||"Errore nella registrazione")}}),C=vn({mutationFn:async Q=>{await we.entities.DichiarazioneVolontariato.create({user_id:e.id,ambito_id:Q.ambito_id,ore:parseFloat(Q.ore),note:Q.note,anno_associativo:Q.anno_associativo,data_dichiarazione:new Date().toISOString(),neu_guadagnati:0})},onSuccess:()=>{m.invalidateQueries({queryKey:["dichiarazioni_volontariato"]}),m.invalidateQueries({queryKey:["user_me"]}),a(!1),g({ambito_id:"",ore:"",note:"",anno_associativo:l}),We.success("Ore di volontariato registrate!")},onError:Q=>{We.error(Q.message||"Errore nella registrazione")}}),P=Q=>{Q.preventDefault(),A.mutate(d)},E=Q=>{Q.preventDefault(),C.mutate(p)},I=(Q=new Date)=>{const K=new Date(Q),Y=K.getFullYear();let H=K.getMonth()>=9?Y:Y-1;const T=new Date(H,9,1,0,0,0),V=new Date(H+1,8,30,23,59,59);return{startDate:T,endDate:V}},{startDate:z,endDate:O}=I(),F=y.filter(Q=>Q.user_id===(e==null?void 0:e.id)),G=F.filter(Q=>{const K=new Date(Q.data_dichiarazione||Q.createdAt);return K>=z&&K<=O}).sort((Q,K)=>K.id-Q.id),R=G.reduce((Q,K)=>Q+(K.neu_guadagnati||0),0),k=G.reduce((Q,K)=>Q+(K.ore||0),0),B=()=>{const Q=new Gt;Q.setFontSize(20),Q.text("Storico Volontariato - Archivio Anni Precedenti",14,22),Q.setFontSize(11),Q.text(`Socio: ${e==null?void 0:e.full_name}`,14,30),Q.text(`Data Esportazione: ${new Date().toLocaleDateString()}`,14,35);const K=F.filter(ne=>ne.anno_associativo&&ne.anno_associativo!==l);if(K.length===0){We.info("Non ci sono dati storici da scaricare.");return}const Y=K.map(ne=>[new Date(ne.data_dichiarazione||ne.createdAt).toLocaleDateString("it-IT"),ne.azione_id?U(ne.azione_id):M(ne.ambito_id),ne.ore?`${ne.ore}h`:"-",ne.neu_guadagnati?`${ne.neu_guadagnati} NEU`:"-",ne.note||"-"]);Zbe(Q,{startY:45,head:[["Data","Attivit / Ambito","Ore","NEU","Note"]],body:Y,theme:"striped",headStyles:{fillColor:"#053c5e"}}),Q.save(`Volontariato_Storico_${e==null?void 0:e.full_name.replace(/\s+/g,"_")}.pdf`)},U=Q=>{const K=b.find(Y=>Y.id===Q);return K?K.titolo:"Azione #"+Q},M=Q=>{const K=x.find(Y=>Y.id===Q);return K?K.nome:"Ambito #"+Q},X=b.find(Q=>Q.id.toString()===d.azione_id.toString());return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"bg-[#053c5e] text-white p-8",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold",children:"Volontariato"}),o.jsx("p",{className:"text-lg opacity-90 mt-2",children:"Gestisci il tuo contributo alla community"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full md:w-auto",children:[o.jsxs(Oe,{onClick:()=>a(!0),variant:"outline",className:"text-[#053c5e] hover:bg-slate-100 w-full sm:w-auto",children:[o.jsx(vo,{className:"w-4 h-4 mr-2"}),"Registra Ore (Classico)"]}),o.jsxs(Oe,{onClick:()=>r(!0),className:"bg-[#1f7a8c] hover:bg-[#db222a] text-white w-full sm:w-auto",children:[o.jsx(xs,{className:"w-4 h-4 mr-2"}),"Dichiara azione (Con NEU)"]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-[#053c5e] text-white p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(vo,{className:"w-6 h-6"}),o.jsx("h2",{className:"text-lg font-bold",children:"Ore di volontariato"})]}),o.jsx("div",{className:"text-5xl font-bold",children:Math.round(k*10)/10}),o.jsxs("p",{className:"text-sm opacity-90 mt-2",children:["ottobre ",z.getFullYear()," - settembre ",O.getFullYear()]})]}),o.jsxs("div",{className:"bg-[#db222a] text-white p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Yl,{className:"w-6 h-6"}),o.jsx("h2",{className:"text-lg font-bold",children:"NEU Guadagnati"})]}),o.jsx("div",{className:"text-5xl font-bold",children:Math.round(R*100)/100}),o.jsx("p",{className:"text-sm opacity-90 mt-2",children:"totale rimborsi ottenuti"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[o.jsxs(yt,{children:[o.jsx(Jt,{children:o.jsx(Zt,{className:"text-[#053c5e]",children:"Dichiarazioni anno associativo in corso"})}),o.jsx(wt,{children:o.jsx("div",{className:"space-y-3",children:G.length===0?o.jsx("p",{className:"text-center text-slate-500 py-8",children:"Nessuna dichiarazione nell'anno associativo in corso."}):G.map(Q=>o.jsxs("div",{className:"p-4 bg-slate-50 border-l-4 border-[#053c5e] flex justify-between items-center",children:[o.jsxs("div",{children:[Q.azione_id?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"font-bold text-[#053c5e]",children:U(Q.azione_id)}),o.jsx("span",{className:"text-xs font-semibold bg-blue-100 text-blue-800 px-2 py-0.5 rounded ml-2",children:"Azione NEU"})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"font-bold text-[#053c5e]",children:M(Q.ambito_id)}),o.jsxs("span",{className:"text-xs font-semibold bg-green-100 text-green-800 px-2 py-0.5 rounded ml-2",children:["Ore: ",Q.ore,"h"]})]}),Q.note&&o.jsx("p",{className:"text-sm text-slate-600 mt-1",children:Q.note}),o.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Anno Associativo: ",o.jsx("span",{className:"font-bold text-[#053c5e]",children:Q.anno_associativo||"DA DEFINIRE"}),"  Registrato il: ",new Date(Q.createdAt).toLocaleString("it-IT",{dateStyle:"short",timeStyle:"short"})]})]}),Q.neu_guadagnati>0&&o.jsxs("div",{className:"text-xl font-bold text-[#db222a]",children:["+",Q.neu_guadagnati," NEU"]})]},Q.id))})})]}),o.jsx("div",{className:"flex justify-center pt-4",children:o.jsxs(Oe,{onClick:B,variant:"ghost",className:"text-[#053c5e] hover:bg-slate-100 flex items-center gap-2 border border-[#053c5e]",children:[o.jsx(n1,{className:"w-4 h-4"}),"Scarica PDF degli anni precedenti"]})})]}),o.jsx(Er,{open:n,onOpenChange:r,children:o.jsxs(wr,{className:"max-w-xl",children:[o.jsx(_r,{children:o.jsx(jr,{children:"Dichiara azione con rimborso NEU"})}),o.jsxs("form",{onSubmit:P,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Azione Svolta"}),o.jsxs(an,{value:d.azione_id,onValueChange:Q=>h({...d,azione_id:Q}),required:!0,children:[o.jsx(tn,{children:o.jsx(on,{placeholder:"Seleziona un'azione..."})}),o.jsx(nn,{children:b.map(Q=>o.jsxs(Ze,{value:Q.id.toString(),children:[Q.titolo," (+",Q.valore_neu," NEU)"]},Q.id))})]}),X&&X.descrizione&&o.jsxs("p",{className:"text-sm text-slate-600 mt-2 italic bg-slate-100 p-2 rounded",children:['"',X.descrizione,'"']})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Note (Opzionale)"}),o.jsx(ta,{value:d.note,onChange:Q=>h({...d,note:Q.target.value}),placeholder:"Dettagli aggiuntivi...",rows:3})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Anno Associativo di Svolgimento"}),o.jsxs(an,{value:d.anno_associativo,onValueChange:Q=>h({...d,anno_associativo:Q}),required:!0,children:[o.jsx(tn,{children:o.jsx(on,{placeholder:"Seleziona anno..."})}),o.jsxs(nn,{children:[o.jsxs(Ze,{value:l,children:["Anno Corrente (",l,")"]}),o.jsxs(Ze,{value:c,children:["Anno Precedente (",c,")"]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx(Oe,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Annulla"}),o.jsx(Oe,{type:"submit",className:"bg-[#053c5e] hover:bg-[#1f7a8c]",disabled:A.isPending,children:A.isPending?"Invio...":"Conferma e Ricevi NEU"})]})]})]})}),o.jsx(Er,{open:i,onOpenChange:a,children:o.jsxs(wr,{className:"max-w-xl",children:[o.jsx(_r,{children:o.jsx(jr,{children:"Registra Ore di Volontariato"})}),o.jsxs("form",{onSubmit:E,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Le,{children:"Ambito"}),o.jsxs(an,{value:p.ambito_id,onValueChange:Q=>g({...p,ambito_id:Q}),required:!0,children:[o.jsx(tn,{children:o.jsx(on,{placeholder:"Seleziona ambito..."})}),o.jsx(nn,{children:x.map(Q=>o.jsx(Ze,{value:Q.id.toString(),children:Q.nome},Q.id))})]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Ore Svolte"}),o.jsx(tt,{type:"number",step:"0.5",min:"0.5",value:p.ore,onChange:Q=>g({...p,ore:Q.target.value}),placeholder:"Es: 2.5",required:!0})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Note / Attivit Svolta"}),o.jsx(ta,{value:p.note,onChange:Q=>g({...p,note:Q.target.value}),placeholder:"Descrivi cosa hai fatto...",rows:3,required:!0})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Anno Associativo di Svolgimento"}),o.jsxs(an,{value:p.anno_associativo,onValueChange:Q=>g({...p,anno_associativo:Q}),required:!0,children:[o.jsx(tn,{children:o.jsx(on,{placeholder:"Seleziona anno..."})}),o.jsxs(nn,{children:[o.jsxs(Ze,{value:l,children:["Anno Corrente (",l,")"]}),o.jsxs(Ze,{value:c,children:["Anno Precedente (",c,")"]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx(Oe,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Annulla"}),o.jsx(Oe,{type:"submit",className:"bg-[#053c5e] hover:bg-[#1f7a8c]",disabled:C.isPending,children:C.isPending?"Invio...":"Registra Ore"})]})]})]})})]})}function EB(){const[e,t]=j.useState(!1),[n,r]=j.useState(!0);return j.useEffect(()=>{(async()=>{const a=await we.auth.isAuthenticated();t(a),a&&(window.location.href=Mn("Home")),r(!1)})()},[]),n?o.jsx("div",{className:"min-h-screen bg-[#053c5e] flex items-center justify-center",children:o.jsx("div",{className:"text-white text-lg",children:"Caricamento..."})}):o.jsxs("div",{className:"min-h-screen bg-[#053c5e]",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"absolute top-0 right-0 p-6 flex gap-4 z-10",children:[o.jsxs(Oe,{onClick:()=>we.auth.redirectToLogin(Mn("Home")),className:"bg-white text-[#053c5e] hover:bg-[#bfdbf7] font-semibold",children:[o.jsx(eS,{className:"w-4 h-4 mr-2"}),"Accedi"]}),o.jsxs(Oe,{onClick:()=>we.auth.redirectToLogin(Mn("Home")),className:"bg-[#db222a] hover:bg-[#1f7a8c] text-white font-semibold",children:[o.jsx(qg,{className:"w-4 h-4 mr-2"}),"Registrati"]})]}),o.jsx("div",{className:"container mx-auto px-4 py-20 text-center",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("div",{className:"mb-8",children:o.jsx("img",{src:"/logo-white.png",alt:"neu [ni]",className:"h-24 mx-auto"})}),o.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-6",children:"Benvenuto in neu [ni]"}),o.jsx("p",{className:"text-xl md:text-2xl text-white/90 mb-8",children:"Spazio al lavoro - Coworking e comunit a Palermo"}),o.jsx("p",{className:"text-lg text-white/80 max-w-2xl mx-auto mb-12",children:"Un'associazione di promozione sociale che unisce coworking, condivisione e collaborazione. Partecipa alla nostra comunit basata sul sistema NEU, la moneta complementare per valorizzare il contributo di ogni socio."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs(Oe,{onClick:()=>window.location.href=Mn("CheckIn"),className:"bg-[#1f7a8c] hover:bg-[#053c5e] text-white text-lg px-8 py-6 font-bold",children:[o.jsx(b4,{className:"w-5 h-5 mr-2"}),"Check-in Coworking"]}),o.jsxs(Oe,{onClick:()=>we.auth.redirectToLogin(Mn("Home")),className:"bg-[#db222a] hover:bg-white hover:text-[#053c5e] text-white text-lg px-8 py-6 font-bold",children:[o.jsx(qg,{className:"w-5 h-5 mr-2"}),"Diventa Socio"]}),o.jsxs(Oe,{onClick:()=>we.auth.redirectToLogin(Mn("Home")),className:"bg-white text-[#053c5e] hover:bg-[#bfdbf7] text-lg px-8 py-6 font-bold",children:[o.jsx(eS,{className:"w-5 h-5 mr-2"}),"Accedi"]})]})]})})]}),o.jsx("div",{className:"bg-white py-20",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsx("h2",{className:"text-4xl font-bold text-[#053c5e] text-center mb-12",children:"Cosa offriamo"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[o.jsxs("div",{className:"bg-[#bfdbf7] p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-[#053c5e] rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Yl,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-2xl font-bold text-[#053c5e] mb-4",children:"Sistema NEU"}),o.jsx("p",{className:"text-[#053c5e]",children:"Una moneta complementare che valorizza il tuo contributo all'associazione. Guadagna NEU con turni host e compiti, usali per servizi coworking."})]}),o.jsxs("div",{className:"bg-[#1f7a8c] p-8 text-center text-white",children:[o.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(yo,{className:"w-8 h-8 text-[#1f7a8c]"})}),o.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Comunit"}),o.jsx("p",{children:"Entra a far parte di una comunit di professionisti, freelancer e creativi. Condividi conoscenze, collabora su progetti e cresci insieme a noi."})]}),o.jsxs("div",{className:"bg-[#db222a] p-8 text-center text-white",children:[o.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(vo,{className:"w-8 h-8 text-[#db222a]"})}),o.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Spazi Flessibili"}),o.jsx("p",{children:"Postazioni coworking, sale riunioni e spazi eventi. Lavora quando e come vuoi, in un ambiente stimolante e professionale."})]})]})]})}),o.jsx("div",{className:"bg-[#bfdbf7] py-20",children:o.jsxs("div",{className:"container mx-auto px-4 text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[o.jsx(fV,{className:"w-8 h-8 text-[#db222a]"}),o.jsx("h2",{className:"text-4xl font-bold text-[#053c5e]",children:"Dove siamo"})]}),o.jsx("p",{className:"text-xl text-[#053c5e] mb-4",children:o.jsx("strong",{children:"neu [ni] spazio al lavoro APS"})}),o.jsx("p",{className:"text-lg text-[#053c5e]",children:"via Alloro 64, 90133 Palermo"})]})}),o.jsx("div",{className:"bg-[#053c5e] text-white py-8",children:o.jsxs("div",{className:"container mx-auto px-4 text-center",children:[o.jsx("img",{src:"/logo-white.png",alt:"neu [ni]",className:"h-12 mx-auto mb-4"}),o.jsx("p",{className:"text-white/80",children:" 2025 neu [ni] spazio al lavoro APS - Palermo"})]})})]})}function kB(){const[e,t]=j.useState(""),[n,r]=j.useState(""),[i,a]=j.useState(!1),[s,l]=j.useState(null),[c]=rW(),[d,h]=j.useState(!1),[p,g]=j.useState(!1),m=async x=>{var y;x.preventDefault(),a(!0),l(null),h(!1);try{if((await we.auth.login(e,n)).token){const A=c.get("redirect");window.location.href=A||"/Home"}else l("Login fallito")}catch(w){l(w.message||"Errore durante il login"),((y=w.message)!=null&&y.includes("verificare")||w.requires_verification)&&h(!0)}finally{a(!1)}},b=async()=>{g(!0);try{const x=await we.auth.resendVerification(e);We.success(x.message||"Email inviata con successo"),h(!1)}catch(x){We.error(x.message||"Errore durante l'invio")}finally{g(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#053c5e] p-4",children:o.jsxs(yt,{className:"w-full max-w-md",children:[o.jsxs(Jt,{className:"space-y-1",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("img",{src:"/logo-red.png",alt:"neu [ni]",className:"h-16"})}),o.jsx(Zt,{className:"text-2xl font-bold text-center text-[#053c5e]",children:"Accedi"}),o.jsx("p",{className:"text-center text-slate-500",children:"Inserisci le tue credenziali per continuare"})]}),o.jsx(wt,{children:o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"email",children:"Email"}),o.jsx(tt,{id:"email",type:"email",placeholder:"mario.rossi@example.com",value:e,onChange:x=>t(x.target.value),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"password",children:"Password"}),o.jsx(tt,{id:"password",type:"password",value:n,onChange:x=>r(x.target.value),required:!0})]}),s&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-red-500 text-sm font-medium",children:s}),d&&o.jsx(Oe,{type:"button",variant:"outline",className:"w-full text-[#1f7a8c] border-[#1f7a8c] hover:bg-slate-50",onClick:b,disabled:p,children:p?"Invio in corso...":"Invia di nuovo email di verifica"})]}),o.jsx(Oe,{type:"submit",className:"w-full bg-[#1f7a8c] hover:bg-[#053c5e]",disabled:i,children:i?"Accesso in corso...":o.jsxs(o.Fragment,{children:[o.jsx(eS,{className:"w-4 h-4 mr-2"})," Accedi"]})})]})}),o.jsxs(E4,{className:"flex flex-col gap-2",children:[o.jsx("p",{className:"text-sm text-slate-500",children:o.jsx(Fr,{to:"/ForgotPassword",title:"Ripristina la tua password",className:"text-[#1f7a8c] hover:underline font-medium",children:"Password dimenticata?"})}),o.jsxs("p",{className:"text-sm text-slate-500",children:["Non hai un account? ",o.jsx(Fr,{to:"/Register",className:"text-[#1f7a8c] hover:underline",children:"Registrati"})]})]})]})})}function OB(){const[e,t]=j.useState(""),[n,r]=j.useState(""),[i,a]=j.useState(""),[s,l]=j.useState(!1),[c,d]=j.useState(null),[h,p]=j.useState(!1),g=async m=>{m.preventDefault(),l(!0),d(null);try{const b=await we.auth.register(e,n,i);b.warning?p(b):p(!0)}catch(b){console.error("[REGISTRATION-ERROR]",b),d(b.message||"Errore durante la registrazione")}finally{l(!1)}};return h===!0?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#053c5e] p-4",children:o.jsxs(yt,{className:"w-full max-w-md text-center",children:[o.jsx(Jt,{children:o.jsx(Zt,{className:"text-2xl font-bold text-[#053c5e]",children:"Registrazione effettuata!"})}),o.jsxs(wt,{className:"space-y-4",children:[o.jsxs("p",{className:"text-slate-600",children:["Abbiamo inviato un link di verifica all'indirizzo ",o.jsx("strong",{children:e}),"."]}),o.jsx("p",{className:"text-sm text-slate-500",children:"Per favore, controlla la tua casella di posta (e la cartella spam) e clicca sul link per attivare il tuo account."}),o.jsx(Oe,{className:"w-full bg-[#1f7a8c]",onClick:()=>window.location.href="/Login",children:"Vai al Login"})]})]})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#053c5e] p-4",children:o.jsxs(yt,{className:"w-full max-w-md",children:[o.jsxs(Jt,{className:"space-y-1",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("img",{src:"/logo-red.png",alt:"neu [ni]",className:"h-16"})}),o.jsx(Zt,{className:"text-2xl font-bold text-center text-[#053c5e]",children:"Registrazione"}),o.jsx("p",{className:"text-center text-slate-500",children:"Crea un nuovo account"})]}),o.jsx(wt,{children:o.jsxs("form",{onSubmit:g,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"fullName",children:"Nome Completo"}),o.jsx(tt,{id:"fullName",type:"text",placeholder:"Mario Rossi",value:i,onChange:m=>a(m.target.value),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"email",children:"Email"}),o.jsx(tt,{id:"email",type:"email",placeholder:"mario.rossi@example.com",value:e,onChange:m=>t(m.target.value),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"password",children:"Password"}),o.jsx(tt,{id:"password",type:"password",value:n,onChange:m=>r(m.target.value),required:!0,minLength:6})]}),c&&o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm font-medium",children:c}),h&&typeof h=="object"&&h.warning&&o.jsxs("div",{className:"bg-amber-50 border border-amber-200 text-amber-700 px-4 py-3 rounded-md text-sm",children:[o.jsx("strong",{children:"Attenzione:"})," ",h.message]}),o.jsx(Oe,{type:"submit",className:"w-full bg-[#1f7a8c] hover:bg-[#053c5e]",disabled:s,children:s?"Creazione account...":o.jsxs(o.Fragment,{children:[o.jsx(qg,{className:"w-4 h-4 mr-2"})," Registrati"]})})]})}),o.jsx(E4,{className:"flex justify-center",children:o.jsxs("p",{className:"text-sm text-slate-500",children:["Hai gi un account? ",o.jsx(Fr,{to:"/Login",className:"text-[#1f7a8c] hover:underline",children:"Accedi"})]})})]})})}function TB(){const[e,t]=j.useState(""),[n,r]=j.useState(!1),[i,a]=j.useState(!1),s=async l=>{l.preventDefault(),r(!0);try{await we.auth.forgotPassword(e),a(!0),We.success("Richiesta inviata con successo")}catch(c){We.error(c.message||"Errore durante la richiesta")}finally{r(!1)}};return i?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:o.jsxs(yt,{className:"max-w-md w-full text-center",children:[o.jsxs(Jt,{children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:o.jsx(lu,{className:"w-8 h-8 text-green-600"})})}),o.jsx(Zt,{className:"text-2xl font-bold text-[#053c5e]",children:"Controlla la tua email"}),o.jsxs(il,{className:"text-base mt-2",children:["Se l'indirizzo ",o.jsx("strong",{children:e}),"  registrato, riceverai a breve un link per reimpostare la password."]})]}),o.jsxs(wt,{className:"space-y-4",children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Controlla anche la cartella Spam se non vedi l'email entro pochi minuti."}),o.jsx(Oe,{variant:"outline",className:"w-full",onClick:()=>window.location.href=Mn("Login"),children:"Torna al Login"})]})]})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100 p-4",children:o.jsxs(yt,{className:"max-w-md w-full shadow-xl border-t-4 border-t-[#db222a]",children:[o.jsxs(Jt,{className:"space-y-1",children:[o.jsx("div",{className:"flex items-center gap-2 mb-2",children:o.jsxs(Oe,{variant:"ghost",size:"sm",className:"p-0 h-auto hover:bg-transparent text-slate-500",onClick:()=>window.location.href=Mn("Login"),children:[o.jsx(gW,{className:"w-4 h-4 mr-1"}),"Torna al login"]})}),o.jsx(Zt,{className:"text-2xl font-bold text-[#053c5e]",children:"Password dimenticata?"}),o.jsx(il,{children:"Inserisci la tua email e ti invieremo un link per creare una nuova password."})]}),o.jsx(wt,{children:o.jsxs("form",{onSubmit:s,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"email",className:"text-sm font-medium",children:"Indirizzo Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(rl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),o.jsx(tt,{id:"email",type:"email",placeholder:"nome@esempio.it",className:"pl-10",value:e,onChange:l=>t(l.target.value),required:!0})]})]}),o.jsx(Oe,{type:"submit",className:"w-full bg-[#053c5e] hover:bg-[#1f7a8c] text-white font-bold py-6 text-lg transition-all",disabled:n,children:n?"Invio in corso...":"Invia Link di Reset"})]})})]})})}function DB(){const[e,t]=j.useState(""),[n,r]=j.useState(""),[i,a]=j.useState(!1),[s,l]=j.useState(!1),[c,d]=j.useState(!1),[h,p]=j.useState(""),[g,m]=j.useState(!1);j.useEffect(()=>{const y=new URLSearchParams(window.location.search).get("token");y?p(y):m(!0)},[]);const b=async x=>{if(x.preventDefault(),e!==n)return We.error("Le password non coincidono");if(e.length<6)return We.error("La password deve essere di almeno 6 caratteri");l(!0);try{await we.auth.resetPassword(h,e),d(!0),We.success("Password aggiornata con successo"),setTimeout(()=>{window.location.href=Mn("Login")},3e3)}catch(y){We.error(y.message||"Token scaduto o non valido")}finally{l(!1)}};return g?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:o.jsxs(yt,{className:"max-w-md w-full text-center",children:[o.jsxs(Jt,{children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:o.jsx(Ad,{className:"w-8 h-8 text-red-600"})})}),o.jsx(Zt,{className:"text-2xl font-bold text-[#053c5e]",children:"Link non valido"}),o.jsx(il,{className:"text-base mt-2",children:"Il link di reset della password non  valido o  mancante. Per favore, richiedi un nuovo link."})]}),o.jsx(wt,{children:o.jsx(Oe,{className:"w-full bg-[#053c5e]",onClick:()=>window.location.href=Mn("ForgotPassword"),children:"Vai a Password Dimenticata"})})]})}):c?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:o.jsxs(yt,{className:"max-w-md w-full text-center",children:[o.jsxs(Jt,{children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:o.jsx(lu,{className:"w-8 h-8 text-green-600"})})}),o.jsx(Zt,{className:"text-2xl font-bold text-[#053c5e]",children:"Password Aggiornata!"}),o.jsx(il,{className:"text-base mt-2",children:"La tua password  stata modificata con successo. Stai per essere reindirizzato al login..."})]}),o.jsx(wt,{children:o.jsx(Oe,{className:"w-full bg-[#053c5e]",onClick:()=>window.location.href=Mn("Login"),children:"Accedi Ora"})})]})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100 p-4",children:o.jsxs(yt,{className:"max-w-md w-full shadow-xl border-t-4 border-t-[#1f7a8c]",children:[o.jsxs(Jt,{className:"space-y-1",children:[o.jsx(Zt,{className:"text-2xl font-bold text-[#053c5e]",children:"Nuova Password"}),o.jsx(il,{children:"Scegli una password sicura per il tuo account."})]}),o.jsx(wt,{children:o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"pass",className:"text-sm font-medium",children:"Nuova Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Dy,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),o.jsx(tt,{id:"pass",type:i?"text":"password",className:"pl-10 pr-10",value:e,onChange:x=>t(x.target.value),required:!0}),o.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:i?o.jsx(HW,{className:"w-4 h-4"}):o.jsx(zI,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"confirm",className:"text-sm font-medium",children:"Conferma Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Dy,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),o.jsx(tt,{id:"confirm",type:i?"text":"password",className:"pl-10",value:n,onChange:x=>r(x.target.value),required:!0})]})]}),o.jsx(Oe,{type:"submit",className:"w-full bg-[#053c5e] hover:bg-[#1f7a8c] text-white font-bold py-6 text-lg transition-all",disabled:s,children:s?"Aggiornamento...":"Salva Nuova Password"})]})})]})})}function LB(){const[e,t]=j.useState(!0),[n,r]=j.useState("verifying"),[i,a]=j.useState("");return j.useEffect(()=>{const l=new URLSearchParams(window.location.search).get("token");if(!l){r("error"),a("Token di verifica mancante."),t(!1);return}(async()=>{try{const d=await we.auth.verifyEmail(l);r("success"),a(d.message||"Email verificata con successo!"),We.success("Email verificata!")}catch(d){r("error"),a(d.message||"Link di verifica non valido o scaduto.")}finally{t(!1)}})()},[]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:o.jsxs(yt,{className:"max-w-md w-full text-center shadow-lg border-t-4 border-t-[#053c5e]",children:[o.jsxs(Jt,{children:[o.jsxs("div",{className:"flex justify-center mb-4",children:[n==="verifying"&&o.jsx("div",{className:"p-3 bg-blue-100 rounded-full animate-pulse",children:o.jsx(aV,{className:"w-8 h-8 text-[#053c5e] animate-spin"})}),n==="success"&&o.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:o.jsx(lu,{className:"w-8 h-8 text-green-600"})}),n==="error"&&o.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:o.jsx(Ad,{className:"w-8 h-8 text-red-600"})})]}),o.jsxs(Zt,{className:"text-2xl font-bold text-[#053c5e]",children:[n==="verifying"&&"Verifica in corso...",n==="success"&&"Email Verificata!",n==="error"&&"Errore di Verifica"]}),o.jsx(il,{className:"text-base mt-2",children:i||"Stiamo verificando la validit del tuo indirizzo email."})]}),o.jsxs(wt,{className:"space-y-4",children:[n==="success"&&o.jsx("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200 text-sm text-slate-600",children:o.jsx("p",{children:"Il tuo account  ora confermato. Un amministratore dovr approvare la tua richiesta di iscrizione prima che tu possa accedere a tutte le funzionalit."})}),o.jsx(Oe,{className:"w-full bg-[#053c5e] hover:bg-[#1f7a8c] transition-colors",onClick:()=>window.location.href=Mn("Login"),children:"Vai al Login"}),n==="error"&&o.jsxs("p",{className:"text-sm text-slate-500",children:["Hai problemi con la verifica? ",o.jsx("br",{}),o.jsx("a",{href:Mn("Login"),className:"text-[#1f7a8c] hover:underline font-medium",children:"Prova a richiedere un nuovo link"})]})]})]})})}function gs({children:e,allowedRoles:t}){const{user:n,isLoading:r}=tc(),i=ul();if(r)return o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Caricamento..."});if(!n)return o.jsx(Yj,{to:"/Login",state:{from:i},replace:!0});if(t&&t.length>0){const a=Array.isArray(n.roles)?n.roles:typeof n.roles=="string"?[n.roles]:[];if(!t.some(l=>a.includes(l)||n.role===l))return o.jsx(Yj,{to:"/Home",replace:!0})}return e}function _g({children:e}){const{user:t,isLoading:n}=tc();return n?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Caricamento..."}):t?o.jsx(Yj,{to:"/Home",replace:!0}):e}const nI={Amministrazione:nF,CheckIn:rF,Coworking:NF,GestioneCoworking:CF,Home:qS,Host:XF,ImportaDati:QF,MieiNEU:ZF,MieiTask:e$,Profilo:t$,Riepiloghi:sB,RiepilogoSoci:dB,TurniHost:fB,Volontariato:PB,Welcome:EB,Login:kB,Register:OB,ForgotPassword:TB,ResetPassword:DB,VerifyEmail:LB};function e2e(e){e.endsWith("/")&&(e=e.slice(0,-1));let t=e.split("/").pop();return t.includes("?")&&(t=t.split("?")[0]),Object.keys(nI).find(r=>r.toLowerCase()===t.toLowerCase())||Object.keys(nI)[0]}function t2e(){const e=ul(),t=e2e(e.pathname);return o.jsx(jG,{currentPageName:t,children:o.jsxs(CH,{children:[o.jsx(fi,{path:"/",element:o.jsx(qS,{})}),o.jsx(fi,{path:"/Home",element:o.jsx(qS,{})}),o.jsx(fi,{path:"/CheckIn",element:o.jsx(rF,{})}),o.jsx(fi,{path:"/Welcome",element:o.jsx(EB,{})}),o.jsx(fi,{path:"/Login",element:o.jsx(_g,{children:o.jsx(kB,{})})}),o.jsx(fi,{path:"/Register",element:o.jsx(_g,{children:o.jsx(OB,{})})}),o.jsx(fi,{path:"/ForgotPassword",element:o.jsx(_g,{children:o.jsx(TB,{})})}),o.jsx(fi,{path:"/ResetPassword",element:o.jsx(_g,{children:o.jsx(DB,{})})}),o.jsx(fi,{path:"/VerifyEmail",element:o.jsx(_g,{children:o.jsx(LB,{})})}),o.jsx(fi,{path:"/Amministrazione",element:o.jsx(gs,{allowedRoles:["admin","super_admin"],children:o.jsx(nF,{})})}),o.jsx(fi,{path:"/Coworking",element:o.jsx(gs,{allowedRoles:["coworker","socio","admin","super_admin"],children:o.jsx(NF,{})})}),o.jsx(fi,{path:"/GestioneCoworking",element:o.jsx(gs,{allowedRoles:["admin","super_admin"],children:o.jsx(CF,{})})}),o.jsx(fi,{path:"/Host",element:o.jsx(gs,{allowedRoles:["host","admin","super_admin"],children:o.jsx(XF,{})})}),o.jsx(fi,{path:"/ImportaDati",element:o.jsx(gs,{allowedRoles:["admin","super_admin"],children:o.jsx(QF,{})})}),o.jsx(fi,{path:"/MieiNEU",element:o.jsx(gs,{allowedRoles:["socio","admin","super_admin"],children:o.jsx(ZF,{})})}),o.jsx(fi,{path:"/MieiTask",element:o.jsx(gs,{allowedRoles:["socio","admin","super_admin"],children:o.jsx(e$,{})})}),o.jsx(fi,{path:"/Profilo",element:o.jsx(gs,{children:o.jsx(t$,{})})}),o.jsx(fi,{path:"/Riepiloghi",element:o.jsx(gs,{allowedRoles:["socio","admin","super_admin"],children:o.jsx(sB,{})})}),o.jsx(fi,{path:"/RiepilogoSoci",element:o.jsx(gs,{allowedRoles:["admin","super_admin"],children:o.jsx(dB,{})})}),o.jsx(fi,{path:"/TurniHost",element:o.jsx(gs,{allowedRoles:["gestore_turni","admin","super_admin"],children:o.jsx(fB,{})})}),o.jsx(fi,{path:"/Volontariato",element:o.jsx(gs,{allowedRoles:["socio","admin","super_admin"],children:o.jsx(PB,{})})})]})})}function n2e(){return o.jsx(JH,{children:o.jsx(t2e,{})})}const r2e=20,i2e=1e6,tu={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let Vj=0;function a2e(){return Vj=(Vj+1)%Number.MAX_VALUE,Vj.toString()}const Gj=new Map,rI=e=>{if(Gj.has(e))return;const t=setTimeout(()=>{Gj.delete(e),Fg({type:tu.REMOVE_TOAST,toastId:e})},i2e);Gj.set(e,t)},o2e=(e,t)=>{switch(t.type){case tu.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,r2e)};case tu.UPDATE_TOAST:return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case tu.DISMISS_TOAST:{const{toastId:n}=t;return n?rI(n):e.toasts.forEach(r=>{rI(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case tu.REMOVE_TOAST:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Py=[];let Ey={toasts:[]};function Fg(e){Ey=o2e(Ey,e),Py.forEach(t=>{t(Ey)})}function s2e({...e}){const t=a2e(),n=i=>Fg({type:tu.UPDATE_TOAST,toast:{...i,id:t}}),r=()=>Fg({type:tu.DISMISS_TOAST,toastId:t});return Fg({type:tu.ADD_TOAST,toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function l2e(){const[e,t]=j.useState(Ey);return j.useEffect(()=>(Py.push(t),()=>{const n=Py.indexOf(t);n>-1&&Py.splice(n,1)}),[e]),{...e,toast:s2e,dismiss:n=>Fg({type:tu.DISMISS_TOAST,toastId:n})}}const IB=j.forwardRef(({...e},t)=>o.jsx("div",{ref:t,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...e}));IB.displayName="ToastProvider";const RB=j.forwardRef(({...e},t)=>o.jsx("div",{ref:t,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...e}));RB.displayName="ToastViewport";const c2e=zv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),MB=j.forwardRef(({className:e,variant:t,...n},r)=>o.jsx("div",{ref:r,className:Lt(c2e({variant:t}),e),...n}));MB.displayName="Toast";const u2e=j.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Lt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));u2e.displayName="ToastAction";const zB=j.forwardRef(({className:e,...t},n)=>o.jsx("button",{ref:n,className:Lt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(go,{className:"h-4 w-4"})}));zB.displayName="ToastClose";const FB=j.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Lt("text-sm font-semibold",e),...t}));FB.displayName="ToastTitle";const $B=j.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Lt("text-sm opacity-90",e),...t}));$B.displayName="ToastDescription";function d2e(){const{toasts:e}=l2e();return o.jsxs(IB,{children:[e.map(function({id:t,title:n,description:r,action:i,...a}){return o.jsxs(MB,{...a,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(FB,{children:n}),r&&o.jsx($B,{children:r})]}),i,o.jsx(zB,{})]},t)}),o.jsx(RB,{})]})}const f2e=new uG;function h2e(){return o.jsxs(dG,{client:f2e,children:[o.jsx(n2e,{}),o.jsx(d2e,{}),o.jsx(oZ,{richColors:!0,position:"top-right"})]})}kU.createRoot(document.getElementById("root")).render(o.jsx(h2e,{}));export{mr as _,D0 as c,gr as g};
